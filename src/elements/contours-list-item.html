<html><head><link rel="import " href="../my-icons.html"><link rel="import " href="../style/shared-styles.html"></head><body><div hidden="" by-polymer-bundler=""><script>(function(){"use strict";Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function ready(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.__readied=!0},_modalChanged:function _modalChanged(modal,readied){if(!readied){return}if(modal){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.noCancelOnOutsideClick=!0;this.noCancelOnEscKey=!0;this.withBackdrop=!0}else{this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick;this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey;this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop}},_updateClosingReasonConfirmed:function _updateClosingReasonConfirmed(confirmed){this.closingReason=this.closingReason||{};this.closingReason.confirmed=confirmed},_onDialogClick:function _onDialogClick(event){for(var path=Polymer.dom(event).path,i=0,l=path.indexOf(this),target;i<l;i++){target=path[i];if(target.hasAttribute&&(target.hasAttribute("dialog-dismiss")||target.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(target.hasAttribute("dialog-confirm"));this.close();event.stopPropagation();break}}}};Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl]})();</script><dom-module id="paper-dialog-shared-styles" assetpath="../../bower_components/paper-dialog-behavior/"><template><style>:host{display:block;margin:24px 40px;background:var(--paper-dialog-background-color, var(--primary-background-color));color:var(--paper-dialog-color, var(--primary-text-color));@apply --paper-font-body1;@apply --shadow-elevation-16dp;@apply --paper-dialog;}:host > ::slotted(*){margin-top:20px;padding:0 24px;}:host > ::slotted(.no-padding){padding:0;}:host > ::slotted(*:first-child){margin-top:24px;}:host > ::slotted(*:last-child){margin-bottom:24px;}:host > ::slotted(h2){position:relative;margin:0;@apply --paper-font-title;@apply --paper-dialog-title;}:host > ::slotted(h2:first-child){margin-top:24px;@apply --paper-dialog-title;}:host > ::slotted(h2:last-child){margin-bottom:24px;@apply --paper-dialog-title;}:host > ::slotted(.paper-dialog-buttons),
      :host > ::slotted(.buttons){position:relative;padding:8px 8px 8px 24px;margin:0;color:var(--paper-dialog-button-color, var(--primary-color));@apply --layout-horizontal;@apply --layout-end-justified;}</style></template></dom-module><dom-module id="paper-dialog" assetpath="../../bower_components/paper-dialog/"><template><style include="paper-dialog-shared-styles"></style><slot></slot></template></dom-module><script>Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function _renderOpened(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function _renderClosed(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function _onNeonAnimationFinish(){if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}}});</script></div><dom-module id="contours-list-item"><template><style include="shared-styles">.contour-item, .contour-item-all{@apply (--layout-horizontal);}.contour-item paper-checkbox, 
        .contour-item-all paper-checkbox{padding:8px;margin-right:auto;}.contour-item iron-icon{padding:8px;cursor:pointer;color:#767676;}paper-dialog.modal-contour{width:350px;}paper-dialog.modal-contour > h2{padding:5px 30px;}paper-dialog.modal-contour > p{padding:5px 30px;margin:0;}</style><div style="width:100%"><div class="separator"><span>[[title]]<span></span></span></div><div class="contour-item-all"><paper-checkbox class="label" checked="{{allShow}}">Show / hide all</paper-checkbox></div><div class="separator"></div><template is="dom-repeat" items="{{contours}}" as="contour"><div class="contour-item" id="contour-{{contour.id}}" on-mouseover="_mouseOverContour" on-mouseout="_mouseOutContour"><paper-checkbox checked="{{contour.visible}}" on-tap="_onCheckContour"><span style="color:{{contour.color}}">{{contour.label}}</span></paper-checkbox><template is="dom-if" if="{{contour.description}}"><iron-icon class="info" icon="icons:info" on-tap="_onContourInfo"></iron-icon></template></div></template></div><paper-dialog id="modalContourInfo" class="modal-contour"><h2 id="mciTitle"></h2><p id="mciDescription"></p><div class="buttons"><paper-button dialog-confirm="" autofocus="">Close</paper-button></div></paper-dialog></template><script>var ContoursListIem=function(_Polymer$Element){babelHelpers.inherits(ContoursListIem,_Polymer$Element);babelHelpers.createClass(ContoursListIem,null,[{key:"is",get:function get(){return"contours-list-item"}},{key:"properties",get:function get(){return{title:{type:String,value:"List of contours"},contours:{type:Array,value:[]},allShow:{type:Boolean,value:!0,observer:"_allShowChanged"}}}}]);function ContoursListIem(){var _this;babelHelpers.classCallCheck(this,ContoursListIem);_this=babelHelpers.possibleConstructorReturn(this,(ContoursListIem.__proto__||Object.getPrototypeOf(ContoursListIem)).call(this));_this.stopPropagationAllShow=!1;return _this}babelHelpers.createClass(ContoursListIem,[{key:"ready",value:function ready(){babelHelpers.get(ContoursListIem.prototype.__proto__||Object.getPrototypeOf(ContoursListIem.prototype),"ready",this).call(this)}},{key:"_allShowChanged",value:function _allShowChanged(){if(this.stopPropagationAllShow)return;for(var i=0;i<this.contours.length;i++){this.set("contours."+i+".visible",this.allShow);this._updateContourVisibled(i)}}},{key:"_mouseOverContour",value:function _mouseOverContour(e){var id=this._getContourId(e.target);this.set("contours."+id+".contour.selected",!0)}},{key:"_mouseOutContour",value:function _mouseOutContour(e){var id=this._getContourId(e.target);this.set("contours."+id+".contour.selected",!1)}},{key:"_onContourInfo",value:function _onContourInfo(e){var id=this._getContourId(e.target);if(null===id)return;this.$.mciTitle.innerHTML=this._unescapeText(this.contours[id].label);this.$.mciDescription.innerHTML=this._unescapeText(this.contours[id].description);this.$.modalContourInfo.open()}},{key:"_unescapeText",value:function _unescapeText(text){var elem=document.createElement("textarea");elem.innerHTML=text;return elem.textContent}},{key:"_onCheckContour",value:function _onCheckContour(e){var id=this._getContourId(e.target);this._updateContourVisibled(id);if(this.stopPropagationAllShow)return;this._updateAllShow()}},{key:"_updateAllShow",value:function _updateAllShow(){for(var flag=!0,i=0;i<this.contours.length&&flag;i++){flag=flag&&this.contours[i].visible}this.stopPropagationAllShow=!0;this.set("allShow",flag);this.stopPropagationAllShow=!1}},{key:"_updateContourVisibled",value:function _updateContourVisibled(id){var visibled=this.contours[id].visible;this.set("contours."+id+".contour.meshBack.visible",visibled);this.set("contours."+id+".contour.meshFront.visible",visibled)}},{key:"_getContourId",value:function _getContourId(element){var el=element;while((el=el.parentElement)&&!el.classList.contains("contour-item")){}if(null==el)return;var id=el.getAttribute("id");id=id.replace("contour-","");return parseInt(id)}}]);return ContoursListIem}(Polymer.Element);window.customElements.define(ContoursListIem.is,ContoursListIem);</script></dom-module></body></html>