<html><head><link rel="lazy-import" href="my-login.html"><link rel="lazy-import" href="my-home.html"><link rel="lazy-import" href="my-case.html"><link rel="lazy-import" href="my-compare.html"><link rel="lazy-import" href="my-view404.html"><link rel="lazy-import" href="my-team.html"><link rel="lazy-import" href="my-data.html"></head><body><div hidden="" by-polymer-bundler=""><script>(function(){"use strict";var userPolymer=window.Polymer;window.Polymer=function(info){return window.Polymer._polymerFn(info)};if(userPolymer){Object.assign(Polymer,userPolymer)}window.Polymer._polymerFn=function(){throw new Error("Load polymer.html to use the Polymer() function.")};window.Polymer.version="2.6.1";window.JSCompiler_renameProperty=function(prop){return prop}})();</script><script>(function(){"use strict";var CSS_URL_RX=/(url\()([^)]*)(\))/g,ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/,workingURL,resolveDoc;function resolveUrl(url,baseURI){if(url&&ABS_URL.test(url)){return url}if(workingURL===void 0){workingURL=!1;try{var u=new URL("b","http://a");u.pathname="c%20d";workingURL="http://a/c%20d"===u.href}catch(e){}}if(!baseURI){baseURI=document.baseURI||window.location.href}if(workingURL){return new URL(url,baseURI).href}if(!resolveDoc){resolveDoc=document.implementation.createHTMLDocument("temp");resolveDoc.base=resolveDoc.createElement("base");resolveDoc.head.appendChild(resolveDoc.base);resolveDoc.anchor=resolveDoc.createElement("a");resolveDoc.body.appendChild(resolveDoc.anchor)}resolveDoc.base.href=baseURI;resolveDoc.anchor.href=url;return resolveDoc.anchor.href||url}Polymer.ResolveUrl={resolveCss:function(cssText,baseURI){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+"'"+resolveUrl(url.replace(/["']/g,""),baseURI)+"'"+post})},resolveUrl:resolveUrl,pathFromUrl:function(url){return url.substring(0,url.lastIndexOf("/")+1)}}})();</script><script>(function(){"use strict";Polymer.Settings=Polymer.Settings||{};Polymer.Settings.useShadow=!window.ShadyDOM;Polymer.Settings.useNativeCSSProperties=!!(!window.ShadyCSS||window.ShadyCSS.nativeCss);Polymer.Settings.useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback;var rootPath=Polymer.rootPath||Polymer.ResolveUrl.pathFromUrl(document.baseURI||window.location.href);Polymer.rootPath=rootPath;Polymer.setRootPath=function(path){Polymer.rootPath=path};var sanitizeDOMValue=Polymer.sanitizeDOMValue;Polymer.sanitizeDOMValue=sanitizeDOMValue;Polymer.setSanitizeDOMValue=function(newSanitizeDOMValue){Polymer.sanitizeDOMValue=newSanitizeDOMValue};Polymer.passiveTouchGestures=!1;Polymer.setPassiveTouchGestures=function(usePassive){Polymer.passiveTouchGestures=usePassive}})();</script><script>(function(){"use strict";var dedupeId=0;function MixinFunction(){}MixinFunction.prototype.__mixinApplications;MixinFunction.prototype.__mixinSet;Polymer.dedupingMixin=function(mixin){var mixinApplications=mixin.__mixinApplications;if(!mixinApplications){mixinApplications=new WeakMap;mixin.__mixinApplications=mixinApplications}var mixinDedupeId=dedupeId++;function dedupingMixin(base){var baseSet=base.__mixinSet;if(baseSet&&baseSet[mixinDedupeId]){return base}var map=mixinApplications,extended=map.get(base);if(!extended){extended=mixin(base);map.set(base,extended)}var mixinSet=Object.create(extended.__mixinSet||baseSet||null);mixinSet[mixinDedupeId]=!0;extended.__mixinSet=mixinSet;return extended}return dedupingMixin}})();</script><script>(function(){"use strict";var SHADY_UNSCOPED_ATTR="shady-unscoped";function importModule(moduleId){var PolymerDomModule=customElements.get("dom-module");if(!PolymerDomModule){return null}return PolymerDomModule.import(moduleId)}function styleForImport(importDoc){var container=importDoc.body?importDoc.body:importDoc,importCss=Polymer.ResolveUrl.resolveCss(container.textContent,importDoc.baseURI),style=document.createElement("style");style.textContent=importCss;return style}Polymer.StyleGather={stylesFromModules:function stylesFromModules(moduleIds){for(var modules=moduleIds.trim().split(/\s+/),styles=[],i=0;i<modules.length;i++){styles.push.apply(styles,babelHelpers.toConsumableArray(this.stylesFromModule(modules[i])))}return styles},stylesFromModule:function stylesFromModule(moduleId){var m=importModule(moduleId);if(!m){console.warn("Could not find style data in module named",moduleId);return[]}if(m._styles===void 0){var styles=[];styles.push.apply(styles,babelHelpers.toConsumableArray(this._stylesFromModuleImports(m)));var template=m.querySelector("template");if(template){styles.push.apply(styles,babelHelpers.toConsumableArray(this.stylesFromTemplate(template,m.assetpath)))}m._styles=styles}return m._styles},stylesFromTemplate:function stylesFromTemplate(template,baseURI){if(!template._styles){for(var styles=[],e$=template.content.querySelectorAll("style"),i=0;i<e$.length;i++){var e=e$[i],include=e.getAttribute("include");if(include){styles.push.apply(styles,babelHelpers.toConsumableArray(this.stylesFromModules(include).filter(function(item,index,self){return self.indexOf(item)===index})))}if(baseURI){e.textContent=Polymer.ResolveUrl.resolveCss(e.textContent,baseURI)}styles.push(e)}template._styles=styles}return template._styles},stylesFromModuleImports:function stylesFromModuleImports(moduleId){var m=importModule(moduleId);return m?this._stylesFromModuleImports(m):[]},_stylesFromModuleImports:function _stylesFromModuleImports(module){for(var styles=[],p$=module.querySelectorAll("link[rel=import][type~=css]"),i=0,p;i<p$.length;i++){p=p$[i];if(p.import){var importDoc=p.import,unscoped=p.hasAttribute(SHADY_UNSCOPED_ATTR);if(unscoped&&!importDoc._unscopedStyle){var style=styleForImport(importDoc);style.setAttribute(SHADY_UNSCOPED_ATTR,"");importDoc._unscopedStyle=style}else if(!importDoc._style){importDoc._style=styleForImport(importDoc)}styles.push(unscoped?importDoc._unscopedStyle:importDoc._style)}}return styles},cssFromModules:function cssFromModules(moduleIds){for(var modules=moduleIds.trim().split(/\s+/),cssText="",i=0;i<modules.length;i++){cssText+=this.cssFromModule(modules[i])}return cssText},cssFromModule:function cssFromModule(moduleId){var m=importModule(moduleId);if(m&&m._cssText===void 0){var cssText=this._cssFromModuleImports(m),t=m.querySelector("template");if(t){cssText+=this.cssFromTemplate(t,m.assetpath)}m._cssText=cssText||null}if(!m){console.warn("Could not find style data in module named",moduleId)}return m&&m._cssText||""},cssFromTemplate:function cssFromTemplate(template,baseURI){for(var cssText="",e$=this.stylesFromTemplate(template,baseURI),i=0,e;i<e$.length;i++){e=e$[i];if(e.parentNode){e.parentNode.removeChild(e)}cssText+=e.textContent}return cssText},cssFromModuleImports:function cssFromModuleImports(moduleId){var m=importModule(moduleId);return m?this._cssFromModuleImports(m):""},_cssFromModuleImports:function _cssFromModuleImports(module){for(var cssText="",styles=this._stylesFromModuleImports(module),i=0;i<styles.length;i++){cssText+=styles[i].textContent}return cssText}}})();</script><script>(function(){"use strict";var modules={},lcModules={};function findModule(id){return modules[id]||lcModules[id.toLowerCase()]}function styleOutsideTemplateCheck(inst){if(inst.querySelector("style")){console.warn("dom-module %s has style outside template",inst.id)}}var DomModule=function(_HTMLElement){babelHelpers.inherits(DomModule,_HTMLElement);function DomModule(){babelHelpers.classCallCheck(this,DomModule);return babelHelpers.possibleConstructorReturn(this,(DomModule.__proto__||Object.getPrototypeOf(DomModule)).apply(this,arguments))}babelHelpers.createClass(DomModule,[{key:"attributeChangedCallback",value:function attributeChangedCallback(name,old,value){if(old!==value){this.register()}}},{key:"register",value:function register(id){id=id||this.id;if(id){this.id=id;modules[id]=this;lcModules[id.toLowerCase()]=this;styleOutsideTemplateCheck(this)}}},{key:"assetpath",get:function get(){if(!this.__assetpath){var owner=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,url=Polymer.ResolveUrl.resolveUrl(this.getAttribute("assetpath")||"",owner.baseURI);this.__assetpath=Polymer.ResolveUrl.pathFromUrl(url)}return this.__assetpath}}],[{key:"import",value:function _import(id,selector){if(id){var m=findModule(id);if(m&&selector){return m.querySelector(selector)}return m}return null}},{key:"observedAttributes",get:function get(){return["id"]}}]);return DomModule}(HTMLElement);DomModule.prototype.modules=modules;customElements.define("dom-module",DomModule);Polymer.DomModule=DomModule})();</script><script>(function(){"use strict";var Path={isPath:function isPath(path){return 0<=path.indexOf(".")},root:function root(path){var dotIndex=path.indexOf(".");if(-1===dotIndex){return path}return path.slice(0,dotIndex)},isAncestor:function isAncestor(base,path){return 0===base.indexOf(path+".")},isDescendant:function isDescendant(base,path){return 0===path.indexOf(base+".")},translate:function translate(base,newBase,path){return newBase+path.slice(base.length)},matches:function matches(base,path){return base===path||this.isAncestor(base,path)||this.isDescendant(base,path)},normalize:function normalize(path){if(Array.isArray(path)){for(var parts=[],i=0,args;i<path.length;i++){args=path[i].toString().split(".");for(var j=0;j<args.length;j++){parts.push(args[j])}}return parts.join(".")}else{return path}},split:function split(path){if(Array.isArray(path)){return this.normalize(path).split(".")}return path.toString().split(".")},get:function get(root,path,info){for(var prop=root,parts=this.split(path),i=0;i<parts.length;i++){if(!prop){return}var part=parts[i];prop=prop[part]}if(info){info.path=parts.join(".")}return prop},set:function set(root,path,value){var prop=root,parts=this.split(path),last=parts[parts.length-1];if(1<parts.length){for(var i=0,part;i<parts.length-1;i++){part=parts[i];prop=prop[part];if(!prop){return}}prop[last]=value}else{prop[path]=value}return parts.join(".")}};Path.isDeep=Path.isPath;Polymer.Path=Path})();</script><script>(function(){"use strict";var caseMap={},DASH_TO_CAMEL=/-[a-z]/g,CAMEL_TO_DASH=/([A-Z])/g;Polymer.CaseMap={dashToCamelCase:function dashToCamelCase(dash){return caseMap[dash]||(caseMap[dash]=0>dash.indexOf("-")?dash:dash.replace(DASH_TO_CAMEL,function(m){return m[1].toUpperCase()}))},camelToDashCase:function camelToDashCase(camel){return caseMap[camel]||(caseMap[camel]=camel.replace(CAMEL_TO_DASH,"-$1").toLowerCase())}}})();</script><script>(function(){"use strict";var microtaskCurrHandle=0,microtaskLastHandle=0,microtaskCallbacks=[],microtaskNodeContent=0,microtaskNode=document.createTextNode("");new window.MutationObserver(function(){for(var len=microtaskCallbacks.length,i=0,cb;i<len;i++){cb=microtaskCallbacks[i];if(cb){try{cb()}catch(e){setTimeout(function(){throw e})}}}microtaskCallbacks.splice(0,len);microtaskLastHandle+=len}).observe(microtaskNode,{characterData:!0});Polymer.Async={timeOut:{after:function after(delay){return{run:function run(fn){return window.setTimeout(fn,delay)},cancel:function cancel(handle){window.clearTimeout(handle)}}},run:function run(fn,delay){return window.setTimeout(fn,delay)},cancel:function cancel(handle){window.clearTimeout(handle)}},animationFrame:{run:function run(fn){return window.requestAnimationFrame(fn)},cancel:function cancel(handle){window.cancelAnimationFrame(handle)}},idlePeriod:{run:function run(fn){return window.requestIdleCallback?window.requestIdleCallback(fn):window.setTimeout(fn,16)},cancel:function cancel(handle){window.cancelIdleCallback?window.cancelIdleCallback(handle):window.clearTimeout(handle)}},microTask:{run:function run(callback){microtaskNode.textContent=microtaskNodeContent++;microtaskCallbacks.push(callback);return microtaskCurrHandle++},cancel:function cancel(handle){var idx=handle-microtaskLastHandle;if(0<=idx){if(!microtaskCallbacks[idx]){throw new Error("invalid async handle: "+handle)}microtaskCallbacks[idx]=null}}}}})();</script><script>(function(){"use strict";var microtask=Polymer.Async.microTask;Polymer.PropertiesChanged=Polymer.dedupingMixin(function(superClass){var PropertiesChanged=function(_superClass){babelHelpers.inherits(PropertiesChanged,_superClass);babelHelpers.createClass(PropertiesChanged,[{key:"_createPropertyAccessor",value:function _createPropertyAccessor(property,readOnly){this._addPropertyToAttributeMap(property);if(!this.hasOwnProperty("__dataHasAccessor")){this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)}if(!this.__dataHasAccessor[property]){this.__dataHasAccessor[property]=!0;this._definePropertyAccessor(property,readOnly)}}},{key:"_addPropertyToAttributeMap",value:function _addPropertyToAttributeMap(property){if(!this.hasOwnProperty("__dataAttributes")){this.__dataAttributes=Object.assign({},this.__dataAttributes)}if(!this.__dataAttributes[property]){var attr=this.constructor.attributeNameForProperty(property);this.__dataAttributes[attr]=property}}},{key:"_definePropertyAccessor",value:function _definePropertyAccessor(property,readOnly){Object.defineProperty(this,property,{get:function get(){return this._getProperty(property)},set:readOnly?function(){}:function(value){this._setProperty(property,value)}})}}],[{key:"createProperties",value:function createProperties(props){var proto=this.prototype;for(var prop in props){if(!(prop in proto)){proto._createPropertyAccessor(prop)}}}},{key:"attributeNameForProperty",value:function attributeNameForProperty(property){return property.toLowerCase()}},{key:"typeForProperty",value:function typeForProperty(){}}]);function PropertiesChanged(){var _this;babelHelpers.classCallCheck(this,PropertiesChanged);_this=babelHelpers.possibleConstructorReturn(this,(PropertiesChanged.__proto__||Object.getPrototypeOf(PropertiesChanged)).call(this));_this.__dataEnabled=!1;_this.__dataReady=!1;_this.__dataInvalid=!1;_this.__data={};_this.__dataPending=null;_this.__dataOld=null;_this.__dataInstanceProps=null;_this.__serializing=!1;_this._initializeProperties();return _this}babelHelpers.createClass(PropertiesChanged,[{key:"ready",value:function ready(){this.__dataReady=!0;this._flushProperties()}},{key:"_initializeProperties",value:function _initializeProperties(){for(var p in this.__dataHasAccessor){if(this.hasOwnProperty(p)){this.__dataInstanceProps=this.__dataInstanceProps||{};this.__dataInstanceProps[p]=this[p];delete this[p]}}}},{key:"_initializeInstanceProperties",value:function _initializeInstanceProperties(props){Object.assign(this,props)}},{key:"_setProperty",value:function _setProperty(property,value){if(this._setPendingProperty(property,value)){this._invalidateProperties()}}},{key:"_getProperty",value:function _getProperty(property){return this.__data[property]}},{key:"_setPendingProperty",value:function _setPendingProperty(property,value){var old=this.__data[property],changed=this._shouldPropertyChange(property,value,old);if(changed){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(this.__dataOld&&!(property in this.__dataOld)){this.__dataOld[property]=old}this.__data[property]=value;this.__dataPending[property]=value}return changed}},{key:"_invalidateProperties",value:function _invalidateProperties(){var _this2=this;if(!this.__dataInvalid&&this.__dataReady){this.__dataInvalid=!0;microtask.run(function(){if(_this2.__dataInvalid){_this2.__dataInvalid=!1;_this2._flushProperties()}})}}},{key:"_enableProperties",value:function _enableProperties(){if(!this.__dataEnabled){this.__dataEnabled=!0;if(this.__dataInstanceProps){this._initializeInstanceProperties(this.__dataInstanceProps);this.__dataInstanceProps=null}this.ready()}}},{key:"_flushProperties",value:function _flushProperties(){var props=this.__data,changedProps=this.__dataPending,old=this.__dataOld;if(this._shouldPropertiesChange(props,changedProps,old)){this.__dataPending=null;this.__dataOld=null;this._propertiesChanged(props,changedProps,old)}}},{key:"_shouldPropertiesChange",value:function _shouldPropertiesChange(currentProps,changedProps){return!!changedProps}},{key:"_propertiesChanged",value:function _propertiesChanged(){}},{key:"_shouldPropertyChange",value:function _shouldPropertyChange(property,value,old){return old!==value&&(old===old||value===value)}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,old,value,namespace){if(old!==value){this._attributeToProperty(name,value)}if(babelHelpers.get(PropertiesChanged.prototype.__proto__||Object.getPrototypeOf(PropertiesChanged.prototype),"attributeChangedCallback",this)){babelHelpers.get(PropertiesChanged.prototype.__proto__||Object.getPrototypeOf(PropertiesChanged.prototype),"attributeChangedCallback",this).call(this,name,old,value,namespace)}}},{key:"_attributeToProperty",value:function _attributeToProperty(attribute,value,type){if(!this.__serializing){var map=this.__dataAttributes,property=map&&map[attribute]||attribute;this[property]=this._deserializeValue(value,type||this.constructor.typeForProperty(property))}}},{key:"_propertyToAttribute",value:function _propertyToAttribute(property,attribute,value){this.__serializing=!0;value=3>arguments.length?this[property]:value;this._valueToNodeAttribute(this,value,attribute||this.constructor.attributeNameForProperty(property));this.__serializing=!1}},{key:"_valueToNodeAttribute",value:function _valueToNodeAttribute(node,value,attribute){var str=this._serializeValue(value);if(str===void 0){node.removeAttribute(attribute)}else{node.setAttribute(attribute,str)}}},{key:"_serializeValue",value:function _serializeValue(value){switch(babelHelpers.typeof(value)){case"boolean":return value?"":void 0;default:return null!=value?value.toString():void 0;}}},{key:"_deserializeValue",value:function _deserializeValue(value,type){switch(type){case Boolean:return null!==value;case Number:return+value;default:return value;}}}]);return PropertiesChanged}(superClass);return PropertiesChanged})})();</script><script>(function(){"use strict";var caseMap=Polymer.CaseMap,nativeProperties={},proto=HTMLElement.prototype;while(proto){for(var props=Object.getOwnPropertyNames(proto),i=0;i<props.length;i++){nativeProperties[props[i]]=!0}proto=Object.getPrototypeOf(proto)}function saveAccessorValue(model,property){if(!nativeProperties[property]){var value=model[property];if(value!==void 0){if(model.__data){model._setPendingProperty(property,value)}else{if(!model.__dataProto){model.__dataProto={}}else if(!model.hasOwnProperty(JSCompiler_renameProperty("__dataProto",model))){model.__dataProto=Object.create(model.__dataProto)}model.__dataProto[property]=value}}}}Polymer.PropertyAccessors=Polymer.dedupingMixin(function(superClass){var base=Polymer.PropertiesChanged(superClass),PropertyAccessors=function(_base){babelHelpers.inherits(PropertyAccessors,_base);function PropertyAccessors(){babelHelpers.classCallCheck(this,PropertyAccessors);return babelHelpers.possibleConstructorReturn(this,(PropertyAccessors.__proto__||Object.getPrototypeOf(PropertyAccessors)).apply(this,arguments))}babelHelpers.createClass(PropertyAccessors,[{key:"_initializeProperties",value:function _initializeProperties(){if(this.__dataProto){this._initializeProtoProperties(this.__dataProto);this.__dataProto=null}babelHelpers.get(PropertyAccessors.prototype.__proto__||Object.getPrototypeOf(PropertyAccessors.prototype),"_initializeProperties",this).call(this)}},{key:"_initializeProtoProperties",value:function _initializeProtoProperties(props){for(var p in props){this._setProperty(p,props[p])}}},{key:"_ensureAttribute",value:function _ensureAttribute(attribute,value){var el=this;if(!el.hasAttribute(attribute)){this._valueToNodeAttribute(el,value,attribute)}}},{key:"_serializeValue",value:function _serializeValue(value){switch(babelHelpers.typeof(value)){case"object":if(babelHelpers.instanceof(value,Date)){return value.toString()}else if(value){try{return JSON.stringify(value)}catch(x){return""}}default:return babelHelpers.get(PropertyAccessors.prototype.__proto__||Object.getPrototypeOf(PropertyAccessors.prototype),"_serializeValue",this).call(this,value);}}},{key:"_deserializeValue",value:function _deserializeValue(value,type){var outValue;switch(type){case Object:try{outValue=JSON.parse(value)}catch(x){outValue=value}break;case Array:try{outValue=JSON.parse(value)}catch(x){outValue=null;console.warn("Polymer::Attributes: couldn't decode Array as JSON: ".concat(value))}break;case Date:outValue=isNaN(value)?value+"":+value;outValue=new Date(outValue);break;default:outValue=babelHelpers.get(PropertyAccessors.prototype.__proto__||Object.getPrototypeOf(PropertyAccessors.prototype),"_deserializeValue",this).call(this,value,type);break;}return outValue}},{key:"_definePropertyAccessor",value:function _definePropertyAccessor(property,readOnly){saveAccessorValue(this,property);babelHelpers.get(PropertyAccessors.prototype.__proto__||Object.getPrototypeOf(PropertyAccessors.prototype),"_definePropertyAccessor",this).call(this,property,readOnly)}},{key:"_hasAccessor",value:function _hasAccessor(property){return this.__dataHasAccessor&&this.__dataHasAccessor[property]}},{key:"_isPropertyPending",value:function _isPropertyPending(prop){return!!(this.__dataPending&&prop in this.__dataPending)}}],[{key:"createPropertiesForAttributes",value:function createPropertiesForAttributes(){for(var a$=this.observedAttributes,_i=0;_i<a$.length;_i++){this.prototype._createPropertyAccessor(caseMap.dashToCamelCase(a$[_i]))}}},{key:"attributeNameForProperty",value:function attributeNameForProperty(property){return caseMap.camelToDashCase(property)}}]);return PropertyAccessors}(base);return PropertyAccessors})})();</script><script>(function(){"use strict";var templateExtensions={"dom-if":!0,"dom-repeat":!0};function wrapTemplateExtension(node){var is=node.getAttribute("is");if(is&&templateExtensions[is]){var t=node;t.removeAttribute("is");node=t.ownerDocument.createElement(is);t.parentNode.replaceChild(node,t);node.appendChild(t);while(t.attributes.length){node.setAttribute(t.attributes[0].name,t.attributes[0].value);t.removeAttribute(t.attributes[0].name)}}return node}function findTemplateNode(root,nodeInfo){var parent=nodeInfo.parentInfo&&findTemplateNode(root,nodeInfo.parentInfo);if(parent){for(var n=parent.firstChild,i=0;n;n=n.nextSibling){if(nodeInfo.parentIndex===i++){return n}}}else{return root}}function applyIdToMap(inst,map,node,nodeInfo){if(nodeInfo.id){map[nodeInfo.id]=node}}function applyEventListener(inst,node,nodeInfo){if(nodeInfo.events&&nodeInfo.events.length){for(var j=0,e$=nodeInfo.events,e;j<e$.length&&(e=e$[j]);j++){inst._addMethodEventListenerToNode(node,e.name,e.value,inst)}}}function applyTemplateContent(inst,node,nodeInfo){if(nodeInfo.templateInfo){node._templateInfo=nodeInfo.templateInfo}}function createNodeEventHandler(context,eventName,methodName){context=context._methodHost||context;var handler=function(e){if(context[methodName]){context[methodName](e,e.detail)}else{console.warn("listener method `"+methodName+"` not defined")}};return handler}Polymer.TemplateStamp=Polymer.dedupingMixin(function(superClass){var TemplateStamp=function(_superClass){babelHelpers.inherits(TemplateStamp,_superClass);function TemplateStamp(){babelHelpers.classCallCheck(this,TemplateStamp);return babelHelpers.possibleConstructorReturn(this,(TemplateStamp.__proto__||Object.getPrototypeOf(TemplateStamp)).apply(this,arguments))}babelHelpers.createClass(TemplateStamp,[{key:"_stampTemplate",value:function _stampTemplate(template){if(template&&!template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate){HTMLTemplateElement.decorate(template)}var templateInfo=this.constructor._parseTemplate(template),nodeInfo=templateInfo.nodeInfoList,content=templateInfo.content||template.content,dom=document.importNode(content,!0);dom.__noInsertionPoint=!templateInfo.hasInsertionPoint;var nodes=dom.nodeList=Array(nodeInfo.length);dom.$={};for(var i=0,l=nodeInfo.length,info,node;i<l&&(info=nodeInfo[i]);i++){node=nodes[i]=findTemplateNode(dom,info);applyIdToMap(this,dom.$,node,info);applyTemplateContent(this,node,info);applyEventListener(this,node,info)}dom=dom;return dom}},{key:"_addMethodEventListenerToNode",value:function _addMethodEventListenerToNode(node,eventName,methodName,context){context=context||node;var handler=createNodeEventHandler(context,eventName,methodName);this._addEventListenerToNode(node,eventName,handler);return handler}},{key:"_addEventListenerToNode",value:function _addEventListenerToNode(node,eventName,handler){node.addEventListener(eventName,handler)}},{key:"_removeEventListenerFromNode",value:function _removeEventListenerFromNode(node,eventName,handler){node.removeEventListener(eventName,handler)}}],[{key:"_parseTemplate",value:function _parseTemplate(template,outerTemplateInfo){if(!template._templateInfo){var templateInfo=template._templateInfo={};templateInfo.nodeInfoList=[];templateInfo.stripWhiteSpace=outerTemplateInfo&&outerTemplateInfo.stripWhiteSpace||template.hasAttribute("strip-whitespace");this._parseTemplateContent(template,templateInfo,{parent:null})}return template._templateInfo}},{key:"_parseTemplateContent",value:function _parseTemplateContent(template,templateInfo,nodeInfo){return this._parseTemplateNode(template.content,templateInfo,nodeInfo)}},{key:"_parseTemplateNode",value:function _parseTemplateNode(node,templateInfo,nodeInfo){var noted,element=node;if("template"==element.localName&&!element.hasAttribute("preserve-content")){noted=this._parseTemplateNestedTemplate(element,templateInfo,nodeInfo)||noted}else if("slot"===element.localName){templateInfo.hasInsertionPoint=!0}if(element.firstChild){noted=this._parseTemplateChildNodes(element,templateInfo,nodeInfo)||noted}if(element.hasAttributes&&element.hasAttributes()){noted=this._parseTemplateNodeAttributes(element,templateInfo,nodeInfo)||noted}return noted}},{key:"_parseTemplateChildNodes",value:function _parseTemplateChildNodes(root,templateInfo,nodeInfo){if("script"===root.localName||"style"===root.localName){return}for(var node=root.firstChild,parentIndex=0,next;node;node=next){if("template"==node.localName){node=wrapTemplateExtension(node)}next=node.nextSibling;if(node.nodeType===Node.TEXT_NODE){var n=next;while(n&&n.nodeType===Node.TEXT_NODE){node.textContent+=n.textContent;next=n.nextSibling;root.removeChild(n);n=next}if(templateInfo.stripWhiteSpace&&!node.textContent.trim()){root.removeChild(node);continue}}var childInfo={parentIndex:parentIndex,parentInfo:nodeInfo};if(this._parseTemplateNode(node,templateInfo,childInfo)){childInfo.infoIndex=templateInfo.nodeInfoList.push(childInfo)-1}if(node.parentNode){parentIndex++}}}},{key:"_parseTemplateNestedTemplate",value:function _parseTemplateNestedTemplate(node,outerTemplateInfo,nodeInfo){var templateInfo=this._parseTemplate(node,outerTemplateInfo),content=templateInfo.content=node.content.ownerDocument.createDocumentFragment();content.appendChild(node.content);nodeInfo.templateInfo=templateInfo;return!0}},{key:"_parseTemplateNodeAttributes",value:function _parseTemplateNodeAttributes(node,templateInfo,nodeInfo){for(var noted=!1,attrs=Array.from(node.attributes),i=attrs.length-1,a;a=attrs[i];i--){noted=this._parseTemplateNodeAttribute(node,templateInfo,nodeInfo,a.name,a.value)||noted}return noted}},{key:"_parseTemplateNodeAttribute",value:function _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){if("on-"===name.slice(0,3)){node.removeAttribute(name);nodeInfo.events=nodeInfo.events||[];nodeInfo.events.push({name:name.slice(3),value:value});return!0}else if("id"===name){nodeInfo.id=value;return!0}return!1}},{key:"_contentForTemplate",value:function _contentForTemplate(template){var templateInfo=template._templateInfo;return templateInfo&&templateInfo.content||template.content}}]);return TemplateStamp}(superClass);return TemplateStamp})})();</script><script>(function(){"use strict";var CaseMap=Polymer.CaseMap,dedupeId=0,TYPES={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},capitalAttributeRegex=/[A-Z]/;function ensureOwnEffectMap(model,type){var effects=model[type];if(!effects){effects=model[type]={}}else if(!model.hasOwnProperty(type)){effects=model[type]=Object.create(model[type]);for(var p in effects){for(var protoFx=effects[p],instFx=effects[p]=Array(protoFx.length),i=0;i<protoFx.length;i++){instFx[i]=protoFx[i]}}}return effects}function runEffects(inst,effects,props,oldProps,hasPaths,extraArgs){if(effects){var ran=!1,id=dedupeId++;for(var prop in props){if(runEffectsForProperty(inst,effects,id,prop,props,oldProps,hasPaths,extraArgs)){ran=!0}}return ran}return!1}function runEffectsForProperty(inst,effects,dedupeId,prop,props,oldProps,hasPaths,extraArgs){var ran=!1,rootProperty=hasPaths?Polymer.Path.root(prop):prop,fxs=effects[rootProperty];if(fxs){for(var i=0,l=fxs.length,fx;i<l&&(fx=fxs[i]);i++){if((!fx.info||fx.info.lastRun!==dedupeId)&&(!hasPaths||pathMatchesTrigger(prop,fx.trigger))){if(fx.info){fx.info.lastRun=dedupeId}fx.fn(inst,prop,props,oldProps,fx.info,hasPaths,extraArgs);ran=!0}}}return ran}function pathMatchesTrigger(path,trigger){if(trigger){var triggerPath=trigger.name;return triggerPath==path||trigger.structured&&Polymer.Path.isAncestor(triggerPath,path)||trigger.wildcard&&Polymer.Path.isDescendant(triggerPath,path)}else{return!0}}function runObserverEffect(inst,property,props,oldProps,info){var fn="string"===typeof info.method?inst[info.method]:info.method,changedProp=info.property;if(fn){fn.call(inst,inst.__data[changedProp],oldProps[changedProp])}else if(!info.dynamicFn){console.warn("observer method `"+info.method+"` not defined")}}function runNotifyEffects(inst,notifyProps,props,oldProps,hasPaths){var fxs=inst[TYPES.NOTIFY],notified,id=dedupeId++;for(var prop in notifyProps){if(notifyProps[prop]){if(fxs&&runEffectsForProperty(inst,fxs,id,prop,props,oldProps,hasPaths)){notified=!0}else if(hasPaths&&notifyPath(inst,prop,props)){notified=!0}}}var host;if(notified&&(host=inst.__dataHost)&&host._invalidateProperties){host._invalidateProperties()}}function notifyPath(inst,path,props){var rootProperty=Polymer.Path.root(path);if(rootProperty!==path){var eventName=Polymer.CaseMap.camelToDashCase(rootProperty)+"-changed";dispatchNotifyEvent(inst,eventName,props[path],path);return!0}return!1}function dispatchNotifyEvent(inst,eventName,value,path){var detail={value:value,queueProperty:!0};if(path){detail.path=path}inst.dispatchEvent(new CustomEvent(eventName,{detail:detail}))}function runNotifyEffect(inst,property,props,oldProps,info,hasPaths){var rootProperty=hasPaths?Polymer.Path.root(property):property,path=rootProperty!=property?property:null,value=path?Polymer.Path.get(inst,path):inst.__data[property];if(path&&value===void 0){value=props[property]}dispatchNotifyEvent(inst,info.eventName,value,path)}function handleNotification(event,inst,fromProp,toPath,negate){var value,detail=event.detail,fromPath=detail&&detail.path;if(fromPath){toPath=Polymer.Path.translate(fromProp,toPath,fromPath);value=detail&&detail.value}else{value=event.currentTarget[fromProp]}value=negate?!value:value;if(!inst[TYPES.READ_ONLY]||!inst[TYPES.READ_ONLY][toPath]){if(inst._setPendingPropertyOrPath(toPath,value,!0,!!fromPath)&&(!detail||!detail.queueProperty)){inst._invalidateProperties()}}}function runReflectEffect(inst,property,props,oldProps,info){var value=inst.__data[property];if(Polymer.sanitizeDOMValue){value=Polymer.sanitizeDOMValue(value,info.attrName,"attribute",inst)}inst._propertyToAttribute(property,info.attrName,value)}function runComputedEffects(inst,changedProps,oldProps,hasPaths){var computeEffects=inst[TYPES.COMPUTE];if(computeEffects){var inputProps=changedProps;while(runEffects(inst,computeEffects,inputProps,oldProps,hasPaths)){Object.assign(oldProps,inst.__dataOld);Object.assign(changedProps,inst.__dataPending);inputProps=inst.__dataPending;inst.__dataPending=null}}}function runComputedEffect(inst,property,props,oldProps,info){var result=runMethodEffect(inst,property,props,oldProps,info),computedProp=info.methodInfo;if(inst.__dataHasAccessor&&inst.__dataHasAccessor[computedProp]){inst._setPendingProperty(computedProp,result,!0)}else{inst[computedProp]=result}}function computeLinkedPaths(inst,path,value){var links=inst.__dataLinkedPaths;if(links){var link;for(var a in links){var b=links[a];if(Polymer.Path.isDescendant(a,path)){link=Polymer.Path.translate(a,b,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}else if(Polymer.Path.isDescendant(b,path)){link=Polymer.Path.translate(b,a,path);inst._setPendingPropertyOrPath(link,value,!0,!0)}}}}function addBinding(constructor,templateInfo,nodeInfo,kind,target,parts,literal){nodeInfo.bindings=nodeInfo.bindings||[];var binding={kind:kind,target:target,parts:parts,literal:literal,isCompound:1!==parts.length};nodeInfo.bindings.push(binding);if(shouldAddListener(binding)){var _binding$parts$=binding.parts[0],event=_binding$parts$.event,negate=_binding$parts$.negate;binding.listenerEvent=event||CaseMap.camelToDashCase(target)+"-changed";binding.listenerNegate=negate}for(var index=templateInfo.nodeInfoList.length,i=0,part;i<binding.parts.length;i++){part=binding.parts[i];part.compoundIndex=i;addEffectForBindingPart(constructor,templateInfo,binding,part,index)}}function addEffectForBindingPart(constructor,templateInfo,binding,part,index){if(!part.literal){if("attribute"===binding.kind&&"-"===binding.target[0]){console.warn("Cannot set attribute "+binding.target+" because \"-\" is not a valid attribute starting character")}else{for(var dependencies=part.dependencies,info={index:index,binding:binding,part:part,evaluator:constructor},j=0,trigger;j<dependencies.length;j++){trigger=dependencies[j];if("string"==typeof trigger){trigger=parseArg(trigger);trigger.wildcard=!0}constructor._addTemplatePropertyEffect(templateInfo,trigger.rootProperty,{fn:runBindingEffect,info:info,trigger:trigger})}}}}function runBindingEffect(inst,path,props,oldProps,info,hasPaths,nodeList){var node=nodeList[info.index],binding=info.binding,part=info.part;if(hasPaths&&part.source&&path.length>part.source.length&&"property"==binding.kind&&!binding.isCompound&&node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[binding.target]){var value=props[path];path=Polymer.Path.translate(part.source,binding.target,path);if(node._setPendingPropertyOrPath(path,value,!1,!0)){inst._enqueueClient(node)}}else{var _value=info.evaluator._evaluateBinding(inst,part,path,props,oldProps,hasPaths);applyBindingValue(inst,node,binding,part,_value)}}function applyBindingValue(inst,node,binding,part,value){value=computeBindingValue(node,value,binding,part);if(Polymer.sanitizeDOMValue){value=Polymer.sanitizeDOMValue(value,binding.target,binding.kind,node)}if("attribute"==binding.kind){inst._valueToNodeAttribute(node,value,binding.target)}else{var prop=binding.target;if(node.__isPropertyEffectsClient&&node.__dataHasAccessor&&node.__dataHasAccessor[prop]){if(!node[TYPES.READ_ONLY]||!node[TYPES.READ_ONLY][prop]){if(node._setPendingProperty(prop,value)){inst._enqueueClient(node)}}}else{inst._setUnmanagedPropertyToNode(node,prop,value)}}}function computeBindingValue(node,value,binding,part){if(binding.isCompound){var storage=node.__dataCompoundStorage[binding.target];storage[part.compoundIndex]=value;value=storage.join("")}if("attribute"!==binding.kind){if("textContent"===binding.target||"value"===binding.target&&("input"===node.localName||"textarea"===node.localName)){value=value==void 0?"":value}}return value}function shouldAddListener(binding){return!!binding.target&&"attribute"!=binding.kind&&"text"!=binding.kind&&!binding.isCompound&&"{"===binding.parts[0].mode}function setupBindings(inst,templateInfo){var nodeList=templateInfo.nodeList,nodeInfoList=templateInfo.nodeInfoList;if(nodeInfoList.length){for(var i=0;i<nodeInfoList.length;i++){var info=nodeInfoList[i],node=nodeList[i],bindings=info.bindings;if(bindings){for(var _i=0,binding;_i<bindings.length;_i++){binding=bindings[_i];setupCompoundStorage(node,binding);addNotifyListener(node,inst,binding)}}node.__dataHost=inst}}}function setupCompoundStorage(node,binding){if(binding.isCompound){for(var storage=node.__dataCompoundStorage||(node.__dataCompoundStorage={}),parts=binding.parts,literals=Array(parts.length),j=0;j<parts.length;j++){literals[j]=parts[j].literal}var target=binding.target;storage[target]=literals;if(binding.literal&&"property"==binding.kind){node[target]=binding.literal}}}function addNotifyListener(node,inst,binding){if(binding.listenerEvent){var part=binding.parts[0];node.addEventListener(binding.listenerEvent,function(e){handleNotification(e,inst,binding.target,part.source,part.negate)})}}function createMethodEffect(model,sig,type,effectFn,methodInfo,dynamicFn){dynamicFn=sig.static||dynamicFn&&("object"!==babelHelpers.typeof(dynamicFn)||dynamicFn[sig.methodName]);for(var info={methodName:sig.methodName,args:sig.args,methodInfo:methodInfo,dynamicFn:dynamicFn},i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++){if(!arg.literal){model._addPropertyEffect(arg.rootProperty,type,{fn:effectFn,info:info,trigger:arg})}}if(dynamicFn){model._addPropertyEffect(sig.methodName,type,{fn:effectFn,info:info})}}function runMethodEffect(inst,property,props,oldProps,info){var context=inst._methodHost||inst,fn=context[info.methodName];if(fn){var args=marshalArgs(inst.__data,info.args,property,props);return fn.apply(context,args)}else if(!info.dynamicFn){console.warn("method `"+info.methodName+"` not defined")}}var emptyArray=[],IDENT="(?:"+"[a-zA-Z_$][\\w.:$\\-*]*"+")",ARGUMENT="(?:("+IDENT+"|"+("(?:"+"[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?"+")")+"|"+("(?:"+("(?:"+"'(?:[^'\\\\]|\\\\.)*'"+")")+"|"+("(?:"+"\"(?:[^\"\\\\]|\\\\.)*\""+")")+")")+")\\s*"+")",bindingRegex=new RegExp("(\\[\\[|{{)"+"\\s*"+"(?:(!)\\s*)?"+("("+IDENT+"\\s*"+("(?:"+"\\(\\s*"+"(?:"+("(?:"+ARGUMENT+"(?:,\\s*"+ARGUMENT+")*"+")")+"?"+")"+"\\)\\s*"+")")+"?"+")")+"(?:]]|}})","g");function literalFromParts(parts){for(var s="",i=0,literal;i<parts.length;i++){literal=parts[i].literal;s+=literal||""}return s}function parseMethod(expression){var m=expression.match(/([^\s]+?)\(([\s\S]*)\)/);if(m){var methodName=m[1],sig={methodName:methodName,static:!0,args:emptyArray};if(m[2].trim()){var args=m[2].replace(/\\,/g,"&comma;").split(",");return parseArgs(args,sig)}else{return sig}}return null}function parseArgs(argList,sig){sig.args=argList.map(function(rawArg){var arg=parseArg(rawArg);if(!arg.literal){sig.static=!1}return arg},this);return sig}function parseArg(rawArg){var arg=rawArg.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),a={name:arg,value:"",literal:!1},fc=arg[0];if("-"===fc){fc=arg[1]}if("0"<=fc&&"9">=fc){fc="#"}switch(fc){case"'":case"\"":a.value=arg.slice(1,-1);a.literal=!0;break;case"#":a.value=+arg;a.literal=!0;break;}if(!a.literal){a.rootProperty=Polymer.Path.root(arg);a.structured=Polymer.Path.isPath(arg);if(a.structured){a.wildcard=".*"==arg.slice(-2);if(a.wildcard){a.name=arg.slice(0,-2)}}}return a}function marshalArgs(data,args,path,props){for(var values=[],i=0,l=args.length;i<l;i++){var arg=args[i],name=arg.name,v=void 0;if(arg.literal){v=arg.value}else{if(arg.structured){v=Polymer.Path.get(data,name);if(v===void 0){v=props[name]}}else{v=data[name]}}if(arg.wildcard){var baseChanged=0===name.indexOf(path+"."),matches=0===path.indexOf(name)&&!baseChanged;values[i]={path:matches?path:name,value:matches?props[path]:v,base:v}}else{values[i]=v}}return values}function _notifySplices(inst,array,path,splices){var splicesPath=path+".splices";inst.notifyPath(splicesPath,{indexSplices:splices});inst.notifyPath(path+".length",array.length);inst.__data[splicesPath]={indexSplices:null}}function notifySplice(inst,array,path,index,addedCount,removed){_notifySplices(inst,array,path,[{index:index,addedCount:addedCount,removed:removed,object:array,type:"splice"}])}function upper(name){return name[0].toUpperCase()+name.substring(1)}Polymer.PropertyEffects=Polymer.dedupingMixin(function(superClass){var propertyEffectsBase=Polymer.TemplateStamp(Polymer.PropertyAccessors(superClass)),PropertyEffects=function(_propertyEffectsBase){babelHelpers.inherits(PropertyEffects,_propertyEffectsBase);function PropertyEffects(){var _this;babelHelpers.classCallCheck(this,PropertyEffects);_this=babelHelpers.possibleConstructorReturn(this,(PropertyEffects.__proto__||Object.getPrototypeOf(PropertyEffects)).call(this));_this.__isPropertyEffectsClient=!0;_this.__dataCounter=0;_this.__dataClientsReady;_this.__dataPendingClients;_this.__dataToNotify;_this.__dataLinkedPaths;_this.__dataHasPaths;_this.__dataCompoundStorage;_this.__dataHost;_this.__dataTemp;_this.__dataClientsInitialized;_this.__data;_this.__dataPending;_this.__dataOld;_this.__computeEffects;_this.__reflectEffects;_this.__notifyEffects;_this.__propagateEffects;_this.__observeEffects;_this.__readOnly;_this.__templateInfo;return _this}babelHelpers.createClass(PropertyEffects,[{key:"_initializeProperties",value:function _initializeProperties(){babelHelpers.get(PropertyEffects.prototype.__proto__||Object.getPrototypeOf(PropertyEffects.prototype),"_initializeProperties",this).call(this);hostStack.registerHost(this);this.__dataClientsReady=!1;this.__dataPendingClients=null;this.__dataToNotify=null;this.__dataLinkedPaths=null;this.__dataHasPaths=!1;this.__dataCompoundStorage=this.__dataCompoundStorage||null;this.__dataHost=this.__dataHost||null;this.__dataTemp={};this.__dataClientsInitialized=!1}},{key:"_initializeProtoProperties",value:function _initializeProtoProperties(props){this.__data=Object.create(props);this.__dataPending=Object.create(props);this.__dataOld={}}},{key:"_initializeInstanceProperties",value:function _initializeInstanceProperties(props){var readOnly=this[TYPES.READ_ONLY];for(var prop in props){if(!readOnly||!readOnly[prop]){this.__dataPending=this.__dataPending||{};this.__dataOld=this.__dataOld||{};this.__data[prop]=this.__dataPending[prop]=props[prop]}}}},{key:"_addPropertyEffect",value:function _addPropertyEffect(property,type,effect){this._createPropertyAccessor(property,type==TYPES.READ_ONLY);var effects=ensureOwnEffectMap(this,type)[property];if(!effects){effects=this[type][property]=[]}effects.push(effect)}},{key:"_removePropertyEffect",value:function _removePropertyEffect(property,type,effect){var effects=ensureOwnEffectMap(this,type)[property],idx=effects.indexOf(effect);if(0<=idx){effects.splice(idx,1)}}},{key:"_hasPropertyEffect",value:function _hasPropertyEffect(property,type){var effects=this[type];return!!(effects&&effects[property])}},{key:"_hasReadOnlyEffect",value:function _hasReadOnlyEffect(property){return this._hasPropertyEffect(property,TYPES.READ_ONLY)}},{key:"_hasNotifyEffect",value:function _hasNotifyEffect(property){return this._hasPropertyEffect(property,TYPES.NOTIFY)}},{key:"_hasReflectEffect",value:function _hasReflectEffect(property){return this._hasPropertyEffect(property,TYPES.REFLECT)}},{key:"_hasComputedEffect",value:function _hasComputedEffect(property){return this._hasPropertyEffect(property,TYPES.COMPUTE)}},{key:"_setPendingPropertyOrPath",value:function _setPendingPropertyOrPath(path,value,shouldNotify,isPathNotification){if(isPathNotification||Polymer.Path.root(Array.isArray(path)?path[0]:path)!==path){if(!isPathNotification){var old=Polymer.Path.get(this,path);path=Polymer.Path.set(this,path,value);if(!path||!babelHelpers.get(PropertyEffects.prototype.__proto__||Object.getPrototypeOf(PropertyEffects.prototype),"_shouldPropertyChange",this).call(this,path,value,old)){return!1}}this.__dataHasPaths=!0;if(this._setPendingProperty(path,value,shouldNotify)){computeLinkedPaths(this,path,value);return!0}}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[path]){return this._setPendingProperty(path,value,shouldNotify)}else{this[path]=value}}return!1}},{key:"_setUnmanagedPropertyToNode",value:function _setUnmanagedPropertyToNode(node,prop,value){if(value!==node[prop]||"object"==babelHelpers.typeof(value)){node[prop]=value}}},{key:"_setPendingProperty",value:function _setPendingProperty(property,value,shouldNotify){var isPath=this.__dataHasPaths&&Polymer.Path.isPath(property),prevProps=isPath?this.__dataTemp:this.__data;if(this._shouldPropertyChange(property,value,prevProps[property])){if(!this.__dataPending){this.__dataPending={};this.__dataOld={}}if(!(property in this.__dataOld)){this.__dataOld[property]=this.__data[property]}if(isPath){this.__dataTemp[property]=value}else{this.__data[property]=value}this.__dataPending[property]=value;if(isPath||this[TYPES.NOTIFY]&&this[TYPES.NOTIFY][property]){this.__dataToNotify=this.__dataToNotify||{};this.__dataToNotify[property]=shouldNotify}return!0}return!1}},{key:"_setProperty",value:function _setProperty(property,value){if(this._setPendingProperty(property,value,!0)){this._invalidateProperties()}}},{key:"_invalidateProperties",value:function _invalidateProperties(){if(this.__dataReady){this._flushProperties()}}},{key:"_enqueueClient",value:function _enqueueClient(client){this.__dataPendingClients=this.__dataPendingClients||[];if(client!==this){this.__dataPendingClients.push(client)}}},{key:"_flushProperties",value:function _flushProperties(){this.__dataCounter++;babelHelpers.get(PropertyEffects.prototype.__proto__||Object.getPrototypeOf(PropertyEffects.prototype),"_flushProperties",this).call(this);this.__dataCounter--}},{key:"_flushClients",value:function _flushClients(){if(!this.__dataClientsReady){this.__dataClientsReady=!0;this._readyClients();this.__dataReady=!0}else{this.__enableOrFlushClients()}}},{key:"__enableOrFlushClients",value:function __enableOrFlushClients(){var clients=this.__dataPendingClients;if(clients){this.__dataPendingClients=null;for(var i=0,client;i<clients.length;i++){client=clients[i];if(!client.__dataEnabled){client._enableProperties()}else if(client.__dataPending){client._flushProperties()}}}}},{key:"_readyClients",value:function _readyClients(){this.__enableOrFlushClients()}},{key:"setProperties",value:function setProperties(props,setReadOnly){for(var path in props){if(setReadOnly||!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){this._setPendingPropertyOrPath(path,props[path],!0)}}this._invalidateProperties()}},{key:"ready",value:function ready(){this._flushProperties();if(!this.__dataClientsReady){this._flushClients()}if(this.__dataPending){this._flushProperties()}}},{key:"_propertiesChanged",value:function _propertiesChanged(currentProps,changedProps,oldProps){var hasPaths=this.__dataHasPaths;this.__dataHasPaths=!1;runComputedEffects(this,changedProps,oldProps,hasPaths);var notifyProps=this.__dataToNotify;this.__dataToNotify=null;this._propagatePropertyChanges(changedProps,oldProps,hasPaths);this._flushClients();runEffects(this,this[TYPES.REFLECT],changedProps,oldProps,hasPaths);runEffects(this,this[TYPES.OBSERVE],changedProps,oldProps,hasPaths);if(notifyProps){runNotifyEffects(this,notifyProps,changedProps,oldProps,hasPaths)}if(1==this.__dataCounter){this.__dataTemp={}}}},{key:"_propagatePropertyChanges",value:function _propagatePropertyChanges(changedProps,oldProps,hasPaths){if(this[TYPES.PROPAGATE]){runEffects(this,this[TYPES.PROPAGATE],changedProps,oldProps,hasPaths)}var templateInfo=this.__templateInfo;while(templateInfo){runEffects(this,templateInfo.propertyEffects,changedProps,oldProps,hasPaths,templateInfo.nodeList);templateInfo=templateInfo.nextTemplateInfo}}},{key:"linkPaths",value:function linkPaths(to,from){to=Polymer.Path.normalize(to);from=Polymer.Path.normalize(from);this.__dataLinkedPaths=this.__dataLinkedPaths||{};this.__dataLinkedPaths[to]=from}},{key:"unlinkPaths",value:function unlinkPaths(path){path=Polymer.Path.normalize(path);if(this.__dataLinkedPaths){delete this.__dataLinkedPaths[path]}}},{key:"notifySplices",value:function notifySplices(path,splices){var info={path:""},array=Polymer.Path.get(this,path,info);_notifySplices(this,array,info.path,splices)}},{key:"get",value:function get(path,root){return Polymer.Path.get(root||this,path)}},{key:"set",value:function set(path,value,root){if(root){Polymer.Path.set(root,path,value)}else{if(!this[TYPES.READ_ONLY]||!this[TYPES.READ_ONLY][path]){if(this._setPendingPropertyOrPath(path,value,!0)){this._invalidateProperties()}}}}},{key:"push",value:function push(path){for(var info={path:""},array=Polymer.Path.get(this,path,info),len=array.length,_len=arguments.length,items=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++){items[_key-1]=arguments[_key]}var ret=array.push.apply(array,items);if(items.length){notifySplice(this,array,info.path,len,items.length,[])}return ret}},{key:"pop",value:function pop(path){var info={path:""},array=Polymer.Path.get(this,path,info),hadLength=!!array.length,ret=array.pop();if(hadLength){notifySplice(this,array,info.path,array.length,0,[ret])}return ret}},{key:"splice",value:function splice(path,start,deleteCount){for(var _Mathfloor=Math.floor,_len2=arguments.length,items=Array(3<_len2?_len2-3:0),_key2=3;_key2<_len2;_key2++){items[_key2-3]=arguments[_key2]}var info={path:""},array=Polymer.Path.get(this,path,info);if(0>start){start=array.length-_Mathfloor(-start)}else if(start){start=_Mathfloor(start)}var ret;if(2===arguments.length){ret=array.splice(start)}else{ret=array.splice.apply(array,[start,deleteCount].concat(items))}if(items.length||ret.length){notifySplice(this,array,info.path,start,items.length,ret)}return ret}},{key:"shift",value:function shift(path){var info={path:""},array=Polymer.Path.get(this,path,info),hadLength=!!array.length,ret=array.shift();if(hadLength){notifySplice(this,array,info.path,0,0,[ret])}return ret}},{key:"unshift",value:function unshift(path){for(var info={path:""},array=Polymer.Path.get(this,path,info),_len3=arguments.length,items=Array(1<_len3?_len3-1:0),_key3=1;_key3<_len3;_key3++){items[_key3-1]=arguments[_key3]}var ret=array.unshift.apply(array,items);if(items.length){notifySplice(this,array,info.path,0,items.length,[])}return ret}},{key:"notifyPath",value:function(path,value){var propPath;if(1==arguments.length){var info={path:""};value=Polymer.Path.get(this,path,info);propPath=info.path}else if(Array.isArray(path)){propPath=Polymer.Path.normalize(path)}else{propPath=path}if(this._setPendingPropertyOrPath(propPath,value,!0,!0)){this._invalidateProperties()}}},{key:"_createReadOnlyProperty",value:function _createReadOnlyProperty(property,protectedSetter){this._addPropertyEffect(property,TYPES.READ_ONLY);if(protectedSetter){this["_set"+upper(property)]=function(value){this._setProperty(property,value)}}}},{key:"_createPropertyObserver",value:function _createPropertyObserver(property,method,dynamicFn){var info={property:property,method:method,dynamicFn:!!dynamicFn};this._addPropertyEffect(property,TYPES.OBSERVE,{fn:runObserverEffect,info:info,trigger:{name:property}});if(dynamicFn){this._addPropertyEffect(method,TYPES.OBSERVE,{fn:runObserverEffect,info:info,trigger:{name:method}})}}},{key:"_createMethodObserver",value:function _createMethodObserver(expression,dynamicFn){var sig=parseMethod(expression);if(!sig){throw new Error("Malformed observer expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.OBSERVE,runMethodEffect,null,dynamicFn)}},{key:"_createNotifyingProperty",value:function _createNotifyingProperty(property){this._addPropertyEffect(property,TYPES.NOTIFY,{fn:runNotifyEffect,info:{eventName:CaseMap.camelToDashCase(property)+"-changed",property:property}})}},{key:"_createReflectedProperty",value:function _createReflectedProperty(property){var attr=this.constructor.attributeNameForProperty(property);if("-"===attr[0]){console.warn("Property "+property+" cannot be reflected to attribute "+attr+" because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property instead.")}else{this._addPropertyEffect(property,TYPES.REFLECT,{fn:runReflectEffect,info:{attrName:attr}})}}},{key:"_createComputedProperty",value:function _createComputedProperty(property,expression,dynamicFn){var sig=parseMethod(expression);if(!sig){throw new Error("Malformed computed expression '"+expression+"'")}createMethodEffect(this,sig,TYPES.COMPUTE,runComputedEffect,property,dynamicFn)}},{key:"_bindTemplate",value:function _bindTemplate(template,instanceBinding){var templateInfo=this.constructor._parseTemplate(template),wasPreBound=this.__templateInfo==templateInfo;if(!wasPreBound){for(var prop in templateInfo.propertyEffects){this._createPropertyAccessor(prop)}}if(instanceBinding){templateInfo=Object.create(templateInfo);templateInfo.wasPreBound=wasPreBound;if(!wasPreBound&&this.__templateInfo){var last=this.__templateInfoLast||this.__templateInfo;this.__templateInfoLast=last.nextTemplateInfo=templateInfo;templateInfo.previousTemplateInfo=last;return templateInfo}}return this.__templateInfo=templateInfo}},{key:"_stampTemplate",value:function _stampTemplate(template){hostStack.beginHosting(this);var dom=babelHelpers.get(PropertyEffects.prototype.__proto__||Object.getPrototypeOf(PropertyEffects.prototype),"_stampTemplate",this).call(this,template);hostStack.endHosting(this);var templateInfo=this._bindTemplate(template,!0);templateInfo.nodeList=dom.nodeList;if(!templateInfo.wasPreBound){for(var nodes=templateInfo.childNodes=[],n=dom.firstChild;n;n=n.nextSibling){nodes.push(n)}}dom.templateInfo=templateInfo;setupBindings(this,templateInfo);if(this.__dataReady){runEffects(this,templateInfo.propertyEffects,this.__data,null,!1,templateInfo.nodeList)}return dom}},{key:"_removeBoundDom",value:function _removeBoundDom(dom){var templateInfo=dom.templateInfo;if(templateInfo.previousTemplateInfo){templateInfo.previousTemplateInfo.nextTemplateInfo=templateInfo.nextTemplateInfo}if(templateInfo.nextTemplateInfo){templateInfo.nextTemplateInfo.previousTemplateInfo=templateInfo.previousTemplateInfo}if(this.__templateInfoLast==templateInfo){this.__templateInfoLast=templateInfo.previousTemplateInfo}templateInfo.previousTemplateInfo=templateInfo.nextTemplateInfo=null;for(var nodes=templateInfo.childNodes,i=0,node;i<nodes.length;i++){node=nodes[i];node.parentNode.removeChild(node)}}},{key:"PROPERTY_EFFECT_TYPES",get:function get(){return TYPES}}],[{key:"addPropertyEffect",value:function addPropertyEffect(property,type,effect){this.prototype._addPropertyEffect(property,type,effect)}},{key:"createPropertyObserver",value:function createPropertyObserver(property,method,dynamicFn){this.prototype._createPropertyObserver(property,method,dynamicFn)}},{key:"createMethodObserver",value:function createMethodObserver(expression,dynamicFn){this.prototype._createMethodObserver(expression,dynamicFn)}},{key:"createNotifyingProperty",value:function createNotifyingProperty(property){this.prototype._createNotifyingProperty(property)}},{key:"createReadOnlyProperty",value:function createReadOnlyProperty(property,protectedSetter){this.prototype._createReadOnlyProperty(property,protectedSetter)}},{key:"createReflectedProperty",value:function createReflectedProperty(property){this.prototype._createReflectedProperty(property)}},{key:"createComputedProperty",value:function createComputedProperty(property,expression,dynamicFn){this.prototype._createComputedProperty(property,expression,dynamicFn)}},{key:"bindTemplate",value:function bindTemplate(template){return this.prototype._bindTemplate(template)}},{key:"_addTemplatePropertyEffect",value:function _addTemplatePropertyEffect(templateInfo,prop,effect){var hostProps=templateInfo.hostProps=templateInfo.hostProps||{};hostProps[prop]=!0;var effects=templateInfo.propertyEffects=templateInfo.propertyEffects||{},propEffects=effects[prop]=effects[prop]||[];propEffects.push(effect)}},{key:"_parseTemplateNode",value:function _parseTemplateNode(node,templateInfo,nodeInfo){var noted=babelHelpers.get(PropertyEffects.__proto__||Object.getPrototypeOf(PropertyEffects),"_parseTemplateNode",this).call(this,node,templateInfo,nodeInfo);if(node.nodeType===Node.TEXT_NODE){var parts=this._parseBindings(node.textContent,templateInfo);if(parts){node.textContent=literalFromParts(parts)||" ";addBinding(this,templateInfo,nodeInfo,"text","textContent",parts);noted=!0}}return noted}},{key:"_parseTemplateNodeAttribute",value:function _parseTemplateNodeAttribute(node,templateInfo,nodeInfo,name,value){var parts=this._parseBindings(value,templateInfo);if(parts){var origName=name,kind="property";if(capitalAttributeRegex.test(name)){kind="attribute"}else if("$"==name[name.length-1]){name=name.slice(0,-1);kind="attribute"}var literal=literalFromParts(parts);if(literal&&"attribute"==kind){node.setAttribute(name,literal)}if("input"===node.localName&&"value"===origName){node.setAttribute(origName,"")}node.removeAttribute(origName);if("property"===kind){name=Polymer.CaseMap.dashToCamelCase(name)}addBinding(this,templateInfo,nodeInfo,kind,name,parts,literal);return!0}else{return babelHelpers.get(PropertyEffects.__proto__||Object.getPrototypeOf(PropertyEffects),"_parseTemplateNodeAttribute",this).call(this,node,templateInfo,nodeInfo,name,value)}}},{key:"_parseTemplateNestedTemplate",value:function _parseTemplateNestedTemplate(node,templateInfo,nodeInfo){var noted=babelHelpers.get(PropertyEffects.__proto__||Object.getPrototypeOf(PropertyEffects),"_parseTemplateNestedTemplate",this).call(this,node,templateInfo,nodeInfo),hostProps=nodeInfo.templateInfo.hostProps;for(var source in hostProps){addBinding(this,templateInfo,nodeInfo,"property","_host_"+source,[{mode:"{",source:source,dependencies:[source]}])}return noted}},{key:"_parseBindings",value:function _parseBindings(text,templateInfo){var parts=[],lastIndex=0,m;while(null!==(m=bindingRegex.exec(text))){if(m.index>lastIndex){parts.push({literal:text.slice(lastIndex,m.index)})}var mode=m[1][0],negate=!!m[2],source=m[3].trim(),customEvent=!1,notifyEvent="",colon=-1;if("{"==mode&&0<(colon=source.indexOf("::"))){notifyEvent=source.substring(colon+2);source=source.substring(0,colon);customEvent=!0}var signature=parseMethod(source),dependencies=[];if(signature){for(var args=signature.args,methodName=signature.methodName,i=0,arg;i<args.length;i++){arg=args[i];if(!arg.literal){dependencies.push(arg)}}var dynamicFns=templateInfo.dynamicFns;if(dynamicFns&&dynamicFns[methodName]||signature.static){dependencies.push(methodName);signature.dynamicFn=!0}}else{dependencies.push(source)}parts.push({source:source,mode:mode,negate:negate,customEvent:customEvent,signature:signature,dependencies:dependencies,event:notifyEvent});lastIndex=bindingRegex.lastIndex}if(lastIndex&&lastIndex<text.length){var literal=text.substring(lastIndex);if(literal){parts.push({literal:literal})}}if(parts.length){return parts}else{return null}}},{key:"_evaluateBinding",value:function _evaluateBinding(inst,part,path,props,oldProps,hasPaths){var value;if(part.signature){value=runMethodEffect(inst,path,props,oldProps,part.signature)}else if(path!=part.source){value=Polymer.Path.get(inst,part.source)}else{if(hasPaths&&Polymer.Path.isPath(path)){value=Polymer.Path.get(inst,path)}else{value=inst.__data[path]}}if(part.negate){value=!value}return value}}]);return PropertyEffects}(propertyEffectsBase);return PropertyEffects});var hostStack={stack:[],registerHost:function registerHost(inst){if(this.stack.length){var host=this.stack[this.stack.length-1];host._enqueueClient(inst)}},beginHosting:function beginHosting(inst){this.stack.push(inst)},endHosting:function endHosting(inst){var stackLen=this.stack.length;if(stackLen&&this.stack[stackLen-1]==inst){this.stack.pop()}}}})();</script><script>(function(){"use strict";function normalizeProperties(props){var output={};for(var p in props){var o=props[p];output[p]="function"===typeof o?{type:o}:o}return output}Polymer.PropertiesMixin=Polymer.dedupingMixin(function(superClass){var base=Polymer.PropertiesChanged(superClass);function superPropertiesClass(constructor){var superCtor=Object.getPrototypeOf(constructor);return babelHelpers.instanceof(superCtor.prototype,PropertiesMixin)?superCtor:null}function ownProperties(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",constructor))){var props=null;if(constructor.hasOwnProperty(JSCompiler_renameProperty("properties",constructor))&&constructor.properties){props=normalizeProperties(constructor.properties)}constructor.__ownProperties=props}return constructor.__ownProperties}var PropertiesMixin=function(_base){babelHelpers.inherits(PropertiesMixin,_base);function PropertiesMixin(){babelHelpers.classCallCheck(this,PropertiesMixin);return babelHelpers.possibleConstructorReturn(this,(PropertiesMixin.__proto__||Object.getPrototypeOf(PropertiesMixin)).apply(this,arguments))}babelHelpers.createClass(PropertiesMixin,[{key:"_initializeProperties",value:function _initializeProperties(){this.constructor.finalize();babelHelpers.get(PropertiesMixin.prototype.__proto__||Object.getPrototypeOf(PropertiesMixin.prototype),"_initializeProperties",this).call(this)}},{key:"connectedCallback",value:function connectedCallback(){if(babelHelpers.get(PropertiesMixin.prototype.__proto__||Object.getPrototypeOf(PropertiesMixin.prototype),"connectedCallback",this)){babelHelpers.get(PropertiesMixin.prototype.__proto__||Object.getPrototypeOf(PropertiesMixin.prototype),"connectedCallback",this).call(this)}this._enableProperties()}},{key:"disconnectedCallback",value:function disconnectedCallback(){if(babelHelpers.get(PropertiesMixin.prototype.__proto__||Object.getPrototypeOf(PropertiesMixin.prototype),"disconnectedCallback",this)){babelHelpers.get(PropertiesMixin.prototype.__proto__||Object.getPrototypeOf(PropertiesMixin.prototype),"disconnectedCallback",this).call(this)}}}],[{key:"finalize",value:function finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){var superCtor=superPropertiesClass(this);if(superCtor){superCtor.finalize()}this.__finalized=!0;this._finalizeClass()}}},{key:"_finalizeClass",value:function _finalizeClass(){var props=ownProperties(this);if(props){this.createProperties(props)}}},{key:"typeForProperty",value:function typeForProperty(name){var info=this._properties[name];return info&&info.type}},{key:"observedAttributes",get:function get(){var _this=this,props=this._properties;return props?Object.keys(props).map(function(p){return _this.attributeNameForProperty(p)}):[]}},{key:"_properties",get:function get(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){var superCtor=superPropertiesClass(this);this.__properties=Object.assign({},superCtor&&superCtor._properties,ownProperties(this))}return this.__properties}}]);return PropertiesMixin}(base);return PropertiesMixin})})();</script><script>(function(){"use strict";Polymer.ElementMixin=Polymer.dedupingMixin(function(base){var polymerElementBase=Polymer.PropertiesMixin(Polymer.PropertyEffects(base));function propertyDefaults(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",constructor))){constructor.__propertyDefaults=null;var props=constructor._properties;for(var p in props){var info=props[p];if("value"in info){constructor.__propertyDefaults=constructor.__propertyDefaults||{};constructor.__propertyDefaults[p]=info}}}return constructor.__propertyDefaults}function ownObservers(constructor){if(!constructor.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",constructor))){constructor.__ownObservers=constructor.hasOwnProperty(JSCompiler_renameProperty("observers",constructor))?constructor.observers:null}return constructor.__ownObservers}function createPropertyFromConfig(proto,name,info,allProps){if(info.computed){info.readOnly=!0}if(info.computed&&!proto._hasReadOnlyEffect(name)){proto._createComputedProperty(name,info.computed,allProps)}if(info.readOnly&&!proto._hasReadOnlyEffect(name)){proto._createReadOnlyProperty(name,!info.computed)}if(info.reflectToAttribute&&!proto._hasReflectEffect(name)){proto._createReflectedProperty(name)}if(info.notify&&!proto._hasNotifyEffect(name)){proto._createNotifyingProperty(name)}if(info.observer){proto._createPropertyObserver(name,info.observer,allProps[info.observer])}proto._addPropertyToAttributeMap(name)}function processElementStyles(klass,template,is,baseURI){for(var templateStyles=template.content.querySelectorAll("style"),stylesWithImports=Polymer.StyleGather.stylesFromTemplate(template),linkedStyles=Polymer.StyleGather.stylesFromModuleImports(is),firstTemplateChild=template.content.firstElementChild,idx=0,s;idx<linkedStyles.length;idx++){s=linkedStyles[idx];s.textContent=klass._processStyleText(s.textContent,baseURI);template.content.insertBefore(s,firstTemplateChild)}for(var templateStyleIndex=0,i=0;i<stylesWithImports.length;i++){var _s=stylesWithImports[i],templateStyle=templateStyles[templateStyleIndex];if(templateStyle!==_s){_s=_s.cloneNode(!0);templateStyle.parentNode.insertBefore(_s,templateStyle)}else{templateStyleIndex++}_s.textContent=klass._processStyleText(_s.textContent,baseURI)}if(window.ShadyCSS){window.ShadyCSS.prepareTemplate(template,is)}}var PolymerElement=function(_polymerElementBase){babelHelpers.inherits(PolymerElement,_polymerElementBase);babelHelpers.createClass(PolymerElement,null,[{key:"_finalizeClass",value:function _finalizeClass(){babelHelpers.get(PolymerElement.__proto__||Object.getPrototypeOf(PolymerElement),"_finalizeClass",this).call(this);if(this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&this.is){Polymer.telemetry.register(this.prototype)}var observers=ownObservers(this);if(observers){this.createObservers(observers,this._properties)}var template=this.template;if(template){if("string"===typeof template){var t=document.createElement("template");t.innerHTML=template;template=t}else{template=template.cloneNode(!0)}}this.prototype._template=template}},{key:"createProperties",value:function createProperties(props){for(var p in props){createPropertyFromConfig(this.prototype,p,props[p],props)}}},{key:"createObservers",value:function createObservers(observers,dynamicFns){for(var proto=this.prototype,i=0;i<observers.length;i++){proto._createMethodObserver(observers[i],dynamicFns)}}},{key:"template",get:function get(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){this._template=Polymer.DomModule&&Polymer.DomModule.import(this.is,"template")||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}},{key:"importPath",get:function get(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){var meta=this.importMeta;if(meta){this._importPath=Polymer.ResolveUrl.pathFromUrl(meta.url)}else{var module=Polymer.DomModule&&Polymer.DomModule.import(this.is);this._importPath=module&&module.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}}]);function PolymerElement(){var _this;babelHelpers.classCallCheck(this,PolymerElement);_this=babelHelpers.possibleConstructorReturn(this,(PolymerElement.__proto__||Object.getPrototypeOf(PolymerElement)).call(this));_this._template;_this._importPath;_this.rootPath;_this.importPath;_this.root;_this.$;return _this}babelHelpers.createClass(PolymerElement,[{key:"_initializeProperties",value:function _initializeProperties(){Polymer.telemetry.instanceCount++;this.constructor.finalize();this.constructor._finalizeTemplate(this.localName);babelHelpers.get(PolymerElement.prototype.__proto__||Object.getPrototypeOf(PolymerElement.prototype),"_initializeProperties",this).call(this);this.rootPath=Polymer.rootPath;this.importPath=this.constructor.importPath;var p$=propertyDefaults(this.constructor);if(!p$){return}for(var p in p$){var info=p$[p];if(!this.hasOwnProperty(p)){var value="function"==typeof info.value?info.value.call(this):info.value;if(this._hasAccessor(p)){this._setPendingProperty(p,value,!0)}else{this[p]=value}}}}},{key:"connectedCallback",value:function connectedCallback(){if(window.ShadyCSS&&this._template){window.ShadyCSS.styleElement(this)}babelHelpers.get(PolymerElement.prototype.__proto__||Object.getPrototypeOf(PolymerElement.prototype),"connectedCallback",this).call(this)}},{key:"ready",value:function ready(){if(this._template){this.root=this._stampTemplate(this._template);this.$=this.root.$}babelHelpers.get(PolymerElement.prototype.__proto__||Object.getPrototypeOf(PolymerElement.prototype),"ready",this).call(this)}},{key:"_readyClients",value:function _readyClients(){if(this._template){this.root=this._attachDom(this.root)}babelHelpers.get(PolymerElement.prototype.__proto__||Object.getPrototypeOf(PolymerElement.prototype),"_readyClients",this).call(this)}},{key:"_attachDom",value:function _attachDom(dom){if(this.attachShadow){if(dom){if(!this.shadowRoot){this.attachShadow({mode:"open"})}this.shadowRoot.appendChild(dom);return this.shadowRoot}return null}else{throw new Error("ShadowDOM not available. "+"Polymer.Element can create dom as children instead of in "+"ShadowDOM by setting `this.root = this;` before `ready`.")}}},{key:"updateStyles",value:function updateStyles(properties){if(window.ShadyCSS){window.ShadyCSS.styleSubtree(this,properties)}}},{key:"resolveUrl",value:function resolveUrl(url,base){if(!base&&this.importPath){base=Polymer.ResolveUrl.resolveUrl(this.importPath)}return Polymer.ResolveUrl.resolveUrl(url,base)}}],[{key:"_processStyleText",value:function _processStyleText(cssText,baseURI){return Polymer.ResolveUrl.resolveCss(cssText,baseURI)}},{key:"_finalizeTemplate",value:function _finalizeTemplate(is){var template=this.prototype._template;if(template&&!template.__polymerFinalized){template.__polymerFinalized=!0;var importPath=this.importPath,baseURI=importPath?Polymer.ResolveUrl.resolveUrl(importPath):"";processElementStyles(this,template,is,baseURI);this.prototype._bindTemplate(template)}}},{key:"_parseTemplateContent",value:function _parseTemplateContent(template,templateInfo,nodeInfo){templateInfo.dynamicFns=templateInfo.dynamicFns||this._properties;return babelHelpers.get(PolymerElement.__proto__||Object.getPrototypeOf(PolymerElement),"_parseTemplateContent",this).call(this,template,templateInfo,nodeInfo)}}]);return PolymerElement}(polymerElementBase);return PolymerElement});Polymer.telemetry={instanceCount:0,registrations:[],_regLog:function _regLog(prototype){console.log("["+prototype.is+"]: registered")},register:function register(prototype){this.registrations.push(prototype);Polymer.log&&this._regLog(prototype)},dumpRegistrations:function dumpRegistrations(){this.registrations.forEach(this._regLog)}};Polymer.updateStyles=function(props){if(window.ShadyCSS){window.ShadyCSS.styleDocument(props)}}})();</script><script>(function(){"use strict";var LiteralString=function(){function LiteralString(string){babelHelpers.classCallCheck(this,LiteralString);this.value=string.toString()}babelHelpers.createClass(LiteralString,[{key:"toString",value:function toString(){return this.value}}]);return LiteralString}();function literalValue(value){if(babelHelpers.instanceof(value,LiteralString)){return value.value}else{throw new Error("non-literal value passed to Polymer.htmlLiteral: ".concat(value))}}function htmlValue(value){if(babelHelpers.instanceof(value,HTMLTemplateElement)){return value.innerHTML}else if(babelHelpers.instanceof(value,LiteralString)){return literalValue(value)}else{throw new Error("non-template value passed to Polymer.html: ".concat(value))}}Polymer.html=function(strings){for(var template=document.createElement("template"),_len=arguments.length,values=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++){values[_key-1]=arguments[_key]}template.innerHTML=values.reduce(function(acc,v,idx){return acc+htmlValue(v)+strings[idx+1]},strings[0]);return template};Polymer.htmlLiteral=function(strings){for(var _len2=arguments.length,values=Array(1<_len2?_len2-1:0),_key2=1;_key2<_len2;_key2++){values[_key2-1]=arguments[_key2]}return new LiteralString(values.reduce(function(acc,v,idx){return acc+literalValue(v)+strings[idx+1]},strings[0]))}})();</script><script>(function(){"use strict";Polymer.Element=Polymer.ElementMixin(HTMLElement);Polymer.html=Polymer.html})();</script><script>(function(){"use strict";var k=!(window.ShadyDOM&&window.ShadyDOM.inUse),n;function r(a){n=a&&a.shimcssproperties?!1:k||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?n=window.ShadyCSS.nativeCss:window.ShadyCSS?(r(window.ShadyCSS),window.ShadyCSS=void 0):r(window.WebComponents&&window.WebComponents.flags);var t=n;function u(){this.end=this.start=0;this.rules=this.parent=this.previous=null;this.cssText=this.parsedCssText="";this.atRule=!1;this.type=0;this.parsedSelector=this.selector=this.keyframesName=""}function v(a){a=a.replace(aa,"").replace(ba,"");var c=a,e=new u;e.start=0;e.end=c.length;for(var d=e,f=0,g=c.length;f<g;f++){if("{"===c[f]){d.rules||(d.rules=[]);var h=d,l=h.rules[h.rules.length-1]||null;d=new u;d.start=f+1;d.parent=h;d.previous=l;h.rules.push(d)}else"}"===c[f]&&(d.end=f+1,d=d.parent||e)}return w(e,a)}function w(a,b){var c=b.substring(a.start,a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=ca(c),c=c.replace(x," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf("@"),a.atRule?0===c.indexOf("@media")?a.type=y:c.match(da)&&(a.type=z,a.keyframesName=a.selector.split(x).pop()):a.type=0===c.indexOf("--")?A:B);if(c=a.rules)for(var e=0,d=c.length,f;e<d&&(f=c[e]);e++){w(f,b)}return a}function ca(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,c){a=c;for(c=6-a.length;c--;){a="0"+a}return"\\"+a})}function C(a,b,c){c=void 0===c?"":c;var e="";if(a.cssText||a.rules){var d=a.rules,f;if(f=d)f=d[0],f=!(f&&f.selector&&0===f.selector.indexOf("--"));if(f){f=0;for(var g=d.length,h;f<g&&(h=d[f]);f++){e=C(h,b,e)}}else b?b=a.cssText:(b=a.cssText,b=b.replace(ea,"").replace(fa,""),b=b.replace(ha,"").replace(ia,"")),(e=b.trim())&&(e="  "+e+"\n")}e&&(a.selector&&(c+=a.selector+" {\n"),c+=e,a.selector&&(c+="}\n\n"));return c}var B=1,z=7,y=4,A=1E3,aa=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,ba=/@import[^;]*;/gim,ea=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,fa=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,ha=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,ia=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,da=/^@[^\s]*keyframes/,x=/\s+/g,D=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,F=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,ja=/@media\s(.*)/,G=new Set;function H(a){if(!a)return"";"string"===typeof a&&(a=v(a));return C(a,t)}function I(a){!a.__cssRules&&a.textContent&&(a.__cssRules=v(a.textContent));return a.__cssRules||null}function J(a,b,c,e){if(a){var d=!1,f=a.type;if(e&&f===y){var g=a.selector.match(ja);g&&(window.matchMedia(g[1]).matches||(d=!0))}f===B?b(a):c&&f===z?c(a):f===A&&(d=!0);if((a=a.rules)&&!d){d=0;f=a.length;for(var h;d<f&&(h=a[d]);d++){J(h,b,c,e)}}}}function K(a,b){var c=a.indexOf("var(");if(-1===c)return b(a,"","","");a:{for(var e=0,d=c+3,f=a.length;d<f;d++){if("("===a[d])e++;else if(")"===a[d]&&0===--e)break a}d=-1}e=a.substring(c+4,d);c=a.substring(0,c);a=K(a.substring(d+1),b);d=e.indexOf(",");return-1===d?b(c,e.trim(),"",a):b(c,e.substring(0,d).trim(),e.substring(d+1).trim(),a)}function L(a){if(void 0===a.a){var b=a.getAttribute("css-build");if(b)a.a=b;else{a:{b="template"===a.localName?a.content.firstChild:a.firstChild;if(babelHelpers.instanceof(b,Comment)&&(b=b.textContent.trim().split(":"),"css-build"===b[0])){b=b[1];break a}b=""}if(""!==b){var c="template"===a.localName?a.content.firstChild:a.firstChild;c.parentNode.removeChild(c)}a.a=b}}return a.a||""}var ka=/;\s*/m,la=/^\s*(initial)|(inherit)\s*$/,M=/\s*!important/;function N(){this.a={}}N.prototype.set=function(a,b){a=a.trim();this.a[a]={h:b,i:{}}};N.prototype.get=function(a){a=a.trim();return this.a[a]||null};var O=null;function P(){this.b=this.c=null;this.a=new N}P.prototype.o=function(a){a=F.test(a)||D.test(a);F.lastIndex=0;D.lastIndex=0;return a};P.prototype.m=function(a,b){if(void 0===a.b){for(var c=[],e=a.content.querySelectorAll("style"),d=0,f;d<e.length;d++){f=e[d];if(f.hasAttribute("shady-unscoped")){if(!k){var g=f.textContent;G.has(g)||(G.add(g),g=f.cloneNode(!0),document.head.appendChild(g));f.parentNode.removeChild(f)}}else c.push(f.textContent),f.parentNode.removeChild(f)}(c=c.join("").trim())?(e=document.createElement("style"),e.textContent=c,a.content.insertBefore(e,a.content.firstChild),c=e):c=null;a.b=c}return(a=a.b)?this.j(a,b):null};P.prototype.j=function(a,b){b=void 0===b?"":b;var c=I(a);this.l(c,b);a.textContent=H(c);return c};P.prototype.f=function(a){var b=this,c=I(a);J(c,function(a){":root"===a.selector&&(a.selector="html");b.g(a)});a.textContent=H(c);return c};P.prototype.l=function(a,b){var c=this;this.c=b;J(a,function(a){c.g(a)});this.c=null};P.prototype.g=function(a){a.cssText=ma(this,a.parsedCssText,a);":root"===a.selector&&(a.selector=":host > *")};function ma(a,b,c){b=b.replace(D,function(b,d,f,g){return na(a,b,d,f,g,c)});return Q(a,b,c)}function oa(a,b){for(var c=b;c.parent;){c=c.parent}var e={},d=!1;J(c,function(c){(d=d||c===b)||c.selector===b.selector&&Object.assign(e,R(a,c.parsedCssText))});return e}function Q(a,b,c){for(var e;e=F.exec(b);){var d=e[0],f=e[1];e=e.index;var g=b.slice(0,e+d.indexOf("@apply"));b=b.slice(e+d.length);var h=c?oa(a,c):{};Object.assign(h,R(a,g));d=void 0;var l=a;f=f.replace(ka,"");var p=[],m=l.a.get(f);m||(l.a.set(f,{}),m=l.a.get(f));if(m){l.c&&(m.i[l.c]=!0);var q=m.h;for(d in q){l=h&&h[d],m=[d,": var(",f,"_-_",d],l&&m.push(",",l.replace(M,"")),m.push(")"),M.test(q[d])&&m.push(" !important"),p.push(m.join(""))}}d=p.join("; ");b=g+d+b;F.lastIndex=e+d.length}return b}function R(a,b){b=b.split(";");for(var c,e,d={},f=0,g;f<b.length;f++){if(c=b[f])if(g=c.split(":"),1<g.length){c=g[0].trim();var h=a;e=c;g=g.slice(1).join(":");var l=la.exec(g);l&&(l[1]?(h.b||(h.b=document.createElement("meta"),h.b.setAttribute("apply-shim-measure",""),h.b.style.all="initial",document.head.appendChild(h.b)),e=window.getComputedStyle(h.b).getPropertyValue(e)):e="apply-shim-inherit",g=e);e=g;d[c]=e}}return d}function pa(a,b){if(O)for(var c in b.i){c!==a.c&&O(c)}}function na(a,b,c,e,d,f){e&&K(e,function(b,c){c&&a.a.get(c)&&(d="@apply "+c+";")});if(!d)return b;var g=Q(a,""+d,f);f=b.slice(0,b.indexOf("--"));var h=g=R(a,g),l=a.a.get(c),p=l&&l.h;p?h=Object.assign(Object.create(p),g):a.a.set(c,h);var m=[],q,X=!1;for(q in h){var E=g[q];void 0===E&&(E="initial");!p||q in p||(X=!0);m.push(c+"_-_"+q+": "+E)}X&&pa(a,l);l&&(l.h=h);e&&(f=b+";"+f);return f+m.join("; ")+";"}P.prototype.detectMixin=P.prototype.o;P.prototype.transformStyle=P.prototype.j;P.prototype.transformCustomStyle=P.prototype.f;P.prototype.transformRules=P.prototype.l;P.prototype.transformRule=P.prototype.g;P.prototype.transformTemplate=P.prototype.m;P.prototype._separator="_-_";Object.defineProperty(P.prototype,"invalidCallback",{get:function get(){return O},set:function set(a){O=a}});var S={},qa=Promise.resolve();function ra(a){if(a=S[a])a._applyShimCurrentVersion=a._applyShimCurrentVersion||0,a._applyShimValidatingVersion=a._applyShimValidatingVersion||0,a._applyShimNextVersion=(a._applyShimNextVersion||0)+1}function T(a){return a._applyShimCurrentVersion===a._applyShimNextVersion}function sa(a){a._applyShimValidatingVersion=a._applyShimNextVersion;a.c||(a.c=!0,qa.then(function(){a._applyShimCurrentVersion=a._applyShimNextVersion;a.c=!1}))}var U=new P;function V(){this.a=null;U.invalidCallback=ra}function W(a){a.a||(a.a=window.ShadyCSS.CustomStyleInterface,a.a&&(a.a.transformCallback=function(a){U.f(a)},a.a.validateCallback=function(){requestAnimationFrame(function(){a.a.enqueued&&a.flushCustomStyles()})}))}V.prototype.prepareTemplate=function(a,b){W(this);""===L(a)&&(S[b]=a,b=U.m(a,b),a._styleAst=b)};V.prototype.flushCustomStyles=function(){W(this);if(this.a){var a=this.a.processStyles();if(this.a.enqueued){for(var b=0,c;b<a.length;b++){c=this.a.getStyleForCustomStyle(a[b]);c&&U.f(c)}this.a.enqueued=!1}}};V.prototype.styleSubtree=function(a,b){W(this);if(b)for(var c in b){null===c?a.style.removeProperty(c):a.style.setProperty(c,b[c])}if(a.shadowRoot)for(this.styleElement(a),a=a.shadowRoot.children||a.shadowRoot.childNodes,b=0;b<a.length;b++){this.styleSubtree(a[b])}else for(a=a.children||a.childNodes,b=0;b<a.length;b++){this.styleSubtree(a[b])}};V.prototype.styleElement=function(a){W(this);var b=a.localName,c;b?-1<b.indexOf("-")?c=b:c=a.getAttribute&&a.getAttribute("is")||"":c=a.is;b=S[c];if(!(b&&""!==L(b)||!b||T(b))){if(T(b)||b._applyShimValidatingVersion!==b._applyShimNextVersion)this.prepareTemplate(b,c),sa(b);if(a=a.shadowRoot)if(a=a.querySelector("style"))a.__cssRules=b._styleAst,a.textContent=H(b._styleAst)}};V.prototype.styleDocument=function(a){W(this);this.styleSubtree(document.body,a)};if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){var Y=new V,Z=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate:function prepareTemplate(a,b){Y.flushCustomStyles();Y.prepareTemplate(a,b)},prepareTemplateStyles:function prepareTemplateStyles(a,b,c){this.prepareTemplate(a,b,c)},prepareTemplateDom:function prepareTemplateDom(){},styleSubtree:function styleSubtree(a,b){Y.flushCustomStyles();Y.styleSubtree(a,b)},styleElement:function styleElement(a){Y.flushCustomStyles();Y.styleElement(a)},styleDocument:function styleDocument(a){Y.flushCustomStyles();Y.styleDocument(a)},getComputedStyleValue:function getComputedStyleValue(a,b){return(a=window.getComputedStyle(a).getPropertyValue(b))?a.trim():""},flushCustomStyles:function flushCustomStyles(){Y.flushCustomStyles()},nativeCss:t,nativeShadow:k};Z&&(window.ShadyCSS.CustomStyleInterface=Z)}window.ShadyCSS.ApplyShim=U}).call(this);</script><script>(function(){"use strict";var Debouncer=function(){function Debouncer(){babelHelpers.classCallCheck(this,Debouncer);this._asyncModule=null;this._callback=null;this._timer=null}babelHelpers.createClass(Debouncer,[{key:"setConfig",value:function setConfig(asyncModule,callback){var _this=this;this._asyncModule=asyncModule;this._callback=callback;this._timer=this._asyncModule.run(function(){_this._timer=null;_this._callback()})}},{key:"cancel",value:function cancel(){if(this.isActive()){this._asyncModule.cancel(this._timer);this._timer=null}}},{key:"flush",value:function flush(){if(this.isActive()){this.cancel();this._callback()}}},{key:"isActive",value:function isActive(){return null!=this._timer}}],[{key:"debounce",value:function debounce(debouncer,asyncModule,callback){if(babelHelpers.instanceof(debouncer,Debouncer)){debouncer.cancel()}else{debouncer=new Debouncer}debouncer.setConfig(asyncModule,callback);return debouncer}}]);return Debouncer}();Polymer.Debouncer=Debouncer})();</script><script>(function(){"use strict";var _Mathabs=Math.abs,HAS_NATIVE_TA="string"===typeof document.head.style.touchAction,GESTURE_KEY="__polymerGestures",HANDLED_OBJ="__polymerGesturesHandled",TOUCH_ACTION="__polymerGesturesTouchAction",TAP_DISTANCE=25,TRACK_DISTANCE=5,MOUSE_EVENTS=["mousedown","mousemove","mouseup","click"],MOUSE_WHICH_TO_BUTTONS=[0,1,4,2],MOUSE_HAS_BUTTONS=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function isMouseEvent(name){return-1<MOUSE_EVENTS.indexOf(name)}var SUPPORTS_PASSIVE=!1;(function(){try{var opts=Object.defineProperty({},"passive",{get:function get(){SUPPORTS_PASSIVE=!0}});window.addEventListener("test",null,opts);window.removeEventListener("test",null,opts)}catch(e){}})();function PASSIVE_TOUCH(eventName){if(isMouseEvent(eventName)||"touchend"===eventName){return}if(HAS_NATIVE_TA&&SUPPORTS_PASSIVE&&Polymer.passiveTouchGestures){return{passive:!0}}else{}}var IS_TOUCH_ONLY=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),GestureRecognizer=function(){};GestureRecognizer.prototype.reset;GestureRecognizer.prototype.mousedown;GestureRecognizer.prototype.mousemove;GestureRecognizer.prototype.mouseup;GestureRecognizer.prototype.touchstart;GestureRecognizer.prototype.touchmove;GestureRecognizer.prototype.touchend;GestureRecognizer.prototype.click;var clickedLabels=[],labellable={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},canBeDisabled={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function canBeLabelled(el){return labellable[el.localName]||!1}function matchingLabels(el){var labels=Array.from(el.labels||[]);if(!labels.length){labels=[];var root=el.getRootNode();if(el.id){for(var matching=root.querySelectorAll("label[for = ".concat(el.id,"]")),i=0;i<matching.length;i++){labels.push(matching[i])}}}return labels}var mouseCanceller=function(mouseEvent){var sc=mouseEvent.sourceCapabilities;if(sc&&!sc.firesTouchEvents){return}mouseEvent[HANDLED_OBJ]={skip:!0};if("click"===mouseEvent.type){var clickFromLabel=!1,path=mouseEvent.composedPath&&mouseEvent.composedPath();if(path){for(var i=0;i<path.length;i++){if(path[i].nodeType===Node.ELEMENT_NODE){if("label"===path[i].localName){clickedLabels.push(path[i])}else if(canBeLabelled(path[i])){for(var ownerLabels=matchingLabels(path[i]),j=0;j<ownerLabels.length;j++){clickFromLabel=clickFromLabel||-1<clickedLabels.indexOf(ownerLabels[j])}}}if(path[i]===POINTERSTATE.mouse.target){return}}}if(clickFromLabel){return}mouseEvent.preventDefault();mouseEvent.stopPropagation()}};function setupTeardownMouseCanceller(setup){for(var events=IS_TOUCH_ONLY?["click"]:MOUSE_EVENTS,i=0,en;i<events.length;i++){en=events[i];if(setup){clickedLabels.length=0;document.addEventListener(en,mouseCanceller,!0)}else{document.removeEventListener(en,mouseCanceller,!0)}}}function hasLeftMouseButton(ev){var type=ev.type;if(!isMouseEvent(type)){return!1}if("mousemove"===type){var buttons=ev.buttons===void 0?1:ev.buttons;if(babelHelpers.instanceof(ev,window.MouseEvent)&&!MOUSE_HAS_BUTTONS){buttons=MOUSE_WHICH_TO_BUTTONS[ev.which]||0}return!!(1&buttons)}else{var button=ev.button===void 0?0:ev.button;return 0===button}}function isSyntheticClick(ev){if("click"===ev.type){if(0===ev.detail){return!0}var t=Gestures._findOriginalTarget(ev);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE){return!0}var bcr=t.getBoundingClientRect(),x=ev.pageX,y=ev.pageY;return!(x>=bcr.left&&x<=bcr.right&&y>=bcr.top&&y<=bcr.bottom)}return!1}var POINTERSTATE={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function firstTouchAction(ev){var ta="auto",path=ev.composedPath&&ev.composedPath();if(path){for(var i=0,n;i<path.length;i++){n=path[i];if(n[TOUCH_ACTION]){ta=n[TOUCH_ACTION];break}}}return ta}function trackDocument(stateObj,movefn,upfn){stateObj.movefn=movefn;stateObj.upfn=upfn;document.addEventListener("mousemove",movefn);document.addEventListener("mouseup",upfn)}function untrackDocument(stateObj){document.removeEventListener("mousemove",stateObj.movefn);document.removeEventListener("mouseup",stateObj.upfn);stateObj.movefn=null;stateObj.upfn=null}document.addEventListener("touchend",function(e){if(!POINTERSTATE.mouse.mouseIgnoreJob){setupTeardownMouseCanceller(!0)}POINTERSTATE.mouse.target=e.composedPath()[0];POINTERSTATE.mouse.mouseIgnoreJob=Polymer.Debouncer.debounce(POINTERSTATE.mouse.mouseIgnoreJob,Polymer.Async.timeOut.after(2500),function unset(){setupTeardownMouseCanceller();POINTERSTATE.mouse.target=null;POINTERSTATE.mouse.mouseIgnoreJob=null})},SUPPORTS_PASSIVE?{passive:!0}:!1);var Gestures={gestures:{},recognizers:[],deepTargetFind:function deepTargetFind(x,y){var node=document.elementFromPoint(x,y),next=node;while(next&&next.shadowRoot&&!window.ShadyDOM){var oldNext=next;next=next.shadowRoot.elementFromPoint(x,y);if(oldNext===next){break}if(next){node=next}}return node},_findOriginalTarget:function _findOriginalTarget(ev){if(ev.composedPath){var targets=ev.composedPath();return 0<targets.length?targets[0]:ev.target}return ev.target},_handleNative:function _handleNative(ev){var handled,type=ev.type,node=ev.currentTarget,gobj=node[GESTURE_KEY];if(!gobj){return}var gs=gobj[type];if(!gs){return}if(!ev[HANDLED_OBJ]){ev[HANDLED_OBJ]={};if("touch"===type.slice(0,5)){ev=ev;var t=ev.changedTouches[0];if("touchstart"===type){if(1===ev.touches.length){POINTERSTATE.touch.id=t.identifier}}if(POINTERSTATE.touch.id!==t.identifier){return}if(!HAS_NATIVE_TA){if("touchstart"===type||"touchmove"===type){Gestures._handleTouchAction(ev)}}}}handled=ev[HANDLED_OBJ];if(handled.skip){return}for(var i=0,r;i<Gestures.recognizers.length;i++){r=Gestures.recognizers[i];if(gs[r.name]&&!handled[r.name]){if(r.flow&&-1<r.flow.start.indexOf(ev.type)&&r.reset){r.reset()}}}for(var _i=0,_r;_i<Gestures.recognizers.length;_i++){_r=Gestures.recognizers[_i];if(gs[_r.name]&&!handled[_r.name]){handled[_r.name]=!0;_r[type](ev)}}},_handleTouchAction:function _handleTouchAction(ev){var t=ev.changedTouches[0],type=ev.type;if("touchstart"===type){POINTERSTATE.touch.x=t.clientX;POINTERSTATE.touch.y=t.clientY;POINTERSTATE.touch.scrollDecided=!1}else if("touchmove"===type){if(POINTERSTATE.touch.scrollDecided){return}POINTERSTATE.touch.scrollDecided=!0;var ta=firstTouchAction(ev),prevent=!1,dx=_Mathabs(POINTERSTATE.touch.x-t.clientX),dy=_Mathabs(POINTERSTATE.touch.y-t.clientY);if(!ev.cancelable){}else if("none"===ta){prevent=!0}else if("pan-x"===ta){prevent=dy>dx}else if("pan-y"===ta){prevent=dx>dy}if(prevent){ev.preventDefault()}else{Gestures.prevent("track")}}},addListener:function addListener(node,evType,handler){if(this.gestures[evType]){this._add(node,evType,handler);return!0}return!1},removeListener:function removeListener(node,evType,handler){if(this.gestures[evType]){this._remove(node,evType,handler);return!0}return!1},_add:function _add(node,evType,handler){var recognizer=this.gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(!gobj){node[GESTURE_KEY]=gobj={}}for(var i=0,dep,gd;i<deps.length;i++){dep=deps[i];if(IS_TOUCH_ONLY&&isMouseEvent(dep)&&"click"!==dep){continue}gd=gobj[dep];if(!gd){gobj[dep]=gd={_count:0}}if(0===gd._count){node.addEventListener(dep,this._handleNative,PASSIVE_TOUCH(dep))}gd[name]=(gd[name]||0)+1;gd._count=(gd._count||0)+1}node.addEventListener(evType,handler);if(recognizer.touchAction){this.setTouchAction(node,recognizer.touchAction)}},_remove:function _remove(node,evType,handler){var recognizer=this.gestures[evType],deps=recognizer.deps,name=recognizer.name,gobj=node[GESTURE_KEY];if(gobj){for(var i=0,dep,gd;i<deps.length;i++){dep=deps[i];gd=gobj[dep];if(gd&&gd[name]){gd[name]=(gd[name]||1)-1;gd._count=(gd._count||1)-1;if(0===gd._count){node.removeEventListener(dep,this._handleNative,PASSIVE_TOUCH(dep))}}}}node.removeEventListener(evType,handler)},register:function register(recog){this.recognizers.push(recog);for(var i=0;i<recog.emits.length;i++){this.gestures[recog.emits[i]]=recog}},_findRecognizerByEvent:function _findRecognizerByEvent(evName){for(var i=0,r;i<this.recognizers.length;i++){r=this.recognizers[i];for(var j=0,n;j<r.emits.length;j++){n=r.emits[j];if(n===evName){return r}}}return null},setTouchAction:function setTouchAction(node,value){if(HAS_NATIVE_TA){Polymer.Async.microTask.run(function(){node.style.touchAction=value})}node[TOUCH_ACTION]=value},_fire:function _fire(target,type,detail){var ev=new Event(type,{bubbles:!0,cancelable:!0,composed:!0});ev.detail=detail;target.dispatchEvent(ev);if(ev.defaultPrevented){var preventer=detail.preventer||detail.sourceEvent;if(preventer&&preventer.preventDefault){preventer.preventDefault()}}},prevent:function prevent(evName){var recognizer=this._findRecognizerByEvent(evName);if(recognizer.info){recognizer.info.prevent=!0}},resetMouseCanceller:function resetMouseCanceller(){if(POINTERSTATE.mouse.mouseIgnoreJob){POINTERSTATE.mouse.mouseIgnoreJob.flush()}}};Gestures.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function reset(){untrackDocument(this.info)},mousedown:function mousedown(e){if(!hasLeftMouseButton(e)){return}var t=Gestures._findOriginalTarget(e),self=this;trackDocument(this.info,function(e){if(!hasLeftMouseButton(e)){self._fire("up",t,e);untrackDocument(self.info)}},function(e){if(hasLeftMouseButton(e)){self._fire("up",t,e)}untrackDocument(self.info)});this._fire("down",t,e)},touchstart:function touchstart(e){this._fire("down",Gestures._findOriginalTarget(e),e.changedTouches[0],e)},touchend:function touchend(e){this._fire("up",Gestures._findOriginalTarget(e),e.changedTouches[0],e)},_fire:function _fire(type,target,event,preventer){Gestures._fire(target,type,{x:event.clientX,y:event.clientY,sourceEvent:event,preventer:preventer,prevent:function prevent(e){return Gestures.prevent(e)}})}});Gestures.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function addMove(move){if(this.moves.length>2){this.moves.shift()}this.moves.push(move)},movefn:null,upfn:null,prevent:!1},reset:function reset(){this.info.state="start";this.info.started=!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;untrackDocument(this.info)},hasMovedEnough:function hasMovedEnough(x,y){if(this.info.prevent){return!1}if(this.info.started){return!0}var dx=_Mathabs(this.info.x-x),dy=_Mathabs(this.info.y-y);return dx>=TRACK_DISTANCE||dy>=TRACK_DISTANCE},mousedown:function mousedown(e){if(!hasLeftMouseButton(e)){return}var t=Gestures._findOriginalTarget(e),self=this,movefn=function(e){var x=e.clientX,y=e.clientY;if(self.hasMovedEnough(x,y)){self.info.state=self.info.started?"mouseup"===e.type?"end":"track":"start";if("start"===self.info.state){Gestures.prevent("tap")}self.info.addMove({x:x,y:y});if(!hasLeftMouseButton(e)){self.info.state="end";untrackDocument(self.info)}self._fire(t,e);self.info.started=!0}};trackDocument(this.info,movefn,function(e){if(self.info.started){movefn(e)}untrackDocument(self.info)});this.info.x=e.clientX;this.info.y=e.clientY},touchstart:function touchstart(e){var ct=e.changedTouches[0];this.info.x=ct.clientX;this.info.y=ct.clientY},touchmove:function touchmove(e){var t=Gestures._findOriginalTarget(e),ct=e.changedTouches[0],x=ct.clientX,y=ct.clientY;if(this.hasMovedEnough(x,y)){if("start"===this.info.state){Gestures.prevent("tap")}this.info.addMove({x:x,y:y});this._fire(t,ct);this.info.state="track";this.info.started=!0}},touchend:function touchend(e){var t=Gestures._findOriginalTarget(e),ct=e.changedTouches[0];if(this.info.started){this.info.state="end";this.info.addMove({x:ct.clientX,y:ct.clientY});this._fire(t,ct,e)}},_fire:function _fire(target,touch){var secondlast=this.info.moves[this.info.moves.length-2],lastmove=this.info.moves[this.info.moves.length-1],dx=lastmove.x-this.info.x,dy=lastmove.y-this.info.y,ddx,ddy=0;if(secondlast){ddx=lastmove.x-secondlast.x;ddy=lastmove.y-secondlast.y}Gestures._fire(target,"track",{state:this.info.state,x:touch.clientX,y:touch.clientY,dx:dx,dy:dy,ddx:ddx,ddy:ddy,sourceEvent:touch,hover:function hover(){return Gestures.deepTargetFind(touch.clientX,touch.clientY)}})}});Gestures.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function reset(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},save:function save(e){this.info.x=e.clientX;this.info.y=e.clientY},mousedown:function mousedown(e){if(hasLeftMouseButton(e)){this.save(e)}},click:function click(e){if(hasLeftMouseButton(e)){this.forward(e)}},touchstart:function touchstart(e){this.save(e.changedTouches[0],e)},touchend:function touchend(e){this.forward(e.changedTouches[0],e)},forward:function forward(e,preventer){var dx=_Mathabs(e.clientX-this.info.x),dy=_Mathabs(e.clientY-this.info.y),t=Gestures._findOriginalTarget(preventer||e);if(!t||canBeDisabled[t.localName]&&t.hasAttribute("disabled")){return}if(isNaN(dx)||isNaN(dy)||dx<=TAP_DISTANCE&&dy<=TAP_DISTANCE||isSyntheticClick(e)){if(!this.info.prevent){Gestures._fire(t,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:preventer})}}}});Gestures.findOriginalTarget=Gestures._findOriginalTarget;Gestures.add=Gestures.addListener;Gestures.remove=Gestures.removeListener;Polymer.Gestures=Gestures})();</script><script>(function(){"use strict";var gestures=Polymer.Gestures;Polymer.GestureEventListeners=Polymer.dedupingMixin(function(superClass){var GestureEventListeners=function(_superClass){babelHelpers.inherits(GestureEventListeners,_superClass);function GestureEventListeners(){babelHelpers.classCallCheck(this,GestureEventListeners);return babelHelpers.possibleConstructorReturn(this,(GestureEventListeners.__proto__||Object.getPrototypeOf(GestureEventListeners)).apply(this,arguments))}babelHelpers.createClass(GestureEventListeners,[{key:"_addEventListenerToNode",value:function _addEventListenerToNode(node,eventName,handler){if(!gestures.addListener(node,eventName,handler)){babelHelpers.get(GestureEventListeners.prototype.__proto__||Object.getPrototypeOf(GestureEventListeners.prototype),"_addEventListenerToNode",this).call(this,node,eventName,handler)}}},{key:"_removeEventListenerFromNode",value:function _removeEventListenerFromNode(node,eventName,handler){if(!gestures.removeListener(node,eventName,handler)){babelHelpers.get(GestureEventListeners.prototype.__proto__||Object.getPrototypeOf(GestureEventListeners.prototype),"_removeEventListenerFromNode",this).call(this,node,eventName,handler)}}}]);return GestureEventListeners}(superClass);return GestureEventListeners})})();</script><script>(function(){"use strict";var HOST_DIR=/:host\(:dir\((ltr|rtl)\)\)/g,EL_DIR=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,DIR_INSTANCES=[],observer=null,DOCUMENT_DIR="";function getRTL(){DOCUMENT_DIR=document.documentElement.getAttribute("dir")}function setRTL(instance){if(!instance.__autoDirOptOut){instance.setAttribute("dir",DOCUMENT_DIR)}}function updateDirection(){getRTL();DOCUMENT_DIR=document.documentElement.getAttribute("dir");for(var i=0;i<DIR_INSTANCES.length;i++){setRTL(DIR_INSTANCES[i])}}function takeRecords(){if(observer&&observer.takeRecords().length){updateDirection()}}Polymer.DirMixin=Polymer.dedupingMixin(function(base){if(!observer){getRTL();observer=new MutationObserver(updateDirection);observer.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]})}var elementBase=Polymer.PropertyAccessors(base),Dir=function(_elementBase){babelHelpers.inherits(Dir,_elementBase);babelHelpers.createClass(Dir,null,[{key:"_processStyleText",value:function _processStyleText(cssText,baseURI){cssText=babelHelpers.get(Dir.__proto__||Object.getPrototypeOf(Dir),"_processStyleText",this).call(this,cssText,baseURI);cssText=this._replaceDirInCssText(cssText);return cssText}},{key:"_replaceDirInCssText",value:function _replaceDirInCssText(text){var replacedText=text;replacedText=replacedText.replace(HOST_DIR,":host([dir=\"$1\"])");replacedText=replacedText.replace(EL_DIR,":host([dir=\"$2\"]) $1");if(text!==replacedText){this.__activateDir=!0}return replacedText}}]);function Dir(){var _this;babelHelpers.classCallCheck(this,Dir);_this=babelHelpers.possibleConstructorReturn(this,(Dir.__proto__||Object.getPrototypeOf(Dir)).call(this));_this.__autoDirOptOut=!1;return _this}babelHelpers.createClass(Dir,[{key:"ready",value:function ready(){babelHelpers.get(Dir.prototype.__proto__||Object.getPrototypeOf(Dir.prototype),"ready",this).call(this);this.__autoDirOptOut=this.hasAttribute("dir")}},{key:"connectedCallback",value:function connectedCallback(){if(elementBase.prototype.connectedCallback){babelHelpers.get(Dir.prototype.__proto__||Object.getPrototypeOf(Dir.prototype),"connectedCallback",this).call(this)}if(this.constructor.__activateDir){takeRecords();DIR_INSTANCES.push(this);setRTL(this)}}},{key:"disconnectedCallback",value:function disconnectedCallback(){if(elementBase.prototype.disconnectedCallback){babelHelpers.get(Dir.prototype.__proto__||Object.getPrototypeOf(Dir.prototype),"disconnectedCallback",this).call(this)}if(this.constructor.__activateDir){var idx=DIR_INSTANCES.indexOf(this);if(-1<idx){DIR_INSTANCES.splice(idx,1)}}}}]);return Dir}(elementBase);Dir.__activateDir=!1;return Dir})})();</script><script>(function(){"use strict";function whenImportsReady(cb){if(window.HTMLImports){HTMLImports.whenReady(cb)}else{cb()}}Polymer.importHref=function(href,onload,onerror,optAsync){var link=document.head.querySelector("link[href=\""+href+"\"][import-href]");if(!link){link=document.createElement("link");link.rel="import";link.href=href;link.setAttribute("import-href","")}if(optAsync){link.setAttribute("async","")}var cleanup=function(){link.removeEventListener("load",loadListener);link.removeEventListener("error",errorListener)},loadListener=function(event){cleanup();link.__dynamicImportLoaded=!0;if(onload){whenImportsReady(function(){onload(event)})}},errorListener=function(event){cleanup();if(link.parentNode){link.parentNode.removeChild(link)}if(onerror){whenImportsReady(function(){onerror(event)})}};link.addEventListener("load",loadListener);link.addEventListener("error",errorListener);if(null==link.parentNode){document.head.appendChild(link)}else if(link.__dynamicImportLoaded){link.dispatchEvent(new Event("load"))}return link}})();</script><script>(function(){"use strict";var scheduled=!1,beforeRenderQueue=[],afterRenderQueue=[];function schedule(){scheduled=!0;requestAnimationFrame(function(){scheduled=!1;flushQueue(beforeRenderQueue);setTimeout(function(){runQueue(afterRenderQueue)})})}function flushQueue(queue){while(queue.length){callMethod(queue.shift())}}function runQueue(queue){for(var i=0,l=queue.length;i<l;i++){callMethod(queue.shift())}}function callMethod(info){var context=info[0],callback=info[1],args=info[2];try{callback.apply(context,args)}catch(e){setTimeout(function(){throw e})}}Polymer.RenderStatus={beforeNextRender:function beforeNextRender(context,callback,args){if(!scheduled){schedule()}beforeRenderQueue.push([context,callback,args])},afterNextRender:function afterNextRender(context,callback,args){if(!scheduled){schedule()}afterRenderQueue.push([context,callback,args])},flush:function(){while(beforeRenderQueue.length||afterRenderQueue.length){flushQueue(beforeRenderQueue);flushQueue(afterRenderQueue)}scheduled=!1}}})();</script><script>(function(){"use strict";function resolve(){document.body.removeAttribute("unresolved")}if(window.WebComponents){window.addEventListener("WebComponentsReady",resolve)}else{if("interactive"===document.readyState||"complete"===document.readyState){resolve()}else{window.addEventListener("DOMContentLoaded",resolve)}}})();</script><script>(function(){"use strict";function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}var EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3;function calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd){for(var rowCount=oldEnd-oldStart+1,columnCount=currentEnd-currentStart+1,distances=Array(rowCount),i=0;i<rowCount;i++){distances[i]=Array(columnCount);distances[i][0]=i}for(var j=0;j<columnCount;j++){distances[0][j]=j}for(var _i=1;_i<rowCount;_i++){for(var _j=1;_j<columnCount;_j++){if(equals(current[currentStart+_j-1],old[oldStart+_i-1]))distances[_i][_j]=distances[_i-1][_j-1];else{var north=distances[_i-1][_j]+1,west=distances[_i][_j-1]+1;distances[_i][_j]=north<west?north:west}}}return distances}function spliceOperationsFromEditDistances(distances){var i=distances.length-1,j=distances[0].length-1,current=distances[i][j],edits=[];while(0<i||0<j){if(0==i){edits.push(EDIT_ADD);j--;continue}if(0==j){edits.push(EDIT_DELETE);i--;continue}var northWest=distances[i-1][j-1],west=distances[i-1][j],north=distances[i][j-1],min=void 0;if(west<north)min=west<northWest?west:northWest;else min=north<northWest?north:northWest;if(min==northWest){if(northWest==current){edits.push(EDIT_LEAVE)}else{edits.push(EDIT_UPDATE);current=northWest}i--;j--}else if(min==west){edits.push(EDIT_DELETE);i--;current=west}else{edits.push(EDIT_ADD);j--;current=north}}edits.reverse();return edits}function calcSplices(current,currentStart,currentEnd,old,oldStart,oldEnd){var prefixCount=0,suffixCount=0,splice,minLength=Math.min(currentEnd-currentStart,oldEnd-oldStart);if(0==currentStart&&0==oldStart)prefixCount=sharedPrefix(current,old,minLength);if(currentEnd==current.length&&oldEnd==old.length)suffixCount=sharedSuffix(current,old,minLength-prefixCount);currentStart+=prefixCount;oldStart+=prefixCount;currentEnd-=suffixCount;oldEnd-=suffixCount;if(0==currentEnd-currentStart&&0==oldEnd-oldStart)return[];if(currentStart==currentEnd){splice=newSplice(currentStart,[],0);while(oldStart<oldEnd){splice.removed.push(old[oldStart++])}return[splice]}else if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];var ops=spliceOperationsFromEditDistances(calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd));splice=void 0;for(var splices=[],index=currentStart,oldIndex=oldStart,i=0;i<ops.length;i++){switch(ops[i]){case EDIT_LEAVE:if(splice){splices.push(splice);splice=void 0}index++;oldIndex++;break;case EDIT_UPDATE:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;splice.removed.push(old[oldIndex]);oldIndex++;break;case EDIT_ADD:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;break;case EDIT_DELETE:if(!splice)splice=newSplice(index,[],0);splice.removed.push(old[oldIndex]);oldIndex++;break;}}if(splice){splices.push(splice)}return splices}function sharedPrefix(current,old,searchLength){for(var i=0;i<searchLength;i++){if(!equals(current[i],old[i]))return i}return searchLength}function sharedSuffix(current,old,searchLength){var index1=current.length,index2=old.length,count=0;while(count<searchLength&&equals(current[--index1],old[--index2])){count++}return count}function equals(currentValue,previousValue){return currentValue===previousValue}Polymer.ArraySplice={calculateSplices:function(current,previous){return calcSplices(current,0,current.length,previous,0,previous.length)}}})();</script><script>(function(){"use strict";function isSlot(node){return"slot"===node.localName}var FlattenedNodesObserver=function(){babelHelpers.createClass(FlattenedNodesObserver,null,[{key:"getFlattenedNodes",value:function getFlattenedNodes(node){if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return Array.from(node.childNodes).map(function(node){if(isSlot(node)){node=node;return node.assignedNodes({flatten:!0})}else{return[node]}}).reduce(function(a,b){return a.concat(b)},[])}}}]);function FlattenedNodesObserver(target,callback){var _this=this;babelHelpers.classCallCheck(this,FlattenedNodesObserver);this._shadyChildrenObserver=null;this._nativeChildrenObserver=null;this._connected=!1;this._target=target;this.callback=callback;this._effectiveNodes=[];this._observer=null;this._scheduled=!1;this._boundSchedule=function(){_this._schedule()};this.connect();this._schedule()}babelHelpers.createClass(FlattenedNodesObserver,[{key:"connect",value:function connect(){var _this2=this;if(isSlot(this._target)){this._listenSlots([this._target])}else if(this._target.children){this._listenSlots(this._target.children);if(window.ShadyDOM){this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,function(mutations){_this2._processMutations(mutations)})}else{this._nativeChildrenObserver=new MutationObserver(function(mutations){_this2._processMutations(mutations)});this._nativeChildrenObserver.observe(this._target,{childList:!0})}}this._connected=!0}},{key:"disconnect",value:function disconnect(){if(isSlot(this._target)){this._unlistenSlots([this._target])}else if(this._target.children){this._unlistenSlots(this._target.children);if(window.ShadyDOM&&this._shadyChildrenObserver){ShadyDOM.unobserveChildren(this._shadyChildrenObserver);this._shadyChildrenObserver=null}else if(this._nativeChildrenObserver){this._nativeChildrenObserver.disconnect();this._nativeChildrenObserver=null}}this._connected=!1}},{key:"_schedule",value:function _schedule(){var _this3=this;if(!this._scheduled){this._scheduled=!0;Polymer.Async.microTask.run(function(){return _this3.flush()})}}},{key:"_processMutations",value:function _processMutations(mutations){this._processSlotMutations(mutations);this.flush()}},{key:"_processSlotMutations",value:function _processSlotMutations(mutations){if(mutations){for(var i=0,mutation;i<mutations.length;i++){mutation=mutations[i];if(mutation.addedNodes){this._listenSlots(mutation.addedNodes)}if(mutation.removedNodes){this._unlistenSlots(mutation.removedNodes)}}}}},{key:"flush",value:function flush(){if(!this._connected){return!1}if(window.ShadyDOM){ShadyDOM.flush()}if(this._nativeChildrenObserver){this._processSlotMutations(this._nativeChildrenObserver.takeRecords())}else if(this._shadyChildrenObserver){this._processSlotMutations(this._shadyChildrenObserver.takeRecords())}this._scheduled=!1;for(var info={target:this._target,addedNodes:[],removedNodes:[]},newNodes=this.constructor.getFlattenedNodes(this._target),splices=Polymer.ArraySplice.calculateSplices(newNodes,this._effectiveNodes),i=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0,n;j<s.removed.length&&(n=s.removed[j]);j++){info.removedNodes.push(n)}}for(var _i=0,_s;_i<splices.length&&(_s=splices[_i]);_i++){for(var _j=_s.index;_j<_s.index+_s.addedCount;_j++){info.addedNodes.push(newNodes[_j])}}this._effectiveNodes=newNodes;var didFlush=!1;if(info.addedNodes.length||info.removedNodes.length){didFlush=!0;this.callback.call(this._target,info)}return didFlush}},{key:"_listenSlots",value:function _listenSlots(nodeList){for(var i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.addEventListener("slotchange",this._boundSchedule)}}}},{key:"_unlistenSlots",value:function _unlistenSlots(nodeList){for(var i=0,n;i<nodeList.length;i++){n=nodeList[i];if(isSlot(n)){n.removeEventListener("slotchange",this._boundSchedule)}}}}]);return FlattenedNodesObserver}();Polymer.FlattenedNodesObserver=FlattenedNodesObserver})();</script><script>(function(){"use strict";var debouncerQueue=[];Polymer.enqueueDebouncer=function(debouncer){debouncerQueue.push(debouncer)};function flushDebouncers(){var didFlush=!!debouncerQueue.length;while(debouncerQueue.length){try{debouncerQueue.shift().flush()}catch(e){setTimeout(function(){throw e})}}return didFlush}Polymer.flush=function(){var shadyDOM,debouncers;do{shadyDOM=window.ShadyDOM&&ShadyDOM.flush();if(window.ShadyCSS&&window.ShadyCSS.ScopingShim){window.ShadyCSS.ScopingShim.flush()}debouncers=flushDebouncers()}while(shadyDOM||debouncers)}})();</script><script>(function(){"use strict";var p=Element.prototype,normalizedMatchesSelector=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector,matchesSelector=function(node,selector){return normalizedMatchesSelector.call(node,selector)},DomApi=function(){function DomApi(node){babelHelpers.classCallCheck(this,DomApi);this.node=node}babelHelpers.createClass(DomApi,[{key:"observeNodes",value:function observeNodes(callback){return new Polymer.FlattenedNodesObserver(this.node,callback)}},{key:"unobserveNodes",value:function unobserveNodes(observerHandle){observerHandle.disconnect()}},{key:"notifyObserver",value:function notifyObserver(){}},{key:"deepContains",value:function deepContains(node){if(this.node.contains(node)){return!0}var n=node,doc=node.ownerDocument;while(n&&n!==doc&&n!==this.node){n=n.parentNode||n.host}return n===this.node}},{key:"getOwnerRoot",value:function getOwnerRoot(){return this.node.getRootNode()}},{key:"getDistributedNodes",value:function getDistributedNodes(){return"slot"===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}},{key:"getDestinationInsertionPoints",value:function getDestinationInsertionPoints(){var ip$=[],n=this.node.assignedSlot;while(n){ip$.push(n);n=n.assignedSlot}return ip$}},{key:"importNode",value:function importNode(node,deep){var doc=babelHelpers.instanceof(this.node,Document)?this.node:this.node.ownerDocument;return doc.importNode(node,deep)}},{key:"getEffectiveChildNodes",value:function getEffectiveChildNodes(){return Polymer.FlattenedNodesObserver.getFlattenedNodes(this.node)}},{key:"queryDistributedElements",value:function queryDistributedElements(selector){for(var c$=this.getEffectiveChildNodes(),list=[],i=0,l=c$.length,c;i<l&&(c=c$[i]);i++){if(c.nodeType===Node.ELEMENT_NODE&&matchesSelector(c,selector)){list.push(c)}}return list}},{key:"activeElement",get:function get(){var node=this.node;return node._activeElement!==void 0?node._activeElement:node.activeElement}}]);return DomApi}();(function(proto,methods){for(var _loop=function(i){var method=methods[i];proto[method]=function(){return this.node[method].apply(this.node,arguments)}},i=0;i<methods.length;i++){_loop(i)}})(DomApi.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]);(function(proto,properties){for(var _loop2=function(i){var name=properties[i];Object.defineProperty(proto,name,{get:function get(){var domApi=this;return domApi.node[name]},configurable:!0})},i=0;i<properties.length;i++){_loop2(i)}})(DomApi.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]);(function(proto,properties){for(var _loop3=function(i){var name=properties[i];Object.defineProperty(proto,name,{get:function get(){var domApi=this;return domApi.node[name]},set:function set(value){this.node[name]=value},configurable:!0})},i=0;i<properties.length;i++){_loop3(i)}})(DomApi.prototype,["textContent","innerHTML"]);var EventApi=function(){function EventApi(event){babelHelpers.classCallCheck(this,EventApi);this.event=event}babelHelpers.createClass(EventApi,[{key:"rootTarget",get:function get(){return this.event.composedPath()[0]}},{key:"localTarget",get:function get(){return this.event.target}},{key:"path",get:function get(){return this.event.composedPath()}}]);return EventApi}();Polymer.DomApi=DomApi;Polymer.DomApi.prototype.cloneNode;Polymer.DomApi.prototype.appendChild;Polymer.DomApi.prototype.insertBefore;Polymer.DomApi.prototype.removeChild;Polymer.DomApi.prototype.replaceChild;Polymer.DomApi.prototype.setAttribute;Polymer.DomApi.prototype.removeAttribute;Polymer.DomApi.prototype.querySelector;Polymer.DomApi.prototype.querySelectorAll;Polymer.dom=function(obj){obj=obj||document;if(!obj.__domApi){var helper;if(babelHelpers.instanceof(obj,Event)){helper=new EventApi(obj)}else{helper=new DomApi(obj)}obj.__domApi=helper}return obj.__domApi};Polymer.dom.matchesSelector=matchesSelector;Polymer.dom.flush=Polymer.flush;Polymer.dom.addDebouncer=Polymer.enqueueDebouncer})();</script><script>(function(){"use strict";var styleInterface=window.ShadyCSS;Polymer.LegacyElementMixin=Polymer.dedupingMixin(function(base){var legacyElementBase=Polymer.DirMixin(Polymer.GestureEventListeners(Polymer.ElementMixin(base))),DIRECTION_MAP={x:"pan-x",y:"pan-y",none:"none",all:"auto"},LegacyElement=function(_legacyElementBase){babelHelpers.inherits(LegacyElement,_legacyElementBase);function LegacyElement(){var _this;babelHelpers.classCallCheck(this,LegacyElement);_this=babelHelpers.possibleConstructorReturn(this,(LegacyElement.__proto__||Object.getPrototypeOf(LegacyElement)).call(this));_this.isAttached;_this.__boundListeners;_this._debouncers;_this._applyListeners();return _this}babelHelpers.createClass(LegacyElement,[{key:"created",value:function created(){}},{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(LegacyElement.prototype.__proto__||Object.getPrototypeOf(LegacyElement.prototype),"connectedCallback",this).call(this);this.isAttached=!0;this.attached()}},{key:"attached",value:function attached(){}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(LegacyElement.prototype.__proto__||Object.getPrototypeOf(LegacyElement.prototype),"disconnectedCallback",this).call(this);this.isAttached=!1;this.detached()}},{key:"detached",value:function detached(){}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,old,value,namespace){if(old!==value){babelHelpers.get(LegacyElement.prototype.__proto__||Object.getPrototypeOf(LegacyElement.prototype),"attributeChangedCallback",this).call(this,name,old,value,namespace);this.attributeChanged(name,old,value)}}},{key:"attributeChanged",value:function attributeChanged(){}},{key:"_initializeProperties",value:function _initializeProperties(){var proto=Object.getPrototypeOf(this);if(!proto.hasOwnProperty("__hasRegisterFinished")){proto.__hasRegisterFinished=!0;this._registered()}babelHelpers.get(LegacyElement.prototype.__proto__||Object.getPrototypeOf(LegacyElement.prototype),"_initializeProperties",this).call(this);this.root=this;this.created()}},{key:"_registered",value:function _registered(){}},{key:"ready",value:function ready(){this._ensureAttributes();babelHelpers.get(LegacyElement.prototype.__proto__||Object.getPrototypeOf(LegacyElement.prototype),"ready",this).call(this)}},{key:"_ensureAttributes",value:function _ensureAttributes(){}},{key:"_applyListeners",value:function _applyListeners(){}},{key:"serialize",value:function serialize(value){return this._serializeValue(value)}},{key:"deserialize",value:function deserialize(value,type){return this._deserializeValue(value,type)}},{key:"reflectPropertyToAttribute",value:function reflectPropertyToAttribute(property,attribute,value){this._propertyToAttribute(property,attribute,value)}},{key:"serializeValueToAttribute",value:function serializeValueToAttribute(value,attribute,node){this._valueToNodeAttribute(node||this,value,attribute)}},{key:"extend",value:function extend(prototype,api){if(!(prototype&&api)){return prototype||api}for(var n$=Object.getOwnPropertyNames(api),i=0,n,pd;i<n$.length&&(n=n$[i]);i++){pd=Object.getOwnPropertyDescriptor(api,n);if(pd){Object.defineProperty(prototype,n,pd)}}return prototype}},{key:"mixin",value:function mixin(target,source){for(var i in source){target[i]=source[i]}return target}},{key:"chainObject",value:function chainObject(object,prototype){if(object&&prototype&&object!==prototype){object.__proto__=prototype}return object}},{key:"instanceTemplate",value:function instanceTemplate(template){var content=this.constructor._contentForTemplate(template),dom=document.importNode(content,!0);return dom}},{key:"fire",value:function fire(type,detail,options){options=options||{};detail=null===detail||detail===void 0?{}:detail;var event=new Event(type,{bubbles:options.bubbles===void 0?!0:options.bubbles,cancelable:!!options.cancelable,composed:options.composed===void 0?!0:options.composed});event.detail=detail;var node=options.node||this;node.dispatchEvent(event);return event}},{key:"listen",value:function listen(node,eventName,methodName){node=node||this;var hbl=this.__boundListeners||(this.__boundListeners=new WeakMap),bl=hbl.get(node);if(!bl){bl={};hbl.set(node,bl)}var key=eventName+methodName;if(!bl[key]){bl[key]=this._addMethodEventListenerToNode(node,eventName,methodName,this)}}},{key:"unlisten",value:function unlisten(node,eventName,methodName){node=node||this;var bl=this.__boundListeners&&this.__boundListeners.get(node),key=eventName+methodName,handler=bl&&bl[key];if(handler){this._removeEventListenerFromNode(node,eventName,handler);bl[key]=null}}},{key:"setScrollDirection",value:function setScrollDirection(direction,node){Polymer.Gestures.setTouchAction(node||this,DIRECTION_MAP[direction]||"auto")}},{key:"$$",value:function $$(slctr){return this.root.querySelector(slctr)}},{key:"distributeContent",value:function distributeContent(){if(window.ShadyDOM&&this.shadowRoot){ShadyDOM.flush()}}},{key:"getEffectiveChildNodes",value:function getEffectiveChildNodes(){var thisEl=this,domApi=Polymer.dom(thisEl);return domApi.getEffectiveChildNodes()}},{key:"queryDistributedElements",value:function queryDistributedElements(selector){var thisEl=this,domApi=Polymer.dom(thisEl);return domApi.queryDistributedElements(selector)}},{key:"getEffectiveChildren",value:function getEffectiveChildren(){var list=this.getEffectiveChildNodes();return list.filter(function(n){return n.nodeType===Node.ELEMENT_NODE})}},{key:"getEffectiveTextContent",value:function getEffectiveTextContent(){for(var cn=this.getEffectiveChildNodes(),tc=[],i=0,c;c=cn[i];i++){if(c.nodeType!==Node.COMMENT_NODE){tc.push(c.textContent)}}return tc.join("")}},{key:"queryEffectiveChildren",value:function queryEffectiveChildren(selector){var e$=this.queryDistributedElements(selector);return e$&&e$[0]}},{key:"queryAllEffectiveChildren",value:function queryAllEffectiveChildren(selector){return this.queryDistributedElements(selector)}},{key:"getContentChildNodes",value:function getContentChildNodes(slctr){var content=this.root.querySelector(slctr||"slot");return content?Polymer.dom(content).getDistributedNodes():[]}},{key:"getContentChildren",value:function getContentChildren(slctr){var children=this.getContentChildNodes(slctr).filter(function(n){return n.nodeType===Node.ELEMENT_NODE});return children}},{key:"isLightDescendant",value:function isLightDescendant(node){var thisNode=this;return thisNode!==node&&thisNode.contains(node)&&thisNode.getRootNode()===node.getRootNode()}},{key:"isLocalDescendant",value:function isLocalDescendant(node){return this.root===node.getRootNode()}},{key:"scopeSubtree",value:function scopeSubtree(){}},{key:"getComputedStyleValue",value:function getComputedStyleValue(property){return styleInterface.getComputedStyleValue(this,property)}},{key:"debounce",value:function debounce(jobName,callback,wait){this._debouncers=this._debouncers||{};return this._debouncers[jobName]=Polymer.Debouncer.debounce(this._debouncers[jobName],0<wait?Polymer.Async.timeOut.after(wait):Polymer.Async.microTask,callback.bind(this))}},{key:"isDebouncerActive",value:function isDebouncerActive(jobName){this._debouncers=this._debouncers||{};var debouncer=this._debouncers[jobName];return!!(debouncer&&debouncer.isActive())}},{key:"flushDebouncer",value:function flushDebouncer(jobName){this._debouncers=this._debouncers||{};var debouncer=this._debouncers[jobName];if(debouncer){debouncer.flush()}}},{key:"cancelDebouncer",value:function cancelDebouncer(jobName){this._debouncers=this._debouncers||{};var debouncer=this._debouncers[jobName];if(debouncer){debouncer.cancel()}}},{key:"async",value:function async(callback,waitTime){return 0<waitTime?Polymer.Async.timeOut.run(callback.bind(this),waitTime):~Polymer.Async.microTask.run(callback.bind(this))}},{key:"cancelAsync",value:function cancelAsync(handle){0>handle?Polymer.Async.microTask.cancel(~handle):Polymer.Async.timeOut.cancel(handle)}},{key:"create",value:function create(tag,props){var elt=document.createElement(tag);if(props){if(elt.setProperties){elt.setProperties(props)}else{for(var n in props){elt[n]=props[n]}}}return elt}},{key:"importHref",value:function importHref(href,onload,onerror,optAsync){var loadFn=onload?onload.bind(this):null,errorFn=onerror?onerror.bind(this):null;return Polymer.importHref(href,loadFn,errorFn,optAsync)}},{key:"elementMatches",value:function elementMatches(selector,node){return Polymer.dom.matchesSelector(node||this,selector)}},{key:"toggleAttribute",value:function toggleAttribute(name,bool,node){node=node||this;if(1==arguments.length){bool=!node.hasAttribute(name)}if(bool){node.setAttribute(name,"")}else{node.removeAttribute(name)}}},{key:"toggleClass",value:function toggleClass(name,bool,node){node=node||this;if(1==arguments.length){bool=!node.classList.contains(name)}if(bool){node.classList.add(name)}else{node.classList.remove(name)}}},{key:"transform",value:function transform(transformText,node){node=node||this;node.style.webkitTransform=transformText;node.style.transform=transformText}},{key:"translate3d",value:function translate3d(x,y,z,node){node=node||this;this.transform("translate3d("+x+","+y+","+z+")",node)}},{key:"arrayDelete",value:function arrayDelete(arrayOrPath,item){var index;if(Array.isArray(arrayOrPath)){index=arrayOrPath.indexOf(item);if(0<=index){return arrayOrPath.splice(index,1)}}else{var arr=Polymer.Path.get(this,arrayOrPath);index=arr.indexOf(item);if(0<=index){return this.splice(arrayOrPath,index,1)}}return null}},{key:"_logger",value:function _logger(level,args){var _console;if(Array.isArray(args)&&1===args.length&&Array.isArray(args[0])){args=args[0]}switch(level){case"log":case"warn":case"error":(_console=console)[level].apply(_console,babelHelpers.toConsumableArray(args));}}},{key:"_log",value:function _log(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}this._logger("log",args)}},{key:"_warn",value:function _warn(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}this._logger("warn",args)}},{key:"_error",value:function _error(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}this._logger("error",args)}},{key:"_logf",value:function _logf(methodName){for(var _len4=arguments.length,args=Array(1<_len4?_len4-1:0),_key4=1;_key4<_len4;_key4++){args[_key4-1]=arguments[_key4]}return["[%s::%s]",this.is,methodName].concat(args)}},{key:"domHost",get:function get(){var root=this.getRootNode();return babelHelpers.instanceof(root,DocumentFragment)?root.host:root}}],[{key:"importMeta",get:function get(){return this.prototype.importMeta}}]);return LegacyElement}(legacyElementBase);LegacyElement.prototype.is="";return LegacyElement})})();</script><script>(function(){"use strict";var metaProps={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0};function mixinBehaviors(behaviors,klass){if(!behaviors){klass=klass;return klass}klass=Polymer.LegacyElementMixin(klass);if(!Array.isArray(behaviors)){behaviors=[behaviors]}var superBehaviors=klass.prototype.behaviors;behaviors=flattenBehaviors(behaviors,null,superBehaviors);klass=_mixinBehaviors(behaviors,klass);if(superBehaviors){behaviors=superBehaviors.concat(behaviors)}klass.prototype.behaviors=behaviors;return klass}function _mixinBehaviors(behaviors,klass){for(var i=0,b;i<behaviors.length;i++){b=behaviors[i];if(b){klass=Array.isArray(b)?_mixinBehaviors(b,klass):GenerateClassFromInfo(b,klass)}}return klass}function flattenBehaviors(behaviors,list,exclude){list=list||[];for(var i=behaviors.length-1,b;0<=i;i--){b=behaviors[i];if(b){if(Array.isArray(b)){flattenBehaviors(b,list)}else{if(0>list.indexOf(b)&&(!exclude||0>exclude.indexOf(b))){list.unshift(b)}}}else{console.warn("behavior is null, check for missing or 404 import")}}return list}function GenerateClassFromInfo(info,Base){var PolymerGenerated=function(_Base){babelHelpers.inherits(PolymerGenerated,_Base);function PolymerGenerated(){babelHelpers.classCallCheck(this,PolymerGenerated);return babelHelpers.possibleConstructorReturn(this,(PolymerGenerated.__proto__||Object.getPrototypeOf(PolymerGenerated)).apply(this,arguments))}babelHelpers.createClass(PolymerGenerated,[{key:"created",value:function created(){babelHelpers.get(PolymerGenerated.prototype.__proto__||Object.getPrototypeOf(PolymerGenerated.prototype),"created",this).call(this);if(info.created){info.created.call(this)}}},{key:"_registered",value:function _registered(){babelHelpers.get(PolymerGenerated.prototype.__proto__||Object.getPrototypeOf(PolymerGenerated.prototype),"_registered",this).call(this);if(info.beforeRegister){info.beforeRegister.call(Object.getPrototypeOf(this))}if(info.registered){info.registered.call(Object.getPrototypeOf(this))}}},{key:"_applyListeners",value:function _applyListeners(){babelHelpers.get(PolymerGenerated.prototype.__proto__||Object.getPrototypeOf(PolymerGenerated.prototype),"_applyListeners",this).call(this);if(info.listeners){for(var l in info.listeners){this._addMethodEventListenerToNode(this,l,info.listeners[l])}}}},{key:"_ensureAttributes",value:function _ensureAttributes(){if(info.hostAttributes){for(var a in info.hostAttributes){this._ensureAttribute(a,info.hostAttributes[a])}}babelHelpers.get(PolymerGenerated.prototype.__proto__||Object.getPrototypeOf(PolymerGenerated.prototype),"_ensureAttributes",this).call(this)}},{key:"ready",value:function ready(){babelHelpers.get(PolymerGenerated.prototype.__proto__||Object.getPrototypeOf(PolymerGenerated.prototype),"ready",this).call(this);if(info.ready){info.ready.call(this)}}},{key:"attached",value:function attached(){babelHelpers.get(PolymerGenerated.prototype.__proto__||Object.getPrototypeOf(PolymerGenerated.prototype),"attached",this).call(this);if(info.attached){info.attached.call(this)}}},{key:"detached",value:function detached(){babelHelpers.get(PolymerGenerated.prototype.__proto__||Object.getPrototypeOf(PolymerGenerated.prototype),"detached",this).call(this);if(info.detached){info.detached.call(this)}}},{key:"attributeChanged",value:function attributeChanged(name,old,value){babelHelpers.get(PolymerGenerated.prototype.__proto__||Object.getPrototypeOf(PolymerGenerated.prototype),"attributeChanged",this).call(this,name,old,value);if(info.attributeChanged){info.attributeChanged.call(this,name,old,value)}}}],[{key:"properties",get:function get(){return info.properties}},{key:"observers",get:function get(){return info.observers}},{key:"template",get:function get(){return info._template||Polymer.DomModule&&Polymer.DomModule.import(this.is,"template")||Base.template||this.prototype._template||null}}]);return PolymerGenerated}(Base);PolymerGenerated.generatedFrom=info;for(var p in info){if(!(p in metaProps)){var pd=Object.getOwnPropertyDescriptor(info,p);if(pd){Object.defineProperty(PolymerGenerated.prototype,p,pd)}}}return PolymerGenerated}Polymer.Class=function(info){if(!info){console.warn("Polymer.Class requires `info` argument")}var klass=GenerateClassFromInfo(info,info.behaviors?mixinBehaviors(info.behaviors,HTMLElement):Polymer.LegacyElementMixin(HTMLElement));klass.is=info.is;return klass};Polymer.mixinBehaviors=mixinBehaviors})();</script><script>(function(){"use strict";window.Polymer._polymerFn=function(info){var klass;if("function"===typeof info){klass=info}else{klass=Polymer.Class(info)}customElements.define(klass.is,klass);return klass}})();</script><script>(function(){"use strict";function mutablePropertyChange(inst,property,value,old,mutableData){var isObject;if(mutableData){isObject="object"===babelHelpers.typeof(value)&&null!==value;if(isObject){old=inst.__dataTemp[property]}}var shouldChange=old!==value&&(old===old||value===value);if(isObject&&shouldChange){inst.__dataTemp[property]=value}return shouldChange}Polymer.MutableData=Polymer.dedupingMixin(function(superClass){var MutableData=function(_superClass){babelHelpers.inherits(MutableData,_superClass);function MutableData(){babelHelpers.classCallCheck(this,MutableData);return babelHelpers.possibleConstructorReturn(this,(MutableData.__proto__||Object.getPrototypeOf(MutableData)).apply(this,arguments))}babelHelpers.createClass(MutableData,[{key:"_shouldPropertyChange",value:function _shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}}]);return MutableData}(superClass);return MutableData});Polymer.OptionalMutableData=Polymer.dedupingMixin(function(superClass){var OptionalMutableData=function(_superClass2){babelHelpers.inherits(OptionalMutableData,_superClass2);function OptionalMutableData(){babelHelpers.classCallCheck(this,OptionalMutableData);return babelHelpers.possibleConstructorReturn(this,(OptionalMutableData.__proto__||Object.getPrototypeOf(OptionalMutableData)).apply(this,arguments))}babelHelpers.createClass(OptionalMutableData,[{key:"_shouldPropertyChange",value:function _shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}],[{key:"properties",get:function get(){return{mutableData:Boolean}}}]);return OptionalMutableData}(superClass);return OptionalMutableData});Polymer.MutableData._mutablePropertyChange=mutablePropertyChange})();</script><script>(function(){"use strict";var newInstance=null;function HTMLTemplateElementExtension(){return newInstance}HTMLTemplateElementExtension.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:HTMLTemplateElementExtension,writable:!0}});var DataTemplate=Polymer.PropertyEffects(HTMLTemplateElementExtension),MutableDataTemplate=Polymer.MutableData(DataTemplate);function upgradeTemplate(template,constructor){newInstance=template;Object.setPrototypeOf(template,constructor.prototype);new constructor;newInstance=null}var base=Polymer.PropertyEffects(function(){function _class(){babelHelpers.classCallCheck(this,_class)}return _class}()),TemplateInstanceBase=function(_base){babelHelpers.inherits(TemplateInstanceBase,_base);function TemplateInstanceBase(props){var _this;babelHelpers.classCallCheck(this,TemplateInstanceBase);_this=babelHelpers.possibleConstructorReturn(this,(TemplateInstanceBase.__proto__||Object.getPrototypeOf(TemplateInstanceBase)).call(this));_this._configureProperties(props);_this.root=_this._stampTemplate(_this.__dataHost);for(var children=_this.children=[],n=_this.root.firstChild;n;n=n.nextSibling){children.push(n);n.__templatizeInstance=babelHelpers.assertThisInitialized(_this)}if(_this.__templatizeOwner&&_this.__templatizeOwner.__hideTemplateChildren__){_this._showHideChildren(!0)}var options=_this.__templatizeOptions;if(props&&options.instanceProps||!options.instanceProps){_this._enableProperties()}return _this}babelHelpers.createClass(TemplateInstanceBase,[{key:"_configureProperties",value:function _configureProperties(props){var options=this.__templatizeOptions;if(options.forwardHostProp){for(var hprop in this.__hostProps){this._setPendingProperty(hprop,this.__dataHost["_host_"+hprop])}}for(var iprop in props){this._setPendingProperty(iprop,props[iprop])}}},{key:"forwardHostProp",value:function forwardHostProp(prop,value){if(this._setPendingPropertyOrPath(prop,value,!1,!0)){this.__dataHost._enqueueClient(this)}}},{key:"_addEventListenerToNode",value:function _addEventListenerToNode(node,eventName,handler){var _this2=this;if(this._methodHost&&this.__templatizeOptions.parentModel){this._methodHost._addEventListenerToNode(node,eventName,function(e){e.model=_this2;handler(e)})}else{var templateHost=this.__dataHost.__dataHost;if(templateHost){templateHost._addEventListenerToNode(node,eventName,handler)}}}},{key:"_showHideChildren",value:function _showHideChildren(hide){for(var c=this.children,i=0,n;i<c.length;i++){n=c[i];if(!!hide!=!!n.__hideTemplateChildren__){if(n.nodeType===Node.TEXT_NODE){if(hide){n.__polymerTextContent__=n.textContent;n.textContent=""}else{n.textContent=n.__polymerTextContent__}}else if("slot"===n.localName){if(hide){n.__polymerReplaced__=document.createComment("hidden-slot");n.parentNode.replaceChild(n.__polymerReplaced__,n)}else{var replace=n.__polymerReplaced__;if(replace){replace.parentNode.replaceChild(n,replace)}}}else if(n.style){if(hide){n.__polymerDisplay__=n.style.display;n.style.display="none"}else{n.style.display=n.__polymerDisplay__}}}n.__hideTemplateChildren__=hide;if(n._showHideChildren){n._showHideChildren(hide)}}}},{key:"_setUnmanagedPropertyToNode",value:function _setUnmanagedPropertyToNode(node,prop,value){if(node.__hideTemplateChildren__&&node.nodeType==Node.TEXT_NODE&&"textContent"==prop){node.__polymerTextContent__=value}else{babelHelpers.get(TemplateInstanceBase.prototype.__proto__||Object.getPrototypeOf(TemplateInstanceBase.prototype),"_setUnmanagedPropertyToNode",this).call(this,node,prop,value)}}},{key:"dispatchEvent",value:function dispatchEvent(){return!0}},{key:"parentModel",get:function get(){var model=this.__parentModel;if(!model){var options;model=this;do{model=model.__dataHost.__dataHost}while((options=model.__templatizeOptions)&&!options.parentModel);this.__parentModel=model}return model}}]);return TemplateInstanceBase}(base);TemplateInstanceBase.prototype.__dataHost;TemplateInstanceBase.prototype.__templatizeOptions;TemplateInstanceBase.prototype._methodHost;TemplateInstanceBase.prototype.__templatizeOwner;TemplateInstanceBase.prototype.__hostProps;var MutableTemplateInstanceBase=Polymer.MutableData(TemplateInstanceBase);function findMethodHost(template){var templateHost=template.__dataHost;return templateHost&&templateHost._methodHost||templateHost}function createTemplatizerClass(template,templateInfo,options){var base=options.mutableData?MutableTemplateInstanceBase:TemplateInstanceBase,klass=function(_base2){babelHelpers.inherits(klass,_base2);function klass(){babelHelpers.classCallCheck(this,klass);return babelHelpers.possibleConstructorReturn(this,(klass.__proto__||Object.getPrototypeOf(klass)).apply(this,arguments))}return klass}(base);klass.prototype.__templatizeOptions=options;klass.prototype._bindTemplate(template);addNotifyEffects(klass,template,templateInfo,options);return klass}function addPropagateEffects(template,templateInfo,options){var userForwardHostProp=options.forwardHostProp;if(userForwardHostProp){var klass=templateInfo.templatizeTemplateClass;if(!klass){var _base3=options.mutableData?MutableDataTemplate:DataTemplate;klass=templateInfo.templatizeTemplateClass=function(_base4){babelHelpers.inherits(TemplatizedTemplate,_base4);function TemplatizedTemplate(){babelHelpers.classCallCheck(this,TemplatizedTemplate);return babelHelpers.possibleConstructorReturn(this,(TemplatizedTemplate.__proto__||Object.getPrototypeOf(TemplatizedTemplate)).apply(this,arguments))}return TemplatizedTemplate}(_base3);var hostProps=templateInfo.hostProps;for(var prop in hostProps){klass.prototype._addPropertyEffect("_host_"+prop,klass.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:createForwardHostPropEffect(prop,userForwardHostProp)});klass.prototype._createNotifyingProperty("_host_"+prop)}}upgradeTemplate(template,klass);if(template.__dataProto){Object.assign(template.__data,template.__dataProto)}template.__dataTemp={};template.__dataPending=null;template.__dataOld=null;template._enableProperties()}}function createForwardHostPropEffect(hostProp,userForwardHostProp){return function(template,prop,props){userForwardHostProp.call(template.__templatizeOwner,prop.substring("_host_".length),props[prop])}}function addNotifyEffects(klass,template,templateInfo,options){var hostProps=templateInfo.hostProps||{};for(var iprop in options.instanceProps){delete hostProps[iprop];var userNotifyInstanceProp=options.notifyInstanceProp;if(userNotifyInstanceProp){klass.prototype._addPropertyEffect(iprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyInstancePropEffect(iprop,userNotifyInstanceProp)})}}if(options.forwardHostProp&&template.__dataHost){for(var hprop in hostProps){klass.prototype._addPropertyEffect(hprop,klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:createNotifyHostPropEffect()})}}}function createNotifyInstancePropEffect(instProp,userNotifyInstanceProp){return function(inst,prop,props){userNotifyInstanceProp.call(inst.__templatizeOwner,inst,prop,props[prop])}}function createNotifyHostPropEffect(){return function(inst,prop,props){inst.__dataHost._setPendingPropertyOrPath("_host_"+prop,props[prop],!0,!0)}}Polymer.Templatize={templatize:function templatize(template,owner,options){options=options||{};if(template.__templatizeOwner){throw new Error("A <template> can only be templatized once")}template.__templatizeOwner=owner;var ctor=owner?owner.constructor:TemplateInstanceBase,templateInfo=ctor._parseTemplate(template),baseClass=templateInfo.templatizeInstanceClass;if(!baseClass){baseClass=createTemplatizerClass(template,templateInfo,options);templateInfo.templatizeInstanceClass=baseClass}addPropagateEffects(template,templateInfo,options);var klass=function(_baseClass){babelHelpers.inherits(TemplateInstance,_baseClass);function TemplateInstance(){babelHelpers.classCallCheck(this,TemplateInstance);return babelHelpers.possibleConstructorReturn(this,(TemplateInstance.__proto__||Object.getPrototypeOf(TemplateInstance)).apply(this,arguments))}return TemplateInstance}(baseClass);klass.prototype._methodHost=findMethodHost(template);klass.prototype.__dataHost=template;klass.prototype.__templatizeOwner=owner;klass.prototype.__hostProps=templateInfo.hostProps;klass=klass;return klass},modelForElement:function modelForElement(template,node){var model;while(node){if(model=node.__templatizeInstance){if(model.__dataHost!=template){node=model.__dataHost}else{return model}}else{node=node.parentNode}}return null}};Polymer.TemplateInstanceBase=TemplateInstanceBase})();</script><script>(function(){"use strict";var TemplateInstanceBase=Polymer.TemplateInstanceBase;Polymer.Templatizer={templatize:function templatize(template,mutableData){this._templatizerTemplate=template;this.ctor=Polymer.Templatize.templatize(template,this,{mutableData:!!mutableData,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp:function stamp(model){return new this.ctor(model)},modelForElement:function modelForElement(el){return Polymer.Templatize.modelForElement(this._templatizerTemplate,el)}}})();</script><script>(function(){"use strict";var domBindBase=Polymer.GestureEventListeners(Polymer.OptionalMutableData(Polymer.PropertyEffects(HTMLElement))),DomBind=function(_domBindBase){babelHelpers.inherits(DomBind,_domBindBase);babelHelpers.createClass(DomBind,null,[{key:"observedAttributes",get:function get(){return["mutable-data"]}}]);function DomBind(){var _this;babelHelpers.classCallCheck(this,DomBind);_this=babelHelpers.possibleConstructorReturn(this,(DomBind.__proto__||Object.getPrototypeOf(DomBind)).call(this));_this.root=null;_this.$=null;_this.__children=null;return _this}babelHelpers.createClass(DomBind,[{key:"attributeChangedCallback",value:function attributeChangedCallback(){this.mutableData=!0}},{key:"connectedCallback",value:function connectedCallback(){this.style.display="none";this.render()}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.__removeChildren()}},{key:"__insertChildren",value:function __insertChildren(){this.parentNode.insertBefore(this.root,this)}},{key:"__removeChildren",value:function __removeChildren(){if(this.__children){for(var i=0;i<this.__children.length;i++){this.root.appendChild(this.__children[i])}}}},{key:"render",value:function render(){var _this2=this,template;if(!this.__children){template=template||this.querySelector("template");if(!template){var observer=new MutationObserver(function(){template=_this2.querySelector("template");if(template){observer.disconnect();_this2.render()}else{throw new Error("dom-bind requires a <template> child")}});observer.observe(this,{childList:!0});return}this.root=this._stampTemplate(template);this.$=this.root.$;this.__children=[];for(var n=this.root.firstChild;n;n=n.nextSibling){this.__children[this.__children.length]=n}this._enableProperties()}this.__insertChildren();this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}]);return DomBind}(domBindBase);customElements.define("dom-bind",DomBind);Polymer.DomBind=DomBind})();</script><script>(function(){"use strict";var TemplateInstanceBase=Polymer.TemplateInstanceBase,domRepeatBase=Polymer.OptionalMutableData(Polymer.Element),DomRepeat=function(_domRepeatBase){babelHelpers.inherits(DomRepeat,_domRepeatBase);babelHelpers.createClass(DomRepeat,null,[{key:"is",get:function get(){return"dom-repeat"}},{key:"template",get:function get(){return null}},{key:"properties",get:function get(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}},{key:"observers",get:function get(){return["__itemsChanged(items.*)"]}}]);function DomRepeat(){var _this;babelHelpers.classCallCheck(this,DomRepeat);_this=babelHelpers.possibleConstructorReturn(this,(DomRepeat.__proto__||Object.getPrototypeOf(DomRepeat)).call(this));_this.__instances=[];_this.__limit=1/0;_this.__pool=[];_this.__renderDebouncer=null;_this.__itemsIdxToInstIdx={};_this.__chunkCount=null;_this.__lastChunkTime=null;_this.__sortFn=null;_this.__filterFn=null;_this.__observePaths=null;_this.__ctor=null;_this.__isDetached=!0;_this.template=null;return _this}babelHelpers.createClass(DomRepeat,[{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(DomRepeat.prototype.__proto__||Object.getPrototypeOf(DomRepeat.prototype),"disconnectedCallback",this).call(this);this.__isDetached=!0;for(var i=0;i<this.__instances.length;i++){this.__detachInstance(i)}}},{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(DomRepeat.prototype.__proto__||Object.getPrototypeOf(DomRepeat.prototype),"connectedCallback",this).call(this);this.style.display="none";if(this.__isDetached){this.__isDetached=!1;for(var parent=this.parentNode,i=0;i<this.__instances.length;i++){this.__attachInstance(i,parent)}}}},{key:"__ensureTemplatized",value:function __ensureTemplatized(){var _this2=this;if(!this.__ctor){var template=this.template=this.querySelector("template");if(!template){var observer=new MutationObserver(function(){if(_this2.querySelector("template")){observer.disconnect();_this2.__render()}else{throw new Error("dom-repeat requires a <template> child")}});observer.observe(this,{childList:!0});return!1}var instanceProps={};instanceProps[this.as]=!0;instanceProps[this.indexAs]=!0;instanceProps[this.itemsIndexAs]=!0;this.__ctor=Polymer.Templatize.templatize(template,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:instanceProps,forwardHostProp:function forwardHostProp(prop,value){for(var i$=this.__instances,i=0,inst;i<i$.length&&(inst=i$[i]);i++){inst.forwardHostProp(prop,value)}},notifyInstanceProp:function notifyInstanceProp(inst,prop,value){if(Polymer.Path.matches(this.as,prop)){var idx=inst[this.itemsIndexAs];if(prop==this.as){this.items[idx]=value}var path=Polymer.Path.translate(this.as,"items."+idx,prop);this.notifyPath(path,value)}}})}return!0}},{key:"__getMethodHost",value:function __getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}},{key:"__functionFromPropertyValue",value:function __functionFromPropertyValue(functionOrMethodName){if("string"===typeof functionOrMethodName){var obj=this.__getMethodHost();return function(){return obj[functionOrMethodName].apply(obj,arguments)}}return functionOrMethodName}},{key:"__sortChanged",value:function __sortChanged(sort){this.__sortFn=this.__functionFromPropertyValue(sort);if(this.items){this.__debounceRender(this.__render)}}},{key:"__filterChanged",value:function __filterChanged(filter){this.__filterFn=this.__functionFromPropertyValue(filter);if(this.items){this.__debounceRender(this.__render)}}},{key:"__computeFrameTime",value:function __computeFrameTime(rate){return Math.ceil(1e3/rate)}},{key:"__initializeChunking",value:function __initializeChunking(){if(this.initialCount){this.__limit=this.initialCount;this.__chunkCount=this.initialCount;this.__lastChunkTime=performance.now()}}},{key:"__tryRenderChunk",value:function __tryRenderChunk(){if(this.items&&this.__limit<this.items.length){this.__debounceRender(this.__requestRenderChunk)}}},{key:"__requestRenderChunk",value:function __requestRenderChunk(){var _this3=this;requestAnimationFrame(function(){return _this3.__renderChunk()})}},{key:"__renderChunk",value:function __renderChunk(){var currChunkTime=performance.now(),ratio=this._targetFrameTime/(currChunkTime-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*ratio)||1;this.__limit+=this.__chunkCount;this.__lastChunkTime=currChunkTime;this.__debounceRender(this.__render)}},{key:"__observeChanged",value:function __observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}},{key:"__itemsChanged",value:function __itemsChanged(change){if(this.items&&!Array.isArray(this.items)){console.warn("dom-repeat expected array for `items`, found",this.items)}if(!this.__handleItemPath(change.path,change.value)){this.__initializeChunking();this.__debounceRender(this.__render)}}},{key:"__handleObservedPaths",value:function __handleObservedPaths(path){if(this.__sortFn||this.__filterFn){if(!path){this.__debounceRender(this.__render,this.delay)}else if(this.__observePaths){for(var paths=this.__observePaths,i=0;i<paths.length;i++){if(0===path.indexOf(paths[i])){this.__debounceRender(this.__render,this.delay)}}}}}},{key:"__debounceRender",value:function __debounceRender(fn){var delay=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,0<delay?Polymer.Async.timeOut.after(delay):Polymer.Async.microTask,fn.bind(this));Polymer.enqueueDebouncer(this.__renderDebouncer)}},{key:"render",value:function render(){this.__debounceRender(this.__render);Polymer.flush()}},{key:"__render",value:function __render(){if(!this.__ensureTemplatized()){return}this.__applyFullRefresh();this.__pool.length=0;this._setRenderedItemCount(this.__instances.length);this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));this.__tryRenderChunk()}},{key:"__applyFullRefresh",value:function __applyFullRefresh(){for(var _this4=this,items=this.items||[],isntIdxToItemsIdx=Array(items.length),i=0;i<items.length;i++){isntIdxToItemsIdx[i]=i}if(this.__filterFn){isntIdxToItemsIdx=isntIdxToItemsIdx.filter(function(i,idx,array){return _this4.__filterFn(items[i],idx,array)})}if(this.__sortFn){isntIdxToItemsIdx.sort(function(a,b){return _this4.__sortFn(items[a],items[b])})}var itemsIdxToInstIdx=this.__itemsIdxToInstIdx={},instIdx=0,limit=Math.min(isntIdxToItemsIdx.length,this.__limit);for(;instIdx<limit;instIdx++){var inst=this.__instances[instIdx],itemIdx=isntIdxToItemsIdx[instIdx],item=items[itemIdx];itemsIdxToInstIdx[itemIdx]=instIdx;if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{this.__insertInstance(item,instIdx,itemIdx)}}for(var _i=this.__instances.length-1;_i>=instIdx;_i--){this.__detachAndRemoveInstance(_i)}}},{key:"__detachInstance",value:function __detachInstance(idx){for(var inst=this.__instances[idx],i=0,el;i<inst.children.length;i++){el=inst.children[i];inst.root.appendChild(el)}return inst}},{key:"__attachInstance",value:function __attachInstance(idx,parent){var inst=this.__instances[idx];parent.insertBefore(inst.root,this)}},{key:"__detachAndRemoveInstance",value:function __detachAndRemoveInstance(idx){var inst=this.__detachInstance(idx);if(inst){this.__pool.push(inst)}this.__instances.splice(idx,1)}},{key:"__stampInstance",value:function __stampInstance(item,instIdx,itemIdx){var model={};model[this.as]=item;model[this.indexAs]=instIdx;model[this.itemsIndexAs]=itemIdx;return new this.__ctor(model)}},{key:"__insertInstance",value:function __insertInstance(item,instIdx,itemIdx){var inst=this.__pool.pop();if(inst){inst._setPendingProperty(this.as,item);inst._setPendingProperty(this.indexAs,instIdx);inst._setPendingProperty(this.itemsIndexAs,itemIdx);inst._flushProperties()}else{inst=this.__stampInstance(item,instIdx,itemIdx)}var beforeRow=this.__instances[instIdx+1],beforeNode=beforeRow?beforeRow.children[0]:this;this.parentNode.insertBefore(inst.root,beforeNode);this.__instances[instIdx]=inst;return inst}},{key:"_showHideChildren",value:function _showHideChildren(hidden){for(var i=0;i<this.__instances.length;i++){this.__instances[i]._showHideChildren(hidden)}}},{key:"__handleItemPath",value:function __handleItemPath(path,value){var itemsPath=path.slice(6),dot=itemsPath.indexOf("."),itemsIdx=0>dot?itemsPath:itemsPath.substring(0,dot);if(itemsIdx==parseInt(itemsIdx,10)){var itemSubPath=0>dot?"":itemsPath.substring(dot+1);this.__handleObservedPaths(itemSubPath);var instIdx=this.__itemsIdxToInstIdx[itemsIdx],inst=this.__instances[instIdx];if(inst){var itemPath=this.as+(itemSubPath?"."+itemSubPath:"");inst._setPendingPropertyOrPath(itemPath,value,!1,!0);inst._flushProperties()}return!0}}},{key:"itemForElement",value:function itemForElement(el){var instance=this.modelForElement(el);return instance&&instance[this.as]}},{key:"indexForElement",value:function indexForElement(el){var instance=this.modelForElement(el);return instance&&instance[this.indexAs]}},{key:"modelForElement",value:function modelForElement(el){return Polymer.Templatize.modelForElement(this.template,el)}}]);return DomRepeat}(domRepeatBase);customElements.define(DomRepeat.is,DomRepeat);Polymer.DomRepeat=DomRepeat})();</script><script>(function(){"use strict";var DomIf=function(_Polymer$Element){babelHelpers.inherits(DomIf,_Polymer$Element);babelHelpers.createClass(DomIf,null,[{key:"is",get:function get(){return"dom-if"}},{key:"template",get:function get(){return null}},{key:"properties",get:function get(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}}]);function DomIf(){var _this;babelHelpers.classCallCheck(this,DomIf);_this=babelHelpers.possibleConstructorReturn(this,(DomIf.__proto__||Object.getPrototypeOf(DomIf)).call(this));_this.__renderDebouncer=null;_this.__invalidProps=null;_this.__instance=null;_this._lastIf=!1;_this.__ctor=null;return _this}babelHelpers.createClass(DomIf,[{key:"__debounceRender",value:function __debounceRender(){var _this2=this;this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,Polymer.Async.microTask,function(){return _this2.__render()});Polymer.enqueueDebouncer(this.__renderDebouncer)}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(DomIf.prototype.__proto__||Object.getPrototypeOf(DomIf.prototype),"disconnectedCallback",this).call(this);if(!this.parentNode||this.parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&!this.parentNode.host){this.__teardownInstance()}}},{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(DomIf.prototype.__proto__||Object.getPrototypeOf(DomIf.prototype),"connectedCallback",this).call(this);this.style.display="none";if(this.if){this.__debounceRender()}}},{key:"render",value:function render(){Polymer.flush()}},{key:"__render",value:function __render(){if(this.if){if(!this.__ensureInstance()){return}this._showHideChildren()}else if(this.restamp){this.__teardownInstance()}if(!this.restamp&&this.__instance){this._showHideChildren()}if(this.if!=this._lastIf){this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}));this._lastIf=this.if}}},{key:"__ensureInstance",value:function __ensureInstance(){var _this3=this,parentNode=this.parentNode;if(parentNode){if(!this.__ctor){var template=this.querySelector("template");if(!template){var observer=new MutationObserver(function(){if(_this3.querySelector("template")){observer.disconnect();_this3.__render()}else{throw new Error("dom-if requires a <template> child")}});observer.observe(this,{childList:!0});return!1}this.__ctor=Polymer.Templatize.templatize(template,this,{mutableData:!0,forwardHostProp:function forwardHostProp(prop,value){if(this.__instance){if(this.if){this.__instance.forwardHostProp(prop,value)}else{this.__invalidProps=this.__invalidProps||Object.create(null);this.__invalidProps[Polymer.Path.root(prop)]=!0}}}})}if(!this.__instance){this.__instance=new this.__ctor;parentNode.insertBefore(this.__instance.root,this)}else{this.__syncHostProperties();var c$=this.__instance.children;if(c$&&c$.length){var lastChild=this.previousSibling;if(lastChild!==c$[c$.length-1]){for(var i=0,n;i<c$.length&&(n=c$[i]);i++){parentNode.insertBefore(n,this)}}}}}return!0}},{key:"__syncHostProperties",value:function __syncHostProperties(){var props=this.__invalidProps;if(props){for(var prop in props){this.__instance._setPendingProperty(prop,this.__dataHost[prop])}this.__invalidProps=null;this.__instance._flushProperties()}}},{key:"__teardownInstance",value:function __teardownInstance(){if(this.__instance){var c$=this.__instance.children;if(c$&&c$.length){for(var parent=c$[0].parentNode,i=0,n;i<c$.length&&(n=c$[i]);i++){parent.removeChild(n)}}this.__instance=null;this.__invalidProps=null}}},{key:"_showHideChildren",value:function _showHideChildren(){var hidden=this.__hideTemplateChildren__||!this.if;if(this.__instance){this.__instance._showHideChildren(hidden)}}}]);return DomIf}(Polymer.Element);customElements.define(DomIf.is,DomIf);Polymer.DomIf=DomIf})();</script><script>(function(){"use strict";var ArraySelectorMixin=Polymer.dedupingMixin(function(superClass){var elementBase=Polymer.ElementMixin(superClass),ArraySelectorMixin=function(_elementBase){babelHelpers.inherits(ArraySelectorMixin,_elementBase);babelHelpers.createClass(ArraySelectorMixin,null,[{key:"properties",get:function get(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}},{key:"observers",get:function get(){return["__updateSelection(multi, items.*)"]}}]);function ArraySelectorMixin(){var _this;babelHelpers.classCallCheck(this,ArraySelectorMixin);_this=babelHelpers.possibleConstructorReturn(this,(ArraySelectorMixin.__proto__||Object.getPrototypeOf(ArraySelectorMixin)).call(this));_this.__lastItems=null;_this.__lastMulti=null;_this.__selectedMap=null;return _this}babelHelpers.createClass(ArraySelectorMixin,[{key:"__updateSelection",value:function __updateSelection(multi,itemsInfo){var path=itemsInfo.path;if("items"==path){var newItems=itemsInfo.base||[],lastItems=this.__lastItems,lastMulti=this.__lastMulti;if(multi!==lastMulti){this.clearSelection()}if(lastItems){var splices=Polymer.ArraySplice.calculateSplices(newItems,lastItems);this.__applySplices(splices)}this.__lastItems=newItems;this.__lastMulti=multi}else if("items.splices"==itemsInfo.path){this.__applySplices(itemsInfo.value.indexSplices)}else{var part=path.slice("items.".length),idx=parseInt(part,10);if(0>part.indexOf(".")&&part==idx){this.__deselectChangedIdx(idx)}}}},{key:"__applySplices",value:function __applySplices(splices){for(var _this2=this,selected=this.__selectedMap,_loop=function(i){var s=splices[i];selected.forEach(function(idx,item){if(idx<s.index){}else if(idx>=s.index+s.removed.length){selected.set(item,idx+s.addedCount-s.removed.length)}else{selected.set(item,-1)}});for(var j=0,idx;j<s.addedCount;j++){idx=s.index+j;if(selected.has(_this2.items[idx])){selected.set(_this2.items[idx],idx)}}},i=0;i<splices.length;i++){_loop(i)}this.__updateLinks();var sidx=0;selected.forEach(function(idx,item){if(0>idx){if(_this2.multi){_this2.splice("selected",sidx,1)}else{_this2.selected=_this2.selectedItem=null}selected.delete(item)}else{sidx++}})}},{key:"__updateLinks",value:function __updateLinks(){var _this3=this;this.__dataLinkedPaths={};if(this.multi){var sidx=0;this.__selectedMap.forEach(function(idx){if(0<=idx){_this3.linkPaths("items."+idx,"selected."+sidx++)}})}else{this.__selectedMap.forEach(function(idx){_this3.linkPaths("selected","items."+idx);_this3.linkPaths("selectedItem","items."+idx)})}}},{key:"clearSelection",value:function clearSelection(){this.__dataLinkedPaths={};this.__selectedMap=new Map;this.selected=this.multi?[]:null;this.selectedItem=null}},{key:"isSelected",value:function isSelected(item){return this.__selectedMap.has(item)}},{key:"isIndexSelected",value:function isIndexSelected(idx){return this.isSelected(this.items[idx])}},{key:"__deselectChangedIdx",value:function __deselectChangedIdx(idx){var _this4=this,sidx=this.__selectedIndexForItemIndex(idx);if(0<=sidx){var i=0;this.__selectedMap.forEach(function(idx,item){if(sidx==i++){_this4.deselect(item)}})}}},{key:"__selectedIndexForItemIndex",value:function __selectedIndexForItemIndex(idx){var selected=this.__dataLinkedPaths["items."+idx];if(selected){return parseInt(selected.slice("selected.".length),10)}}},{key:"deselect",value:function deselect(item){var idx=this.__selectedMap.get(item);if(0<=idx){this.__selectedMap.delete(item);var sidx;if(this.multi){sidx=this.__selectedIndexForItemIndex(idx)}this.__updateLinks();if(this.multi){this.splice("selected",sidx,1)}else{this.selected=this.selectedItem=null}}}},{key:"deselectIndex",value:function deselectIndex(idx){this.deselect(this.items[idx])}},{key:"select",value:function select(item){this.selectIndex(this.items.indexOf(item))}},{key:"selectIndex",value:function selectIndex(idx){var item=this.items[idx];if(!this.isSelected(item)){if(!this.multi){this.__selectedMap.clear()}this.__selectedMap.set(item,idx);this.__updateLinks();if(this.multi){this.push("selected",item)}else{this.selected=this.selectedItem=item}}else if(this.toggle){this.deselectIndex(idx)}}}]);return ArraySelectorMixin}(elementBase);return ArraySelectorMixin});Polymer.ArraySelectorMixin=ArraySelectorMixin;var baseArraySelector=ArraySelectorMixin(Polymer.Element),ArraySelector=function(_baseArraySelector){babelHelpers.inherits(ArraySelector,_baseArraySelector);function ArraySelector(){babelHelpers.classCallCheck(this,ArraySelector);return babelHelpers.possibleConstructorReturn(this,(ArraySelector.__proto__||Object.getPrototypeOf(ArraySelector)).apply(this,arguments))}babelHelpers.createClass(ArraySelector,null,[{key:"is",get:function get(){return"array-selector"}}]);return ArraySelector}(baseArraySelector);customElements.define(ArraySelector.is,ArraySelector);Polymer.ArraySelector=ArraySelector})();</script><script>(function(){"use strict";var c=null,f=window.HTMLImports&&window.HTMLImports.whenReady||null,g;function h(a){requestAnimationFrame(function(){f?f(a):(c||(c=new Promise(function(a){g=a}),"complete"===document.readyState?g():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&g()})),c.then(function(){a&&a()}))})}var k=null,l=null;function m(){this.customStyles=[];this.enqueued=!1;h(function(){window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}function n(a){!a.enqueued&&l&&(a.enqueued=!0,h(l))}m.prototype.c=function(a){a.__seenByShadyCSS||(a.__seenByShadyCSS=!0,this.customStyles.push(a),n(this))};m.prototype.b=function(a){if(a.__shadyCSSCachedStyle)return a.__shadyCSSCachedStyle;var b;a.getStyle?b=a.getStyle():b=a;return b};m.prototype.a=function(){for(var a=this.customStyles,b=0,d;b<a.length;b++){d=a[b];if(!d.__shadyCSSCachedStyle){var e=this.b(d);e&&(e=e.__appliedElement||e,k&&k(e),d.__shadyCSSCachedStyle=e)}}return a};m.prototype.addCustomStyle=m.prototype.c;m.prototype.getStyleForCustomStyle=m.prototype.b;m.prototype.processStyles=m.prototype.a;Object.defineProperties(m.prototype,{transformCallback:{get:function get(){return k},set:function set(a){k=a}},validateCallback:{get:function get(){return l},set:function set(a){var b=!1;l||(b=!0);l=a;b&&n(this)}}});function p(a,b){for(var d in b){null===d?a.style.removeProperty(d):a.style.setProperty(d,b[d])}}var q=!(window.ShadyDOM&&window.ShadyDOM.inUse),r;function t(a){r=a&&a.shimcssproperties?!1:q||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?r=window.ShadyCSS.nativeCss:window.ShadyCSS?(t(window.ShadyCSS),window.ShadyCSS=void 0):t(window.WebComponents&&window.WebComponents.flags);var u=r,v=new m;window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function prepareTemplate(){},prepareTemplateDom:function prepareTemplateDom(){},prepareTemplateStyles:function prepareTemplateStyles(){},styleSubtree:function styleSubtree(a,b){v.a();p(a,b)},styleElement:function styleElement(){v.a()},styleDocument:function styleDocument(a){v.a();p(document.body,a)},getComputedStyleValue:function getComputedStyleValue(a,b){return(a=window.getComputedStyle(a).getPropertyValue(b))?a.trim():""},flushCustomStyles:function flushCustomStyles(){},nativeCss:u,nativeShadow:q});window.ShadyCSS.CustomStyleInterface=v}).call(this);</script><script>(function(){"use strict";var attr="include",CustomStyleInterface=window.ShadyCSS.CustomStyleInterface,CustomStyle=function(_HTMLElement){babelHelpers.inherits(CustomStyle,_HTMLElement);function CustomStyle(){var _this;babelHelpers.classCallCheck(this,CustomStyle);_this=babelHelpers.possibleConstructorReturn(this,(CustomStyle.__proto__||Object.getPrototypeOf(CustomStyle)).call(this));_this._style=null;CustomStyleInterface.addCustomStyle(babelHelpers.assertThisInitialized(_this));return _this}babelHelpers.createClass(CustomStyle,[{key:"getStyle",value:function getStyle(){if(this._style){return this._style}var style=this.querySelector("style");if(!style){return null}this._style=style;var include=style.getAttribute(attr);if(include){style.removeAttribute(attr);style.textContent=Polymer.StyleGather.cssFromModules(include)+style.textContent}if(this.ownerDocument!==window.document){window.document.head.appendChild(this)}return this._style}}]);return CustomStyle}(HTMLElement);window.customElements.define("custom-style",CustomStyle);Polymer.CustomStyle=CustomStyle})();</script><script>(function(){"use strict";var mutablePropertyChange;(function(){mutablePropertyChange=Polymer.MutableData._mutablePropertyChange})();Polymer.MutableDataBehavior={_shouldPropertyChange:function _shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,!0)}};Polymer.OptionalMutableDataBehavior={properties:{mutableData:Boolean},_shouldPropertyChange:function _shouldPropertyChange(property,value,old){return mutablePropertyChange(this,property,value,old,this.mutableData)}}})();</script><script>Polymer.Base=Polymer.LegacyElementMixin(HTMLElement).prototype;Polymer.html=Polymer.html;</script><script>(function(){"use strict";var workingURL,urlDoc,urlBase,anchor;function resolveURL(path,base){var url;if(workingURL===void 0){workingURL=!1;try{var u=new URL("b","http://a");u.pathname="c%20d";workingURL="http://a/c%20d"===u.href;workingURL=workingURL&&"http://www.google.com/?foo%20bar"===new URL("http://www.google.com/?foo bar").href}catch(e){}}if(workingURL){url=new URL(path,base)}else{if(!urlDoc){urlDoc=document.implementation.createHTMLDocument("url");urlBase=urlDoc.createElement("base");urlDoc.head.appendChild(urlBase);anchor=urlDoc.createElement("a")}urlBase.href=base;anchor.href=path.replace(/ /g,"%20");url=anchor}return url}Polymer({is:"iron-location",properties:{path:{type:String,notify:!0,value:function value(){return window.decodeURIComponent(window.location.pathname)}},query:{type:String,notify:!0,value:function value(){return window.location.search.slice(1)}},hash:{type:String,notify:!0,value:function value(){return window.decodeURIComponent(window.location.hash.slice(1))}},dwellTime:{type:Number,value:2e3},urlSpaceRegex:{type:String,value:""},_urlSpaceRegExp:{computed:"_makeRegExp(urlSpaceRegex)"},_lastChangedAt:{type:Number},_initialized:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:["_updateUrl(path, query, hash)"],attached:function attached(){this.listen(window,"hashchange","_hashChanged");this.listen(window,"location-changed","_urlChanged");this.listen(window,"popstate","_urlChanged");this.listen(document.body,"click","_globalOnClick");this._lastChangedAt=window.performance.now()-(this.dwellTime-200);this._initialized=!0;this._urlChanged()},detached:function detached(){this.unlisten(window,"hashchange","_hashChanged");this.unlisten(window,"location-changed","_urlChanged");this.unlisten(window,"popstate","_urlChanged");this.unlisten(document.body,"click","_globalOnClick");this._initialized=!1},_hashChanged:function _hashChanged(){this.hash=window.decodeURIComponent(window.location.hash.substring(1))},_urlChanged:function _urlChanged(){this._dontUpdateUrl=!0;this._hashChanged();this.path=window.decodeURIComponent(window.location.pathname);this.query=window.location.search.substring(1);this._dontUpdateUrl=!1;this._updateUrl()},_getUrl:function _getUrl(){var partiallyEncodedPath=window.encodeURI(this.path).replace(/\#/g,"%23").replace(/\?/g,"%3F"),partiallyEncodedQuery="";if(this.query){partiallyEncodedQuery="?"+this.query.replace(/\#/g,"%23")}var partiallyEncodedHash="";if(this.hash){partiallyEncodedHash="#"+window.encodeURI(this.hash)}return partiallyEncodedPath+partiallyEncodedQuery+partiallyEncodedHash},_updateUrl:function _updateUrl(){if(this._dontUpdateUrl||!this._initialized){return}if(this.path===window.decodeURIComponent(window.location.pathname)&&this.query===window.location.search.substring(1)&&this.hash===window.decodeURIComponent(window.location.hash.substring(1))){return}var newUrl=this._getUrl(),fullNewUrl=resolveURL(newUrl,window.location.protocol+"//"+window.location.host).href,now=window.performance.now(),shouldReplace=this._lastChangedAt+this.dwellTime>now;this._lastChangedAt=now;if(shouldReplace){window.history.replaceState({},"",fullNewUrl)}else{window.history.pushState({},"",fullNewUrl)}this.fire("location-changed",{},{node:window})},_globalOnClick:function _globalOnClick(event){if(event.defaultPrevented){return}var href=this._getSameOriginLinkHref(event);if(!href){return}event.preventDefault();if(href===window.location.href){return}window.history.pushState({},"",href);this.fire("location-changed",{},{node:window})},_getSameOriginLinkHref:function _getSameOriginLinkHref(event){if(0!==event.button){return null}if(event.metaKey||event.ctrlKey){return null}for(var eventPath=Polymer.dom(event).path,anchor=null,i=0,element;i<eventPath.length;i++){element=eventPath[i];if("A"===element.tagName&&element.href){anchor=element;break}}if(!anchor){return null}if("_blank"===anchor.target){return null}if(("_top"===anchor.target||"_parent"===anchor.target)&&window.top!==window){return null}var href=anchor.href,url;if(null!=document.baseURI){url=resolveURL(href,document.baseURI)}else{url=resolveURL(href)}var origin;if(window.location.origin){origin=window.location.origin}else{origin=window.location.protocol+"//"+window.location.host}var urlOrigin;if(url.origin){urlOrigin=url.origin}else{urlOrigin=url.protocol+"//"+url.host}if(urlOrigin!==origin){return null}var normalizedHref=url.pathname+url.search+url.hash;if("/"!==normalizedHref[0]){normalizedHref="/"+normalizedHref}if(this._urlSpaceRegExp&&!this._urlSpaceRegExp.test(normalizedHref)){return null}var fullNormalizedHref=resolveURL(normalizedHref,window.location.href).href;return fullNormalizedHref},_makeRegExp:function _makeRegExp(urlSpaceRegex){return RegExp(urlSpaceRegex)}})})();</script><script>"use strict";Polymer({is:"iron-query-params",properties:{paramsString:{type:String,notify:!0,observer:"paramsStringChanged"},paramsObject:{type:Object,notify:!0,value:function value(){return{}}},_dontReact:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:["paramsObjectChanged(paramsObject.*)"],paramsStringChanged:function paramsStringChanged(){this._dontReact=!0;this.paramsObject=this._decodeParams(this.paramsString);this._dontReact=!1},paramsObjectChanged:function paramsObjectChanged(){if(this._dontReact){return}this.paramsString=this._encodeParams(this.paramsObject).replace(/%3F/g,"?").replace(/%2F/g,"/").replace(/'/g,"%27")},_encodeParams:function _encodeParams(params){var encodedParams=[];for(var key in params){var value=params[key];if(""===value){encodedParams.push(encodeURIComponent(key))}else if(value){encodedParams.push(encodeURIComponent(key)+"="+encodeURIComponent(value.toString()))}}return encodedParams.join("&")},_decodeParams:function _decodeParams(paramString){var params={};paramString=(paramString||"").replace(/\+/g,"%20");for(var paramList=paramString.split("&"),i=0,param;i<paramList.length;i++){param=paramList[i].split("=");if(param[0]){params[decodeURIComponent(param[0])]=decodeURIComponent(param[1]||"")}}return params}});</script><script>(function(){"use strict";Polymer.AppRouteConverterBehavior={properties:{route:{type:Object,notify:!0},queryParams:{type:Object,notify:!0},path:{type:String,notify:!0}},observers:["_locationChanged(path, queryParams)","_routeChanged(route.prefix, route.path)","_routeQueryParamsChanged(route.__queryParams)"],created:function created(){this.linkPaths("route.__queryParams","queryParams");this.linkPaths("queryParams","route.__queryParams")},_locationChanged:function _locationChanged(){if(this.route&&this.route.path===this.path&&this.queryParams===this.route.__queryParams){return}this.route={prefix:"",path:this.path,__queryParams:this.queryParams}},_routeChanged:function _routeChanged(){if(!this.route){return}this.path=this.route.prefix+this.route.path},_routeQueryParamsChanged:function _routeQueryParamsChanged(queryParams){if(!this.route){return}this.queryParams=queryParams}}})();</script><dom-module id="app-location" assetpath="../bower_components/app-route/"><template><iron-location path="{{__path}}" query="{{__query}}" hash="{{__hash}}" url-space-regex="{{urlSpaceRegex}}"></iron-location><iron-query-params params-string="{{__query}}" params-object="{{queryParams}}"></iron-query-params></template><script>(function(){"use strict";Polymer({is:"app-location",properties:{route:{type:Object,notify:!0},useHashAsPath:{type:Boolean,value:!1},urlSpaceRegex:{type:String,notify:!0},__queryParams:{type:Object},__path:{type:String},__query:{type:String},__hash:{type:String},path:{type:String,observer:"__onPathChanged"},_isReady:{type:Boolean}},behaviors:[Polymer.AppRouteConverterBehavior],observers:["__computeRoutePath(useHashAsPath, __hash, __path)"],ready:function ready(){this._isReady=!0},__computeRoutePath:function __computeRoutePath(){this.path=this.useHashAsPath?this.__hash:this.__path},__onPathChanged:function __onPathChanged(){if(!this._isReady){return}if(this.useHashAsPath){this.__hash=this.path}else{this.__path=this.path}}})})();</script></dom-module><script>(function(){"use strict";Polymer({is:"app-route",properties:{route:{type:Object,notify:!0},pattern:{type:String},data:{type:Object,value:function value(){return{}},notify:!0},queryParams:{type:Object,value:function value(){return{}},notify:!0},tail:{type:Object,value:function value(){return{path:null,prefix:null,__queryParams:null}},notify:!0},active:{type:Boolean,notify:!0,readOnly:!0},_queryParamsUpdating:{type:Boolean,value:!1},_matched:{type:String,value:""}},observers:["__tryToMatch(route.path, pattern)","__updatePathOnDataChange(data.*)","__tailPathChanged(tail.path)","__routeQueryParamsChanged(route.__queryParams)","__tailQueryParamsChanged(tail.__queryParams)","__queryParamsChanged(queryParams.*)"],created:function created(){this.linkPaths("route.__queryParams","tail.__queryParams");this.linkPaths("tail.__queryParams","route.__queryParams")},__routeQueryParamsChanged:function __routeQueryParamsChanged(queryParams){if(queryParams&&this.tail){if(this.tail.__queryParams!==queryParams){this.set("tail.__queryParams",queryParams)}if(!this.active||this._queryParamsUpdating){return}var copyOfQueryParams={},anythingChanged=!1;for(var key in queryParams){copyOfQueryParams[key]=queryParams[key];if(anythingChanged||!this.queryParams||queryParams[key]!==this.queryParams[key]){anythingChanged=!0}}for(var key in this.queryParams){if(anythingChanged||!(key in queryParams)){anythingChanged=!0;break}}if(!anythingChanged){return}this._queryParamsUpdating=!0;this.set("queryParams",copyOfQueryParams);this._queryParamsUpdating=!1}},__tailQueryParamsChanged:function __tailQueryParamsChanged(queryParams){if(queryParams&&this.route&&this.route.__queryParams!=queryParams){this.set("route.__queryParams",queryParams)}},__queryParamsChanged:function __queryParamsChanged(changes){if(!this.active||this._queryParamsUpdating){return}this.set("route.__"+changes.path,changes.value)},__resetProperties:function __resetProperties(){this._setActive(!1);this._matched=null},__tryToMatch:function __tryToMatch(){if(!this.route){return}var path=this.route.path,pattern=this.pattern;if(!pattern){return}if(!path){this.__resetProperties();return}for(var remainingPieces=path.split("/"),patternPieces=pattern.split("/"),matched=[],namedMatches={},i=0,patternPiece;i<patternPieces.length;i++){patternPiece=patternPieces[i];if(!patternPiece&&""!==patternPiece){break}var pathPiece=remainingPieces.shift();if(!pathPiece&&""!==pathPiece){this.__resetProperties();return}matched.push(pathPiece);if(":"==patternPiece.charAt(0)){namedMatches[patternPiece.slice(1)]=pathPiece}else if(patternPiece!==pathPiece){this.__resetProperties();return}}this._matched=matched.join("/");var propertyUpdates={};if(!this.active){propertyUpdates.active=!0}var tailPrefix=this.route.prefix+this._matched,tailPath=remainingPieces.join("/");if(0<remainingPieces.length){tailPath="/"+tailPath}if(!this.tail||this.tail.prefix!==tailPrefix||this.tail.path!==tailPath){propertyUpdates.tail={prefix:tailPrefix,path:tailPath,__queryParams:this.route.__queryParams}}propertyUpdates.data=namedMatches;this._dataInUrl={};for(var key in namedMatches){this._dataInUrl[key]=namedMatches[key]}if(this.setProperties){if(!this.active){this._setActive(!0)}this.setProperties(propertyUpdates)}else{this.__setMulti(propertyUpdates)}},__tailPathChanged:function __tailPathChanged(path){if(!this.active){return}var tailPath=path,newPath=this._matched;if(tailPath){if("/"!==tailPath.charAt(0)){tailPath="/"+tailPath}newPath+=tailPath}this.set("route.path",newPath)},__updatePathOnDataChange:function __updatePathOnDataChange(){if(!this.route||!this.active){return}var newPath=this.__getLink({}),oldPath=this.__getLink(this._dataInUrl);if(newPath===oldPath){return}this.set("route.path",newPath)},__getLink:function __getLink(overrideValues){var values={tail:null};for(var key in this.data){values[key]=this.data[key]}for(var key in overrideValues){values[key]=overrideValues[key]}var patternPieces=this.pattern.split("/"),interp=patternPieces.map(function(value){if(":"==value[0]){value=values[value.slice(1)]}return value},this);if(values.tail&&values.tail.path){if(0<interp.length&&"/"===values.tail.path.charAt(0)){interp.push(values.tail.path.slice(1))}else{interp.push(values.tail.path)}}return interp.join("/")},__setMulti:function __setMulti(setObj){for(var property in setObj){this._propertySetter(property,setObj[property])}if(setObj.data!==void 0){this._pathEffector("data",this.data);this._notifyChange("data")}if(setObj.active!==void 0){this._pathEffector("active",this.active);this._notifyChange("active")}if(setObj.tail!==void 0){this._pathEffector("tail",this.tail);this._notifyChange("tail")}}})})();</script><script>(function(){var ORPHANS=new Set;Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function created(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this)},attached:function attached(){this._requestResizeNotifications()},detached:function detached(){if(this._parentResizable){this._parentResizable.stopResizeNotificationsFor(this)}else{ORPHANS.delete(this);window.removeEventListener("resize",this._boundNotifyResize)}this._parentResizable=null},notifyResize:function notifyResize(){if(!this.isAttached){return}this._interestedResizables.forEach(function(resizable){if(this.resizerShouldNotify(resizable)){this._notifyDescendant(resizable)}},this);this._fireResize()},assignParentResizable:function assignParentResizable(parentResizable){if(this._parentResizable){this._parentResizable.stopResizeNotificationsFor(this)}this._parentResizable=parentResizable;if(parentResizable&&-1===parentResizable._interestedResizables.indexOf(this)){parentResizable._interestedResizables.push(this);parentResizable.listen(this,"iron-resize","_onDescendantIronResize")}},stopResizeNotificationsFor:function stopResizeNotificationsFor(target){var index=this._interestedResizables.indexOf(target);if(-1<index){this._interestedResizables.splice(index,1);this.unlisten(target,"iron-resize","_onDescendantIronResize")}},resizerShouldNotify:function resizerShouldNotify(){return!0},_onDescendantIronResize:function _onDescendantIronResize(event){if(this._notifyingDescendant){event.stopPropagation();return}if(!Polymer.Settings.useShadow){this._fireResize()}},_fireResize:function _fireResize(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function _onIronRequestResizeNotifications(event){var target=Polymer.dom(event).rootTarget;if(target===this){return}target.assignParentResizable(this);this._notifyDescendant(target);event.stopPropagation()},_parentResizableChanged:function _parentResizableChanged(parentResizable){if(parentResizable){window.removeEventListener("resize",this._boundNotifyResize)}},_notifyDescendant:function _notifyDescendant(descendant){if(!this.isAttached){return}this._notifyingDescendant=!0;descendant.notifyResize();this._notifyingDescendant=!1},_requestResizeNotifications:function(){if(!this.isAttached)return;if("loading"===document.readyState){var _requestResizeNotifications=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function readystatechanged(){document.removeEventListener("readystatechange",readystatechanged);_requestResizeNotifications()})}else{this._findParent();if(!this._parentResizable){ORPHANS.forEach(function(orphan){if(orphan!==this){orphan._findParent()}},this);window.addEventListener("resize",this._boundNotifyResize);this.notifyResize()}else{this._parentResizable._interestedResizables.forEach(function(resizable){if(resizable!==this){resizable._findParent()}},this)}}},_findParent:function _findParent(){this.assignParentResizable(null);this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});if(!this._parentResizable){ORPHANS.add(this)}else{ORPHANS.delete(this)}}}})();</script><script>Polymer.IronSelection=function(selectCallback){this.selection=[];this.selectCallback=selectCallback};Polymer.IronSelection.prototype={get:function get(){return this.multi?this.selection.slice():this.selection[0]},clear:function clear(excludes){this.selection.slice().forEach(function(item){if(!excludes||0>excludes.indexOf(item)){this.setItemSelected(item,!1)}},this)},isSelected:function isSelected(item){return 0<=this.selection.indexOf(item)},setItemSelected:function setItemSelected(item,isSelected){if(null!=item){if(isSelected!==this.isSelected(item)){if(isSelected){this.selection.push(item)}else{var i=this.selection.indexOf(item);if(0<=i){this.selection.splice(i,1)}}if(this.selectCallback){this.selectCallback(item,isSelected)}}}},select:function select(item){if(this.multi){this.toggle(item)}else if(this.get()!==item){this.setItemSelected(this.get(),!1);this.setItemSelected(item,!0)}},toggle:function toggle(item){this.setItemSelected(item,!this.isSelected(item))}};</script><script>Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function value(){return[]}},_excludedLocalNames:{type:Object,value:function value(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function created(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function attached(){this._observer=this._observeItems(this);this._addListener(this.activateEvent)},detached:function detached(){if(this._observer){Polymer.dom(this).unobserveNodes(this._observer)}this._removeListener(this.activateEvent)},indexOf:function indexOf(item){return this.items?this.items.indexOf(item):-1},select:function select(value){this.selected=value},selectPrevious:function selectPrevious(){var length=this.items.length,index=(+this._valueToIndex(this.selected)-1+length)%length;this.selected=this._indexToValue(index)},selectNext:function selectNext(){var index=(+this._valueToIndex(this.selected)+1)%this.items.length;this.selected=this._indexToValue(index)},selectIndex:function selectIndex(index){this.select(this._indexToValue(index))},forceSynchronousItemUpdate:function forceSynchronousItemUpdate(){if(this._observer&&"function"===typeof this._observer.flush){this._observer.flush()}else{this._updateItems()}},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function _checkFallback(){this._updateSelected()},_addListener:function _addListener(eventName){this.listen(this,eventName,"_activateHandler")},_removeListener:function _removeListener(eventName){this.unlisten(this,eventName,"_activateHandler")},_activateEventChanged:function _activateEventChanged(eventName,old){this._removeListener(old);this._addListener(eventName)},_updateItems:function _updateItems(){var nodes=Polymer.dom(this).queryDistributedElements(this.selectable||"*");nodes=Array.prototype.filter.call(nodes,this._bindFilterItem);this._setItems(nodes)},_updateAttrForSelected:function _updateAttrForSelected(){if(this.selectedItem){this.selected=this._valueForItem(this.selectedItem)}},_updateSelected:function _updateSelected(){this._selectSelected(this.selected)},_selectSelected:function _selectSelected(){if(!this.items){return}var item=this._valueToItem(this.selected);if(item){this._selection.select(item)}else{this._selection.clear()}if(this.fallbackSelection&&this.items.length&&this._selection.get()===void 0){this.selected=this.fallbackSelection}},_filterItem:function _filterItem(node){return!this._excludedLocalNames[node.localName]},_valueToItem:function _valueToItem(value){return null==value?null:this.items[this._valueToIndex(value)]},_valueToIndex:function _valueToIndex(value){if(this.attrForSelected){for(var i=0,item;item=this.items[i];i++){if(this._valueForItem(item)==value){return i}}}else{return+value}},_indexToValue:function _indexToValue(index){if(this.attrForSelected){var item=this.items[index];if(item){return this._valueForItem(item)}}else{return index}},_valueForItem:function _valueForItem(item){if(!item){return null}if(!this.attrForSelected){var i=this.indexOf(item);return-1===i?null:i}var propValue=item[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return propValue!=void 0?propValue:item.getAttribute(this.attrForSelected)},_applySelection:function _applySelection(item,isSelected){if(this.selectedClass){this.toggleClass(this.selectedClass,isSelected,item)}if(this.selectedAttribute){this.toggleAttribute(this.selectedAttribute,isSelected,item)}this._selectionChange();this.fire("iron-"+(isSelected?"select":"deselect"),{item:item})},_selectionChange:function _selectionChange(){this._setSelectedItem(this._selection.get())},_observeItems:function _observeItems(node){return Polymer.dom(node).observeNodes(function(mutation){this._updateItems();this._updateSelected();this.fire("iron-items-changed",mutation,{bubbles:!1,cancelable:!1})})},_activateHandler:function _activateHandler(e){var t=e.target,items=this.items;while(t&&t!=this){var i=items.indexOf(t);if(0<=i){var value=this._indexToValue(i);this._itemActivate(value,t);return}t=t.parentNode}},_itemActivate:function _itemActivate(value,item){if(!this.fire("iron-activate",{selected:value,item:item},{cancelable:!0}).defaultPrevented){this.select(value)}}};</script><dom-module id="iron-pages" assetpath="../bower_components/iron-pages/"><template><style>:host{display:block;}:host > ::slotted(:not(.iron-selected)){display:none !important;}</style><slot></slot></template><script>Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function _selectedPageChanged(){this.async(this.notifyResize)}});</script></dom-module><script>var firebase=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r;if(void 0!==e)r=e;else if("undefined"!=typeof self)r=self;else try{r=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var i=r.Promise||n(8);t.local={Promise:i,GoogPromise:i}}).call(t,n(1))},function(e){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"===typeof window?"undefined":babelHelpers.typeof(window))&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=(0,r.createFirebaseNamespace)();t.default=i,e.exports=t.default},function(e,t){"use strict";function i(e,t){if(!babelHelpers.instanceof(t,Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t;}for(var n in t){t.hasOwnProperty(n)&&(e[n]=i(e[n],t[n]))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=function(e){return i(void 0,e)},t.deepExtend=i,t.patchProperty=function(e,t,n){e[t]=n}},function(e,t){"use strict";function r(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=a;return a=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0,r;n<t.length;n++){r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.patchCapture=i;var a=Error.captureStackTrace,c=function e(t,n){if(r(this,e),this.code=t,this.message=n,a)a(this,s.prototype.create);else{var i=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function get(){return i.stack}})}};c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="FirebaseError";var s=t.ErrorFactory=function(){function e(t,n,i){r(this,e),this.service=t,this.serviceName=n,this.errors=i,this.pattern=/\{\$([^}]+)}/g}return o(e,[{key:"create",value:function value(e,t){void 0===t&&(t={});var n=this.errors[e],r=this.service+"/"+e,i;i=void 0===n?"Error":n.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),i=this.serviceName+": "+i+" ("+r+").";var o=new c(r,i);for(var a in t){t.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=t[a])}return o}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function i(){function e(e){e=e||d;var t=r[e];return void 0===t&&o("no-app",{name:e}),t}function t(e,t){Object.keys(a).forEach(function(r){var i=n(e,r);null!==i&&h[i]&&h[i](t,e)})}function n(e,t){if("serverAuth"===t)return null;var n=t,r=e.options;return"auth"===t&&(r.serviceAccount||r.credential)&&(n="serverAuth","serverAuth"in a||o("sa-not-supported")),n}var r={},a={},h={},v={__esModule:!0,initializeApp:function initializeApp(e,n){void 0===n?n=d:"string"==typeof n&&""!==n||o("bad-app-name",{name:n+""}),void 0!==r[n]&&o("duplicate-app",{name:n});var i=new p(e,n,v);return r[n]=i,t(i,"create"),void 0!=i.INTERNAL&&void 0!=i.INTERNAL.getToken||(0,c.deepExtend)(i,{INTERNAL:{getUid:function getUid(){return null},getToken:function getToken(){return l.resolve(null)},addAuthTokenListener:function addAuthTokenListener(){},removeAuthTokenListener:function removeAuthTokenListener(){}}}),i},app:e,apps:null,Promise:l,SDK_VERSION:"3.9.0",INTERNAL:{registerService:function registerService(t,n,r,i,s){a[t]&&o("duplicate-service",{name:t}),a[t]=s?n:function(e,t){return n(e,t,d)},i&&(h[t]=i);var u;return u=function(n){return void 0===n&&(n=e()),"function"!=typeof n[t]&&o("invalid-app-argument",{name:t}),n[t]()},void 0!==r&&(0,c.deepExtend)(u,r),v[t]=u,u},createFirebaseNamespace:i,extendNamespace:function extendNamespace(e){(0,c.deepExtend)(v,e)},createSubscribe:s.createSubscribe,ErrorFactory:u.ErrorFactory,removeApp:function removeApp(e){t(r[e],"delete"),delete r[e]},factories:a,useAsService:n,Promise:f.local.GoogPromise,deepExtend:c.deepExtend}};return(0,c.patchProperty)(v,"default",v),Object.defineProperty(v,"apps",{get:function get(){return Object.keys(r).map(function(e){return r[e]})}}),(0,c.patchProperty)(e,"App",p),v}function o(e,t){throw v.create(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0,r;n<t.length;n++){r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createFirebaseNamespace=i;var c=n(3),s=n(6),u=n(4),f=n(0),l=f.local.Promise,d="[DEFAULT]",p=function(){function e(t,n,i){var o=this;r(this,e),this.firebase_=i,this.isDeleted_=!1,this.services_={},this.name_=n,this.options_=(0,c.deepCopy)(t);var a="credential"in this.options_,s="serviceAccount"in this.options_;if(a||s){var u=s?"serviceAccount":"credential";"undefined"!=typeof console&&console.log("The '"+u+"' property specified in the first argument to initializeApp() is deprecated and will be removed in the next major version. You should instead use the 'firebase-admin' package. See https://firebase.google.com/docs/admin/setup for details on how to get started.")}Object.keys(i.INTERNAL.factories).forEach(function(e){var t=i.INTERNAL.useAsService(o,e);if(null!==t){var n=o.getService.bind(o,t);(0,c.patchProperty)(o,e,n)}})}return a(e,[{key:"delete",value:function value(){var e=this;return new l(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),l.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})}},{key:"getService",value:function value(e,t){this.checkDestroyed_(),void 0===this.services_[e]&&(this.services_[e]={});var n=t||d;if(void 0===this.services_[e][n]){var r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),t);return this.services_[e][n]=r,r}return this.services_[e][n]}},{key:"extendApp",value:function value(e){(0,c.deepExtend)(this,e)}},{key:"checkDestroyed_",value:function value(){this.isDeleted_&&o("app-deleted",{name:this.name_})}},{key:"name",get:function get(){return this.checkDestroyed_(),this.name_}},{key:"options",get:function get(){return this.checkDestroyed_(),this.options_}}]),e}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=new u.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."})},function(e,t,n){"use strict";function r(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("object"!==(void 0===e?"undefined":s(e))||null===e)return!1;var n=!0,r=!1,i;try{for(var o,a=t[Symbol.iterator](),c;!(n=(o=a.next()).done);n=!0){c=o.value;if(c in e&&"function"==typeof e[c])return!0}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return!1}function c(){}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==babelHelpers.typeof(Symbol.iterator)?function(e){return babelHelpers.typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":babelHelpers.typeof(e)},u=function(){function e(e,t){for(var n=0,r;n<t.length;n++){r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createSubscribe=function(e,t){var n=new d(e,t);return n.subscribe.bind(n)},t.async=function(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++){r[i]=arguments[i]}l.resolve(!0).then(function(){e.apply(void 0,r)}).catch(function(e){t&&t(e)})}};var f=n(0),l=f.local.Promise,d=function(){function e(t,n){var i=this;r(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=l.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(e){i.error(e)})}return u(e,[{key:"next",value:function value(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function value(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function value(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function value(e,t,n){var r=this,i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=a(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=c),void 0===i.error&&(i.error=c),void 0===i.complete&&(i.complete=c);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}}),this.observers.push(i),o}},{key:"unsubscribeOne",value:function value(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function value(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++){this.sendOne(t,e)}}},{key:"sendOne",value:function value(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}},{key:"close",value:function value(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}()},function(e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function o(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){v&&p&&(v=!1,p.length?h=p.concat(h):m=-1,h.length&&c())}function c(){if(!v){var e=i(a);v=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;){p&&p[m].run()}m=-1,t=h.length}p=null,v=!1,o(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var f,l,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var p,h=[],v=!1,m=-1;d.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}h.push(new s(e,t)),1!==h.length||v||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(t){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=babelHelpers.typeof(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function a(e,t){for(;3===e._state;){e=e._value}if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?c:s)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}c(t.promise,r)})}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==babelHelpers.typeof(t)||"function"==typeof t)){var n=t.then;if(babelHelpers.instanceof(t,o))return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void l(i(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++){a(e,e._deferreds[t])}e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var d=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new f(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(o,a){try{if(a&&("object"==babelHelpers.typeof(a)||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(e){r(o,e)},n)}t[o]=a,0==--i&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++){r(o,t[o])}})},o.resolve=function(e){return e&&"object"==babelHelpers.typeof(e)&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++){e[r].then(t,n)}})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){d(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(t,n(10).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=Array(arguments.length-1),n=0;n<t.length;n++){t[n]=arguments[n+1]}var r={callback:e,args:t};return u[s]=r,c(s),s++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r);}}function a(e){if(f)setTimeout(a,0,e);else{var t=u[e];if(t){f=!0;try{o(t)}finally{i(e),f=!1}}}}if(!e.setImmediate){var c,s=1,u={},f=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){c=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(_n){_n.source===e&&"string"==typeof _n.data&&0===_n.data.indexOf(t)&&a(+_n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),c=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},c=function(t){e.port2.postMessage(t)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var e=l.documentElement;c=function(t){var n=l.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){c=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(1),n(7))},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(9),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){e.exports=n(2)}]);</script><script>(function(){var _Mathpow=Math.pow,_Mathmin=Math.min,_Mathfloor=Math.floor,_Mathlog=Math.log,_Mathmax=Math.max,g,aa=this;function n(a){return void 0!==a}function ba(){}function ca(a){a.Vb=function(){return a.Ye?a.Ye:a.Ye=new a}}function da(a){var b=babelHelpers.typeof(a);if("object"==b){if(a){if(babelHelpers.instanceof(a,Array))return"array";if(babelHelpers.instanceof(a,Object))return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=babelHelpers.typeof(a);return"object"==b&&null!=a||"function"==b}function ja(a){return a.call.apply(a.bind,arguments)}function ka(a,b){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return q.apply(null,arguments)}function la(a,b){function c(){}c.prototype=b.prototype;a.wg=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.sg=function(a,c){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++){h[k-2]=arguments[k]}return b.prototype[c].apply(a,h)}}function ma(a){a=a+"";if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function na(){this.Fd=void 0}function oa(a,b,c){switch(babelHelpers.typeof(b)){case"string":pa(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case"boolean":c.push(b);break;case"undefined":c.push("null");break;case"object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++){c.push(e),e=b[f],oa(a,a.Fd?a.Fd.call(b,f+"",e):e,c),e=","}c.push("]");break}c.push("{");d="";for(f in b){Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),pa(f,c),c.push(":"),oa(a,a.Fd?a.Fd.call(b,f,e):e,c),d=","))}c.push("}");break;case"function":break;default:throw Error("Unknown type: "+babelHelpers.typeof(b));}}var qa={'"':"\\\"","\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},ra=/\uffff/.test("\uFFFF")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function pa(a,b){b.push("\"",a.replace(ra,function(a){if(a in qa)return qa[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return qa[a]=e+b.toString(16)}),"\"")}function sa(){this.Wa=-1}function ta(){this.Wa=-1;this.Wa=64;this.M=[];this.Wd=[];this.Af=[];this.zd=[];this.zd[0]=128;for(var a=1;a<this.Wa;++a){this.zd[a]=0}this.Pd=this.$b=0;this.reset()}la(ta,sa);ta.prototype.reset=function(){this.M[0]=1732584193;this.M[1]=4023233417;this.M[2]=2562383102;this.M[3]=271733878;this.M[4]=3285377520;this.Pd=this.$b=0};function ua(a,b,c){c||(c=0);var d=a.Af;if(p(b))for(var e=0;16>e;e++){d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4}else for(e=0;16>e;e++){d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4}for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=4294967295&(f<<1|f>>>31)}b=a.M[0];c=a.M[1];for(var h=a.M[2],k=a.M[3],m=a.M[4],l,e=0;80>e;e++){40>e?20>e?(f=k^c&(h^k),l=1518500249):(f=c^h^k,l=1859775393):60>e?(f=c&h|k&(c|h),l=2400959708):(f=c^h^k,l=3395469782),f=4294967295&(b<<5|b>>>27)+f+m+l+d[e],m=k,k=h,h=4294967295&(c<<30|c>>>2),c=b,b=f}a.M[0]=4294967295&a.M[0]+b;a.M[1]=4294967295&a.M[1]+c;a.M[2]=4294967295&a.M[2]+h;a.M[3]=4294967295&a.M[3]+k;a.M[4]=4294967295&a.M[4]+m}ta.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.Wa,d=0,e=this.Wd,f=this.$b;d<b;){if(0==f)for(;d<=c;){ua(this,a,d),d+=this.Wa}if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Wa){ua(this,e);f=0;break}}else for(;d<b;){if(e[f]=a[d],++f,++d,f==this.Wa){ua(this,e);f=0;break}}}this.$b=f;this.Pd+=b}};var r;a:{var va=aa.navigator;if(va){var wa=va.userAgent;if(wa){r=wa;break a}}r=""}var t=Array.prototype,xa=t.indexOf?function(a,b,c){return t.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?_Mathmax(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++){if(c in a&&a[c]===b)return c}return-1},ya=t.forEach?function(a,b,c){t.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++){f in e&&b.call(c,e[f],f,a)}},za=t.filter?function(a,b,c){return t.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=p(a)?a.split(""):a,k=0;k<d;k++){if(k in h){var m=h[k];b.call(c,m,k,a)&&(e[f++]=m)}}return e},Aa=t.map?function(a,b,c){return t.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,h=0;h<d;h++){h in f&&(e[h]=b.call(c,f[h],h,a))}return e},Ba=t.reduce?function(a,b,c,d){for(var e=[],f=1,h=arguments.length;f<h;f++){e.push(arguments[f])}d&&(e[0]=q(b,d));return t.reduce.apply(a,e)}:function(a,b,c,d){var e=c;ya(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Ca=t.every?function(a,b,c){return t.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++){if(f in e&&!b.call(c,e[f],f,a))return!1}return!0};function Da(a,b){var c=Ea(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Ea(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++){if(f in e&&b.call(c,e[f],f,a))return f}return-1}function Fa(a,b){var c=xa(a,b);0<=c&&t.splice.call(a,c,1)}function Ga(a,b,c){return 2>=arguments.length?t.slice.call(a,b):t.slice.call(a,b,c)}function Ha(a,b){a.sort(b||Ia)}function Ia(a,b){return a>b?1:a<b?-1:0}function v(a,b){for(var c in a){b.call(void 0,a[c],c,a)}}function Ja(a,b){var c={},d;for(d in a){c[d]=b.call(void 0,a[d],d,a)}return c}function Ka(a,b){for(var c in a){if(!b.call(void 0,a[c],c,a))return!1}return!0}function La(a){var b=0,c;for(c in a){b++}return b}function Ma(a){for(var b in a){return b}}function Na(a){var b=[],c=0,d;for(d in a){b[c++]=a[d]}return b}function Oa(a){var b=[],c=0,d;for(d in a){b[c++]=d}return b}function Pa(a,b){for(var c in a){if(a[c]==b)return!0}return!1}function Qa(a,b,c){for(var d in a){if(b.call(c,a[d],d,a))return d}}function Ra(a,b){var c=Qa(a,b,void 0);return c&&a[c]}function Sa(a){for(var b in a){return!1}return!0}function Ta(a){var b={},c;for(c in a){b[c]=a[c]}return b}var Ua=-1!=r.indexOf("Opera")||-1!=r.indexOf("OPR"),Va=-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE"),Wa=-1!=r.indexOf("Gecko")&&-1==r.toLowerCase().indexOf("webkit")&&!(-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE")),Xa=-1!=r.toLowerCase().indexOf("webkit");(function(){var a="",b;if(Ua&&aa.opera)return a=aa.opera.version,ha(a)?a():a;Wa?b=/rv\:([^\);]+)(\)|;)/:Va?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(r))?a[1]:"");return Va&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?b+"":a})();var Ya=null,Za=null,$a=null;function ab(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");bb();for(var c=b?Za:Ya,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,k=h?a[e+1]:0,m=e+2<a.length,l=m?a[e+2]:0,u=f>>2,f=(3&f)<<4|k>>4,k=(15&k)<<2|l>>6,l=63&l;m||(l=64,h||(k=64));d.push(c[u],c[f],c[k],c[l])}return d.join("")}function bb(){if(!Ya){Ya={};Za={};$a={};for(var a=0;65>a;a++){Ya[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Za[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),$a[Za[a]]=a,62<=a&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}}}function cb(a,b){if(!a)throw db(b)}function db(a){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)}function eb(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function w(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function fb(a,b){for(var c in a){Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}}function gb(a){var b=[];fb(a,function(a,d){ea(d)?ya(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}var hb=firebase.Promise;function ib(){var a=this;this.reject=this.resolve=null;this.ra=new hb(function(b,c){a.resolve=b;a.reject=c})}function jb(a,b){return function(c,d){c?a.reject(c):a.resolve(d);ha(b)&&(kb(a.ra),1===b.length?b(c):b(c,d))}}function kb(a){a.then(void 0,ba)}function lb(a){return"undefined"!==typeof JSON&&n(JSON.parse)?JSON.parse(a):ma(a)}function x(a){if("undefined"!==typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];oa(new na,a,b);a=b.join("")}return a}function mb(a){for(var b=[],c=0,d=0,e;d<a.length;d++){e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,cb(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=192|e>>6:(65536>e?b[c++]=224|e>>12:(b[c++]=240|e>>18,b[c++]=128|63&e>>12),b[c++]=128|63&e>>6),b[c++]=128|63&e)}return b}function nb(a){for(var b=0,c=0,d;c<a.length;c++){d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b}function y(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".")}function A(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}function B(a,b,c,d){if((!d||n(c))&&!ha(c))throw Error(A(a,b,d)+"must be a valid function.")}function ob(a,b,c){if(n(c)&&(!ia(c)||null===c))throw Error(A(a,b,!0)+"must be a valid context object.")}function pb(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:"")}function C(a,b){this.name=a;this.R=b}function qb(a,b){return new C(a,b)}function rb(a,b){return sb(a.name,b.name)}function tb(a,b){return sb(a,b)}function ub(a){this.uc=a;this.Cd="firebase:"}g=ub.prototype;g.set=function(a,b){null==b?this.uc.removeItem(this.Cd+a):this.uc.setItem(this.Cd+a,x(b))};g.get=function(a){a=this.uc.getItem(this.Cd+a);return null==a?null:lb(a)};g.remove=function(a){this.uc.removeItem(this.Cd+a)};g.Ze=!1;g.toString=function(){return this.uc.toString()};function vb(){this.pc={}}vb.prototype.set=function(a,b){null==b?delete this.pc[a]:this.pc[a]=b};vb.prototype.get=function(a){return eb(this.pc,a)?this.pc[a]:null};vb.prototype.remove=function(a){delete this.pc[a]};vb.prototype.Ze=!0;function wb(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new ub(b)}}catch(c){}return new vb}var xb=wb("localStorage"),yb=wb("sessionStorage");function zb(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.Sc=b;this.pe=c;this.qg=d;this.gf=e||"";this.$a=xb.get("host:"+a)||this.host}function Ab(a,b){b!==a.$a&&(a.$a=b,"s-"===a.$a.substr(0,2)&&xb.set("host:"+a.host,a.$a))}function Bb(a,b,c){D("string"===typeof b,"typeof type must == string");D("object"===babelHelpers.typeof(c),"typeof params must == object");if(b===Cb)b=(a.Sc?"wss://":"ws://")+a.$a+"/.ws?";else if(b===Db)b=(a.Sc?"https://":"http://")+a.$a+"/.lp?";else throw Error("Unknown connection type: "+b);a.host!==a.$a&&(c.ns=a.pe);var d=[];v(c,function(a,b){d.push(b+"="+a)});return b+d.join("&")}zb.prototype.toString=function(){var a=(this.Sc?"https://":"http://")+this.host;this.gf&&(a+="<"+this.gf+">");return a};function Eb(a,b){return a&&"object"===babelHelpers.typeof(a)?(D(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Fb(a,b){var c=new Gb;Hb(a,new E(""),function(a,e){Ib(c,a,Jb(e,b))});return c}function Jb(a,b){var c=a.C().H(),c=Eb(c,b),d;if(a.J()){var e=Eb(a.Ca(),b);return e!==a.Ca()||c!==a.C().H()?new Kb(e,G(c)):a}d=a;c!==a.C().H()&&(d=d.fa(new Kb(c)));a.O(H,function(a,c){var e=Jb(c,b);e!==c&&(d=d.T(a,e))});return d}var Lb=function(){var a=1;return function(){return a++}}(),D=cb,Mb=db;function Nb(a){var _StringfromCharCode=String.fromCharCode;try{var b;bb();for(var c=$a,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],h=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var m=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==h||null==k||null==m)throw Error();d.push(f<<2|h>>4);64!=k&&(d.push(240&h<<4|k>>2),64!=m&&d.push(192&k<<6|m))}if(8192>d.length)b=_StringfromCharCode.apply(null,d);else{a="";for(c=0;c<d.length;c+=8192){a+=_StringfromCharCode.apply(null,Ga(d,c,c+8192))}b=a}return b}catch(l){I("base64Decode failed: ",l)}return null}function Ob(a){var b=mb(a);a=new ta;a.update(b);var b=[],c=8*a.Pd;56>a.$b?a.update(a.zd,56-a.$b):a.update(a.zd,a.Wa-(a.$b-56));for(var d=a.Wa-1;56<=d;d--){a.Wd[d]=255&c,c/=256}ua(a,a.Wd);for(d=c=0;5>d;d++){for(var e=24;0<=e;e-=8){b[c]=255&a.M[d]>>e,++c}}return ab(b)}function Pb(){for(var b="",c=0;c<arguments.length;c++){b=fa(arguments[c])?b+Pb.apply(null,arguments[c]):"object"===babelHelpers.typeof(arguments[c])?b+x(arguments[c]):b+arguments[c],b+=" "}return b}var Qb=null,Rb=!0;function Sb(a,b){cb(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?Qb=q(console.log,console):"object"===babelHelpers.typeof(console.log)&&(Qb=function(a){console.log(a)})),b&&yb.set("logging_enabled",!0)):ha(a)?Qb=a:(Qb=null,yb.remove("logging_enabled"))}function I(){!0===Rb&&(Rb=!1,null===Qb&&!0===yb.get("logging_enabled")&&Sb(!0));if(Qb){var b=Pb.apply(null,arguments);Qb(b)}}function Tb(a){return function(){I(a,arguments)}}function Ub(){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+Pb.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function Vb(){var b=Pb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b)}function J(){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+Pb.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}function Wb(a){var b,c,d,e,f,h=a;f=c=a=b="";d=!0;e="https";if(p(h)){var k=h.indexOf("//");0<=k&&(e=h.substring(0,k-1),h=h.substring(k+2));k=h.indexOf("/");-1===k&&(k=h.length);b=h.substring(0,k);f="";h=h.substring(k).split("/");for(k=0;k<h.length;k++){if(0<h[k].length){var m=h[k];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(l){}f+="/"+m}}h=b.split(".");3===h.length?(a=h[1],c=h[0].toLowerCase()):2===h.length&&(a=h[0]);k=b.indexOf(":");0<=k&&(d="https"===e||"wss"===e)}"firebase"===a&&Vb(b+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c&&"undefined"!=c||Vb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&J("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");return{jc:new zb(b,d,c,"ws"===e||"wss"===e),path:new E(f)}}function Xb(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Yb(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}function sb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=Zb(a),d=Zb(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function $b(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+x(b))}function ac(a){if("object"!==babelHelpers.typeof(a)||null===a)return x(a);var b=[],c;for(c in a){b.push(c)}b.sort();c="{";for(var d=0;d<b.length;d++){0!==d&&(c+=","),c+=x(b[d]),c+=":",c+=ac(a[b[d]])}return c+"}"}function bc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b){d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b))}return c}function cc(a,b){if(ea(a))for(var c=0;c<a.length;++c){b(c,a[c])}else v(a,b)}function dc(a){var _Mathround=Math.round;D(!Xb(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),2.2250738585072014e-308<=a?(d=_Mathmin(_Mathfloor(_Mathlog(a)/Math.LN2),1023),c=d+1023,d=_Mathround(a*_Mathpow(2,52-d)-4503599627370496)):(c=0,d=_Mathround(a/5e-324)));e=[];for(a=52;a;--a){e.push(d%2?1:0),d=_Mathfloor(d/2)}for(a=11;a;--a){e.push(c%2?1:0),c=_Mathfloor(c/2)}e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8){d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&(d="0"+d),c+=d}return c.toLowerCase()}var ec=/^-?\d{1,10}$/;function Zb(a){return ec.test(a)&&(a=+a,-2147483648<=a&&2147483647>=a)?a:null}function fc(a){try{a()}catch(b){setTimeout(function(){J("Exception was thrown by user callback.",b.stack||"");throw b},0)}}function gc(a,b,c){Object.defineProperty(a,b,{get:c})}function hc(a,b){var c=setTimeout(a,b);"object"===babelHelpers.typeof(c)&&c.unref&&c.unref();return c}function ic(a){var b={},c={},d={},e="";try{var f=a.split("."),b=lb(Nb(f[0])||""),c=lb(Nb(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(h){}return{tg:b,Je:c,data:d,mg:e}}function jc(a){a=ic(a);var b=a.Je;return!!a.mg&&!!b&&"object"===babelHelpers.typeof(b)&&b.hasOwnProperty("iat")}function kc(a){a=ic(a).Je;return"object"===babelHelpers.typeof(a)&&!0===w(a,"admin")}function lc(){}var mc={};function nc(a){return q(a.compare,a)}lc.prototype.nd=function(a,b){return 0!==this.compare(new C("[MIN_NAME]",a),new C("[MIN_NAME]",b))};lc.prototype.Hc=function(){return oc};function pc(a){D(!a.e()&&".priority"!==K(a),"Can't create PathIndex with empty path or .priority key");this.bc=a}la(pc,lc);g=pc.prototype;g.xc=function(a){return!a.P(this.bc).e()};g.compare=function(a,b){var c=a.R.P(this.bc),d=b.R.P(this.bc),c=c.sc(d);return 0===c?sb(a.name,b.name):c};g.Ec=function(a,b){var c=G(a),c=L.F(this.bc,c);return new C(b,c)};g.Fc=function(){var a=L.F(this.bc,qc);return new C("[MAX_NAME]",a)};g.toString=function(){return this.bc.slice().join("/")};function rc(){}la(rc,lc);g=rc.prototype;g.compare=function(a,b){var c=a.R.C(),d=b.R.C(),c=c.sc(d);return 0===c?sb(a.name,b.name):c};g.xc=function(a){return!a.C().e()};g.nd=function(a,b){return!a.C().Z(b.C())};g.Hc=function(){return oc};g.Fc=function(){return new C("[MAX_NAME]",new Kb("[PRIORITY-POST]",qc))};g.Ec=function(a,b){var c=G(a);return new C(b,new Kb("[PRIORITY-POST]",c))};g.toString=function(){return".priority"};var H=new rc;function sc(){}la(sc,lc);g=sc.prototype;g.compare=function(a,b){return sb(a.name,b.name)};g.xc=function(){throw Mb("KeyIndex.isDefinedOn not expected to be called.")};g.nd=function(){return!1};g.Hc=function(){return oc};g.Fc=function(){return new C("[MAX_NAME]",L)};g.Ec=function(a){D(p(a),"KeyIndex indexValue must always be a string.");return new C(a,L)};g.toString=function(){return".key"};var tc=new sc;function uc(){}la(uc,lc);g=uc.prototype;g.compare=function(a,b){var c=a.R.sc(b.R);return 0===c?sb(a.name,b.name):c};g.xc=function(){return!0};g.nd=function(a,b){return!a.Z(b)};g.Hc=function(){return oc};g.Fc=function(){return vc};g.Ec=function(a,b){var c=G(a);return new C(b,c)};g.toString=function(){return".value"};var wc=new uc;function xc(a,b){this.od=a;this.cc=b}xc.prototype.get=function(a){var b=w(this.od,a);if(!b)throw Error("No index defined for "+a);return b===mc?null:b};function yc(a,b,c){var d=Ja(a.od,function(d,f){var h=w(a.cc,f);D(h,"Missing index implementation for "+f);if(d===mc){if(h.xc(b.R)){for(var k=[],m=c.Wb(qb),l=M(m);l;){l.name!=b.name&&k.push(l),l=M(m)}k.push(b);return zc(k,nc(h))}return mc}h=c.get(b.name);k=d;h&&(k=k.remove(new C(b.name,h)));return k.Oa(b,b.R)});return new xc(d,a.cc)}function Ac(a,b,c){var d=Ja(a.od,function(a){if(a===mc)return a;var d=c.get(b.name);return d?a.remove(new C(b.name,d)):a});return new xc(d,a.cc)}var Bc=new xc({".priority":mc},{".priority":H});function Kb(a,b){this.B=a;D(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value.");this.aa=b||L;Cc(this.aa);this.Db=null}var Dc=["object","boolean","number","string"];g=Kb.prototype;g.J=function(){return!0};g.C=function(){return this.aa};g.fa=function(a){return new Kb(this.B,a)};g.Q=function(a){return".priority"===a?this.aa:L};g.P=function(a){return a.e()?this:".priority"===K(a)?this.aa:L};g.Da=function(){return!1};g.Ve=function(){return null};g.T=function(a,b){return".priority"===a?this.fa(b):b.e()&&".priority"!==a?this:L.T(a,b).fa(this.aa)};g.F=function(a,b){var c=K(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;D(".priority"!==c||1===Ec(a),".priority must be the last token in a path");return this.T(c,L.F(N(a),b))};g.e=function(){return!1};g.Eb=function(){return 0};g.O=function(){return!1};g.H=function(a){return a&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()};g.hash=function(){if(null===this.Db){var a="";this.aa.e()||(a+="priority:"+Fc(this.aa.H())+":");var b=babelHelpers.typeof(this.B),a=a+(b+":"),a="number"===b?a+dc(this.B):a+this.B;this.Db=Ob(a)}return this.Db};g.Ca=function(){return this.B};g.sc=function(a){if(a===L)return 1;if(babelHelpers.instanceof(a,O))return-1;D(a.J(),"Unknown node type");var b=babelHelpers.typeof(a.B),c=babelHelpers.typeof(this.B),d=xa(Dc,b),e=xa(Dc,c);D(0<=d,"Unknown leaf type: "+b);D(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d};g.nb=function(){return this};g.yc=function(){return!0};g.Z=function(a){return a===this?!0:a.J()?this.B===a.B&&this.aa.Z(a.aa):!1};g.toString=function(){return x(this.H(!0))};function Gc(){this.set={}}g=Gc.prototype;g.add=function(a,b){this.set[a]=null!==b?b:!0};g.contains=function(a){return eb(this.set,a)};g.get=function(a){return this.contains(a)?this.set[a]:void 0};g.remove=function(a){delete this.set[a]};g.clear=function(){this.set={}};g.e=function(){return Sa(this.set)};g.count=function(){return La(this.set)};function Hc(a,b){v(a.set,function(a,d){b(d,a)})}g.keys=function(){var a=[];v(this.set,function(b,c){a.push(c)});return a};function Ic(a){D(ea(a)&&0<a.length,"Requires a non-empty array");this.Bf=a;this.Dc={}}Ic.prototype.Ge=function(a){var c=this.Dc[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++){e[f]=c[f]}c=e}else c=[];for(d=0;d<c.length;d++){c[d].Ie.apply(c[d].Ma,Array.prototype.slice.call(arguments,1))}};Ic.prototype.gc=function(a,b,c){Jc(this,a);this.Dc[a]=this.Dc[a]||[];this.Dc[a].push({Ie:b,Ma:c});(a=this.Ue(a))&&b.apply(c,a)};Ic.prototype.Ic=function(a,b,c){Jc(this,a);a=this.Dc[a]||[];for(var d=0;d<a.length;d++){if(a[d].Ie===b&&(!c||c===a[d].Ma)){a.splice(d,1);break}}};function Jc(a,b){D(Da(a.Bf,function(a){return a===b}),"Unknown event: "+b)}var Kc=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--){e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=_Mathfloor(c/64)}D(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--){b[f]=0}b[f]++}else for(f=0;12>f;f++){b[f]=_Mathfloor(64*Math.random())}for(f=0;12>f;f++){c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f])}D(20===c.length,"nextPushId: Length should be 20.");return c}}();function Lc(){Ic.call(this,["online"]);this.hc=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&!pb()){var a=this;window.addEventListener("online",function(){a.hc||(a.hc=!0,a.Ge("online",!0))},!1);window.addEventListener("offline",function(){a.hc&&(a.hc=!1,a.Ge("online",!1))},!1)}}la(Lc,Ic);Lc.prototype.Ue=function(a){D("online"===a,"Unknown event type: "+a);return[this.hc]};ca(Lc);function Mc(){Ic.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.Mb=!0;if(b){var c=this;document.addEventListener(b,function(){var b=!document[a];b!==c.Mb&&(c.Mb=b,c.Ge("visible",b))},!1)}}la(Mc,Ic);Mc.prototype.Ue=function(a){D("visible"===a,"Unknown event type: "+a);return[this.Mb]};ca(Mc);function E(a,b){if(1==arguments.length){this.o=a.split("/");for(var c=0,d=0;d<this.o.length;d++){0<this.o[d].length&&(this.o[c]=this.o[d],c++)}this.o.length=c;this.Y=0}else this.o=a,this.Y=b}function P(a,b){var c=K(a);if(null===c)return b;if(c===K(b))return P(N(a),N(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}function Nc(a,b){for(var c=a.slice(),d=b.slice(),e=0,f;e<c.length&&e<d.length;e++){f=sb(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function K(a){return a.Y>=a.o.length?null:a.o[a.Y]}function Ec(a){return a.o.length-a.Y}function N(a){var b=a.Y;b<a.o.length&&b++;return new E(a.o,b)}function Oc(a){return a.Y<a.o.length?a.o[a.o.length-1]:null}g=E.prototype;g.toString=function(){for(var a="",b=this.Y;b<this.o.length;b++){""!==this.o[b]&&(a+="/"+this.o[b])}return a||"/"};g.slice=function(a){return this.o.slice(this.Y+(a||0))};g.parent=function(){if(this.Y>=this.o.length)return null;for(var a=[],b=this.Y;b<this.o.length-1;b++){a.push(this.o[b])}return new E(a,0)};g.n=function(a){for(var b=[],c=this.Y;c<this.o.length;c++){b.push(this.o[c])}if(babelHelpers.instanceof(a,E))for(c=a.Y;c<a.o.length;c++){b.push(a.o[c])}else for(a=a.split("/"),c=0;c<a.length;c++){0<a[c].length&&b.push(a[c])}return new E(b,0)};g.e=function(){return this.Y>=this.o.length};g.Z=function(a){if(Ec(this)!==Ec(a))return!1;for(var b=this.Y,c=a.Y;b<=this.o.length;b++,c++){if(this.o[b]!==a.o[c])return!1}return!0};g.contains=function(a){var b=this.Y,c=a.Y;if(Ec(this)>Ec(a))return!1;for(;b<this.o.length;){if(this.o[b]!==a.o[c])return!1;++b;++c}return!0};var Q=new E("");function Pc(a,b){this.Qa=a.slice();this.Ha=_Mathmax(1,this.Qa.length);this.Qe=b;for(var c=0;c<this.Qa.length;c++){this.Ha+=nb(this.Qa[c])}Qc(this)}Pc.prototype.push=function(a){0<this.Qa.length&&(this.Ha+=1);this.Qa.push(a);this.Ha+=nb(a);Qc(this)};Pc.prototype.pop=function(){var a=this.Qa.pop();this.Ha-=nb(a);0<this.Qa.length&&--this.Ha};function Qc(a){if(768<a.Ha)throw Error(a.Qe+"has a key path longer than 768 bytes ("+a.Ha+").");if(32<a.Qa.length)throw Error(a.Qe+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rc(a))}function Rc(a){return 0==a.Qa.length?"":"in property '"+a.Qa.join(".")+"'"}function Sc(){this.children={};this.bd=0;this.value=null}function Tc(a,b,c){this.ud=a?a:"";this.Pc=b?b:null;this.A=c?c:new Sc}function Uc(a,b){for(var c=babelHelpers.instanceof(b,E)?b:new E(b),d=a,e;null!==(e=K(c));){d=new Tc(e,d,w(d.A.children,e)||new Sc),c=N(c)}return d}g=Tc.prototype;g.Ca=function(){return this.A.value};function Vc(a,b){D("undefined"!==typeof b,"Cannot set value to undefined");a.A.value=b;Wc(a)}g.clear=function(){this.A.value=null;this.A.children={};this.A.bd=0;Wc(this)};g.kd=function(){return 0<this.A.bd};g.e=function(){return null===this.Ca()&&!this.kd()};g.O=function(a){var b=this;v(this.A.children,function(c,d){a(new Tc(d,b,c))})};function Xc(a,b,c,d){c&&!d&&b(a);a.O(function(a){Xc(a,b,!0,d)});c&&d&&b(a)}function Yc(a,b){for(var c=a.parent();null!==c&&!b(c);){c=c.parent()}}g.path=function(){return new E(null===this.Pc?this.ud:this.Pc.path()+"/"+this.ud)};g.name=function(){return this.ud};g.parent=function(){return this.Pc};function Wc(a){if(null!==a.Pc){var b=a.Pc,c=a.ud,d=a.e(),e=eb(b.A.children,c);d&&e?(delete b.A.children[c],b.A.bd--,Wc(b)):d||e||(b.A.children[c]=a.A,b.A.bd++,Wc(b))}}function Zc(a,b){this.La=a;this.ba=b?b:$c}g=Zc.prototype;g.Oa=function(a,b){return new Zc(this.La,this.ba.Oa(a,b,this.La).X(null,null,!1,null,null))};g.remove=function(a){return new Zc(this.La,this.ba.remove(a,this.La).X(null,null,!1,null,null))};g.get=function(a){for(var b,c=this.ba;!c.e();){b=this.La(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};function ad(a,b){for(var c,d=a.ba,e=null;!d.e();){c=a.La(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();){d=d.right}return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}g.e=function(){return this.ba.e()};g.count=function(){return this.ba.count()};g.Gc=function(){return this.ba.Gc()};g.ec=function(){return this.ba.ec()};g.ha=function(a){return this.ba.ha(a)};g.Wb=function(a){return new bd(this.ba,null,this.La,!1,a)};g.Xb=function(a,b){return new bd(this.ba,a,this.La,!1,b)};g.Zb=function(a,b){return new bd(this.ba,a,this.La,!0,b)};g.We=function(a){return new bd(this.ba,null,this.La,!0,a)};function bd(a,b,c,d,e){this.Hd=e||null;this.le=d;this.Pa=[];for(e=1;!a.e();){if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.le?a.left:a.right;else if(0===e){this.Pa.push(a);break}else this.Pa.push(a),a=this.le?a.right:a.left}}function M(a){if(0===a.Pa.length)return null;var b=a.Pa.pop(),c;c=a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value};if(a.le)for(b=b.left;!b.e();){a.Pa.push(b),b=b.right}else for(b=b.right;!b.e();){a.Pa.push(b),b=b.left}return c}function cd(a){if(0===a.Pa.length)return null;var b=a.Pa;b=b[b.length-1];return a.Hd?a.Hd(b.key,b.value):{key:b.key,value:b.value}}function dd(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:$c;this.right=null!=e?e:$c}g=dd.prototype;g.X=function(a,b,c,d,e){return new dd(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};g.count=function(){return this.left.count()+1+this.right.count()};g.e=function(){return!1};g.ha=function(a){return this.left.ha(a)||a(this.key,this.value)||this.right.ha(a)};function ed(a){return a.left.e()?a:ed(a.left)}g.Gc=function(){return ed(this).key};g.ec=function(){return this.right.e()?this.key:this.right.ec()};g.Oa=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.X(null,null,null,e.left.Oa(a,b,c),null):0===d?e.X(null,b,null,null,null):e.X(null,null,null,null,e.right.Oa(a,b,c));return gd(e)};function hd(a){if(a.left.e())return $c;a.left.ea()||a.left.left.ea()||(a=id(a));a=a.X(null,null,null,hd(a.left),null);return gd(a)}g.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.ea()||c.left.left.ea()||(c=id(c)),c=c.X(null,null,null,c.left.remove(a,b),null);else{c.left.ea()&&(c=jd(c));c.right.e()||c.right.ea()||c.right.left.ea()||(c=kd(c),c.left.left.ea()&&(c=jd(c),c=kd(c)));if(0===b(a,c.key)){if(c.right.e())return $c;d=ed(c.right);c=c.X(d.key,d.value,null,null,hd(c.right))}c=c.X(null,null,null,null,c.right.remove(a,b))}return gd(c)};g.ea=function(){return this.color};function gd(a){a.right.ea()&&!a.left.ea()&&(a=ld(a));a.left.ea()&&a.left.left.ea()&&(a=jd(a));a.left.ea()&&a.right.ea()&&(a=kd(a));return a}function id(a){a=kd(a);a.right.left.ea()&&(a=a.X(null,null,null,null,jd(a.right)),a=ld(a),a=kd(a));return a}function ld(a){return a.right.X(null,null,a.color,a.X(null,null,!0,null,a.right.left),null)}function jd(a){return a.left.X(null,null,a.color,null,a.X(null,null,!0,a.left.right,null))}function kd(a){return a.X(null,null,!a.color,a.left.X(null,null,!a.left.color,null,null),a.right.X(null,null,!a.right.color,null,null))}function md(){}g=md.prototype;g.X=function(){return this};g.Oa=function(a,b){return new dd(a,b,null)};g.remove=function(){return this};g.count=function(){return 0};g.e=function(){return!0};g.ha=function(){return!1};g.Gc=function(){return null};g.ec=function(){return null};g.ea=function(){return!1};var $c=new md;function O(a,b,c){this.k=a;(this.aa=b)&&Cc(this.aa);a.e()&&D(!this.aa||this.aa.e(),"An empty node cannot have a priority");this.yb=c;this.Db=null}g=O.prototype;g.J=function(){return!1};g.C=function(){return this.aa||L};g.fa=function(a){return this.k.e()?this:new O(this.k,a,this.yb)};g.Q=function(a){if(".priority"===a)return this.C();a=this.k.get(a);return null===a?L:a};g.P=function(a){var b=K(a);return null===b?this:this.Q(b).P(N(a))};g.Da=function(a){return null!==this.k.get(a)};g.T=function(a,b){D(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.fa(b);var c=new C(a,b),d,e;b.e()?(d=this.k.remove(a),c=Ac(this.yb,c,this.k)):(d=this.k.Oa(a,b),c=yc(this.yb,c,this.k));e=d.e()?L:this.aa;return new O(d,e,c)};g.F=function(a,b){var c=K(a);if(null===c)return b;D(".priority"!==K(a)||1===Ec(a),".priority must be the last token in a path");var d=this.Q(c).F(N(a),b);return this.T(c,d)};g.e=function(){return this.k.e()};g.Eb=function(){return this.k.count()};var nd=/^(0|[1-9]\d*)$/;g=O.prototype;g.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.O(H,function(f,h){b[f]=h.H(a);c++;e&&nd.test(f)?d=_Mathmax(d,+f):e=!1});if(!a&&e&&d<2*c){var f=[],h;for(h in b){f[h]=b[h]}return f}a&&!this.C().e()&&(b[".priority"]=this.C().H());return b};g.hash=function(){if(null===this.Db){var a="";this.C().e()||(a+="priority:"+Fc(this.C().H())+":");this.O(H,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.Db=""===a?"":Ob(a)}return this.Db};g.Ve=function(a,b,c){return(c=od(this,c))?(a=ad(c,new C(a,b)))?a.name:null:ad(this.k,a)};function pd(a,b){var c=(c=od(a,b))?(c=c.Gc())&&c.name:a.k.Gc();return c?new C(c,a.k.get(c)):null}function qd(a,b){var c=(c=od(a,b))?(c=c.ec())&&c.name:a.k.ec();return c?new C(c,a.k.get(c)):null}g.O=function(a,b){var c=od(this,a);return c?c.ha(function(a){return b(a.name,a.R)}):this.k.ha(b)};g.Wb=function(a){return this.Xb(a.Hc(),a)};g.Xb=function(a,b){var c=od(this,b);if(c)return c.Xb(a,function(a){return a});for(var c=this.k.Xb(a.name,qb),d=cd(c);null!=d&&0>b.compare(d,a);){M(c),d=cd(c)}return c};g.We=function(a){return this.Zb(a.Fc(),a)};g.Zb=function(a,b){var c=od(this,b);if(c)return c.Zb(a,function(a){return a});for(var c=this.k.Zb(a.name,qb),d=cd(c);null!=d&&0<b.compare(d,a);){M(c),d=cd(c)}return c};g.sc=function(a){return this.e()?a.e()?0:-1:a.J()||a.e()?1:a===qc?-1:0};g.nb=function(a){if(a===tc||Pa(this.yb.cc,a.toString()))return this;var b=this.yb,c=this.k;D(a!==tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Wb(qb),f=M(c);f;){e=e||a.xc(f.R),d.push(f),f=M(c)}d=e?zc(d,nc(a)):mc;e=a.toString();c=Ta(b.cc);c[e]=a;a=Ta(b.od);a[e]=d;return new O(this.k,this.aa,new xc(a,c))};g.yc=function(a){return a===tc||Pa(this.yb.cc,a.toString())};g.Z=function(a){if(a===this)return!0;if(a.J())return!1;if(this.C().Z(a.C())&&this.k.count()===a.k.count()){var b=this.Wb(H);a=a.Wb(H);for(var c=M(b),d=M(a);c&&d;){if(c.name!==d.name||!c.R.Z(d.R))return!1;c=M(b);d=M(a)}return null===c&&null===d}return!1};function od(a,b){return b===tc?null:a.yb.get(b.toString())}g.toString=function(){return x(this.H(!0))};function G(a,b){if(null===a)return L;var c=null;"object"===babelHelpers.typeof(a)&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);D(null===c||"string"===typeof c||"number"===typeof c||"object"===babelHelpers.typeof(c)&&".sv"in c,"Invalid priority type found: "+babelHelpers.typeof(c));"object"===babelHelpers.typeof(a)&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==babelHelpers.typeof(a)||".sv"in a)return new Kb(a,G(c));if(babelHelpers.instanceof(a,Array)){var d=L,e=a;v(e,function(a,b){if(eb(e,b)&&"."!==b.substring(0,1)){var c=G(a);if(c.J()||!c.e())d=d.T(b,c)}});return d.fa(G(c))}var f=[],h=!1,k=a;fb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=G(k[a]);b.e()||(h=h||!b.C().e(),f.push(new C(a,b)))}});if(0==f.length)return L;var m=zc(f,rb,function(a){return a.name},tb);if(h){var l=zc(f,nc(H));return new O(m,G(c),new xc({".priority":l},{".priority":H}))}return new O(m,G(c),Bc)}var rd=0.6931471805599453;function sd(a){this.count=parseInt(_Mathlog(a+1)/rd,10);this.Oe=this.count-1;this.Cf=a+1&parseInt(Array(this.count+1).join("1"),2)}function td(a){var b=!(a.Cf&1<<a.Oe);a.Oe--;return b}function zc(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var l=a[b],u=c?c(l):l;return new dd(u,l.R,!1,null,null)}var l=parseInt(f/2,10)+b,f=e(b,l),z=e(l+1,d),l=a[l],u=c?c(l):l;return new dd(u,l.R,!1,f,z)}a.sort(b);var f=function(b){function d(b,h){var k=u-b,z=u;u-=b;var z=e(k+1,z),k=a[k],F=c?c(k):k,z=new dd(F,k.R,h,null,z);f?f.left=z:l=z;f=z}for(var f=null,l=null,u=a.length,z=0;z<b.count;++z){var F=td(b),fd=_Mathpow(2,b.count-(z+1));F?d(fd,!1):(d(fd,!1),d(fd,!0))}return l}(new sd(a.length));return null!==f?new Zc(d||b,f):new Zc(d||b)}function Fc(a){return"number"===typeof a?"number:"+dc(a):"string:"+a}function Cc(a){if(a.J()){var b=a.H();D("string"===typeof b||"number"===typeof b||"object"===babelHelpers.typeof(b)&&eb(b,".sv"),"Priority must be a string or number.")}else D(a===qc||a.e(),"priority of unexpected type.");D(a===qc||a.C().e(),"Priority nodes can't have a priority of their own.")}var L=new O(new Zc(tb),null,Bc);function ud(){O.call(this,new Zc(tb),L,Bc)}la(ud,O);g=ud.prototype;g.sc=function(a){return a===this?0:1};g.Z=function(a){return a===this};g.C=function(){return this};g.Q=function(){return L};g.e=function(){return!1};var qc=new ud,oc=new C("[MIN_NAME]",L),vc=new C("[MAX_NAME]",qc);function vd(a,b){this.value=a;this.children=b||wd}var wd=new Zc(function(a,b){return a===b?0:a<b?-1:1});function xd(a){var b=R;v(a,function(a,d){b=b.set(new E(d),a)});return b}g=vd.prototype;g.e=function(){return null===this.value&&this.children.e()};function yd(a,b,c){if(null!=a.value&&c(a.value))return{path:Q,value:a.value};if(b.e())return null;var d=K(b);a=a.children.get(d);return null!==a?(b=yd(a,N(b),c),null!=b?{path:new E(d).n(b.path),value:b.value}:null):null}function zd(a,b){return yd(a,b,function(){return!0})}g.subtree=function(a){if(a.e())return this;var b=this.children.get(K(a));return null!==b?b.subtree(N(a)):R};g.set=function(a,b){if(a.e())return new vd(b,this.children);var c=K(a),d=(this.children.get(c)||R).set(N(a),b),c=this.children.Oa(c,d);return new vd(this.value,c)};g.remove=function(a){if(a.e())return this.children.e()?R:new vd(null,this.children);var b=K(a),c=this.children.get(b);return c?(a=c.remove(N(a)),b=a.e()?this.children.remove(b):this.children.Oa(b,a),null===this.value&&b.e()?R:new vd(this.value,b)):this};g.get=function(a){if(a.e())return this.value;var b=this.children.get(K(a));return b?b.get(N(a)):null};function Ad(a,b,c){if(b.e())return c;var d=K(b);b=Ad(a.children.get(d)||R,N(b),c);d=b.e()?a.children.remove(d):a.children.Oa(d,b);return new vd(a.value,d)}function Bd(a,b){return Cd(a,Q,b)}function Cd(a,b,c){var d={};a.children.ha(function(a,f){d[a]=Cd(f,b.n(a),c)});return c(b,a.value,d)}function Dd(a,b,c){return Ed(a,b,Q,c)}function Ed(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=K(b);return(a=a.children.get(e))?Ed(a,N(b),c.n(e),d):null}function Fd(a,b,c){Gd(a,b,Q,c)}function Gd(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=K(b);return(a=a.children.get(e))?Gd(a,N(b),c.n(e),d):R}function Hd(a,b){Id(a,Q,b)}function Id(a,b,c){a.children.ha(function(a,e){Id(e,b.n(a),c)});a.value&&c(b,a.value)}function Jd(a,b){a.children.ha(function(a,d){d.value&&b(a,d.value)})}var R=new vd(null);vd.prototype.toString=function(){var a={};Hd(this,function(b,c){a[b.toString()]=c.toString()});return x(a)};var Kd=/[\[\].#$\/\u0000-\u001F\u007F]/,Ld=/[\[\].#$\u0000-\u001F\u007F]/;function Md(a){return p(a)&&0!==a.length&&!Kd.test(a)}function Nd(a){return null===a||p(a)||ga(a)&&!Xb(a)||ia(a)&&eb(a,".sv")}function Od(a,b,c,d){d&&!n(b)||Pd(A(a,1,d),b,c)}function Pd(a,b,c){babelHelpers.instanceof(c,E)&&(c=new Pc(c,a));if(!n(b))throw Error(a+"contains undefined "+Rc(c));if(ha(b))throw Error(a+"contains a function "+Rc(c)+" with contents: "+b.toString());if(Xb(b))throw Error(a+"contains "+b.toString()+" "+Rc(c));if(p(b)&&b.length>10485760/3&&10485760<nb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+Rc(c)+" ('"+b.substring(0,50)+"...')");if(ia(b)){var d=!1,e=!1;fb(b,function(b,h){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=!0,!Md(b)))throw Error(a+" contains an invalid key ("+b+") "+Rc(c)+".  Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"");c.push(b);Pd(a,h,c);c.pop()});if(d&&e)throw Error(a+" contains \".value\" child "+Rc(c)+" in addition to actual children.")}}function Qd(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++){if((".priority"!==e[f]||f!==e.length-1)&&!Md(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+". Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"")}}b.sort(Nc);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}function Rd(a,b,c){var d=A(a,1,!1);if(!ia(b)||ea(b))throw Error(d+" must be an object containing the children to replace.");var e=[];fb(b,function(a,b){var k=new E(a);Pd(d,b,c.n(k));if(".priority"===Oc(k)&&!Nd(b))throw Error(d+"contains an invalid value for '"+k.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(k)});Qd(d,e)}function Sd(a,b,c){if(Xb(c))throw Error(A(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nd(c))throw Error(A(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Td(a,b,c){if(!c||n(b))switch(b){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(A(a,1,c)+"must be a valid event type: \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".");}}function Ud(a,b){if(n(b)&&!Md(b))throw Error(A(a,2,!0)+"was an invalid key: \""+b+"\".  Firebase keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").")}function Vd(a,b){if(!p(b)||0===b.length||Ld.test(b))throw Error(A(a,1,!1)+"was an invalid path: \""+b+"\". Paths must be non-empty strings and can't contain \".\", \"#\", \"$\", \"[\", or \"]\"")}function Wd(a,b){if(".info"===K(b))throw Error(a+" failed: Can't modify data under /.info/")}function Xd(a,b){var c=b.path.toString(),d;!(d=!p(b.jc.host)||0===b.jc.host.length||!Md(b.jc.pe))&&(d=0!==c.length)&&(c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),d=!(p(c)&&0!==c.length&&!Ld.test(c)));if(d)throw Error(A(a,1,!1)+"must be a valid firebase URL and the path can't contain \".\", \"#\", \"$\", \"[\", or \"]\".")}function Gb(){this.k=this.B=null}Gb.prototype.find=function(a){if(null!=this.B)return this.B.P(a);if(a.e()||null==this.k)return null;var b=K(a);a=N(a);return this.k.contains(b)?this.k.get(b).find(a):null};function Ib(a,b,c){if(b.e())a.B=c,a.k=null;else if(null!==a.B)a.B=a.B.F(b,c);else{null==a.k&&(a.k=new Gc);var d=K(b);a.k.contains(d)||a.k.add(d,new Gb);a=a.k.get(d);b=N(b);Ib(a,b,c)}}function Yd(a,b){if(b.e())return a.B=null,a.k=null,!0;if(null!==a.B){if(a.B.J())return!1;var c=a.B;a.B=null;c.O(H,function(b,c){Ib(a,new E(b),c)});return Yd(a,b)}return null!==a.k?(c=K(b),b=N(b),a.k.contains(c)&&Yd(a.k.get(c),b)&&a.k.remove(c),a.k.e()?(a.k=null,!0):!1):!0}function Hb(a,b,c){null!==a.B?c(b,a.B):a.O(function(a,e){var f=new E(b.toString()+"/"+a);Hb(e,f,c)})}Gb.prototype.O=function(a){null!==this.k&&Hc(this.k,function(b,c){a(b,c)})};function Zd(a,b){this.type=$d;this.source=a;this.path=b}Zd.prototype.Mc=function(){return this.path.e()?new Zd(this.source,Q):new Zd(this.source,N(this.path))};Zd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function ae(a,b,c){this.type=be;this.source=a;this.path=b;this.children=c}ae.prototype.Mc=function(a){if(this.path.e())return a=this.children.subtree(new E(a)),a.e()?null:a.value?new ce(this.source,Q,a.value):new ae(this.source,Q,a);D(K(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new ae(this.source,N(this.path),this.children)};ae.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function de(a,b,c){this.type=ee;this.source=fe;this.path=a;this.Ob=b;this.Id=c}de.prototype.Mc=function(a){if(this.path.e()){if(null!=this.Ob.value)return D(this.Ob.children.e(),"affectedTree should not have overlapping affected paths."),this;a=this.Ob.subtree(new E(a));return new de(Q,a,this.Id)}D(K(this.path)===a,"operationForChild called for unrelated child.");return new de(N(this.path),this.Ob,this.Id)};de.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Ob+")"};function ce(a,b,c){this.type=ge;this.source=a;this.path=b;this.Ga=c}ce.prototype.Mc=function(a){return this.path.e()?new ce(this.source,Q,this.Ga.Q(a)):new ce(this.source,N(this.path),this.Ga)};ce.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"};var ge=0,be=1,ee=2,$d=3;function he(a,b,c,d){this.ee=a;this.Se=b;this.Hb=c;this.Ee=d;D(!d||b,"Tagged queries must be from server.")}var fe=new he(!0,!1,null,!1),ie=new he(!1,!0,null,!1);he.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Hb+")":"server"};function je(a,b,c){this.A=a;this.da=b;this.Sb=c}function ke(a){return a.da}function le(a){return a.Sb}function me(a,b){return b.e()?a.da&&!a.Sb:ne(a,K(b))}function ne(a,b){return a.da&&!a.Sb||a.A.Da(b)}je.prototype.j=function(){return this.A};function oe(a,b){this.N=a;this.Ld=b}function pe(a,b,c,d){return new oe(new je(b,c,d),a.Ld)}function qe(a){return a.N.da?a.N.j():null}oe.prototype.w=function(){return this.Ld};function re(a){return a.Ld.da?a.Ld.j():null}function se(){}se.prototype.Te=function(){return null};se.prototype.fe=function(){return null};var te=new se;function ue(a,b,c){this.xf=a;this.Ka=b;this.yd=c}ue.prototype.Te=function(a){var b=this.Ka.N;if(ne(b,a))return b.j().Q(a);b=null!=this.yd?new je(this.yd,!0,!1):this.Ka.w();return this.xf.qc(a,b)};ue.prototype.fe=function(a,b,c){var d=null!=this.yd?this.yd:re(this.Ka);a=this.xf.Xd(d,b,1,c,a);return 0===a.length?null:a[0]};function ve(a,b){this.Sd=a;this.Df=b}function we(a){this.U=a}we.prototype.eb=function(a,b,c,d){var e=new xe,f;if(b.type===ge)b.source.ee?c=ye(this,a,b.path,b.Ga,c,d,e):(D(b.source.Se,"Unknown source."),f=b.source.Ee||le(a.w())&&!b.path.e(),c=ze(this,a,b.path,b.Ga,c,d,f,e));else if(b.type===be)b.source.ee?c=Ae(this,a,b.path,b.children,c,d,e):(D(b.source.Se,"Unknown source."),f=b.source.Ee||le(a.w()),c=Be(this,a,b.path,b.children,c,d,f,e));else if(b.type===ee){if(b.Id){if(b=b.path,null!=c.lc(b))c=a;else{f=new ue(c,a,d);d=a.N.j();if(b.e()||".priority"===K(b))ke(a.w())?b=c.Aa(re(a)):(b=a.w().j(),D(babelHelpers.instanceof(b,O),"serverChildren would be complete if leaf node"),b=c.rc(b)),b=this.U.ya(d,b,e);else{var h=K(b),k=c.qc(h,a.w());null==k&&ne(a.w(),h)&&(k=d.Q(h));b=null!=k?this.U.F(d,h,k,N(b),f,e):a.N.j().Da(h)?this.U.F(d,h,L,N(b),f,e):d;b.e()&&ke(a.w())&&(d=c.Aa(re(a)),d.J()&&(b=this.U.ya(b,d,e)))}d=ke(a.w())||null!=c.lc(Q);c=pe(a,b,d,this.U.Na())}}else c=Ce(this,a,b.path,b.Ob,c,d,e);}else if(b.type===$d)d=b.path,b=a.w(),f=b.j(),h=b.da||d.e(),c=De(this,new oe(a.N,new je(f,h,b.Sb)),d,c,te,e);else throw Mb("Unknown operation type: "+b.type);e=Na(e.fb);d=c;b=d.N;b.da&&(f=b.j().J()||b.j().e(),h=qe(a),(0<e.length||!a.N.da||f&&!b.j().Z(h)||!b.j().C().Z(h.C()))&&e.push(Ee(qe(d))));return new ve(c,e)};function De(a,b,c,d,e,f){var h=b.N;if(null!=d.lc(c))return b;var k;if(c.e())D(ke(b.w()),"If change path is empty, we must have complete server data"),le(b.w())?(e=re(b),d=d.rc(babelHelpers.instanceof(e,O)?e:L)):d=d.Aa(re(b)),f=a.U.ya(b.N.j(),d,f);else{var m=K(c);if(".priority"==m)D(1==Ec(c),"Can't have a priority with additional path components"),f=h.j(),k=b.w().j(),d=d.ad(c,f,k),f=null!=d?a.U.fa(f,d):h.j();else{var l=N(c);ne(h,m)?(k=b.w().j(),d=d.ad(c,h.j(),k),d=null!=d?h.j().Q(m).F(l,d):h.j().Q(m)):d=d.qc(m,b.w());f=null!=d?a.U.F(h.j(),m,d,l,e,f):h.j()}}return pe(b,f,h.da||c.e(),a.U.Na())}function ze(a,b,c,d,e,f,h,k){var m=b.w();h=h?a.U:a.U.Ub();if(c.e())d=h.ya(m.j(),d,null);else if(h.Na()&&!m.Sb)d=m.j().F(c,d),d=h.ya(m.j(),d,null);else{var l=K(c);if(!me(m,c)&&1<Ec(c))return b;var u=N(c);d=m.j().Q(l).F(u,d);d=".priority"==l?h.fa(m.j(),d):h.F(m.j(),l,d,u,te,null)}m=m.da||c.e();b=new oe(b.N,new je(d,m,h.Na()));return De(a,b,c,e,new ue(e,b,f),k)}function ye(a,b,c,d,e,f,h){var k=b.N;e=new ue(e,b,f);if(c.e())h=a.U.ya(b.N.j(),d,h),a=pe(b,h,!0,a.U.Na());else if(f=K(c),".priority"===f)h=a.U.fa(b.N.j(),d),a=pe(b,h,k.da,k.Sb);else{c=N(c);var m=k.j().Q(f);if(!c.e()){var l=e.Te(f);d=null!=l?".priority"===Oc(c)&&l.P(c.parent()).e()?l:l.F(c,d):L}m.Z(d)?a=b:(h=a.U.F(k.j(),f,d,c,e,h),a=pe(b,h,k.da,a.U.Na()))}return a}function Ae(a,b,c,d,e,f,h){var k=b;Hd(d,function(d,l){var u=c.n(d);ne(b.N,K(u))&&(k=ye(a,k,u,l,e,f,h))});Hd(d,function(d,l){var u=c.n(d);ne(b.N,K(u))||(k=ye(a,k,u,l,e,f,h))});return k}function Fe(a,b){Hd(b,function(b,d){a=a.F(b,d)});return a}function Be(a,b,c,d,e,f,h,k){if(b.w().j().e()&&!ke(b.w()))return b;var m=b;c=c.e()?d:Ad(R,c,d);var l=b.w().j();c.children.ha(function(c,d){if(l.Da(c)){var F=b.w().j().Q(c),F=Fe(F,d);m=ze(a,m,new E(c),F,e,f,h,k)}});c.children.ha(function(c,d){var F=!ne(b.w(),c)&&null==d.value;l.Da(c)||F||(F=b.w().j().Q(c),F=Fe(F,d),m=ze(a,m,new E(c),F,e,f,h,k))});return m}function Ce(a,b,c,d,e,f,h){if(null!=e.lc(c))return b;var k=le(b.w()),m=b.w();if(null!=d.value){if(c.e()&&m.da||me(m,c))return ze(a,b,c,m.j().P(c),e,f,k,h);if(c.e()){var l=R;m.j().O(tc,function(a,b){l=l.set(new E(a),b)});return Be(a,b,c,l,e,f,k,h)}return b}l=R;Hd(d,function(a){var b=c.n(a);me(m,b)&&(l=l.set(a,m.j().P(b)))});return Be(a,b,c,l,e,f,k,h)}function Ge(a){this.V=a;this.g=a.m.g}function He(a,b,c,d){var e=[],f=[];ya(b,function(b){b.type===Ie&&a.g.nd(b.qe,b.Ja)&&f.push(new S(Je,b.Ja,b.Xa))});Ke(a,e,Le,b,d,c);Ke(a,e,Me,b,d,c);Ke(a,e,Je,f,d,c);Ke(a,e,Ie,b,d,c);Ke(a,e,Ne,b,d,c);return e}function Ke(a,b,c,d,e,f){d=za(d,function(a){return a.type===c});Ha(d,q(a.Ff,a));ya(d,function(c){var d=Oe(a,c,f);ya(e,function(e){e.nf(c.type)&&b.push(e.createEvent(d,a.V))})})}function Oe(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Dd=c.Ve(b.Xa,b.Ja,a.g));return b}Ge.prototype.Ff=function(a,b){if(null==a.Xa||null==b.Xa)throw Mb("Should only compare child_ events.");return this.g.compare(new C(a.Xa,a.Ja),new C(b.Xa,b.Ja))};function Pe(a,b){this.V=a;var c=a.m,d=new Qe(c.g),c=T(c)?new Qe(c.g):c.xa?new Re(c):new Se(c);this.hf=new we(c);var e=b.w(),f=b.N,h=d.ya(L,e.j(),null),k=c.ya(L,f.j(),null);this.Ka=new oe(new je(k,f.da,c.Na()),new je(h,e.da,d.Na()));this.Za=[];this.Jf=new Ge(a)}function Te(a){return a.V}g=Pe.prototype;g.w=function(){return this.Ka.w().j()};g.hb=function(a){var b=re(this.Ka);return b&&(T(this.V.m)||!a.e()&&!b.Q(K(a)).e())?b.P(a):null};g.e=function(){return 0===this.Za.length};g.Nb=function(a){this.Za.push(a)};g.kb=function(a,b){var c=[];if(b){D(null==a,"A cancel should cancel all event registrations.");var d=this.V.path;ya(this.Za,function(a){(a=a.Me(b,d))&&c.push(a)})}if(a){for(var e=[],f=0,h;f<this.Za.length;++f){h=this.Za[f];if(!h.matches(a))e.push(h);else if(a.Xe()){e=e.concat(this.Za.slice(f+1));break}}this.Za=e}else this.Za=[];return c};g.eb=function(a,b,c){a.type===be&&null!==a.source.Hb&&(D(re(this.Ka),"We should always have a full cache before handling merges"),D(qe(this.Ka),"Missing event cache, even though we have a server cache"));var d=this.Ka;a=this.hf.eb(d,a,b,c);b=this.hf;c=a.Sd;D(c.N.j().yc(b.U.g),"Event snap not indexed");D(c.w().j().yc(b.U.g),"Server snap not indexed");D(ke(a.Sd.w())||!ke(d.w()),"Once a server snap is complete, it should never go back");this.Ka=a.Sd;return Ue(this,a.Df,a.Sd.N.j(),null)};function Ve(a,b){var c=a.Ka.N,d=[];c.j().J()||c.j().O(H,function(a,b){d.push(new S(Me,b,a))});c.da&&d.push(Ee(c.j()));return Ue(a,d,c.j(),b)}function Ue(a,b,c,d){return He(a.Jf,b,c,d?[d]:a.Za)}function We(a,b,c,d){this.ae=b;this.Md=c;this.Dd=d;this.hd=a}We.prototype.Yb=function(){var a=this.Md.wb();return"value"===this.hd?a.path:a.getParent().path};We.prototype.ge=function(){return this.hd};We.prototype.Tb=function(){return this.ae.Tb(this)};We.prototype.toString=function(){return this.Yb().toString()+":"+this.hd+":"+x(this.Md.be())};function Xe(a,b,c){this.ae=a;this.error=b;this.path=c}Xe.prototype.Yb=function(){return this.path};Xe.prototype.ge=function(){return"cancel"};Xe.prototype.Tb=function(){return this.ae.Tb(this)};Xe.prototype.toString=function(){return this.path.toString()+":cancel"};function Ye(){this.vb=[]}function Ze(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Yb();null===c||f.Z(c.Yb())||(a.vb.push(c),c=null);null===c&&(c=new $e(f));c.add(e)}c&&a.vb.push(c)}function af(a,b,c){Ze(a,c);bf(a,function(a){return a.Z(b)})}function cf(a,b,c){Ze(a,c);bf(a,function(a){return a.contains(b)||b.contains(a)})}function bf(a,b){for(var c=!0,d=0,e;d<a.vb.length;d++){e=a.vb[d];if(e)if(e=e.Yb(),b(e)){for(var e=a.vb[d],f=0,h;f<e.jd.length;f++){h=e.jd[f];if(null!==h){e.jd[f]=null;var k=h.Tb();Qb&&I("event: "+h.toString());fc(k)}}a.vb[d]=null}else c=!1}c&&(a.vb=[])}function $e(a){this.qa=a;this.jd=[]}$e.prototype.add=function(a){this.jd.push(a)};$e.prototype.Yb=function(){return this.qa};function Qe(a){this.g=a}g=Qe.prototype;g.F=function(a,b,c,d,e,f){D(a.yc(this.g),"A node must be indexed if only a child is updated");e=a.Q(b);if(e.P(d).Z(c.P(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Da(b)?df(f,new S(Le,e,b)):D(a.J(),"A child remove without an old child only makes sense on a leaf node"):e.e()?df(f,new S(Me,c,b)):df(f,new S(Ie,c,b,e)));return a.J()&&c.e()?a:a.T(b,c).nb(this.g)};g.ya=function(a,b,c){null!=c&&(a.J()||a.O(H,function(a,e){b.Da(a)||df(c,new S(Le,e,a))}),b.J()||b.O(H,function(b,e){if(a.Da(b)){var f=a.Q(b);f.Z(e)||df(c,new S(Ie,e,b,f))}else df(c,new S(Me,e,b))}));return b.nb(this.g)};g.fa=function(a,b){return a.e()?L:a.fa(b)};g.Na=function(){return!1};g.Ub=function(){return this};function Se(a){this.he=new Qe(a.g);this.g=a.g;var b;a.ka?(b=ef(a),b=a.g.Ec(ff(a),b)):b=a.g.Hc();this.Uc=b;a.na?(b=gf(a),a=a.g.Ec(hf(a),b)):a=a.g.Fc();this.vc=a}g=Se.prototype;g.matches=function(a){return 0>=this.g.compare(this.Uc,a)&&0>=this.g.compare(a,this.vc)};g.F=function(a,b,c,d,e,f){this.matches(new C(b,c))||(c=L);return this.he.F(a,b,c,d,e,f)};g.ya=function(a,b,c){b.J()&&(b=L);var d=b.nb(this.g),d=d.fa(L),e=this;b.O(H,function(a,b){e.matches(new C(a,b))||(d=d.T(a,L))});return this.he.ya(a,d,c)};g.fa=function(a){return a};g.Na=function(){return!0};g.Ub=function(){return this.he};function Re(a){this.sa=new Se(a);this.g=a.g;D(a.xa,"Only valid if limit has been set");this.oa=a.oa;this.Ib=!jf(a)}g=Re.prototype;g.F=function(a,b,c,d,e,f){this.sa.matches(new C(b,c))||(c=L);return a.Q(b).Z(c)?a:a.Eb()<this.oa?this.sa.Ub().F(a,b,c,d,e,f):kf(this,a,b,c,e,f)};g.ya=function(a,b,c){var d;if(b.J()||b.e())d=L.nb(this.g);else if(2*this.oa<b.Eb()&&b.yc(this.g)){d=L.nb(this.g);b=this.Ib?b.Zb(this.sa.vc,this.g):b.Xb(this.sa.Uc,this.g);for(var e=0;0<b.Pa.length&&e<this.oa;){var f=M(b),h;if(h=this.Ib?0>=this.g.compare(this.sa.Uc,f):0>=this.g.compare(f,this.sa.vc))d=d.T(f.name,f.R),e++;else break}}else{d=b.nb(this.g);d=d.fa(L);var k,m,l;if(this.Ib){b=d.We(this.g);k=this.sa.vc;m=this.sa.Uc;var u=nc(this.g);l=function(a,b){return u(b,a)}}else b=d.Wb(this.g),k=this.sa.Uc,m=this.sa.vc,l=nc(this.g);for(var e=0,z=!1;0<b.Pa.length;){f=M(b),!z&&0>=l(k,f)&&(z=!0),(h=z&&e<this.oa&&0>=l(f,m))?e++:d=d.T(f.name,L)}}return this.sa.Ub().ya(a,d,c)};g.fa=function(a){return a};g.Na=function(){return!0};g.Ub=function(){return this.sa.Ub()};function kf(a,b,c,d,e,f){var h;if(a.Ib){var k=nc(a.g);h=function(a,b){return k(b,a)}}else h=nc(a.g);D(b.Eb()==a.oa,"");var m=new C(c,d),l=a.Ib?pd(b,a.g):qd(b,a.g),u=a.sa.matches(m);if(b.Da(c)){for(var z=b.Q(c),l=e.fe(a.g,l,a.Ib);null!=l&&(l.name==c||b.Da(l.name));){l=e.fe(a.g,l,a.Ib)}e=null==l?1:h(l,m);if(u&&!d.e()&&0<=e)return null!=f&&df(f,new S(Ie,d,c,z)),b.T(c,d);null!=f&&df(f,new S(Le,z,c));b=b.T(c,L);return null!=l&&a.sa.matches(l)?(null!=f&&df(f,new S(Me,l.R,l.name)),b.T(l.name,l.R)):b}return d.e()?b:u&&0<=h(l,m)?(null!=f&&(df(f,new S(Le,l.R,l.name)),df(f,new S(Me,d,c))),b.T(c,d).T(l.name,L)):b}function S(a,b,c,d){this.type=a;this.Ja=b;this.Xa=c;this.qe=d;this.Dd=void 0}function Ee(a){return new S(Ne,a)}var Me="child_added",Le="child_removed",Ie="child_changed",Je="child_moved",Ne="value";function xe(){this.fb={}}function df(a,b){var c=b.type,d=b.Xa;D(c==Me||c==Ie||c==Le,"Only child changes supported for tracking");D(".priority"!==d,"Only non-priority child changes can be tracked.");var e=w(a.fb,d);if(e){var f=e.type;if(c==Me&&f==Le)a.fb[d]=new S(Ie,b.Ja,d,e.Ja);else if(c==Le&&f==Me)delete a.fb[d];else if(c==Le&&f==Ie)a.fb[d]=new S(Le,e.qe,d);else if(c==Ie&&f==Me)a.fb[d]=new S(Me,b.Ja,d);else if(c==Ie&&f==Ie)a.fb[d]=new S(Ie,b.Ja,d,e.qe);else throw Mb("Illegal combination of changes: "+b+" occurred after "+e)}else a.fb[d]=b}function lf(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1;this.oa=0;this.mb="";this.dc=null;this.zb="";this.ac=null;this.xb="";this.g=H}var mf=new lf;function jf(a){return""===a.mb?a.ka:"l"===a.mb}function ff(a){D(a.ka,"Only valid if start has been set");return a.dc}function ef(a){D(a.ka,"Only valid if start has been set");return a.Kb?a.zb:"[MIN_NAME]"}function hf(a){D(a.na,"Only valid if end has been set");return a.ac}function gf(a){D(a.na,"Only valid if end has been set");return a.Rb?a.xb:"[MAX_NAME]"}function nf(a){var b=new lf;b.xa=a.xa;b.oa=a.oa;b.ka=a.ka;b.dc=a.dc;b.Kb=a.Kb;b.zb=a.zb;b.na=a.na;b.ac=a.ac;b.Rb=a.Rb;b.xb=a.xb;b.g=a.g;b.mb=a.mb;return b}g=lf.prototype;g.ne=function(a){var b=nf(this);b.xa=!0;b.oa=a;b.mb="l";return b};g.oe=function(a){var b=nf(this);b.xa=!0;b.oa=a;b.mb="r";return b};g.Nd=function(a,b){var c=nf(this);c.ka=!0;n(a)||(a=null);c.dc=a;null!=b?(c.Kb=!0,c.zb=b):(c.Kb=!1,c.zb="");return c};g.gd=function(a,b){var c=nf(this);c.na=!0;n(a)||(a=null);c.ac=a;n(b)?(c.Rb=!0,c.xb=b):(c.vg=!1,c.xb="");return c};function of(a,b){var c=nf(a);c.g=b;return c}function pf(a){var b={};a.ka&&(b.sp=a.dc,a.Kb&&(b.sn=a.zb));a.na&&(b.ep=a.ac,a.Rb&&(b.en=a.xb));if(a.xa){b.l=a.oa;var c=a.mb;""===c&&(c=jf(a)?"l":"r");b.vf=c}a.g!==H&&(b.i=a.g.toString());return b}function T(a){return!(a.ka||a.na||a.xa)}function qf(a){return T(a)&&a.g==H}function rf(a){var b={};if(qf(a))return b;var c;a.g===H?c="$priority":a.g===wc?c="$value":a.g===tc?c="$key":(D(babelHelpers.instanceof(a.g,pc),"Unrecognized index type!"),c=a.g.toString());b.orderBy=x(c);a.ka&&(b.startAt=x(a.dc),a.Kb&&(b.startAt+=","+x(a.zb)));a.na&&(b.endAt=x(a.ac),a.Rb&&(b.endAt+=","+x(a.xb)));a.xa&&(jf(a)?b.limitToFirst=a.oa:b.limitToLast=a.oa);return b}g.toString=function(){return x(pf(this))};function sf(a){this.W=a}var tf=new sf(new vd(null));function uf(a,b,c){if(b.e())return new sf(new vd(c));var d=zd(a.W,b);if(null!=d){var e=d.path,d=d.value;b=P(e,b);d=d.F(b,c);return new sf(a.W.set(e,d))}a=Ad(a.W,b,new vd(c));return new sf(a)}function vf(a,b,c){var d=a;fb(c,function(a,c){d=uf(d,b.n(a),c)});return d}sf.prototype.Ed=function(a){if(a.e())return tf;a=Ad(this.W,a,R);return new sf(a)};function wf(a,b){var c=zd(a.W,b);return null!=c?a.W.get(c.path).P(P(c.path,b)):null}function xf(a){var b=[],c=a.W.value;null!=c?c.J()||c.O(H,function(a,c){b.push(new C(a,c))}):a.W.children.ha(function(a,c){null!=c.value&&b.push(new C(a,c.value))});return b}function yf(a,b){if(b.e())return a;var c=wf(a,b);return null!=c?new sf(new vd(c)):new sf(a.W.subtree(b))}sf.prototype.e=function(){return this.W.e()};sf.prototype.apply=function(a){return zf(Q,this.W,a)};function zf(a,b,c){if(null!=b.value)return c.F(a,b.value);var d=null;b.children.ha(function(b,f){".priority"===b?(D(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=zf(a.n(b),f,c)});c.P(a).e()||null===d||(c=c.F(a.n(".priority"),d));return c}function Af(){this.Jd=L}Af.prototype.j=function(a){return this.Jd.P(a)};Af.prototype.toString=function(){return this.Jd.toString()};function Bf(a){this.oc=a}Bf.prototype.getToken=function(a){return this.oc.INTERNAL.getToken(a).then(null,function(a){return a&&"auth/token-not-initialized"===a.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)})};function Cf(a,b){a.oc.INTERNAL.addAuthTokenListener(b)}function Df(){this.S=tf;this.la=[];this.Bc=-1}function Ef(a,b){for(var c=0,d;c<a.la.length;c++){d=a.la[c];if(d.Zc===b)return d}return null}g=Df.prototype;g.Ed=function(a){var b=Ea(this.la,function(b){return b.Zc===a});D(0<=b,"removeWrite called with nonexistent writeId.");var c=this.la[b];this.la.splice(b,1);for(var d=c.visible,e=!1,f=this.la.length-1,h;d&&0<=f;){h=this.la[f];h.visible&&(f>=b&&Ff(h,c.path)?d=!1:c.path.contains(h.path)&&(e=!0));f--}if(d){if(e)this.S=Gf(this.la,Hf,Q),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(c.Ga)this.S=this.S.Ed(c.path);else{var k=this;v(c.children,function(a,b){k.S=k.S.Ed(c.path.n(b))})}return!0}return!1};g.Aa=function(a,b,c,d){if(c||d){var e=yf(this.S,a);return!d&&e.e()?b:d||null!=b||null!=wf(e,Q)?(e=Gf(this.la,function(b){return(b.visible||d)&&(!c||!(0<=xa(c,b.Zc)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||L,e.apply(b)):null}e=wf(this.S,a);if(null!=e)return e;e=yf(this.S,a);return e.e()?b:null!=b||null!=wf(e,Q)?(b=b||L,e.apply(b)):null};g.rc=function(a,b){var c=L,d=wf(this.S,a);if(d)d.J()||d.O(H,function(a,b){c=c.T(a,b)});else if(b){var e=yf(this.S,a);b.O(H,function(a,b){var d=yf(e,new E(a)).apply(b);c=c.T(a,d)});ya(xf(e),function(a){c=c.T(a.name,a.R)})}else e=yf(this.S,a),ya(xf(e),function(a){c=c.T(a.name,a.R)});return c};g.ad=function(a,b,c,d){D(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.n(b);if(null!=wf(this.S,a))return null;a=yf(this.S,a);return a.e()?d.P(b):a.apply(d.P(b))};g.qc=function(a,b,c){a=a.n(b);var d=wf(this.S,a);return null!=d?d:ne(c,b)?yf(this.S,a).apply(c.j().Q(b)):null};g.lc=function(a){return wf(this.S,a)};g.Xd=function(a,b,c,d,e,f){var h;a=yf(this.S,a);h=wf(a,Q);if(null==h)if(null!=b)h=a.apply(b);else return[];h=h.nb(f);if(h.e()||h.J())return[];b=[];a=nc(f);e=e?h.Zb(c,f):h.Xb(c,f);for(f=M(e);f&&b.length<d;){0!==a(f,c)&&b.push(f),f=M(e)}return b};function Ff(a,b){return a.Ga?a.path.contains(b):!!Qa(a.children,function(c,d){return a.path.n(d).contains(b)})}function Hf(a){return a.visible}function Gf(a,b,c){for(var d=tf,e=0,f;e<a.length;++e){f=a[e];if(b(f)){var h=f.path;if(f.Ga)c.contains(h)?(h=P(c,h),d=uf(d,h,f.Ga)):h.contains(c)&&(h=P(h,c),d=uf(d,Q,f.Ga.P(h)));else if(f.children){if(c.contains(h))h=P(c,h),d=vf(d,h,f.children);else{if(h.contains(c))if(h=P(h,c),h.e())d=vf(d,Q,f.children);else if(f=w(f.children,K(h)))f=f.P(N(h)),d=uf(d,Q,f)}}else throw Mb("WriteRecord should have .snap or .children")}}return d}function If(a,b){this.Lb=a;this.W=b}g=If.prototype;g.Aa=function(a,b,c){return this.W.Aa(this.Lb,a,b,c)};g.rc=function(a){return this.W.rc(this.Lb,a)};g.ad=function(a,b,c){return this.W.ad(this.Lb,a,b,c)};g.lc=function(a){return this.W.lc(this.Lb.n(a))};g.Xd=function(a,b,c,d,e){return this.W.Xd(this.Lb,a,b,c,d,e)};g.qc=function(a,b){return this.W.qc(this.Lb,a,b)};g.n=function(a){return new If(this.Lb.n(a),this.W)};function Jf(a,b){this.rf={};this.Vc=new Kf(a);this.va=b;var c=1E4+2E4*Math.random();hc(q(this.lf,this),_Mathfloor(c))}Jf.prototype.lf=function(){var a=this.Vc.get(),b={},c=!1,d;for(d in a){0<a[d]&&eb(this.rf,d)&&(b[d]=a[d],c=!0)}c&&this.va.ye(b);hc(q(this.lf,this),_Mathfloor(6E5*Math.random()))};function Lf(){this.tc={}}function Mf(a,b,c){n(c)||(c=1);eb(a.tc,b)||(a.tc[b]=0);a.tc[b]+=c}Lf.prototype.get=function(){return Ta(this.tc)};function Kf(a){this.Ef=a;this.rd=null}Kf.prototype.get=function(){var a=this.Ef.get(),b=Ta(a);if(this.rd)for(var c in this.rd){b[c]-=this.rd[c]}this.rd=a;return b};var Nf={},Of={};function Pf(a){a=a.toString();Nf[a]||(Nf[a]=new Lf);return Nf[a]}function Qf(a,b){var c=a.toString();Of[c]||(Of[c]=b());return Of[c]}function Rf(a,b,c){this.f=Tb("p:rest:");this.L=a;this.Gb=b;this.$c=c;this.$={}}function Sf(a,b){if(n(b))return"tag$"+b;D(qf(a.m),"should have a tag if it's not a default query.");return a.path.toString()}g=Rf.prototype;g.$e=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.ja());var f=Sf(a,c),h={};this.$[f]=h;a=rf(a.m);var k=this;Tf(this,e+".json",a,function(a,b){var u=b;404===a&&(a=u=null);null===a&&k.Gb(e,u,!1,c);w(k.$,f)===h&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};g.uf=function(a,b){var c=Sf(a,b);delete this.$[c]};g.kf=function(){};g.re=function(){};g.cf=function(){};g.xd=function(){};g.put=function(){};g.af=function(){};g.ye=function(){};function Tf(a,b,c,d){c=c||{};c.format="export";a.$c.getToken(!1).then(function(e){(e=e&&e.accessToken)&&(c.auth=e);var f=(a.L.Sc?"https://":"http://")+a.L.host+b+"?"+gb(c);a.f("Sending REST request for "+f);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(d&&4===h.readyState){a.f("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);var b=null;if(200<=h.status&&300>h.status){try{b=lb(h.responseText)}catch(c){J("Failed to parse JSON response for "+f+": "+h.responseText)}d(null,b)}else 401!==h.status&&404!==h.status&&J("Got unsuccessful REST response for "+f+" Status: "+h.status),d(h.status);d=null}};h.open("GET",f,!0);h.send()})}function Uf(a){this.te=a;this.Bd=[];this.Qb=0;this.Yd=-1;this.Fb=null}function Vf(a,b,c){a.Yd=b;a.Fb=c;a.Yd<a.Qb&&(a.Fb(),a.Fb=null)}function Wf(a,b,c){for(a.Bd[b]=c;a.Bd[a.Qb];){var d=a.Bd[a.Qb];delete a.Bd[a.Qb];for(var e=0;e<d.length;++e){if(d[e]){fc(function(){a.te(d[e])})}}if(a.Qb===a.Yd){a.Fb&&(clearTimeout(a.Fb),a.Fb(),a.Fb=null);break}a.Qb++}}var Cb="websocket",Db="long_polling",Xf=null;"undefined"!==typeof MozWebSocket?Xf=MozWebSocket:"undefined"!==typeof WebSocket&&(Xf=WebSocket);function Yf(a,b,c,d){this.Zd=a;this.f=Tb(this.Zd);this.frames=this.zc=null;this.pb=this.qb=this.Fe=0;this.Va=Pf(b);a={v:"5"};"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");c&&(a.s=c);d&&(a.ls=d);this.Ke=Bb(b,Cb,a)}var Zf;Yf.prototype.open=function(a,b){this.ib=b;this.Xf=a;this.f("Websocket connecting to "+this.Ke);this.wc=!1;xb.set("previous_websocket_failure",!0);try{this.Ia=new Xf(this.Ke)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.bb();return}var e=this;this.Ia.onopen=function(){e.f("Websocket connected.");e.wc=!0};this.Ia.onclose=function(){e.f("Websocket connection was disconnected.");e.Ia=null;e.bb()};this.Ia.onmessage=function(a){if(null!==e.Ia)if(a=a.data,e.pb+=a.length,Mf(e.Va,"bytes_received",a.length),$f(e),null!==e.frames)ag(e,a);else{a:{D(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=+a;if(!isNaN(b)){e.Fe=b;e.frames=[];a=null;break a}}e.Fe=1;e.frames=[]}null!==a&&ag(e,a)}};this.Ia.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.bb()}};Yf.prototype.start=function(){};Yf.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==Xf&&!Zf};Yf.responsesRequiredToBeHealthy=2;Yf.healthyTimeout=3E4;g=Yf.prototype;g.sd=function(){xb.remove("previous_websocket_failure")};function ag(a,b){a.frames.push(b);if(a.frames.length==a.Fe){var c=a.frames.join("");a.frames=null;c=lb(c);a.Xf(c)}}g.send=function(a){$f(this);a=x(a);this.qb+=a.length;Mf(this.Va,"bytes_sent",a.length);a=bc(a,16384);1<a.length&&bg(this,a.length+"");for(var b=0;b<a.length;b++){bg(this,a[b])}};g.Tc=function(){this.Ab=!0;this.zc&&(clearInterval(this.zc),this.zc=null);this.Ia&&(this.Ia.close(),this.Ia=null)};g.bb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))};g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.Tc())};function $f(a){clearInterval(a.zc);a.zc=setInterval(function(){a.Ia&&bg(a,"0");$f(a)},45000)}function bg(a,b){try{a.Ia.send(b)}catch(c){a.f("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(q(a.bb,a),0)}}function cg(a,b,c,d){this.Zd=a;this.f=Tb(a);this.jc=b;this.pb=this.qb=0;this.Va=Pf(b);this.tf=c;this.wc=!1;this.Cb=d;this.Yc=function(a){return Bb(b,Db,a)}}var dg,eg;cg.prototype.open=function(a,b){this.Ne=0;this.ia=b;this.bf=new Uf(a);this.Ab=!1;var c=this;this.sb=setTimeout(function(){c.f("Timed out trying to connect.");c.bb();c.sb=null},30000);Yb(function(){if(!c.Ab){c.Ta=new fg(function(a,b,d){gg(c,arguments);if(c.Ta)if(c.sb&&(clearTimeout(c.sb),c.sb=null),c.wc=!0,"start"==a)c.id=b,c.ff=d;else if("close"===a)b?(c.Ta.Kd=!1,Vf(c.bf,b,function(){c.bb()})):c.bb();else throw Error("Unrecognized command received: "+a)},function(a,b){gg(c,arguments);Wf(c.bf,a,b)},function(){c.bb()},c.Yc);var a={start:"t",ser:_Mathfloor(1E8*Math.random())};c.Ta.Qd&&(a.cb=c.Ta.Qd);a.v="5";c.tf&&(a.s=c.tf);c.Cb&&(a.ls=c.Cb);"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");a=c.Yc(a);c.f("Connecting via long-poll to "+a);hg(c.Ta,a,function(){})}})};cg.prototype.start=function(){var a=this.Ta,b=this.ff;a.Vf=this.id;a.Wf=b;for(a.Ud=!0;ig(a);){}a=this.id;b=this.ff;this.fc=document.createElement("iframe");var c={dframe:"t",id:a,pw:b};this.fc.src=this.Yc(c);this.fc.style.display="none";document.body.appendChild(this.fc)};cg.isAvailable=function(){return dg||!eg&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===("undefined"===typeof window?"undefined":babelHelpers.typeof(window))&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===("undefined"===typeof Windows?"undefined":babelHelpers.typeof(Windows))&&"object"===babelHelpers.typeof(Windows.rg))&&!0};g=cg.prototype;g.sd=function(){};g.Tc=function(){this.Ab=!0;this.Ta&&(this.Ta.close(),this.Ta=null);this.fc&&(document.body.removeChild(this.fc),this.fc=null);this.sb&&(clearTimeout(this.sb),this.sb=null)};g.bb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))};g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.Tc())};g.send=function(a){a=x(a);this.qb+=a.length;Mf(this.Va,"bytes_sent",a.length);a=mb(a);a=ab(a,!0);a=bc(a,1840);for(var b=0,c;b<a.length;b++){c=this.Ta;c.Qc.push({jg:this.Ne,pg:a.length,Pe:a[b]});c.Ud&&ig(c);this.Ne++}};function gg(a,b){var c=x(b).length;a.pb+=c;Mf(a.Va,"bytes_received",c)}function fg(a,b,c,d){this.Yc=d;this.ib=c;this.ve=new Gc;this.Qc=[];this.$d=_Mathfloor(1E8*Math.random());this.Kd=!0;this.Qd=Lb();window["pLPCommand"+this.Qd]=a;window["pRTLPCB"+this.Qd]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||I("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";a.contentDocument?a.gb=a.contentDocument:a.contentWindow?a.gb=a.contentWindow.document:a.document&&(a.gb=a.document);this.Ea=a;a="";this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(a="<script>document.domain=\""+document.domain+"\";</script>");a="<html><body>"+a+"</body></html>";try{this.Ea.gb.open(),this.Ea.gb.write(a),this.Ea.gb.close()}catch(f){I("frame writing exception"),f.stack&&I(f.stack),I(f)}}fg.prototype.close=function(){this.Ud=!1;if(this.Ea){this.Ea.gb.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ea&&(document.body.removeChild(a.Ea),a.Ea=null)},0)}var b=this.ib;b&&(this.ib=null,b())};function ig(a){if(a.Ud&&a.Kd&&a.ve.count()<(0<a.Qc.length?2:1)){a.$d++;for(var b={id:a.Vf,pw:a.Wf,ser:a.$d},b=a.Yc(b),c="",d=0;0<a.Qc.length;){if(1870>=a.Qc[0].Pe.length+30+c.length){var e=a.Qc.shift(),c=c+"&seg"+d+"="+e.jg+"&ts"+d+"="+e.pg+"&d"+d+"="+e.Pe;d++}else break}jg(a,b+c,a.$d);return!0}return!1}function jg(a,b,c){function d(){a.ve.remove(c);ig(a)}a.ve.add(c,1);var e=setTimeout(d,25000);hg(a,b,function(){clearTimeout(e);d()})}function hg(a,b,c){setTimeout(function(){try{if(a.Kd){var d=a.Ea.gb.createElement("script");d.type="text/javascript";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){I("Long-poll script failed to load: "+b);a.Kd=!1;a.close()};a.Ea.gb.body.appendChild(d)}}catch(e){}},1)}function kg(a){lg(this,a)}var mg=[cg,Yf];function lg(a,b){var c=Yf&&Yf.isAvailable(),d=c&&!(xb.Ze||!0===xb.get("previous_websocket_failure"));b.qg&&(c||J("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.Wc=[Yf];else{var e=a.Wc=[];cc(mg,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function ng(a){if(0<a.Wc.length)return a.Wc[0];throw Error("No transports available")}function og(a,b,c,d,e,f,h){this.id=a;this.f=Tb("c:"+this.id+":");this.te=c;this.Lc=d;this.ia=e;this.se=f;this.L=b;this.Ad=[];this.Le=0;this.sf=new kg(b);this.Ua=0;this.Cb=h;this.f("Connection created");pg(this)}function pg(a){var b=ng(a.sf);a.I=new b("c:"+a.id+":"+a.Le++,a.L,void 0,a.Cb);a.xe=b.responsesRequiredToBeHealthy||0;var c=qg(a,a.I),d=rg(a,a.I);a.Xc=a.I;a.Rc=a.I;a.D=null;a.Bb=!1;setTimeout(function(){a.I&&a.I.open(c,d)},0);b=b.healthyTimeout||0;0<b&&(a.md=hc(function(){a.md=null;a.Bb||(a.I&&102400<a.I.pb?(a.f("Connection exceeded healthy timeout but has received "+a.I.pb+" bytes.  Marking connection healthy."),a.Bb=!0,a.I.sd()):a.I&&10240<a.I.qb?a.f("Connection exceeded healthy timeout but has sent "+a.I.qb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},_Mathfloor(b)))}function rg(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.Ua?1===a.Ua&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.L.$a.substr(0,2)&&(xb.remove("host:"+a.L.host),a.L.$a=a.L.host)),a.close()):b===a.D?(a.f("Secondary connection lost."),c=a.D,a.D=null,a.Xc!==c&&a.Rc!==c||a.close()):a.f("closing an old connection")}}function qg(a,b){return function(c){if(2!=a.Ua)if(b===a.Rc){var d=$b("t",c);c=$b("d",c);if("c"==d){if(d=$b("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.qf=c.s;Ab(a.L,f);0==a.Ua&&(a.I.start(),sg(a,a.I,d),"5"!==e&&J("Protocol version mismatch detected"),c=a.sf,(c=1<c.Wc.length?c.Wc[1]:null)&&tg(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.Rc=a.D;for(c=0;c<a.Ad.length;++c){a.wd(a.Ad[c])}a.Ad=[];ug(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),a.se&&(a.se(c),a.se=null),a.ia=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),Ab(a.L,c),1===a.Ua?a.close():(vg(a),pg(a))):"e"===d?Ub("Server Error: "+c):"o"===d?(a.f("got pong on primary."),wg(a),xg(a)):Ub("Unknown control packet command: "+d)}else"d"==d&&a.wd(c)}else if(b===a.D){if(d=$b("t",c),c=$b("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?yg(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.D.close(),a.Xc!==a.D&&a.Rc!==a.D||a.close()):"o"===c&&(a.f("got pong on secondary."),a.pf--,yg(a)));else if("d"==d)a.Ad.push(c);else throw Error("Unknown protocol layer: "+d);}else a.f("message on old connection")}}og.prototype.ua=function(a){zg(this,{t:"d",d:a})};function ug(a){a.Xc===a.D&&a.Rc===a.D&&(a.f("cleaning up and promoting a connection: "+a.D.Zd),a.I=a.D,a.D=null)}function yg(a){0>=a.pf?(a.f("Secondary connection is healthy."),a.Bb=!0,a.D.sd(),a.D.start(),a.f("sending client ack on secondary"),a.D.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.I.send({t:"c",d:{t:"n",d:{}}}),a.Xc=a.D,ug(a)):(a.f("sending ping on secondary."),a.D.send({t:"c",d:{t:"p",d:{}}}))}og.prototype.wd=function(a){wg(this);this.te(a)};function wg(a){a.Bb||(a.xe--,0>=a.xe&&(a.f("Primary connection is healthy."),a.Bb=!0,a.I.sd()))}function tg(a,b){a.D=new b("c:"+a.id+":"+a.Le++,a.L,a.qf);a.pf=b.responsesRequiredToBeHealthy||0;a.D.open(qg(a,a.D),rg(a,a.D));hc(function(){a.D&&(a.f("Timed out trying to upgrade."),a.D.close())},60000)}function sg(a,b,c){a.f("Realtime connection established.");a.I=b;a.Ua=1;a.Lc&&(a.Lc(c,a.qf),a.Lc=null);0===a.xe?(a.f("Primary connection is healthy."),a.Bb=!0):hc(function(){xg(a)},5000)}function xg(a){a.Bb||1!==a.Ua||(a.f("sending ping on primary."),zg(a,{t:"c",d:{t:"p",d:{}}}))}function zg(a,b){if(1!==a.Ua)throw"Connection is not connected";a.Xc.send(b)}og.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,vg(this),this.ia&&(this.ia(),this.ia=null))};function vg(a){a.f("Shutting down all connections");a.I&&(a.I.close(),a.I=null);a.D&&(a.D.close(),a.D=null);a.md&&(clearTimeout(a.md),a.md=null)}function Ag(a,b,c,d,e,f){this.id=Bg++;this.f=Tb("p:"+this.id+":");this.qd={};this.$={};this.pa=[];this.Oc=0;this.Kc=[];this.ma=!1;this.Sa=1E3;this.td=3E5;this.Gb=b;this.Jc=c;this.ue=d;this.L=a;this.ob=this.Fa=this.Cb=this.ze=null;this.$c=e;this.de=!1;this.ke=0;if(f)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Vd=f;this.ub=null;this.Mb=!1;this.Gd={};this.ig=0;this.Re=!0;this.Ac=this.me=null;Cg(this,0);Mc.Vb().gc("visible",this.Zf,this);-1===a.host.indexOf("fblocal")&&Lc.Vb().gc("online",this.Yf,this)}var Bg=0,Dg=0;g=Ag.prototype;g.ua=function(a,b,c){var d=++this.ig;a={r:d,a:a,b:b};this.f(x(a));D(this.ma,"sendRequest call when we're not connected not allowed.");this.Fa.ua(a);c&&(this.Gd[d]=c)};g.$e=function(a,b,c,d){var e=a.ja(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.$[f]=this.$[f]||{};D(qf(a.m)||!T(a.m),"listen() called for non-default but complete query");D(!this.$[f][e],"listen() called twice for same path/queryId.");a={G:d,ld:b,eg:a,tag:c};this.$[f][e]=a;this.ma&&Eg(this,a)};function Eg(a,b){var c=b.eg,d=c.path.toString(),e=c.ja();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=pf(c.m),f.t=b.tag);f.h=b.ld();a.ua("q",f,function(f){var k=f.d,m=f.s;if(k&&"object"===babelHelpers.typeof(k)&&eb(k,"w")){var l=w(k,"w");ea(l)&&0<=xa(l,"no_index")&&J("Using an unspecified index. Consider adding "+("\".indexOn\": \""+c.m.g.toString()+"\"")+" at "+c.path.toString()+" to your security rules for better performance")}(a.$[d]&&a.$[d][e])===b&&(a.f("listen response",f),"ok"!==m&&Fg(a,d,e),b.G&&b.G(m,k))})}g.kf=function(a){this.ob=a;this.f("Auth token refreshed");this.ob?Gg(this):this.ma&&this.ua("unauth",{},function(){});if(a&&40===a.length||kc(a))this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3E4};function Gg(a){if(a.ma&&a.ob){var b=a.ob,c=jc(b)?"auth":"gauth",d={cred:b};null===a.Vd?d.noauth=!0:"object"===babelHelpers.typeof(a.Vd)&&(d.authvar=a.Vd);a.ua(c,d,function(c){var d=c.s;c=c.d||"error";a.ob===b&&("ok"===d?a.ke=0:Hg(a,d,c))})}}g.uf=function(a,b){var c=a.path.toString(),d=a.ja();this.f("Unlisten called for "+c+" "+d);D(qf(a.m)||!T(a.m),"unlisten() called for non-default but complete query");if(Fg(this,c,d)&&this.ma){var e=pf(a.m);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.ua("n",c)}};g.re=function(a,b,c){this.ma?Ig(this,"o",a,b,c):this.Kc.push({we:a,action:"o",data:b,G:c})};g.cf=function(a,b,c){this.ma?Ig(this,"om",a,b,c):this.Kc.push({we:a,action:"om",data:b,G:c})};g.xd=function(a,b){this.ma?Ig(this,"oc",a,null,b):this.Kc.push({we:a,action:"oc",data:null,G:b})};function Ig(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.ua(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},0)})}g.put=function(a,b,c,d){Jg(this,"p",a,b,c,d)};g.af=function(a,b,c,d){Jg(this,"m",a,b,c,d)};function Jg(a,b,c,d,e,f){d={p:c,d:d};n(f)&&(d.h=f);a.pa.push({action:b,mf:d,G:e});a.Oc++;b=a.pa.length-1;a.ma?Kg(a,b):a.f("Buffering put: "+c)}function Kg(a,b){var c=a.pa[b].action,d=a.pa[b].mf,e=a.pa[b].G;a.pa[b].fg=a.ma;a.ua(c,d,function(d){a.f(c+" response",d);delete a.pa[b];a.Oc--;0===a.Oc&&(a.pa=[]);e&&e(d.s,d.d)})}g.ye=function(a){this.ma&&(a={c:a},this.f("reportStats",a),this.ua("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};g.wd=function(a){if("r"in a){this.f("from server: "+x(a));var b=a.r,c=this.Gd[b];c&&(delete this.Gd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,a=a.b,this.f("handleServerMessage",b,a),"d"===b?this.Gb(a.p,a.d,!1,a.t):"m"===b?this.Gb(a.p,a.d,!0,a.t):"c"===b?Lg(this,a.p,a.q):"ac"===b?Hg(this,a.s,a.d):"sd"===b?this.ze?this.ze(a):"msg"in a&&"undefined"!==typeof console&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: ")):Ub("Unrecognized action received from server: "+x(b)+"\nAre you using the latest client?"))}};g.Lc=function(a,b){this.f("connection ready");this.ma=!0;this.Ac=new Date().getTime();this.ue({serverTimeOffset:a-new Date().getTime()});this.Cb=b;if(this.Re){var c={};c["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1;pb()?c["framework.cordova"]=1:"object"===("undefined"===typeof navigator?"undefined":babelHelpers.typeof(navigator))&&"ReactNative"===navigator.product&&(c["framework.reactnative"]=1);this.ye(c)}Mg(this);this.Re=!1;this.Jc(!0)};function Cg(a,b){D(!a.Fa,"Scheduling a connect when we're already connected/ing?");a.ub&&clearTimeout(a.ub);a.ub=setTimeout(function(){a.ub=null;Ng(a)},_Mathfloor(b))}g.Zf=function(a){a&&!this.Mb&&this.Sa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Sa=1E3,this.Fa||Cg(this,0));this.Mb=a};g.Yf=function(a){a?(this.f("Browser went online."),this.Sa=1E3,this.Fa||Cg(this,0)):(this.f("Browser went offline.  Killing connection."),this.Fa&&this.Fa.close())};g.df=function(){this.f("data client disconnected");this.ma=!1;this.Fa=null;for(var a=0,b;a<this.pa.length;a++){b=this.pa[a];b&&"h"in b.mf&&b.fg&&(b.G&&b.G("disconnect"),delete this.pa[a],this.Oc--)}0===this.Oc&&(this.pa=[]);this.Gd={};Og(this)&&(this.Mb?this.Ac&&(3E4<new Date().getTime()-this.Ac&&(this.Sa=1E3),this.Ac=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Sa=this.td,this.me=new Date().getTime()),a=_Mathmax(0,this.Sa-(new Date().getTime()-this.me)),a*=Math.random(),this.f("Trying to reconnect in "+a+"ms"),Cg(this,a),this.Sa=_Mathmin(this.td,1.3*this.Sa));this.Jc(!1)};function Ng(a){if(Og(a)){a.f("Making a connection attempt");a.me=new Date().getTime();a.Ac=null;var b=q(a.wd,a),c=q(a.Lc,a),d=q(a.df,a),e=a.id+":"+Dg++,f=a.Cb,h=!1,k=null,m=function(){k?k.close():(h=!0,d())};a.Fa={close:m,ua:function(a){D(k,"sendRequest call when we're not connected not allowed.");k.ua(a)}};var l=a.de;a.de=!1;a.$c.getToken(l).then(function(l){h?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),a.ob=l&&l.accessToken,k=new og(e,a.L,b,c,d,function(b){J(b+" ("+a.L.toString()+")");a.ab("server_kill")},f))}).then(null,function(b){a.f("Failed to get token: "+b);h||m()})}}g.ab=function(a){I("Interrupting connection for reason: "+a);this.qd[a]=!0;this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())};g.kc=function(a){I("Resuming connection for reason: "+a);delete this.qd[a];Sa(this.qd)&&(this.Sa=1E3,this.Fa||Cg(this,0))};function Lg(a,b,c){c=c?Aa(c,function(a){return ac(a)}).join("$"):"default";(a=Fg(a,b,c))&&a.G&&a.G("permission_denied")}function Fg(a,b,c){b=new E(b).toString();var d;n(a.$[b])?(d=a.$[b][c],delete a.$[b][c],0===La(a.$[b])&&delete a.$[b]):d=void 0;return d}function Hg(a,b,c){I("Auth token revoked: "+b+"/"+c);a.ob=null;a.de=!0;a.Fa.close();if("invalid_token"===b||"permission_denied"===b)a.ke++,3<=a.ke&&(a.Sa=3E4,a=a.$c,b="Provided authentication credentials for the app named \""+a.oc.name+"\" are invalid. This usually indicates your app was not initialized correctly. ",b="credential"in a.oc.options?b+"Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.":"serviceAccount"in a.oc.options?b+"Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.":b+"Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.",J(b))}function Mg(a){Gg(a);v(a.$,function(b){v(b,function(b){Eg(a,b)})});for(var b=0;b<a.pa.length;b++){a.pa[b]&&Kg(a,b)}for(;a.Kc.length;){b=a.Kc.shift(),Ig(a,b.action,b.we,b.data,b.G)}}function Og(a){var b=Lc.Vb().hc;return Sa(a.qd)&&b}function Pg(a){babelHelpers.instanceof(a,Qg)||Vb("Don't call new Database() directly - please use firebase.database().");this.ta=a;this.ba=new U(a,Q);this.INTERNAL=new Rg(this)}var Sg={TIMESTAMP:{".sv":"timestamp"}};g=Pg.prototype;g.app=null;g.jf=function(a){Tg(this,"ref");y("database.ref",0,1,arguments.length);return n(a)?this.ba.n(a):this.ba};g.gg=function(a){Tg(this,"database.refFromURL");y("database.refFromURL",1,1,arguments.length);var b=Wb(a);Xd("database.refFromURL",b);var c=b.jc;c.host!==this.ta.L.host&&Vb("database.refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+this.ta.L.host+")");return this.jf(b.path.toString())};function Tg(a,b){null===a.ta&&Vb("Cannot call "+b+" on a deleted database.")}g.Pf=function(){y("database.goOffline",0,0,arguments.length);Tg(this,"goOffline");this.ta.ab()};g.Qf=function(){y("database.goOnline",0,0,arguments.length);Tg(this,"goOnline");this.ta.kc()};Object.defineProperty(Pg.prototype,"app",{get:function get(){return this.ta.app}});function Rg(a){this.Ya=a}Rg.prototype.delete=function(){Tg(this.Ya,"delete");var a=Ug.Vb(),b=this.Ya.ta;w(a.lb,b.app.name)!==b&&Vb("Database "+b.app.name+" has already been deleted.");b.ab();delete a.lb[b.app.name];this.Ya.ta=null;this.Ya.ba=null;this.Ya=this.Ya.INTERNAL=null;return firebase.Promise.resolve()};Pg.prototype.ref=Pg.prototype.jf;Pg.prototype.refFromURL=Pg.prototype.gg;Pg.prototype.goOnline=Pg.prototype.Qf;Pg.prototype.goOffline=Pg.prototype.Pf;Rg.prototype["delete"]=Rg.prototype.delete;function V(a,b,c){this.A=a;this.V=b;this.g=c}V.prototype.H=function(){y("Firebase.DataSnapshot.val",0,0,arguments.length);return this.A.H()};V.prototype.val=V.prototype.H;V.prototype.be=function(){y("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.A.H(!0)};V.prototype.exportVal=V.prototype.be;V.prototype.toJSON=function(){y("Firebase.DataSnapshot.toJSON",0,1,arguments.length);return this.be()};V.prototype.toJSON=V.prototype.toJSON;V.prototype.Lf=function(){y("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.A.e()};V.prototype.exists=V.prototype.Lf;V.prototype.n=function(a){y("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=a+"");Vd("Firebase.DataSnapshot.child",a);var b=new E(a),c=this.V.n(b);return new V(this.A.P(b),c,H)};V.prototype.child=V.prototype.n;V.prototype.Da=function(a){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Vd("Firebase.DataSnapshot.hasChild",a);var b=new E(a);return!this.A.P(b).e()};V.prototype.hasChild=V.prototype.Da;V.prototype.C=function(){y("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.A.C().H()};V.prototype.getPriority=V.prototype.C;V.prototype.forEach=function(a){y("Firebase.DataSnapshot.forEach",1,1,arguments.length);B("Firebase.DataSnapshot.forEach",1,a,!1);if(this.A.J())return!1;var b=this;return!!this.A.O(this.g,function(c,d){return a(new V(d,b.V.n(c),H))})};V.prototype.forEach=V.prototype.forEach;V.prototype.kd=function(){y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.A.J()?!1:!this.A.e()};V.prototype.hasChildren=V.prototype.kd;V.prototype.getKey=function(){y("Firebase.DataSnapshot.key",0,0,arguments.length);return this.V.getKey()};gc(V.prototype,"key",V.prototype.getKey);V.prototype.Eb=function(){y("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.A.Eb()};V.prototype.numChildren=V.prototype.Eb;V.prototype.wb=function(){y("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.V};gc(V.prototype,"ref",V.prototype.wb);function Vg(a,b,c){this.Pb=a;this.rb=b;this.tb=c||null}g=Vg.prototype;g.nf=function(a){return"value"===a};g.createEvent=function(a,b){var c=b.m.g;return new We("value",this,new V(a.Ja,b.wb(),c))};g.Tb=function(a){var b=this.tb;if("cancel"===a.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var c=this.rb;return function(){c.call(b,a.error)}}var d=this.Pb;return function(){d.call(b,a.Md)}};g.Me=function(a,b){return this.rb?new Xe(this,a,b):null};g.matches=function(a){return babelHelpers.instanceof(a,Vg)?a.Pb&&this.Pb?a.Pb===this.Pb&&a.tb===this.tb:!0:!1};g.Xe=function(){return null!==this.Pb};function Wg(a,b,c){this.ga=a;this.rb=b;this.tb=c}g=Wg.prototype;g.nf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ga};g.Me=function(a,b){return this.rb?new Xe(this,a,b):null};g.createEvent=function(a,b){D(null!=a.Xa,"Child events should have a childName.");var c=b.wb().n(a.Xa);return new We(a.type,this,new V(a.Ja,c,b.m.g),a.Dd)};g.Tb=function(a){var b=this.tb;if("cancel"===a.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var c=this.rb;return function(){c.call(b,a.error)}}var d=this.ga[a.hd];return function(){d.call(b,a.Md,a.Dd)}};g.matches=function(a){if(babelHelpers.instanceof(a,Wg)){if(!this.ga||!a.ga)return!0;if(this.tb===a.tb){var b=La(a.ga);if(b===La(this.ga)){if(1===b){var b=Ma(a.ga),c=Ma(this.ga);return c===b&&(!a.ga[b]||!this.ga[c]||a.ga[b]===this.ga[c])}return Ka(this.ga,function(b,c){return a.ga[c]===b})}}}return!1};g.Xe=function(){return null!==this.ga};function Xg(){this.za={}}g=Xg.prototype;g.e=function(){return Sa(this.za)};g.eb=function(a,b,c){var d=a.source.Hb;if(null!==d)return d=w(this.za,d),D(null!=d,"SyncTree gave us an op for an invalid query."),d.eb(a,b,c);var e=[];v(this.za,function(d){e=e.concat(d.eb(a,b,c))});return e};g.Nb=function(a,b,c,d,e){var f=a.ja(),h=w(this.za,f);if(!h){var h=c.Aa(e?d:null),k=!1;h?k=!0:(h=babelHelpers.instanceof(d,O)?c.rc(d):L,k=!1);h=new Pe(a,new oe(new je(h,k,!1),new je(d,e,!1)));this.za[f]=h}h.Nb(b);return Ve(h,b)};g.kb=function(a,b,c){var d=a.ja(),e=[],f=[],h=null!=Yg(this);if("default"===d){var k=this;v(this.za,function(a,d){f=f.concat(a.kb(b,c));a.e()&&(delete k.za[d],T(a.V.m)||e.push(a.V))})}else{var m=w(this.za,d);m&&(f=f.concat(m.kb(b,c)),m.e()&&(delete this.za[d],T(m.V.m)||e.push(m.V)))}h&&null==Yg(this)&&e.push(new U(a.u,a.path));return{hg:e,Kf:f}};function Zg(a){return za(Na(a.za),function(a){return!T(a.V.m)})}g.hb=function(a){var b=null;v(this.za,function(c){b=b||c.hb(a)});return b};function $g(a,b){if(T(b.m))return Yg(a);var c=b.ja();return w(a.za,c)}function Yg(a){return Ra(a.za,function(a){return T(a.V.m)})||null}function ah(a){this.wa=R;this.jb=new Df;this.De={};this.ic={};this.Cc=a}function bh(a,b,c,d,e){var f=a.jb,h=e;D(d>f.Bc,"Stacking an older write on top of newer ones");n(h)||(h=!0);f.la.push({path:b,Ga:c,Zc:d,visible:h});h&&(f.S=uf(f.S,b,c));f.Bc=d;return e?ch(a,new ce(fe,b,c)):[]}function dh(a,b,c,d){var e=a.jb;D(d>e.Bc,"Stacking an older merge on top of newer ones");e.la.push({path:b,children:c,Zc:d,visible:!0});e.S=vf(e.S,b,c);e.Bc=d;c=xd(c);return ch(a,new ae(fe,b,c))}function eh(a,b,c){c=c||!1;var d=Ef(a.jb,b);if(a.jb.Ed(b)){var e=R;null!=d.Ga?e=e.set(Q,!0):fb(d.children,function(a,b){e=e.set(new E(a),b)});return ch(a,new de(d.path,e,c))}return[]}function fh(a,b,c){c=xd(c);return ch(a,new ae(ie,b,c))}function gh(a,b,c,d){d=hh(a,d);if(null!=d){var e=ih(d);d=e.path;e=e.Hb;b=P(d,b);c=new ce(new he(!1,!0,e,!0),b,c);return jh(a,d,c)}return[]}function kh(a,b,c,d){if(d=hh(a,d)){var e=ih(d);d=e.path;e=e.Hb;b=P(d,b);c=xd(c);c=new ae(new he(!1,!0,e,!0),b,c);return jh(a,d,c)}return[]}ah.prototype.Nb=function(a,b){var c=a.path,d=null,e=!1;Fd(this.wa,c,function(a,b){var f=P(a,c);d=d||b.hb(f);e=e||null!=Yg(b)});var f=this.wa.get(c);f?(e=e||null!=Yg(f),d=d||f.hb(Q)):(f=new Xg,this.wa=this.wa.set(c,f));var h;null!=d?h=!0:(h=!1,d=L,Jd(this.wa.subtree(c),function(a,b){var c=b.hb(Q);c&&(d=d.T(a,c))}));var k=null!=$g(f,a);if(!k&&!T(a.m)){var m=lh(a);D(!(m in this.ic),"View does not exist, but we have a tag");var l=mh++;this.ic[m]=l;this.De["_"+l]=m}h=f.Nb(a,b,new If(c,this.jb),d,h);k||e||(f=$g(f,a),h=h.concat(nh(this,a,f)));return h};ah.prototype.kb=function(a,b,c){var d=a.path,e=this.wa.get(d),f=[];if(e&&("default"===a.ja()||null!=$g(e,a))){f=e.kb(a,b,c);e.e()&&(this.wa=this.wa.remove(d));e=f.hg;f=f.Kf;b=-1!==Ea(e,function(a){return T(a.m)});var h=Dd(this.wa,d,function(a,b){return null!=Yg(b)});if(b&&!h&&(d=this.wa.subtree(d),!d.e()))for(var d=oh(d),k=0;k<d.length;++k){var m=d[k],l=m.V,m=ph(this,m);this.Cc.Ae(qh(l),rh(this,l),m.ld,m.G)}if(!h&&0<e.length&&!c)if(b)this.Cc.Od(qh(a),null);else{var u=this;ya(e,function(a){a.ja();var b=u.ic[lh(a)];u.Cc.Od(qh(a),b)})}sh(this,e)}return f};ah.prototype.Aa=function(a,b){var c=this.jb,d=Dd(this.wa,a,function(b,c){var d=P(b,a);if(d=c.hb(d))return d});return c.Aa(a,d,b,!0)};function oh(a){return Bd(a,function(a,c,d){if(c&&null!=Yg(c))return[Yg(c)];var e=[];c&&(e=Zg(c));v(d,function(a){e=e.concat(a)});return e})}function sh(a,b){for(var c=0,d;c<b.length;++c){d=b[c];if(!T(d.m)){var d=lh(d),e=a.ic[d];delete a.ic[d];delete a.De["_"+e]}}}function qh(a){return T(a.m)&&!qf(a.m)?a.wb():a}function nh(a,b,c){var d=b.path,e=rh(a,b);c=ph(a,c);b=a.Cc.Ae(qh(b),e,c.ld,c.G);d=a.wa.subtree(d);if(e)D(null==Yg(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Bd(d,function(a,b,c){if(!a.e()&&b&&null!=Yg(b))return[Te(Yg(b))];var d=[];b&&(d=d.concat(Aa(Zg(b),function(a){return a.V})));v(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d){c=e[d],a.Cc.Od(qh(c),rh(a,c))}return b}function ph(a,b){var c=b.V,d=rh(a,c);return{ld:function(){return(b.w()||L).hash()},G:function(b){if("ok"===b){if(d){var f=c.path;if(b=hh(a,d)){var h=ih(b);b=h.path;h=h.Hb;f=P(b,f);f=new Zd(new he(!1,!0,h,!0),f);b=jh(a,b,f)}else b=[]}else b=ch(a,new Zd(ie,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&(f="The service is unavailable");f=Error(b+" at "+c.path.toString()+": "+f);f.code=b.toUpperCase();return a.kb(c,null,f)}}}function lh(a){return a.path.toString()+"$"+a.ja()}function ih(a){var b=a.indexOf("$");D(-1!==b&&b<a.length-1,"Bad queryKey.");return{Hb:a.substr(b+1),path:new E(a.substr(0,b))}}function hh(a,b){var c=a.De,d="_"+b;return d in c?c[d]:void 0}function rh(a,b){var c=lh(b);return w(a.ic,c)}var mh=1;function jh(a,b,c){var d=a.wa.get(b);D(d,"Missing sync point for query tag that we're tracking");return d.eb(c,new If(b,a.jb),null)}function ch(a,b){return th(a,b,a.wa,null,new If(Q,a.jb))}function th(a,b,c,d,e){if(b.path.e())return uh(a,b,c,d,e);var f=c.get(Q);null==d&&null!=f&&(d=f.hb(Q));var h=[],k=K(b.path),m=b.Mc(k);if((c=c.children.get(k))&&m)var l=d?d.Q(k):null,k=e.n(k),h=h.concat(th(a,m,c,l,k));f&&(h=h.concat(f.eb(b,e,d)));return h}function uh(a,b,c,d,e){var f=c.get(Q);null==d&&null!=f&&(d=f.hb(Q));var h=[];c.children.ha(function(c,f){var l=d?d.Q(c):null,u=e.n(c),z=b.Mc(c);z&&(h=h.concat(uh(a,z,f,l,u)))});f&&(h=h.concat(f.eb(b,e,d)));return h}function Qg(a,b,c){this.app=c;var d=new Bf(c);this.L=a;this.Va=Pf(a);this.Vc=null;this.ca=new Ye;this.vd=1;this.Ra=null;if(b||0<=("object"===("undefined"===typeof window?"undefined":babelHelpers.typeof(window))&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Rf(this.L,q(this.Gb,this),d),setTimeout(q(this.Jc,this,!0),0);else{b=c.options.databaseAuthVariableOverride;if("undefined"!==da(b)&&null!==b){if("object"!==da(b))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{x(b)}catch(e){throw Error("Invalid authOverride provided: "+e)}}this.va=this.Ra=new Ag(this.L,q(this.Gb,this),q(this.Jc,this),q(this.ue,this),d,b)}var f=this;Cf(d,function(a){f.va.kf(a)});this.og=Qf(a,q(function(){return new Jf(this.Va,this.va)},this));this.mc=new Tc;this.ie=new Af;this.pd=new ah({Ae:function(a,b,c,d){b=[];c=f.ie.j(a.path);c.e()||(b=ch(f.pd,new ce(ie,a.path,c)),setTimeout(function(){d("ok")},0));return b},Od:ba});vh(this,"connected",!1);this.ia=new Gb;this.Ya=new Pg(this);this.fd=0;this.je=null;this.K=new ah({Ae:function(a,b,c,d){f.va.$e(a,c,b,function(b,c){var e=d(b,c);cf(f.ca,a.path,e)});return[]},Od:function(a,b){f.va.uf(a,b)}})}g=Qg.prototype;g.toString=function(){return(this.L.Sc?"https://":"http://")+this.L.host};g.name=function(){return this.L.pe};function wh(a){a=a.ie.j(new E(".info/serverTimeOffset")).H()||0;return new Date().getTime()+a}function xh(a){a=a={timestamp:wh(a)};a.timestamp=a.timestamp||new Date().getTime();return a}g.Gb=function(a,b,c,d){this.fd++;var e=new E(a);b=this.je?this.je(a,b):b;a=[];d?c?(b=Ja(b,function(a){return G(a)}),a=kh(this.K,e,b,d)):(b=G(b),a=gh(this.K,e,b,d)):c?(d=Ja(b,function(a){return G(a)}),a=fh(this.K,e,d)):(d=G(b),a=ch(this.K,new ce(ie,e,d)));d=e;0<a.length&&(d=yh(this,e));cf(this.ca,d,a)};g.Jc=function(a){vh(this,"connected",a);!1===a&&zh(this)};g.ue=function(a){var b=this;cc(a,function(a,d){vh(b,d,a)})};function vh(a,b,c){b=new E("/.info/"+b);c=G(c);var d=a.ie;d.Jd=d.Jd.F(b,c);c=ch(a.pd,new ce(ie,b,c));cf(a.ca,b,c)}g.Jb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,ug:c});var e=xh(this);b=G(b,c);var e=Jb(b,e),f=this.vd++,e=bh(this.K,a,e,f,!0);Ze(this.ca,e);var h=this;this.va.put(a.toString(),b.H(!0),function(b,c){var e="ok"===b;e||J("set at "+a+" failed: "+b);e=eh(h.K,f,!e);cf(h.ca,a,e);Ah(d,b,c)});e=Bh(this,a);yh(this,e);cf(this.ca,e,[])};g.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=xh(this),f={};v(b,function(a,b){d=!1;var c=G(a);f[b]=Jb(c,e)});if(d)I("update() called with empty data.  Don't do anything."),Ah(c,"ok");else{var h=this.vd++,k=dh(this.K,a,f,h);Ze(this.ca,k);var m=this;this.va.af(a.toString(),b,function(b,d){var e="ok"===b;e||J("update at "+a+" failed: "+b);var e=eh(m.K,h,!e),f=a;0<e.length&&(f=yh(m,a));cf(m.ca,f,e);Ah(c,b,d)});v(b,function(b,c){var d=Bh(m,a.n(c));yh(m,d)});cf(this.ca,a,[])}};function zh(a){a.f("onDisconnectEvents");var b=xh(a),c=[];Hb(Fb(a.ia,b),Q,function(b,e){c=c.concat(ch(a.K,new ce(ie,b,e)));var f=Bh(a,b);yh(a,f)});a.ia=new Gb;cf(a.ca,Q,c)}g.xd=function(a,b){var c=this;this.va.xd(a.toString(),function(d,e){"ok"===d&&Yd(c.ia,a);Ah(b,d,e)})};function Ch(a,b,c,d){var e=G(c);a.va.re(b.toString(),e.H(!0),function(c,h){"ok"===c&&Ib(a.ia,b,e);Ah(d,c,h)})}function Dh(a,b,c,d,e){var f=G(c,d);a.va.re(b.toString(),f.H(!0),function(c,d){"ok"===c&&Ib(a.ia,b,f);Ah(e,c,d)})}function Eh(a,b,c,d){var e=!0,f;for(f in c){e=!1}e?(I("onDisconnect().update() called with empty data.  Don't do anything."),Ah(d,"ok")):a.va.cf(b.toString(),c,function(e,f){if("ok"===e)for(var m in c){var l=G(c[m]);Ib(a.ia,b.n(m),l)}Ah(d,e,f)})}function Fh(a,b,c){c=".info"===K(b.path)?a.pd.Nb(b,c):a.K.Nb(b,c);af(a.ca,b.path,c)}g.ab=function(){this.Ra&&this.Ra.ab("repo_interrupt")};g.kc=function(){this.Ra&&this.Ra.kc("repo_interrupt")};g.Be=function(a){if("undefined"!==typeof console){a?(this.Vc||(this.Vc=new Kf(this.Va)),a=this.Vc.get()):a=this.Va.get();var b=Ba(Oa(a),function(a,b){return _Mathmax(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++){c+=" "}console.log(c+d)}}};g.Ce=function(a){Mf(this.Va,a);this.og.rf[a]=!0};g.f=function(){var b="";this.Ra&&(b=this.Ra.id+":");I(b,arguments)};function Ah(a,b,c){a&&fc(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})}function Gh(a,b,c,d,e){function f(){}a.f("transaction on "+b);var h=new U(a,b);h.gc("value",f);c={path:b,update:c,G:d,status:null,ef:Lb(),He:e,of:0,Rd:function(){h.Ic("value",f)},Td:null,Ba:null,cd:null,dd:null,ed:null};d=a.K.Aa(b,void 0)||L;c.cd=d;d=c.update(d.H());if(n(d)){Pd("transaction failed: Data returned ",d,c.path);c.status=1;e=Uc(a.mc,b);var k=e.Ca()||[];k.push(c);Vc(e,k);"object"===babelHelpers.typeof(d)&&null!==d&&eb(d,".priority")?(k=w(d,".priority"),D(Nd(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(a.K.Aa(b)||L).C().H();e=xh(a);d=G(d,k);e=Jb(d,e);c.dd=d;c.ed=e;c.Ba=a.vd++;c=bh(a.K,b,e,c.Ba,c.He);cf(a.ca,b,c);Hh(a)}else c.Rd(),c.dd=null,c.ed=null,c.G&&(a=new V(c.cd,new U(a,c.path),H),c.G(null,!1,a))}function Hh(a,b){var c=b||a.mc;b||Ih(a,c);if(null!==c.Ca()){var d=Jh(a,c);D(0<d.length,"Sending zero length transaction queue");Ca(d,function(a){return 1===a.status})&&Kh(a,c.path(),d)}else c.kd()&&c.O(function(b){Hh(a,b)})}function Kh(a,b,c){for(var d=Aa(c,function(a){return a.Ba}),e=a.K.Aa(b,d)||L,d=e,e=e.hash(),f=0,h;f<c.length;f++){h=c[f];D(1===h.status,"tryToSendTransactionQueue_: items in queue should all be run.");h.status=2;h.of++;var k=P(b,h.path),d=d.F(k,h.dd)}d=d.H(!0);a.va.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(eh(a.K,c[f].Ba));if(c[f].G){var h=c[f].ed,k=new U(a,c[f].path);d.push(q(c[f].G,null,null,!0,new V(h,k,H)))}c[f].Rd()}Ih(a,Uc(a.mc,b));Hh(a);cf(a.ca,b,e);for(f=0;f<d.length;f++){fc(d[f])}}else{if("datastale"===d)for(f=0;f<c.length;f++){c[f].status=4===c[f].status?5:1}else for(J("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++){c[f].status=5,c[f].Td=d}yh(a,b)}},e)}function yh(a,b){var c=Lh(a,b),d=c.path(),c=Jh(a,c);Mh(a,c,d);return d}function Mh(a,b,c){if(0!==b.length){for(var d=[],e=[],f=za(b,function(a){return 1===a.status}),f=Aa(f,function(a){return a.Ba}),h=0;h<b.length;h++){var k=b[h],m=P(c,k.path),l=!1,u;D(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)l=!0,u=k.Td,e=e.concat(eh(a.K,k.Ba,!0));else if(1===k.status)if(25<=k.of)l=!0,u="maxretry",e=e.concat(eh(a.K,k.Ba,!0));else{var z=a.K.Aa(k.path,f)||L;k.cd=z;var F=b[h].update(z.H());n(F)?(Pd("transaction failed: Data returned ",F,k.path),m=G(F),"object"===babelHelpers.typeof(F)&&null!=F&&eb(F,".priority")||(m=m.fa(z.C())),z=k.Ba,F=xh(a),F=Jb(m,F),k.dd=m,k.ed=F,k.Ba=a.vd++,Fa(f,z),e=e.concat(bh(a.K,k.path,F,k.Ba,k.He)),e=e.concat(eh(a.K,z,!0))):(l=!0,u="nodata",e=e.concat(eh(a.K,k.Ba,!0)))}cf(a.ca,c,e);e=[];l&&(b[h].status=3,setTimeout(b[h].Rd,0),b[h].G&&("nodata"===u?(k=new U(a,b[h].path),d.push(q(b[h].G,null,null,!1,new V(b[h].cd,k,H)))):d.push(q(b[h].G,null,Error(u),!1,null))))}Ih(a,a.mc);for(h=0;h<d.length;h++){fc(d[h])}Hh(a)}}function Lh(a,b){for(var c,d=a.mc;null!==(c=K(b))&&null===d.Ca();){d=Uc(d,c),b=N(b)}return d}function Jh(a,b){var c=[];Nh(a,b,c);c.sort(function(a,b){return a.ef-b.ef});return c}function Nh(a,b,c){var d=b.Ca();if(null!==d)for(var e=0;e<d.length;e++){c.push(d[e])}b.O(function(b){Nh(a,b,c)})}function Ih(a,b){var c=b.Ca();if(c){for(var d=0,e=0;e<c.length;e++){3!==c[e].status&&(c[d]=c[e],d++)}c.length=d;Vc(b,0<c.length?c:null)}b.O(function(b){Ih(a,b)})}function Bh(a,b){var c=Lh(a,b).path(),d=Uc(a.mc,b);Yc(d,function(b){Oh(a,b)});Oh(a,d);Xc(d,function(b){Oh(a,b)});return c}function Oh(a,b){var c=b.Ca();if(null!==c){for(var d=[],e=[],f=-1,h=0;h<c.length;h++){4!==c[h].status&&(2===c[h].status?(D(f===h-1,"All SENT items should be at beginning of queue."),f=h,c[h].status=4,c[h].Td="set"):(D(1===c[h].status,"Unexpected transaction status in abort"),c[h].Rd(),e=e.concat(eh(a.K,c[h].Ba,!0)),c[h].G&&d.push(q(c[h].G,null,Error("set"),!1,null))))}-1===f?Vc(b,null):c.length=f+1;cf(a.ca,b.path(),e);for(h=0;h<d.length;h++){fc(d[h])}}}function Ug(){this.lb={};this.wf=!1}Ug.prototype.ab=function(){for(var a in this.lb){this.lb[a].ab()}};Ug.prototype.kc=function(){for(var a in this.lb){this.lb[a].kc()}};Ug.prototype.ce=function(a){this.wf=a};ca(Ug);Ug.prototype.interrupt=Ug.prototype.ab;Ug.prototype.resume=Ug.prototype.kc;var W={nc:Ag};W.DataConnection=W.nc;Ag.prototype.ng=function(a,b){this.ua("q",{p:a},b)};W.nc.prototype.simpleListen=W.nc.prototype.ng;Ag.prototype.Hf=function(a,b){this.ua("echo",{d:a},b)};W.nc.prototype.echo=W.nc.prototype.Hf;Ag.prototype.interrupt=Ag.prototype.ab;W.zf=og;W.RealTimeConnection=W.zf;og.prototype.sendRequest=og.prototype.ua;og.prototype.close=og.prototype.close;W.Rf=function(a){var b=Ag.prototype.put;Ag.prototype.put=function(c,d,e,f){n(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Ag.prototype.put=b}};W.hijackHash=W.Rf;W.yf=zb;W.ConnectionTarget=W.yf;W.ja=function(a){return a.ja()};W.queryIdentifier=W.ja;W.Uf=function(a){return a.u.Ra.$};W.listens=W.Uf;W.ce=function(a){Ug.Vb().ce(a)};W.forceRestClient=W.ce;W.Context=Ug;function Ph(a,b){this.committed=a;this.snapshot=b}function X(a,b,c,d){this.u=a;this.path=b;this.m=c;this.Nc=d}function Qh(a){var b=null,c=null;a.ka&&(b=ff(a));a.na&&(c=hf(a));if(a.g===tc){if(a.ka){if("[MIN_NAME]"!=ef(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(a.na){if("[MAX_NAME]"!=gf(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(a.g===H){if(null!=b&&!Nd(b)||null!=c&&!Nd(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(D(babelHelpers.instanceof(a.g,pc)||a.g===wc,"unknown index type."),null!=b&&"object"===babelHelpers.typeof(b)||null!=c&&"object"===babelHelpers.typeof(c))throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Rh(a){if(a.ka&&a.na&&a.xa&&(!a.xa||""===a.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Sh(a,b){if(!0===a.Nc)throw Error(b+": You can't combine multiple orderBy calls.")}g=X.prototype;g.wb=function(){y("Query.ref",0,0,arguments.length);return new U(this.u,this.path)};g.gc=function(a,b,c,d){y("Query.on",2,4,arguments.length);Td("Query.on",a,!1);B("Query.on",2,b,!1);var e=Th("Query.on",c,d);if("value"===a)Fh(this.u,this,new Vg(b,e.cancel||null,e.Ma||null));else{var f={};f[a]=b;Fh(this.u,this,new Wg(f,e.cancel,e.Ma))}return b};g.Ic=function(a,b,c){y("Query.off",0,3,arguments.length);Td("Query.off",a,!0);B("Query.off",2,b,!0);ob("Query.off",3,c);var d=null,e=null;"value"===a?d=new Vg(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new Wg(e,null,c||null));e=this.u;d=".info"===K(this.path)?e.pd.kb(this,d):e.K.kb(this,d);af(e.ca,this.path,d)};g.$f=function(a,b){function c(k){f&&(f=!1,e.Ic(a,c),b&&b.call(d.Ma,k),h.resolve(k))}y("Query.once",1,4,arguments.length);Td("Query.once",a,!1);B("Query.once",2,b,!0);var d=Th("Query.once",arguments[2],arguments[3]),e=this,f=!0,h=new ib;kb(h.ra);this.gc(a,c,function(b){e.Ic(a,c);d.cancel&&d.cancel.call(d.Ma,b);h.reject(b)});return h.ra};g.ne=function(a){y("Query.limitToFirst",1,1,arguments.length);if(!ga(a)||_Mathfloor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.ne(a),this.Nc)};g.oe=function(a){y("Query.limitToLast",1,1,arguments.length);if(!ga(a)||_Mathfloor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.oe(a),this.Nc)};g.ag=function(a){y("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error("Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.");if("$priority"===a)throw Error("Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.");if("$value"===a)throw Error("Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.");Vd("Query.orderByChild",a);Sh(this,"Query.orderByChild");var b=new E(a);if(b.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");b=new pc(b);b=of(this.m,b);Qh(b);return new X(this.u,this.path,b,!0)};g.bg=function(){y("Query.orderByKey",0,0,arguments.length);Sh(this,"Query.orderByKey");var a=of(this.m,tc);Qh(a);return new X(this.u,this.path,a,!0)};g.cg=function(){y("Query.orderByPriority",0,0,arguments.length);Sh(this,"Query.orderByPriority");var a=of(this.m,H);Qh(a);return new X(this.u,this.path,a,!0)};g.dg=function(){y("Query.orderByValue",0,0,arguments.length);Sh(this,"Query.orderByValue");var a=of(this.m,wc);Qh(a);return new X(this.u,this.path,a,!0)};g.Nd=function(a,b){y("Query.startAt",0,2,arguments.length);Od("Query.startAt",a,this.path,!0);Ud("Query.startAt",b);var c=this.m.Nd(a,b);Rh(c);Qh(c);if(this.m.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");n(a)||(b=a=null);return new X(this.u,this.path,c,this.Nc)};g.gd=function(a,b){y("Query.endAt",0,2,arguments.length);Od("Query.endAt",a,this.path,!0);Ud("Query.endAt",b);var c=this.m.gd(a,b);Rh(c);Qh(c);if(this.m.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,c,this.Nc)};g.If=function(a,b){y("Query.equalTo",1,2,arguments.length);Od("Query.equalTo",a,this.path,!1);Ud("Query.equalTo",b);if(this.m.ka)throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.m.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(a,b).gd(a,b)};g.toString=function(){y("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Y;c<a.o.length;c++){""!==a.o[c]&&(b+="/"+encodeURIComponent(a.o[c]+""))}return this.u.toString()+(b||"/")};g.toJSON=function(){y("Query.toJSON",0,1,arguments.length);return this.toString()};g.ja=function(){var a=ac(pf(this.m));return"{}"===a?"default":a};g.isEqual=function(a){y("Query.isEqual",1,1,arguments.length);if(!babelHelpers.instanceof(a,X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var b=this.u===a.u,c=this.path.Z(a.path),d=this.ja()===a.ja();return b&&c&&d};function Th(a,b,c){var d={cancel:null,Ma:null};if(b&&c)d.cancel=b,B(a,3,d.cancel,!0),d.Ma=c,ob(a,4,d.Ma);else if(b)if("object"===babelHelpers.typeof(b)&&null!==b)d.Ma=b;else if("function"===typeof b)d.cancel=b;else throw Error(A(a,3,!0)+" must either be a cancel callback or a context object.");return d}X.prototype.on=X.prototype.gc;X.prototype.off=X.prototype.Ic;X.prototype.once=X.prototype.$f;X.prototype.limitToFirst=X.prototype.ne;X.prototype.limitToLast=X.prototype.oe;X.prototype.orderByChild=X.prototype.ag;X.prototype.orderByKey=X.prototype.bg;X.prototype.orderByPriority=X.prototype.cg;X.prototype.orderByValue=X.prototype.dg;X.prototype.startAt=X.prototype.Nd;X.prototype.endAt=X.prototype.gd;X.prototype.equalTo=X.prototype.If;X.prototype.toString=X.prototype.toString;X.prototype.isEqual=X.prototype.isEqual;gc(X.prototype,"ref",X.prototype.wb);function Y(a,b){this.ta=a;this.qa=b}Y.prototype.cancel=function(a){y("Firebase.onDisconnect().cancel",0,1,arguments.length);B("Firebase.onDisconnect().cancel",1,a,!0);var b=new ib;this.ta.xd(this.qa,jb(b,a));return b.ra};Y.prototype.cancel=Y.prototype.cancel;Y.prototype.remove=function(a){y("Firebase.onDisconnect().remove",0,1,arguments.length);Wd("Firebase.onDisconnect().remove",this.qa);B("Firebase.onDisconnect().remove",1,a,!0);var b=new ib;Ch(this.ta,this.qa,null,jb(b,a));return b.ra};Y.prototype.remove=Y.prototype.remove;Y.prototype.set=function(a,b){y("Firebase.onDisconnect().set",1,2,arguments.length);Wd("Firebase.onDisconnect().set",this.qa);Od("Firebase.onDisconnect().set",a,this.qa,!1);B("Firebase.onDisconnect().set",2,b,!0);var c=new ib;Ch(this.ta,this.qa,a,jb(c,b));return c.ra};Y.prototype.set=Y.prototype.set;Y.prototype.Jb=function(a,b,c){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);Wd("Firebase.onDisconnect().setWithPriority",this.qa);Od("Firebase.onDisconnect().setWithPriority",a,this.qa,!1);Sd("Firebase.onDisconnect().setWithPriority",2,b);B("Firebase.onDisconnect().setWithPriority",3,c,!0);var d=new ib;Dh(this.ta,this.qa,a,b,jb(d,c));return d.ra};Y.prototype.setWithPriority=Y.prototype.Jb;Y.prototype.update=function(a,b){y("Firebase.onDisconnect().update",1,2,arguments.length);Wd("Firebase.onDisconnect().update",this.qa);if(ea(a)){for(var c={},d=0;d<a.length;++d){c[""+d]=a[d]}a=c;J("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rd("Firebase.onDisconnect().update",a,this.qa);B("Firebase.onDisconnect().update",2,b,!0);c=new ib;Eh(this.ta,this.qa,a,jb(c,b));return c.ra};Y.prototype.update=Y.prototype.update;var Z={Mf:function(){dg=Zf=!0}};Z.forceLongPolling=Z.Mf;Z.Nf=function(){eg=!0};Z.forceWebSockets=Z.Nf;Z.Tf=function(){return Yf.isAvailable()};Z.isWebSocketsAvailable=Z.Tf;Z.lg=function(a,b){a.u.Ra.ze=b};Z.setSecurityDebugCallback=Z.lg;Z.Be=function(a,b){a.u.Be(b)};Z.stats=Z.Be;Z.Ce=function(a,b){a.u.Ce(b)};Z.statsIncrementCounter=Z.Ce;Z.fd=function(a){return a.u.fd};Z.dataUpdateCount=Z.fd;Z.Sf=function(a,b){a.u.je=b};Z.interceptServerData=Z.Sf;function U(a,b){if(!babelHelpers.instanceof(a,Qg))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,a,b,mf,!1);this.then=void 0;this["catch"]=void 0}la(U,X);g=U.prototype;g.getKey=function(){y("Firebase.key",0,0,arguments.length);return this.path.e()?null:Oc(this.path)};g.n=function(a){y("Firebase.child",1,1,arguments.length);if(ga(a))a=a+"";else if(!babelHelpers.instanceof(a,E))if(null===K(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Vd("Firebase.child",b)}else Vd("Firebase.child",a);return new U(this.u,this.path.n(a))};g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.u,a)};g.Of=function(){y("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.getParent();){a=a.getParent()}return a};g.Gf=function(){return this.u.Ya};g.set=function(a,b){y("Firebase.set",1,2,arguments.length);Wd("Firebase.set",this.path);Od("Firebase.set",a,this.path,!1);B("Firebase.set",2,b,!0);var c=new ib;this.u.Jb(this.path,a,null,jb(c,b));return c.ra};g.update=function(a,b){y("Firebase.update",1,2,arguments.length);Wd("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d){c[""+d]=a[d]}a=c;J("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rd("Firebase.update",a,this.path);B("Firebase.update",2,b,!0);c=new ib;this.u.update(this.path,a,jb(c,b));return c.ra};g.Jb=function(a,b,c){y("Firebase.setWithPriority",2,3,arguments.length);Wd("Firebase.setWithPriority",this.path);Od("Firebase.setWithPriority",a,this.path,!1);Sd("Firebase.setWithPriority",2,b);B("Firebase.setWithPriority",3,c,!0);if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var d=new ib;this.u.Jb(this.path,a,b,jb(d,c));return d.ra};g.remove=function(a){y("Firebase.remove",0,1,arguments.length);Wd("Firebase.remove",this.path);B("Firebase.remove",1,a,!0);return this.set(null,a)};g.transaction=function(a,b,c){y("Firebase.transaction",1,3,arguments.length);Wd("Firebase.transaction",this.path);B("Firebase.transaction",1,a,!1);B("Firebase.transaction",2,b,!0);if(n(c)&&"boolean"!=typeof c)throw Error(A("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";"undefined"===typeof c&&(c=!0);var d=new ib;ha(b)&&kb(d.ra);Gh(this.u,this.path,a,function(a,c,h){a?d.reject(a):d.resolve(new Ph(c,h));ha(b)&&b(a,c,h)},c);return d.ra};g.kg=function(a,b){y("Firebase.setPriority",1,2,arguments.length);Wd("Firebase.setPriority",this.path);Sd("Firebase.setPriority",1,a);B("Firebase.setPriority",2,b,!0);var c=new ib;this.u.Jb(this.path.n(".priority"),a,null,jb(c,b));return c.ra};g.push=function(a,b){y("Firebase.push",0,2,arguments.length);Wd("Firebase.push",this.path);Od("Firebase.push",a,this.path,!0);B("Firebase.push",2,b,!0);var c=wh(this.u),d=Kc(c),c=this.n(d),e=this.n(d),d=null!=a?c.set(a,b).then(function(){return e}):hb.resolve(e);c.then=q(d.then,d);c["catch"]=q(d.then,d,void 0);ha(b)&&kb(d);return c};g.ib=function(){Wd("Firebase.onDisconnect",this.path);return new Y(this.u,this.path)};U.prototype.child=U.prototype.n;U.prototype.set=U.prototype.set;U.prototype.update=U.prototype.update;U.prototype.setWithPriority=U.prototype.Jb;U.prototype.remove=U.prototype.remove;U.prototype.transaction=U.prototype.transaction;U.prototype.setPriority=U.prototype.kg;U.prototype.push=U.prototype.push;U.prototype.onDisconnect=U.prototype.ib;gc(U.prototype,"database",U.prototype.Gf);gc(U.prototype,"key",U.prototype.getKey);gc(U.prototype,"parent",U.prototype.getParent);gc(U.prototype,"root",U.prototype.Of);if("undefined"===typeof firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(a){var b=Ug.Vb(),c=a.options.databaseURL;n(c)||Vb("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var d=Wb(c),c=d.jc;Xd("Invalid Firebase Database URL",d);d.path.e()||Vb("Database URL must point to the root of a Firebase Database (not including a child path).");(d=w(b.lb,a.name))&&Vb("FIREBASE INTERNAL ERROR: Database initialized multiple times.");d=new Qg(c,b.wf,a);b.lb[a.name]=d;return d.Ya},{Reference:U,Query:X,Database:Pg,enableLogging:Sb,INTERNAL:Z,TEST_ACCESS:W,ServerValue:Sg})}catch(Uh){Vb("Failed to register the Firebase Database Service ("+Uh+")")}})();</script><script>(function(){var _Mathfloor=Math.floor,_Mathmax=Math.max,h,aa=aa||{},l=this,ba=function(){},ca=function(a){var b=babelHelpers.typeof(a);if("object"==b){if(a){if(babelHelpers.instanceof(a,Array))return"array";if(babelHelpers.instanceof(a,Object))return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},da=function(a){return null===a},ea=function(a){return"array"==ca(a)},fa=function(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length},m=function(a){return"string"==typeof a},ga=function(a){return"number"==typeof a},p=function(a){return"function"==ca(a)},ha=function(a){var b=babelHelpers.typeof(a);return"object"==b&&null!=a||"function"==b},ia=function(a){return a.call.apply(a.bind,arguments)},ja=function(a,b){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},_q=function q(){_q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return _q.apply(null,arguments)},ka=function(a){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},la=Date.now||function(){return+new Date},r=function(a,b){function c(){}c.prototype=b.prototype;a.xd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Tf=function(a,c){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++){d[e-2]=arguments[e]}return b.prototype[c].apply(a,d)}},t=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=a+"")};r(t,Error);t.prototype.name="CustomError";var ma=function(a){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;){d+=c.shift()+e.shift()}return d+c.join("%s")},na=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oa=/&/g,pa=/</g,qa=/>/g,ra=/"/g,sa=/'/g,ta=/\x00/g,ua=/[\x00&<>"']/,u=function(a,b){return-1!=a.indexOf(b)},va=function(a,b){return a<b?-1:a>b?1:0},wa=function(a,b){b.unshift(a);t.call(this,ma.apply(null,b));b.shift()};r(wa,t);wa.prototype.name="AssertionError";var xa=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new wa(""+e,f||[])},v=function(a,b){a||xa("",null,b,Array.prototype.slice.call(arguments,2))},ya=function(a){throw new wa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))},za=function(a,b){ga(a)||xa("Expected number but got %s: %s.",[ca(a),a],b,Array.prototype.slice.call(arguments,2));return a},Aa=function(a,b){m(a)||xa("Expected string but got %s: %s.",[ca(a),a],b,Array.prototype.slice.call(arguments,2))},Ba=function(a,b){p(a)||xa("Expected function but got %s: %s.",[ca(a),a],b,Array.prototype.slice.call(arguments,2))},Ca=Array.prototype.indexOf?function(a,b,c){v(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?_Mathmax(0,a.length+c):c;if(m(a))return m(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++){if(c in a&&a[c]===b)return c}return-1},w=Array.prototype.forEach?function(a,b,c){v(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(""):a,f=0;f<d;f++){f in e&&b.call(c,e[f],f,a)}},Da=function(a,b){for(var c=m(a)?a.split(""):a,d=a.length-1;0<=d;--d){d in c&&b.call(void 0,c[d],d,a)}},Ea=Array.prototype.map?function(a,b,c){v(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=m(a)?a.split(""):a,g=0;g<d;g++){g in f&&(e[g]=b.call(c,f[g],g,a))}return e},Fa=Array.prototype.some?function(a,b,c){v(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(""):a,f=0;f<d;f++){if(f in e&&b.call(c,e[f],f,a))return!0}return!1},Ha=function(a){var b;a:{b=Ga;for(var c=a.length,d=m(a)?a.split(""):a,e=0;e<c;e++){if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}}b=-1}return 0>b?null:m(a)?a.charAt(b):a[b]},Ia=function(a,b){return 0<=Ca(a,b)},Ka=function(a,b){b=Ca(a,b);var c;(c=0<=b)&&Ja(a,b);return c},Ja=function(a,b){v(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length},La=function(a,b){var c=0;Da(a,function(d,e){b.call(void 0,d,e,a)&&Ja(a,e)&&c++})},Ma=function(){return Array.prototype.concat.apply([],arguments)},Na=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++){c[d]=a[d]}return c}return[]},Oa=function(a){return Ea(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")},Pa;a:{var Qa=l.navigator;if(Qa){var Ra=Qa.userAgent;if(Ra){Pa=Ra;break a}}Pa=""}var x=function(a){return u(Pa,a)},Sa=function(a,b){for(var c in a){b.call(void 0,a[c],c,a)}},Ta=function(a){var b=[],c=0,d;for(d in a){b[c++]=a[d]}return b},Ua=function(a){var b=[],c=0,d;for(d in a){b[c++]=d}return b},Va=function(a){for(var b in a){return!1}return!0},Wa=function(a,b){for(var c in a){if(!(c in b)||a[c]!==b[c])return!1}for(c in b){if(!(c in a))return!1}return!0},Xa=function(a){var b={},c;for(c in a){b[c]=a[c]}return b},Ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Za=function(a){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d){a[c]=d[c]}for(var f=0;f<Ya.length;f++){c=Ya[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}},$a=function(a){$a[" "](a);return a};$a[" "]=ba;var bb=function(a,b){var c=ab;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)},cb=x("Opera"),y=x("Trident")||x("MSIE"),eb=x("Edge"),gb=x("Gecko")&&!(u(Pa.toLowerCase(),"webkit")&&!x("Edge"))&&!(x("Trident")||x("MSIE"))&&!x("Edge"),hb=u(Pa.toLowerCase(),"webkit")&&!x("Edge"),ib=function(){var a=l.document;return a?a.documentMode:void 0},jb;a:{var kb="",lb=function(){var a=Pa;if(gb)return /rv\:([^\);]+)(\)|;)/.exec(a);if(eb)return /Edge\/([\d\.]+)/.exec(a);if(y)return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(hb)return /WebKit\/(\S+)/.exec(a);if(cb)return /(?:Version)[ \/]?(\S+)/.exec(a)}();lb&&(kb=lb?lb[1]:"");if(y){var mb=ib();if(null!=mb&&mb>parseFloat(kb)){jb=mb+"";break a}}jb=kb}var nb=jb,ab={},z=function(a){return bb(a,function(){for(var b=0,c=na(nb+"").split("."),d=na(a+"").split("."),e=_Mathmax(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=va(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||va(0==g[2].length,0==k[2].length)||va(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},ob,pb=l.document;ob=pb&&y?ib()||("CSS1Compat"==pb.compatMode?parseInt(nb,10):5):void 0;var qb=null,rb=null,tb=function(a){var b="";sb(a,function(a){b+=String.fromCharCode(a)});return b},sb=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=rb[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c)}return b}ub();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(240&f<<4|g>>2),64!=k&&b(192&g<<6|k))}},ub=function(){if(!qb){qb={};rb={};for(var a=0;65>a;a++){qb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),rb[qb[a]]=a,62<=a&&(rb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}}},yb=function(a,b){this.Da=64;this.ec=l.Uint8Array?new Uint8Array(this.Da):Array(this.Da);this.Fc=this.hb=0;this.h=[];this.lf=a;this.Wd=b;this.Mf=l.Int32Array?new Int32Array(64):Array(64);void 0!==wb||(wb=l.Int32Array?new Int32Array(xb):xb);this.reset()},wb;r(yb,function vb(){this.Da=-1});for(var zb=[],Ab=0;63>Ab;Ab++){zb[Ab]=0}var Bb=Ma(128,zb);yb.prototype.reset=function(){this.Fc=this.hb=0;this.h=l.Int32Array?new Int32Array(this.Wd):Na(this.Wd)};var Cb=function(a){var b=a.ec;v(b.length==a.Da);for(var c=a.Mf,d=0,e=0;e<b.length;){c[d++]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3],e=4*d}for(b=16;64>b;b++){var e=0|c[b-15],d=0|c[b-2],f=0|(0|c[b-16])+((e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3),g=0|(0|c[b-7])+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10);c[b]=0|f+g}for(var d=0|a.h[0],e=0|a.h[1],k=0|a.h[2],n=0|a.h[3],C=0|a.h[4],db=0|a.h[5],Pb=0|a.h[6],f=0|a.h[7],b=0;64>b;b++){var Ah=0|((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&e^d&k^e&k),g=C&db^~C&Pb,f=0|f+((C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7)),g=0|g+(0|wb[b]),g=0|f+(0|g+(0|c[b])),f=Pb,Pb=db,db=C,C=0|n+g,n=k,k=e,e=d,d=0|g+Ah}a.h[0]=0|a.h[0]+d;a.h[1]=0|a.h[1]+e;a.h[2]=0|a.h[2]+k;a.h[3]=0|a.h[3]+n;a.h[4]=0|a.h[4]+C;a.h[5]=0|a.h[5]+db;a.h[6]=0|a.h[6]+Pb;a.h[7]=0|a.h[7]+f};yb.prototype.update=function(a,b){void 0===b&&(b=a.length);var c=0,d=this.hb;if(m(a))for(;c<b;){this.ec[d++]=a.charCodeAt(c++),d==this.Da&&(Cb(this),d=0)}else if(fa(a))for(;c<b;){var e=a[c++];if(!("number"==typeof e&&0<=e&&255>=e&&e==(0|e)))throw Error("message must be a byte array");this.ec[d++]=e;d==this.Da&&(Cb(this),d=0)}else throw Error("message must be string or array");this.hb=d;this.Fc+=b};yb.prototype.digest=function(){var a=[],b=8*this.Fc;56>this.hb?this.update(Bb,56-this.hb):this.update(Bb,this.Da-(this.hb-56));for(var c=63;56<=c;c--){this.ec[c]=255&b,b/=256}Cb(this);for(c=b=0;c<this.lf;c++){for(var d=24;0<=d;d-=8){a[b++]=255&this.h[c]>>d}}return a};var xb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Eb=function(){yb.call(this,8,Db)};r(Eb,yb);var Db=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Fb=function(){this.Ga=this.Ga;this.tc=this.tc};Fb.prototype.Ga=!1;Fb.prototype.isDisposed=function(){return this.Ga};Fb.prototype.cb=function(){if(this.tc)for(;this.tc.length;){this.tc.shift()()}};var Gb=!y||9<=+ob,Hb=y&&!z("9");hb&&z("528");gb&&z("1.9b")||y&&z("8")||cb&&z("9.5")||hb&&z("528");gb&&!z("8")||y&&z("9");var Ib=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.nb=!1;this.ee=!0};Ib.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ee=!1};var Jb=function(a,b){Ib.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.eb=this.state=null;a&&this.init(a,b)};r(Jb,Ib);Jb.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(gb){var e;a:{try{$a(b.nodeName);e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=hb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=hb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.eb=a;a.defaultPrevented&&this.preventDefault()};Jb.prototype.preventDefault=function(){Jb.xd.preventDefault.call(this);var a=this.eb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Hb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Jb.prototype.Pe=function(){return this.eb};var Kb="closure_listenable_"+(0|1E6*Math.random()),Lb=0,Mb=function(a,b,c,d,e){this.listener=a;this.xc=null;this.src=b;this.type=c;this.capture=!!d;this.kc=e;this.key=++Lb;this.rb=this.dc=!1},Nb=function(a){a.rb=!0;a.listener=null;a.xc=null;a.src=null;a.kc=null},Ob=function(a){this.src=a;this.G={};this.$b=0};Ob.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.G[f];a||(a=this.G[f]=[],this.$b++);var g=Qb(a,b,d,e);-1<g?(b=a[g],c||(b.dc=!1)):(b=new Mb(b,this.src,f,!!d,e),b.dc=c,a.push(b));return b};Ob.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.G))return!1;var e=this.G[a];b=Qb(e,b,c,d);return-1<b?(Nb(e[b]),Ja(e,b),0==e.length&&(delete this.G[a],this.$b--),!0):!1};var Rb=function(a,b){var c=b.type;c in a.G&&Ka(a.G[c],b)&&(Nb(b),0==a.G[c].length&&(delete a.G[c],a.$b--))};Ob.prototype.Uc=function(a,b,c,d){a=this.G[a.toString()];var e=-1;a&&(e=Qb(a,b,c,d));return-1<e?a[e]:null};var Qb=function(a,b,c,d){for(var e=0,f;e<a.length;++e){f=a[e];if(!f.rb&&f.listener==b&&f.capture==!!c&&f.kc==d)return e}return-1},Sb="closure_lm_"+(0|1E6*Math.random()),Tb={},Ub=0,Vb=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++){Vb(a,b[f],c,d,e)}else c=Wb(c),a&&a[Kb]?a.listen(b,c,d,e):Xb(a,b,c,!1,d,e)},Xb=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var k=Yb(a);k||(a[Sb]=k=new Ob(a));c=k.add(b,c,d,e,f);if(!c.xc){d=Zb();c.xc=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,!!e);else if(a.attachEvent)a.attachEvent($b(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Ub++}},Zb=function(){var a=ac,b=Gb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},bc=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++){bc(a,b[f],c,d,e)}else c=Wb(c),a&&a[Kb]?cc(a,b,c,d,e):Xb(a,b,c,!0,d,e)},dc=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++){dc(a,b[f],c,d,e)}else c=Wb(c),a&&a[Kb]?a.fa.remove(b+"",c,d,e):a&&(a=Yb(a))&&(b=a.Uc(b,c,!!d,e))&&ec(b)},ec=function(a){if(!ga(a)&&a&&!a.rb){var b=a.src;if(b&&b[Kb])Rb(b.fa,a);else{var c=a.type,d=a.xc;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent($b(c),d);Ub--;(c=Yb(b))?(Rb(c,a),0==c.$b&&(c.src=null,b[Sb]=null)):Nb(a)}}},$b=function(a){return a in Tb?Tb[a]:Tb[a]="on"+a},gc=function(a,b,c,d){var e=!0;if(a=Yb(a))if(b=a.G[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.rb&&(f=fc(f,d),e=e&&!1!==f)}return e},fc=function(a,b){var c=a.listener,d=a.kc||a.src;a.dc&&ec(a);return c.call(d,b)},ac=function(a,b){if(a.rb)return!0;if(!Gb){if(!b)a:{b=["window","event"];for(var c=l,d;d=b.shift();){if(null!=c[d])c=c[d];else{b=null;break a}}b=c}d=b;b=new Jb(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode){d.push(e)}a=a.type;for(e=d.length-1;!b.nb&&0<=e;e--){b.currentTarget=d[e];var f=gc(d[e],a,!0,b),c=c&&f}for(e=0;!b.nb&&e<d.length;e++){b.currentTarget=d[e],f=gc(d[e],a,!1,b),c=c&&f}}return c}return fc(a,new Jb(b,this))},Yb=function(a){a=a[Sb];return babelHelpers.instanceof(a,Ob)?a:null},hc="__closure_events_fn_"+(1E9*Math.random()>>>0),Wb=function(a){v(a,"Listener can not be null.");if(p(a))return a;v(a.handleEvent,"An object listener must have handleEvent method.");a[hc]||(a[hc]=function(b){return a.handleEvent(b)});return a[hc]},ic=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,kc=function(){this.Cc="";this.we=jc};kc.prototype.Eb=!0;kc.prototype.Bb=function(){return this.Cc};kc.prototype.toString=function(){return"Const{"+this.Cc+"}"};var lc=function(a){if(babelHelpers.instanceof(a,kc)&&a.constructor===kc&&a.we===jc)return a.Cc;ya("expected object of type Const, got '"+a+"'");return"type_error:Const"},jc={},mc=function(a){var b=new kc;b.Cc=a;return b};mc("");var oc=function(){this.wc="";this.xe=nc};oc.prototype.Eb=!0;oc.prototype.Bb=function(){return this.wc};oc.prototype.toString=function(){return"TrustedResourceUrl{"+this.wc+"}"};var nc={},qc=function(){this.pa="";this.ve=pc};qc.prototype.Eb=!0;qc.prototype.Bb=function(){return this.pa};qc.prototype.toString=function(){return"SafeUrl{"+this.pa+"}"};var rc=function(a){if(babelHelpers.instanceof(a,qc)&&a.constructor===qc&&a.ve===pc)return a.pa;ya("expected object of type SafeUrl, got '"+a+"' of type "+ca(a));return"type_error:SafeUrl"},sc=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,uc=function(a){if(babelHelpers.instanceof(a,qc))return a;a=a.Eb?a.Bb():a+"";sc.test(a)||(a="about:invalid#zClosurez");return tc(a)},pc={},tc=function(a){var b=new qc;b.pa=a;return b};tc("about:blank");var xc=function(a){var b=[];vc(new wc,a,b);return b.join("")},wc=function(){this.yc=void 0},vc=function(a,b,c){if(null==b)c.push("null");else{if("object"==babelHelpers.typeof(b)){if(ea(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++){c.push(e),e=d[f],vc(a,a.yc?a.yc.call(d,f+"",e):e,c),e=","}c.push("]");return}if(babelHelpers.instanceof(b,String)||babelHelpers.instanceof(b,Number)||babelHelpers.instanceof(b,Boolean))b=b.valueOf();else{c.push("{");f="";for(d in b){Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),yc(d,c),c.push(":"),vc(a,a.yc?a.yc.call(b,d,e):e,c),f=","))}c.push("}");return}}switch(babelHelpers.typeof(b)){case"string":yc(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?b+"":"null");break;case"boolean":c.push(b+"");break;case"function":c.push("null");break;default:throw Error("Unknown type: "+babelHelpers.typeof(b));}}},zc={'"':"\\\"","\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Ac=/\uffff/.test("\uFFFF")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,yc=function(a,b){b.push("\"",a.replace(Ac,function(a){var b=zc[a];b||(b="\\u"+(65536|a.charCodeAt(0)).toString(16).substr(1),zc[a]=b);return b}),"\"")},Bc=function(){};Bc.prototype.Dd=null;var Cc=function(a){return a.Dd||(a.Dd=a.$c())},Dc,Ec=function(){};r(Ec,Bc);Ec.prototype.fc=function(){var a=Fc(this);return a?new ActiveXObject(a):new XMLHttpRequest};Ec.prototype.$c=function(){var a={};Fc(this)&&(a[0]=!0,a[1]=!0);return a};var Fc=function(a){if(!a.Vd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0,d;c<b.length;c++){d=b[c];try{return new ActiveXObject(d),a.Vd=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.Vd};Dc=new Ec;var Gc=function(){};r(Gc,Bc);Gc.prototype.fc=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new Hc;throw Error("Unsupported browser")};Gc.prototype.$c=function(){return{}};var Hc=function(){this.ua=new XDomainRequest;this.readyState=0;this.onreadystatechange=null;this.responseText="";this.status=-1;this.statusText=this.responseXML=null;this.ua.onload=_q(this.Re,this);this.ua.onerror=_q(this.Sd,this);this.ua.onprogress=_q(this.Se,this);this.ua.ontimeout=_q(this.Te,this)};h=Hc.prototype;h.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.ua.open(a,b)};h.send=function(a){if(a){if("string"==typeof a)this.ua.send(a);else throw Error("Only string data is supported");}else this.ua.send()};h.abort=function(){this.ua.abort()};h.setRequestHeader=function(){};h.Re=function(){this.status=200;this.responseText=this.ua.responseText;Ic(this,4)};h.Sd=function(){this.status=500;this.responseText="";Ic(this,4)};h.Te=function(){this.Sd()};h.Se=function(){this.status=200;Ic(this,1)};var Ic=function(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()},Jc=function(a,b,c){this.ef=c;this.Fe=a;this.wf=b;this.sc=0;this.lc=null};Jc.prototype.get=function(){var a;0<this.sc?(this.sc--,a=this.lc,this.lc=a.next,a.next=null):a=this.Fe();return a};Jc.prototype.put=function(a){this.wf(a);this.sc<this.ef&&(this.sc++,a.next=this.lc,this.lc=a)};var Kc=function(a){l.setTimeout(function(){throw a},0)},Lc,Mc=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!x("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=_q(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function postMessage(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!x("Trident")&&!x("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.Gd;c.Gd=null;a()}};return function(a){d.next={Gd:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}},Nc=function(){this.Jc=this.Za=null},Pc=new Jc(function(){return new Oc},function(a){a.reset()},100);Nc.prototype.add=function(a,b){var c=Pc.get();c.set(a,b);this.Jc?this.Jc.next=c:(v(!this.Za),this.Za=c);this.Jc=c};Nc.prototype.remove=function(){var a=null;this.Za&&(a=this.Za,this.Za=this.Za.next,this.Za||(this.Jc=null),a.next=null);return a};var Oc=function(){this.next=this.scope=this.Tc=null};Oc.prototype.set=function(a,b){this.Tc=a;this.scope=b;this.next=null};Oc.prototype.reset=function(){this.next=this.scope=this.Tc=null};var Uc=function(a,b){Qc||Rc();Sc||(Qc(),Sc=!0);Tc.add(a,b)},Qc,Rc=function(){if(-1!=(l.Promise+"").indexOf("[native code]")){var a=l.Promise.resolve(void 0);Qc=function(){a.then(Vc)}}else Qc=function(){var a=Vc;!p(l.setImmediate)||l.Window&&l.Window.prototype&&!x("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(Lc||(Lc=Mc()),Lc(a)):l.setImmediate(a)}},Sc=!1,Tc=new Nc,Vc=function(){for(var a;a=Tc.remove();){try{a.Tc.call(a.scope)}catch(b){Kc(b)}Pc.put(a)}Sc=!1};!gb&&!y||y&&9<=+ob||gb&&z("1.9.1");y&&z("9");var Xc=function(){this.pa="";this.ue=Wc};Xc.prototype.Eb=!0;Xc.prototype.Bb=function(){return this.pa};Xc.prototype.toString=function(){return"SafeHtml{"+this.pa+"}"};var Yc=function(a){if(babelHelpers.instanceof(a,Xc)&&a.constructor===Xc&&a.ue===Wc)return a.pa;ya("expected object of type SafeHtml, got '"+a+"' of type "+ca(a));return"type_error:SafeHtml"},Wc={};Xc.prototype.$e=function(a){this.pa=a;return this};var $c=function(a,b){Sa(b,function(b,d){b&&b.Eb&&(b=b.Bb());"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Zc.hasOwnProperty(d)?a.setAttribute(Zc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},Zc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},ad=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},bd=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}},A=function(a,b){this.N=0;this.ra=void 0;this.bb=this.na=this.s=null;this.jc=this.Sc=!1;if(a!=ba)try{var c=this;a.call(b,function(a){cd(c,2,a)},function(a){if(!babelHelpers.instanceof(a,dd))try{if(babelHelpers.instanceof(a,Error))throw a;throw Error("Promise rejected.")}catch(e){}cd(c,3,a)})}catch(d){cd(this,3,d)}},ed=function(){this.next=this.context=this.jb=this.Oa=this.child=null;this.xb=!1};ed.prototype.reset=function(){this.context=this.jb=this.Oa=this.child=null;this.xb=!1};var fd=new Jc(function(){return new ed},function(a){a.reset()},100),gd=function(a,b,c){var d=fd.get();d.Oa=a;d.jb=b;d.context=c;return d},B=function(a){if(babelHelpers.instanceof(a,A))return a;var b=new A(ba);cd(b,2,a);return b},D=function(a){return new A(function(b,c){c(a)})},id=function(a,b,c){hd(a,b,c,null)||Uc(ka(b,a))},jd=function(a){return new A(function(b){var c=a.length,d=[];if(c)for(var e=function(a,_e,f){c--;d[a]=_e?{Ne:!0,value:f}:{Ne:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++){g=a[f],id(g,ka(e,f,!0),ka(e,f,!1))}else b(d)})};A.prototype.then=function(a,b,c){null!=a&&Ba(a,"opt_onFulfilled should be a function.");null!=b&&Ba(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return kd(this,p(a)?a:null,p(b)?b:null,c)};ad(A);var md=function(a,b){b=gd(b,b,void 0);b.xb=!0;ld(a,b);return a};A.prototype.f=function(a,b){return kd(this,null,a,b)};A.prototype.cancel=function(a){0==this.N&&Uc(function(){var b=new dd(a);nd(this,b)},this)};var nd=function(a,b){if(0==a.N)if(a.s){var c=a.s;if(c.na){for(var d=0,e=null,f=null,g=c.na;g&&(g.xb||(d++,g.child==a&&(e=g),!(e&&1<d)));g=g.next){e||(f=g)}e&&(0==c.N&&1==d?nd(c,b):(f?(d=f,v(c.na),v(null!=d),d.next==c.bb&&(c.bb=d),d.next=d.next.next):od(c),pd(c,e,3,b)))}a.s=null}else cd(a,3,b)},ld=function(a,b){a.na||2!=a.N&&3!=a.N||qd(a);v(null!=b.Oa);a.bb?a.bb.next=b:a.na=b;a.bb=b},kd=function(a,b,c,d){var e=gd(null,null,null);e.child=new A(function(a,g){e.Oa=b?function(c){try{var e=b.call(d,c);a(e)}catch(C){g(C)}}:a;e.jb=c?function(b){try{var e=c.call(d,b);void 0===e&&babelHelpers.instanceof(b,dd)?g(b):a(e)}catch(C){g(C)}}:g});e.child.s=a;ld(a,e);return e.child};A.prototype.Jf=function(a){v(1==this.N);this.N=0;cd(this,2,a)};A.prototype.Kf=function(a){v(1==this.N);this.N=0;cd(this,3,a)};var cd=function(a,b,c){0==a.N&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.N=1,hd(c,a.Jf,a.Kf,a)||(a.ra=c,a.N=b,a.s=null,qd(a),3!=b||babelHelpers.instanceof(c,dd)||rd(a,c)))},hd=function(a,b,c,d){if(babelHelpers.instanceof(a,A))return null!=b&&Ba(b,"opt_onFulfilled should be a function."),null!=c&&Ba(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),ld(a,gd(b||ba,c||null,d)),!0;if(bd(a))return a.then(b,c,d),!0;if(ha(a))try{var e=a.then;if(p(e))return sd(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1},sd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(n){k(n)}},qd=function(a){a.Sc||(a.Sc=!0,Uc(a.Je,a))},od=function(a){var b=null;a.na&&(b=a.na,a.na=b.next,b.next=null);a.na||(a.bb=null);null!=b&&v(null!=b.Oa);return b};A.prototype.Je=function(){for(var a;a=od(this);){pd(this,a,this.N,this.ra)}this.Sc=!1};var pd=function(a,b,c,d){if(3==c&&b.jb&&!b.xb)for(;a&&a.jc;a=a.s){a.jc=!1}if(b.child)b.child.s=null,td(b,c,d);else try{b.xb?b.Oa.call(b.context):td(b,c,d)}catch(e){ud.call(null,e)}fd.put(b)},td=function(a,b,c){2==b?a.Oa.call(a.context,c):a.jb&&a.jb.call(a.context,c)},rd=function(a,b){a.jc=!0;Uc(function(){a.jc&&ud.call(null,b)})},ud=Kc,dd=function(a){t.call(this,a)};r(dd,t);dd.prototype.name="cancel";var vd=function(a,b){this.zc=[];this.$d=a;this.Jd=b||null;this.Cb=this.fb=!1;this.ra=void 0;this.ud=this.Cd=this.Nc=!1;this.Gc=0;this.s=null;this.Oc=0};vd.prototype.cancel=function(a){if(this.fb)babelHelpers.instanceof(this.ra,vd)&&this.ra.cancel();else{if(this.s){var b=this.s;delete this.s;a?b.cancel(a):(b.Oc--,0>=b.Oc&&b.cancel())}this.$d?this.$d.call(this.Jd,this):this.ud=!0;this.fb||wd(this,new xd)}};vd.prototype.Hd=function(a,b){this.Nc=!1;yd(this,a,b)};var yd=function(a,b,c){a.fb=!0;a.ra=c;a.Cb=!b;zd(a)},Bd=function(a){if(a.fb){if(!a.ud)throw new Ad;a.ud=!1}};vd.prototype.callback=function(a){Bd(this);Cd(a);yd(this,!0,a)};var wd=function(a,b){Bd(a);Cd(b);yd(a,!1,b)},Cd=function(a){v(!babelHelpers.instanceof(a,vd),"An execution sequence may not be initiated with a blocking Deferred.")},Gd=function(a){var b=Dd("https://apis.google.com/js/client.js?onload="+Ed);Fd(b,null,a,void 0)},Fd=function(a,b,c,d){v(!a.Cd,"Blocking Deferreds can not be re-used");a.zc.push([b,c,d]);a.fb&&zd(a)};vd.prototype.then=function(a,b,c){var d,e,f=new A(function(a,b){d=a;e=b});Fd(this,d,function(a){babelHelpers.instanceof(a,xd)?f.cancel():e(a)});return f.then(a,b,c)};ad(vd);var Hd=function(a){return Fa(a.zc,function(a){return p(a[1])})},zd=function(a){if(a.Gc&&a.fb&&Hd(a)){var b=a.Gc,c=Id[b];c&&(l.clearTimeout(c.Db),delete Id[b]);a.Gc=0}a.s&&(a.s.Oc--,delete a.s);for(var b=a.ra,d=c=!1;a.zc.length&&!a.Nc;){var e=a.zc.shift(),f=e[0],g=e[1],e=e[2];if(f=a.Cb?g:f)try{var k=f.call(e||a.Jd,b);void 0!==k&&(a.Cb=a.Cb&&(k==b||babelHelpers.instanceof(k,Error)),a.ra=b=k);if(bd(b)||"function"===typeof l.Promise&&babelHelpers.instanceof(b,l.Promise))d=!0,a.Nc=!0}catch(n){b=n,a.Cb=!0,Hd(a)||(c=!0)}}a.ra=b;d&&(k=_q(a.Hd,a,!0),d=_q(a.Hd,a,!1),babelHelpers.instanceof(b,vd)?(Fd(b,k,d),b.Cd=!0):b.then(k,d));c&&(b=new Jd(b),Id[b.Db]=b,a.Gc=b.Db)},Ad=function(){t.call(this)};r(Ad,t);Ad.prototype.message="Deferred has already fired";Ad.prototype.name="AlreadyCalledError";var xd=function(){t.call(this)};r(xd,t);xd.prototype.message="Deferred was canceled";xd.prototype.name="CanceledError";var Jd=function(a){this.Db=l.setTimeout(_q(this.If,this),0);this.P=a};Jd.prototype.If=function(){v(Id[this.Db],"Cannot throw an error that is not scheduled.");delete Id[this.Db];throw this.P};var Id={},Dd=function(a){var b=new oc;b.wc=a;return Kd(b)},Kd=function(a){var b={},c=b.document||document,d;babelHelpers.instanceof(a,oc)&&a.constructor===oc&&a.xe===nc?d=a.wc:(ya("expected object of type TrustedResourceUrl, got '"+a+"' of type "+ca(a)),d="type_error:TrustedResourceUrl");var e=document.createElement("SCRIPT");a={fe:e,Zb:void 0};var f=new vd(Ld,a),g=null,k=null!=b.timeout?b.timeout:5E3;0<k&&(g=window.setTimeout(function(){Md(e,!0);wd(f,new Nd(1,"Timeout reached for loading script "+d))},k),a.Zb=g);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Md(e,b.Uf||!1,g),f.callback(null))};e.onerror=function(){Md(e,!0,g);wd(f,new Nd(0,"Error while loading script "+d))};a=b.attributes||{};Za(a,{type:"text/javascript",charset:"UTF-8",src:d});$c(e,a);Od(c).appendChild(e);return f},Od=function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement},Ld=function(){if(this&&this.fe){var a=this.fe;a&&"SCRIPT"==a.tagName&&Md(a,!0,this.Zb)}},Md=function(a,b,c){null!=c&&l.clearTimeout(c);a.onload=ba;a.onerror=ba;a.onreadystatechange=ba;b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)},Nd=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);t.call(this,c);this.code=a};r(Nd,t);var Pd="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},Qd=function(){};Qd.prototype.next=function(){throw Pd};Qd.prototype.ye=function(){return this};var Rd=function(a){this.ga={};this.w=[];this.wb=this.o=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2){this.set(arguments[d],arguments[d+1])}}else a&&this.addAll(a)};Rd.prototype.Z=function(){Sd(this);for(var a=[],b=0;b<this.w.length;b++){a.push(this.ga[this.w[b]])}return a};Rd.prototype.oa=function(){Sd(this);return this.w.concat()};Rd.prototype.yb=function(a){return Td(this.ga,a)};Rd.prototype.remove=function(a){return Td(this.ga,a)?(delete this.ga[a],this.o--,this.wb++,this.w.length>2*this.o&&Sd(this),!0):!1};var Sd=function(a){if(a.o!=a.w.length){for(var b=0,c=0,d;b<a.w.length;){d=a.w[b];Td(a.ga,d)&&(a.w[c++]=d);b++}a.w.length=c}if(a.o!=a.w.length){for(var e={},c=b=0;b<a.w.length;){d=a.w[b],Td(e,d)||(a.w[c++]=d,e[d]=1),b++}a.w.length=c}};h=Rd.prototype;h.get=function(a,b){return Td(this.ga,a)?this.ga[a]:b};h.set=function(a,b){Td(this.ga,a)||(this.o++,this.w.push(a),this.wb++);this.ga[a]=b};h.addAll=function(a){var b;babelHelpers.instanceof(a,Rd)?(b=a.oa(),a=a.Z()):(b=Ua(a),a=Ta(a));for(var c=0;c<b.length;c++){this.set(b[c],a[c])}};h.forEach=function(a,b){for(var c=this.oa(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new Rd(this)};h.ye=function(a){Sd(this);var b=0,c=this.wb,d=this,e=new Qd;e.next=function(){if(c!=d.wb)throw Error("The map has changed since the iterator was created");if(b>=d.w.length)throw Pd;var e=d.w[b++];return a?e:d.ga[e]};return e};var Td=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},Ud=function(a){if(a.Z&&"function"==typeof a.Z)return a.Z();if(m(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++){b.push(a[d])}return b}return Ta(a)},Vd=function(a){if(a.oa&&"function"==typeof a.oa)return a.oa();if(!a.Z||"function"!=typeof a.Z){if(fa(a)||m(a)){var b=[];a=a.length;for(var c=0;c<a;c++){b.push(c)}return b}return Ua(a)}},Wd=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(fa(a)||m(a))w(a,b,void 0);else for(var c=Vd(a),d=Ud(a),e=d.length,f=0;f<e;f++){b.call(void 0,d[f],c&&c[f],a)}},Xd=function(a,b,c,d,e){this.reset(a,b,c,d,e)};Xd.prototype.Md=null;var Yd=0;Xd.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Yd++;d||la();this.Ib=a;this.hf=b;delete this.Md};Xd.prototype.ie=function(a){this.Ib=a};var Zd=function(a){this.jf=a;this.Td=this.Pc=this.Ib=this.s=null},$d=function(a,b){this.name=a;this.value=b};$d.prototype.toString=function(){return this.name};var ae=new $d("SEVERE",1E3),be=new $d("CONFIG",700),ce=new $d("FINE",500);Zd.prototype.getParent=function(){return this.s};Zd.prototype.ie=function(a){this.Ib=a};var de=function(a){if(a.Ib)return a.Ib;if(a.s)return de(a.s);ya("Root logger has no level set.");return null};Zd.prototype.log=function(a,b,c){if(a.value>=de(this).value)for(p(b)&&(b=b()),a=new Xd(a,b+"",this.jf),c&&(a.Md=c),c="log:"+a.hf,l.console&&(l.console.timeStamp?l.console.timeStamp(c):l.console.markTimeline&&l.console.markTimeline(c)),l.msWriteProfilerMark&&l.msWriteProfilerMark(c),c=this;c;){var d=c,e=a;if(d.Td)for(var f=0;b=d.Td[f];f++){b(e)}c=c.getParent()}};var ee={},fe=null,ge=function(a){fe||(fe=new Zd(""),ee[""]=fe,fe.ie(be));var b;if(!(b=ee[a])){b=new Zd(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=ge(a.substr(0,c));c.Pc||(c.Pc={});c.Pc[d]=b;b.s=c;ee[a]=b}return b},he=function(){Fb.call(this);this.fa=new Ob(this);this.ze=this;this.hd=null};r(he,Fb);he.prototype[Kb]=!0;h=he.prototype;h.addEventListener=function(a,b,c,d){Vb(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){dc(this,a,b,c,d)};h.dispatchEvent=function(a){ie(this);var b,c=this.hd;if(c){b=[];for(var d=1;c;c=c.hd){b.push(c),v(1E3>++d,"infinite loop")}}c=this.ze;d=a.type||a;if(m(a))a=new Ib(a,c);else if(babelHelpers.instanceof(a,Ib))a.target=a.target||c;else{var e=a;a=new Ib(d,c);Za(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.nb&&0<=g;g--){f=a.currentTarget=b[g],e=je(f,d,!0,a)&&e}a.nb||(f=a.currentTarget=c,e=je(f,d,!0,a)&&e,a.nb||(e=je(f,d,!1,a)&&e));if(b)for(g=0;!a.nb&&g<b.length;g++){f=a.currentTarget=b[g],e=je(f,d,!1,a)&&e}return e};h.cb=function(){he.xd.cb.call(this);if(this.fa){var a=this.fa,b=0,c;for(c in a.G){for(var d=a.G[c],e=0;e<d.length;e++){++b,Nb(d[e])}delete a.G[c];a.$b--}}this.hd=null};h.listen=function(a,b,c,d){ie(this);return this.fa.add(a+"",b,!1,c,d)};var cc=function(a,b,c,d,e){a.fa.add(b+"",c,!0,d,e)},je=function(a,b,c,d){b=a.fa.G[b+""];if(!b)return!0;b=b.concat();for(var e=!0,f=0,g;f<b.length;++f){g=b[f];if(g&&!g.rb&&g.capture==c){var k=g.listener,n=g.kc||g.src;g.dc&&Rb(a.fa,g);e=!1!==k.call(n,d)&&e}}return e&&0!=d.ee};he.prototype.Uc=function(a,b,c,d){return this.fa.Uc(a+"",b,c,d)};var ie=function(a){v(a.fa,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},E=function(a,b){a&&a.log(ce,b,void 0)},ke=function(a,b,c){if(p(a))c&&(a=_q(a,c));else if(a&&"function"==typeof a.handleEvent)a=_q(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<+b?-1:l.setTimeout(a,b||0)},le=function(a){var b=null;return new A(function(c,d){b=ke(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))}).f(function(a){l.clearTimeout(b);throw a})},me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,ne=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}},F=function(a){he.call(this);this.headers=new Rd;this.Lc=a||null;this.va=!1;this.Kc=this.b=null;this.Hb=this.Zd=this.qc="";this.Ka=this.Yc=this.oc=this.Rc=!1;this.sb=0;this.Ec=null;this.de="";this.Hc=this.sf=this.te=!1};r(F,he);var oe=F.prototype,pe=ge("goog.net.XhrIo");oe.U=pe;var qe=/^https?$/i,re=["POST","PUT"];F.prototype.send=function(a,b,c,d){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.qc+"; newUri="+a);b=b?b.toUpperCase():"GET";this.qc=a;this.Hb="";this.Zd=b;this.Rc=!1;this.va=!0;this.b=this.Lc?this.Lc.fc():Dc.fc();this.Kc=this.Lc?Cc(this.Lc):Cc(Dc);this.b.onreadystatechange=_q(this.be,this);this.sf&&"onprogress"in this.b&&(this.b.onprogress=_q(function(a){this.ae(a,!0)},this),this.b.upload&&(this.b.upload.onprogress=_q(this.ae,this)));try{E(this.U,se(this,"Opening Xhr")),this.Yc=!0,this.b.open(b,a+"",!0),this.Yc=!1}catch(f){E(this.U,se(this,"Error opening Xhr: "+f.message));this.P(5,f);return}a=c||"";var e=this.headers.clone();d&&Wd(d,function(a,b){e.set(b,a)});d=Ha(e.oa());c=l.FormData&&babelHelpers.instanceof(a,l.FormData);!Ia(re,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.b.setRequestHeader(b,a)},this);this.de&&(this.b.responseType=this.de);"withCredentials"in this.b&&this.b.withCredentials!==this.te&&(this.b.withCredentials=this.te);try{te(this),0<this.sb&&(this.Hc=ue(this.b),E(this.U,se(this,"Will abort after "+this.sb+"ms if incomplete, xhr2 "+this.Hc)),this.Hc?(this.b.timeout=this.sb,this.b.ontimeout=_q(this.Zb,this)):this.Ec=ke(this.Zb,this.sb,this)),E(this.U,se(this,"Sending request")),this.oc=!0,this.b.send(a),this.oc=!1}catch(f){E(this.U,se(this,"Send error: "+f.message)),this.P(5,f)}};var ue=function(a){return y&&z(9)&&ga(a.timeout)&&void 0!==a.ontimeout},Ga=function(a){return"content-type"==a.toLowerCase()};F.prototype.Zb=function(){"undefined"!=typeof aa&&this.b&&(this.Hb="Timed out after "+this.sb+"ms, aborting",E(this.U,se(this,this.Hb)),this.dispatchEvent("timeout"),this.abort(8))};F.prototype.P=function(a,b){this.va=!1;this.b&&(this.Ka=!0,this.b.abort(),this.Ka=!1);this.Hb=b;ve(this);we(this)};var ve=function(a){a.Rc||(a.Rc=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};F.prototype.abort=function(){this.b&&this.va&&(E(this.U,se(this,"Aborting")),this.va=!1,this.Ka=!0,this.b.abort(),this.Ka=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),we(this))};F.prototype.cb=function(){this.b&&(this.va&&(this.va=!1,this.Ka=!0,this.b.abort(),this.Ka=!1),we(this,!0));F.xd.cb.call(this)};F.prototype.be=function(){this.isDisposed()||(this.Yc||this.oc||this.Ka?xe(this):this.nf())};F.prototype.nf=function(){xe(this)};var xe=function(a){if(a.va&&"undefined"!=typeof aa)if(a.Kc[1]&&4==ye(a)&&2==ze(a))E(a.U,se(a,"Local request error detected and ignored"));else if(a.oc&&4==ye(a))ke(a.be,0,a);else if(a.dispatchEvent("readystatechange"),4==ye(a)){E(a.U,se(a,"Request complete"));a.va=!1;try{var b=ze(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1;}var d;if(!(d=c)){var e;if(e=0===b){var f=(a.qc+"").match(me)[1]||null;if(!f&&l.self&&l.self.location)var g=l.self.location.protocol,f=g.substr(0,g.length-1);e=!qe.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var k;try{k=2<ye(a)?a.b.statusText:""}catch(n){E(a.U,"Can not get status: "+n.message),k=""}a.Hb=k+" ["+ze(a)+"]";ve(a)}}finally{we(a)}}};F.prototype.ae=function(a,b){v("progress"===a.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.");this.dispatchEvent(Ae(a,"progress"));this.dispatchEvent(Ae(a,b?"downloadprogress":"uploadprogress"))};var Ae=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},we=function(a,b){if(a.b){te(a);var c=a.b,d=a.Kc[0]?ba:null;a.b=null;a.Kc=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(a=a.U)&&a.log(ae,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},te=function(a){a.b&&a.Hc&&(a.b.ontimeout=null);ga(a.Ec)&&(l.clearTimeout(a.Ec),a.Ec=null)},ye=function(a){return a.b?a.b.readyState:0},ze=function(a){try{return 2<ye(a)?a.b.status:-1}catch(b){return-1}},Be=function(a){try{return a.b?a.b.responseText:""}catch(b){return E(a.U,"Can not get responseText: "+b.message),""}},se=function(a,b){return b+" ["+a.Zd+" "+a.qc+" "+ze(a)+"]"},G=function(a,b){this.ea=this.Xa=this.ha="";this.lb=null;this.Ja=this.xa="";this.S=this.df=!1;var c;babelHelpers.instanceof(a,G)?(this.S=void 0!==b?b:a.S,Ce(this,a.ha),c=a.Xa,H(this),this.Xa=c,De(this,a.ea),Ee(this,a.lb),Fe(this,a.xa),Ge(this,a.W.clone()),a=a.Ja,H(this),this.Ja=a):a&&(c=(a+"").match(me))?(this.S=!!b,Ce(this,c[1]||"",!0),a=c[2]||"",H(this),this.Xa=He(a),De(this,c[3]||"",!0),Ee(this,c[4]),Fe(this,c[5]||"",!0),Ge(this,c[6]||"",!0),a=c[7]||"",H(this),this.Ja=He(a)):(this.S=!!b,this.W=new I(null,0,this.S))};G.prototype.toString=function(){var a=[],b=this.ha;b&&a.push(Ie(b,Je,!0),":");var c=this.ea;if(c||"file"==b)a.push("//"),(b=this.Xa)&&a.push(Ie(b,Je,!0),"@"),a.push(encodeURIComponent(c+"").replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.lb,null!=c&&a.push(":",c+"");if(c=this.xa)this.ea&&"/"!=c.charAt(0)&&a.push("/"),a.push(Ie(c,"/"==c.charAt(0)?Ke:Le,!0));(c=this.W.toString())&&a.push("?",c);(c=this.Ja)&&a.push("#",Ie(c,Me));return a.join("")};G.prototype.resolve=function(a){var b=this.clone(),c=!!a.ha;c?Ce(b,a.ha):c=!!a.Xa;if(c){var d=a.Xa;H(b);b.Xa=d}else c=!!a.ea;c?De(b,a.ea):c=null!=a.lb;d=a.xa;if(c)Ee(b,a.lb);else if(c=!!a.xa){if("/"!=d.charAt(0))if(this.ea&&!this.xa)d="/"+d;else{var e=b.xa.lastIndexOf("/");-1!=e&&(d=b.xa.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(u(e,"./")||u(e,"/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0,k;g<e.length;){k=e[g++];"."==k?d&&g==e.length&&f.push(""):".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?Fe(b,d):c=""!==a.W.toString();c?Ge(b,a.W.clone()):c=!!a.Ja;c&&(a=a.Ja,H(b),b.Ja=a);return b};G.prototype.clone=function(){return new G(this)};var Ce=function(a,b,c){H(a);a.ha=c?He(b,!0):b;a.ha&&(a.ha=a.ha.replace(/:$/,""))},De=function(a,b,c){H(a);a.ea=c?He(b,!0):b},Ee=function(a,b){H(a);if(b){b=+b;if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.lb=b}else a.lb=null},Fe=function(a,b,c){H(a);a.xa=c?He(b,!0):b},Ge=function(a,b,c){H(a);babelHelpers.instanceof(b,I)?(a.W=b,a.W.td(a.S)):(c||(b=Ie(b,Ne)),a.W=new I(b,0,a.S))},J=function(a,b,c){H(a);a.W.set(b,c)},Oe=function(a,b){return a.W.get(b)};G.prototype.removeParameter=function(a){H(this);this.W.remove(a);return this};var H=function(a){if(a.df)throw Error("Tried to modify a read-only Uri")};G.prototype.td=function(a){this.S=a;this.W&&this.W.td(a);return this};var Pe=function(a){return babelHelpers.instanceof(a,G)?a.clone():new G(a,void 0)},Qe=function(a,b){var c=new G(null,void 0);Ce(c,"https");a&&De(c,a);b&&Fe(c,b);return c},He=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Ie=function(a,b,c){return m(a)?(a=encodeURI(a).replace(b,Re),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Re=function(a){a=a.charCodeAt(0);return"%"+(15&a>>4).toString(16)+(15&a).toString(16)},Je=/[#\/\?@]/g,Le=/[\#\?:]/g,Ke=/[\#\?]/g,Ne=/[\#\?@]/g,Me=/#/g,I=function(a,b,c){this.o=this.l=null;this.O=a||null;this.S=!!c},Se=function(a){a.l||(a.l=new Rd,a.o=0,a.O&&ne(a.O,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))},Ue=function(a){var b=Vd(a);if("undefined"==typeof b)throw Error("Keys are undefined");var c=new I(null,0,void 0);a=Ud(a);for(var d=0;d<b.length;d++){var e=b[d],f=a[d];ea(f)?Te(c,e,f):c.add(e,f)}return c};h=I.prototype;h.add=function(a,b){Se(this);this.O=null;a=this.R(a);var c=this.l.get(a);c||this.l.set(a,c=[]);c.push(b);this.o=za(this.o)+1;return this};h.remove=function(a){Se(this);a=this.R(a);return this.l.yb(a)?(this.O=null,this.o=za(this.o)-this.l.get(a).length,this.l.remove(a)):!1};h.yb=function(a){Se(this);a=this.R(a);return this.l.yb(a)};h.oa=function(){Se(this);for(var a=this.l.Z(),b=this.l.oa(),c=[],d=0;d<b.length;d++){for(var e=a[d],f=0;f<e.length;f++){c.push(b[d])}}return c};h.Z=function(a){Se(this);var b=[];if(m(a))this.yb(a)&&(b=Ma(b,this.l.get(this.R(a))));else{a=this.l.Z();for(var c=0;c<a.length;c++){b=Ma(b,a[c])}}return b};h.set=function(a,b){Se(this);this.O=null;a=this.R(a);this.yb(a)&&(this.o=za(this.o)-this.l.get(a).length);this.l.set(a,[b]);this.o=za(this.o)+1;return this};h.get=function(a,b){a=a?this.Z(a):[];return 0<a.length?a[0]+"":b};var Te=function(a,b,c){a.remove(b);0<c.length&&(a.O=null,a.l.set(a.R(b),Na(c)),a.o=za(a.o)+c.length)};I.prototype.toString=function(){if(this.O)return this.O;if(!this.l)return"";for(var a=[],b=this.l.oa(),c=0;c<b.length;c++){for(var d=b[c],e=encodeURIComponent(d+""),d=this.Z(d),f=0,g;f<d.length;f++){g=e;""!==d[f]&&(g+="="+encodeURIComponent(d[f]+""));a.push(g)}}return this.O=a.join("&")};I.prototype.clone=function(){var a=new I;a.O=this.O;this.l&&(a.l=this.l.clone(),a.o=this.o);return a};I.prototype.R=function(a){a=a+"";this.S&&(a=a.toLowerCase());return a};I.prototype.td=function(a){a&&!this.S&&(Se(this),this.O=null,this.l.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),Te(this,b,a))},this));this.S=a};var Ve=function(){var a=K();return y&&!!ob&&11==ob||/Edge\/\d+/.test(a)},We=function(){return l.window&&l.window.location.href||""},Xe=function(a,b){b=b||l.window;var c="about:blank";a&&(c=rc(uc(a)));b.location.href=c},Ye=function(a,b){var c=[],d;for(d in a){d in b?babelHelpers.typeof(a[d])!=babelHelpers.typeof(b[d])?c.push(d):ea(a[d])?Wa(a[d],b[d])||c.push(d):"object"==babelHelpers.typeof(a[d])&&null!=a[d]&&null!=b[d]?0<Ye(a[d],b[d]).length&&c.push(d):a[d]!==b[d]&&c.push(d):c.push(d)}for(d in b){d in a||c.push(d)}return c},$e=function(){var a=K();a="Chrome"!=Ze(a)?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null;return a&&30>a?!1:!y||!ob||9<ob},af=function(a){a=(a||K()).toLowerCase();return a.match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/)?!0:!1},bf=function(a){a=a||l.window;try{a.close()}catch(b){}},cf=function(a,b,c){var d=_Mathfloor(1E9*Math.random()).toString();b=b||500;c=c||600;var e=(window.screen.availHeight-c)/2,f=(window.screen.availWidth-b)/2;b={width:b,height:c,top:0<e?e:0,left:0<f?f:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1};c=K().toLowerCase();d&&(b.target=d,u(c,"crios/")&&(b.target="_blank"));"Firefox"==Ze(K())&&(a=a||"http://localhost",b.scrollbars=!0);c=a||"about:blank";(d=b)||(d={});a=window;b=babelHelpers.instanceof(c,qc)?c:uc("undefined"!=typeof c.href?c.href:c+"");c=d.target||c.target;e=[];for(var g in d){switch(g){case"width":case"height":case"top":case"left":e.push(g+"="+d[g]);break;case"target":case"noreferrer":break;default:e.push(g+"="+(d[g]?1:0));}}g=e.join(",");(x("iPhone")&&!x("iPod")&&!x("iPad")||x("iPad")||x("iPod"))&&a.navigator&&a.navigator.standalone&&c&&"_self"!=c?(g=a.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(e=g&&(babelHelpers.instanceof(g,HTMLAnchorElement)||!(babelHelpers.instanceof(g,Location)||babelHelpers.instanceof(g,Element))),f=ha(g)?g.constructor.displayName||g.constructor.name||Object.prototype.toString.call(g):void 0===g?"undefined":null===g?"null":babelHelpers.typeof(g),v(e,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",f)),b=babelHelpers.instanceof(b,qc)?b:uc(b),g.href=rc(b),g.setAttribute("target",c),d.noreferrer&&g.setAttribute("rel","noreferrer"),d=document.createEvent("MouseEvent"),d.initMouseEvent("click",!0,!0,a,1),g.dispatchEvent(d),g={}):d.noreferrer?(g=a.open("",c,g),d=rc(b),g&&((eb||y)&&u(d,";")&&(d="'"+d.replace(/'/g,"%27")+"'"),g.opener=null,a=mc("b/12014412, meta tag with sanitized URL"),ua.test(d)&&(-1!=d.indexOf("&")&&(d=d.replace(oa,"&amp;")),-1!=d.indexOf("<")&&(d=d.replace(pa,"&lt;")),-1!=d.indexOf(">")&&(d=d.replace(qa,"&gt;")),-1!=d.indexOf("\"")&&(d=d.replace(ra,"&quot;")),-1!=d.indexOf("'")&&(d=d.replace(sa,"&#39;")),-1!=d.indexOf("\0")&&(d=d.replace(ta,"&#0;"))),d="<META HTTP-EQUIV=\"refresh\" content=\"0; url="+d+"\">",Aa(lc(a),"must provide justification"),v(!/^[\s\xa0]*$/.test(lc(a)),"must provide non-empty justification"),g.document.write(Yc(new Xc().$e(d))),g.document.close())):g=a.open(rc(b),c,g);if(g)try{g.focus()}catch(k){}return g},df=function(a){return new A(function(b){var c=function(){le(2E3).then(function(){if(!a||a.closed)b();else return c()})};return c()})},ef=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ff=function(){var a=null;return new A(function(b){"complete"==l.document.readyState?b():(a=function(){b()},bc(window,"load",a))}).f(function(b){dc(window,"load",a);throw b})},hf=function(){return gf(void 0)?ff().then(function(){return new A(function(a,b){var c=l.document,d=setTimeout(function(){b(Error("Cordova framework is not ready."))},1E3);c.addEventListener("deviceready",function(){clearTimeout(d);a()},!1)})}):D(Error("Cordova must run in an Android or iOS file scheme."))},gf=function(a){a=a||K();return!("file:"!==jf()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))},kf=function(){var a=l.window;try{return!(!a||a==a.top)}catch(b){return!1}},L=function(){return firebase.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":firebase.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},lf=function(){var a=L();return"ReactNative"===a||"Node"===a},Ze=function(a){var b=a.toLowerCase();if(u(b,"opera/")||u(b,"opr/")||u(b,"opios/"))return"Opera";if(u(b,"iemobile"))return"IEMobile";if(u(b,"msie")||u(b,"trident/"))return"IE";if(u(b,"edge/"))return"Edge";if(u(b,"firefox/"))return"Firefox";if(u(b,"silk/"))return"Silk";if(u(b,"blackberry"))return"Blackberry";if(u(b,"webos"))return"Webos";if(!u(b,"safari/")||u(b,"chrome/")||u(b,"crios/")||u(b,"android")){if(!u(b,"chrome/")&&!u(b,"crios/")||u(b,"edge/")){if(u(b,"android"))return"Android";if((a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length)return a[1]}else return"Chrome";}else return"Safari";return"Other"},mf=function(a){var b=L();return("Browser"===b?Ze(K()):b)+"/JsCore/"+a},K=function(){return l.navigator&&l.navigator.userAgent||""},M=function(a,b){a=a.split(".");b=b||l;for(var c=0;c<a.length&&"object"==babelHelpers.typeof(b)&&null!=b;c++){b=b[a[c]]}c!=a.length&&(b=void 0);return b},pf=function(){var a;if(a=(nf()||"chrome-extension:"===jf()||gf())&&!lf())a:{try{var b=l.localStorage,c=of();if(b){b.setItem(c,"1");b.removeItem(c);a=Ve()?!!l.indexedDB:!0;break a}}catch(d){}a=!1}return a},nf=function(){return"http:"===jf()||"https:"===jf()},jf=function(){return l.location&&l.location.protocol||null},qf=function(a){a=a||K();return af(a)||"Firefox"==Ze(a)?!1:!0},rf=function(a){return"undefined"===typeof a?null:xc(a)},sf=function(a){var b={},c;for(c in a){a.hasOwnProperty(c)&&null!==a[c]&&void 0!==a[c]&&(b[c]=a[c])}return b},tf=function(a){if(null!==a)return JSON.parse(a)},of=function(a){return a?a:""+_Mathfloor(1E9*Math.random()).toString()},uf=function(a){a=a||K();return"Safari"==Ze(a)||a.toLowerCase().match(/iphone|ipad|ipod/)?!1:!0},vf=function(){var a=l.___jsl;if(a&&a.H)for(var b in a.H){if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var c=0;c<a.CP.length;c++){a.CP[c]=null}}},wf=function(){return l.navigator&&"boolean"===typeof l.navigator.onLine?l.navigator.onLine:!0},xf=function(a,b,c,d){if(a>b)throw Error("Short delay should be less than long delay!");this.Ff=a;this.gf=b;a=c||K();d=d||L();this.cf=af(a)||"ReactNative"===d};xf.prototype.get=function(){return this.cf?this.gf:this.Ff};var yf=function(){var a=l.document;return a&&"undefined"!==typeof a.visibilityState?"visible"==a.visibilityState:!0},zf=function(){var a=l.document,_b=null;return yf()||!a?B():new A(function(c){_b=function b(){yf()&&(a.removeEventListener("visibilitychange",_b,!1),c())};a.addEventListener("visibilitychange",_b,!1)}).f(function(c){a.removeEventListener("visibilitychange",_b,!1);throw c})},Af={},Bf=function(a){Af[a]||(Af[a]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(a))},Cf;try{var Df={};Object.defineProperty(Df,"abcd",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(Df,"abcd",{configurable:!0,enumerable:!0,value:2});Cf=2==Df.abcd}catch(a){Cf=!1}var N=function(a,b,c){Cf?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:c}):a[b]=c},Ef=function(a,b){Cf?Object.defineProperty(a,"provider",{configurable:!0,enumerable:!0,get:function get(){Bf("firebase.auth.AuthCredential.provider is deprecated. Please use the providerId field instead.");return b}}):a.provider=b},Ff=function(a,b){if(b)for(var c in b){b.hasOwnProperty(c)&&N(a,c,b[c])}},Gf=function(a){var b={};Ff(b,a);return b},Hf=function(a){var b={},c;for(c in a){a.hasOwnProperty(c)&&(b[c]=a[c])}return b},If=function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var c=0,d;c<b.length;c++){d=a[b[c]];if(void 0===d||null===d||""===d)return!1}return!0},Jf=function(a){var b=a;if("object"==babelHelpers.typeof(a)&&null!=a){var b="length"in a?[]:{},c;for(c in a){N(b,c,Jf(a[c]))}}return b},Kf="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Lf=["client_id","response_type","scope","redirect_uri","state"],Mf={Pf:{Mb:500,Lb:600,providerId:"facebook.com",qd:Lf},Qf:{Mb:500,Lb:620,providerId:"github.com",qd:Lf},Rf:{Mb:515,Lb:680,providerId:"google.com",qd:Lf},Sf:{Mb:485,Lb:705,providerId:"twitter.com",qd:Kf}},Nf=function(a){for(var b in Mf){if(Mf[b].providerId==a)return Mf[b]}return null},O=function(a,b){this.code="auth/"+a;this.message=b||Of[a]||""};r(O,Error);O.prototype.C=function(){return{code:this.code,message:this.message}};O.prototype.toJSON=function(){return this.C()};var Pf=function(a){var b=a&&a.code;return b?new O(b.substring(5),a.message):null},Of={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"","code-expired":"","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-identifier-number":"","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"","missing-verification-code":"","missing-identifier-number":"","missing-verification-id":"","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":"This operation is not supported in the environment this application is running on. \"location.protocol\" must be http, https or chrome-extension and web storage must be enabled.","popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P=function(a,b,c,d,e){this.da=a;this.J=b||null;this.tb=c||null;this.sd=d||null;this.P=e||null;if(this.tb||this.P){if(this.tb&&this.P)throw new O("invalid-auth-event");if(this.tb&&!this.sd)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")};P.prototype.ic=function(){return this.sd};P.prototype.getError=function(){return this.P};P.prototype.C=function(){return{type:this.da,eventId:this.J,urlResponse:this.tb,sessionId:this.sd,error:this.P&&this.P.C()}};var Qf=function(a){a=a||{};return a.type?new P(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&Pf(a.error)):null},Rf=function(a){var b="unauthorized-domain",c,d=Pe(a);a=d.ea;d=d.ha;"chrome-extension"==d?c=ma("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==d||"https"==d?c=ma("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment";O.call(this,b,c)};r(Rf,O);var Sf=function(a){this.ff=a.sub;la();this.gc=a.email||null},Tf=function(a,b){return a.then(function(a){if(a.idToken){var c;a:{var e=a.idToken.split(".");if(3==e.length){for(var e=e[1],f=(4-e.length%4)%4,g=0;g<f;g++){e+="."}try{var k=JSON.parse(tb(e));if(k.sub&&k.iss&&k.aud&&k.exp){c=new Sf(k);break a}}catch(n){}}c=null}if(!c||b!=c.ff)throw new O("user-mismatch");return a}throw new O("user-mismatch")}).f(function(a){throw a&&a.code&&"auth/user-not-found"==a.code?new O("user-mismatch"):a})},Uf=function(a,b){if(b.idToken||b.accessToken)b.idToken&&N(this,"idToken",b.idToken),b.accessToken&&N(this,"accessToken",b.accessToken);else if(b.oauthToken&&b.oauthTokenSecret)N(this,"accessToken",b.oauthToken),N(this,"secret",b.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");Ef(this,a);N(this,"providerId",a)};Uf.prototype.Ab=function(a){return Vf(a,Wf(this))};Uf.prototype.cd=function(a,b){var c=Wf(this);c.idToken=b;return Xf(a,c)};Uf.prototype.ed=function(a,b){var c=Wf(this);return Tf(Yf(a,c),b)};var Wf=function(a){var b={};a.idToken&&(b.id_token=a.idToken);a.accessToken&&(b.access_token=a.accessToken);a.secret&&(b.oauth_token_secret=a.secret);b.providerId=a.providerId;return{postBody:Ue(b).toString(),requestUri:"http://localhost"}};Uf.prototype.C=function(){var a={providerId:this.providerId};this.idToken&&(a.oauthIdToken=this.idToken);this.accessToken&&(a.oauthAccessToken=this.accessToken);this.secret&&(a.oauthTokenSecret=this.secret);return a};var Zf=function(a,b){this.vf=b||[];Ff(this,{providerId:a,isOAuthProvider:!0});this.Id={}};Zf.prototype.setCustomParameters=function(a){this.Id=Xa(a);return this};var Q=function(a){Zf.call(this,a,Lf);this.rd=[]};r(Q,Zf);Q.prototype.addScope=function(a){Ia(this.rd,a)||this.rd.push(a);return this};Q.prototype.Rd=function(){return Na(this.rd)};Q.prototype.credential=function(a,b){if(!a&&!b)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new Uf(this.providerId,{idToken:a||null,accessToken:b||null})};var $f=function(){Q.call(this,"facebook.com")};r($f,Q);N($f,"PROVIDER_ID","facebook.com");var ag=function(a){if(!a)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;ha(a)&&(b=a.accessToken);return new $f().credential(null,b)},bg=function(){Q.call(this,"github.com")};r(bg,Q);N(bg,"PROVIDER_ID","github.com");var cg=function(a){if(!a)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;ha(a)&&(b=a.accessToken);return new bg().credential(null,b)},dg=function(){Q.call(this,"google.com");this.addScope("profile")};r(dg,Q);N(dg,"PROVIDER_ID","google.com");var eg=function(a,b){var c=a;ha(a)&&(c=a.idToken,b=a.accessToken);return new dg().credential(c,b)},fg=function(){Zf.call(this,"twitter.com",Kf)};r(fg,Zf);N(fg,"PROVIDER_ID","twitter.com");var gg=function(a,b){var c=a;ha(c)||(c={oauthToken:a,oauthTokenSecret:b});if(!c.oauthToken||!c.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Uf("twitter.com",c)},hg=function(a,b){this.gc=a;this.jd=b;Ef(this,"password");N(this,"providerId","password")};hg.prototype.Ab=function(a){return R(a,ig,{email:this.gc,password:this.jd})};hg.prototype.cd=function(a,b){return R(a,jg,{idToken:b,email:this.gc,password:this.jd})};hg.prototype.ed=function(a,b){return Tf(this.Ab(a),b)};hg.prototype.C=function(){return{email:this.gc,password:this.jd}};var kg=function(){Ff(this,{providerId:"password",isOAuthProvider:!1})};Ff(kg,{PROVIDER_ID:"password"});var lg=function(a){if(!(a.Bd&&a.Ad||a.Yb&&a.ya))throw new O("internal-error");this.I=a;N(this,"providerId","identifier")};lg.prototype.Ab=function(a){return a.se(mg(this))};lg.prototype.cd=function(a,b){var c=mg(this);c.idToken=b;return R(a,ng,c)};lg.prototype.ed=function(a,b){var c=mg(this);c.operation="REAUTH";a=R(a,og,c);return Tf(a,b)};lg.prototype.C=function(){var a={providerId:"identifier"};this.I.Bd&&(a.verificationId=this.I.Bd);this.I.Ad&&(a.verificationCode=this.I.Ad);this.I.Yb&&(a.temporaryProof=this.I.Yb);this.I.ya&&(a.identifierNumber=this.I.ya);return a};var mg=function(a){return a.I.Yb&&a.I.ya?{temporaryProof:a.I.Yb,identifierNumber:a.I.ya}:{sessionInfo:a.I.Bd,code:a.I.Ad}},pg=function(a){try{this.Ce=a||firebase.auth()}catch(b){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.identifierAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ff(this,{providerId:"identifier",isOAuthProvider:!1})};pg.prototype.se=function(a,b){var c=this.Ce.g;return B(b.verify()).then(function(d){if(!m(d))throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":return R(c,qg,{identifierNumber:a,recaptchaToken:d});default:throw new O("argument-error","Only firebase.auth.ApplicationVerifiers with type=\"recaptcha\" are currently supported.");}})};Ff(pg,{PROVIDER_ID:"identifier"});var rg=function(a){if(a.temporaryProof&&a.identifierNumber)return new lg({Yb:a.temporaryProof,ya:a.identifierNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var c=a&&a.oauthAccessToken,d=a&&a.oauthTokenSecret;a=a&&a.oauthIdToken;try{switch(b){case"google.com":return eg(a,c);case"facebook.com":return ag(c);case"github.com":return cg(c);case"twitter.com":return gg(c,d);default:return new Q(b).credential(a,c);}}catch(e){return null}},sg=function(a){if(!a.isOAuthProvider)throw new O("invalid-oauth-provider")},tg=function(a,b,c){O.call(this,a,c);a=b||{};a.email&&N(this,"email",a.email);a.ya&&N(this,"identifierNumber",a.ya);a.credential&&N(this,"credential",a.credential)};r(tg,O);tg.prototype.C=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email);this.identifierNumber&&(a.identifierNumber=this.identifierNumber);var b=this.credential&&this.credential.C();b&&Za(a,b);return a};tg.prototype.toJSON=function(){return this.C()};var ug=function(a){if(a.code){var b=a.code||"";0==b.indexOf("auth/")&&(b=b.substring(5));var c={credential:rg(a)};if(a.email)c.email=a.email;else if(a.identifierNumber)c.ya=a.identifierNumber;else return new O(b,a.message||void 0);return new tg(b,c,a.message)}return null},vg=function(a){this.Of=a};r(vg,Bc);vg.prototype.fc=function(){return new this.Of};vg.prototype.$c=function(){return{}};var S=function(a,b,c){var d="Node"==L();d=l.XMLHttpRequest||d&&firebase.INTERNAL.node&&firebase.INTERNAL.node.XMLHttpRequest;if(!d)throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.j=a;a=b||{};this.Bf=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token";this.Cf=a.secureTokenTimeout||wg;this.ge=Xa(a.secureTokenHeaders||xg);this.Le=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/";this.Me=a.firebaseTimeout||yg;this.Pd=Xa(a.firebaseHeaders||zg);c&&(this.Pd["X-Client-Version"]=c,this.ge["X-Client-Version"]=c);this.Ee=new Gc;this.Nf=new vg(d)},Ag,wg=new xf(3E4,6E4),xg={"Content-Type":"application/x-www-form-urlencoded"},yg=new xf(3E4,6E4),zg={"Content-Type":"application/json"},Cg=function(a,b,c,d,e,f,g){wf()?($e()?a=_q(a.Ef,a):(Ag||(Ag=new A(function(a,b){Bg(a,b)})),a=_q(a.Df,a)),a(b,c,d,e,f,g)):c&&c(null)};S.prototype.Ef=function(a,b,c,d,e,f){var g="Node"==L(),k=lf()?g?new F(this.Nf):new F:new F(this.Ee),n;f&&(k.sb=_Mathmax(0,f),n=setTimeout(function(){k.dispatchEvent("timeout")},f));k.listen("complete",function(){n&&clearTimeout(n);var a=null;try{a=JSON.parse(Be(this))||null}catch(db){a=null}b&&b(a)});cc(k,"ready",function(){n&&clearTimeout(n);this.Ga||(this.Ga=!0,this.cb())});cc(k,"timeout",function(){n&&clearTimeout(n);this.Ga||(this.Ga=!0,this.cb());b&&b(null)});k.send(a,c,d,e)};var Ed="__fcb"+_Mathfloor(1E6*Math.random()).toString(),Bg=function(a,b){((window.gapi||{}).client||{}).request?a():(l[Ed]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},Gd(function(){b(Error("CORS_UNSUPPORTED"))}))};S.prototype.Df=function(a,b,c,d,e){var f=this;Ag.then(function(){window.gapi.client.setApiKey(f.j);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null);window.gapi.client.request({path:a,method:c,body:d,headers:e,authType:"none",callback:function callback(a){window.gapi.auth.setToken(g);b&&b(a)}})}).f(function(a){b&&b({error:{message:a&&a.message||"CORS_UNSUPPORTED"}})})};var Eg=function(a,b){return new A(function(c,d){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?Cg(a,a.Bf+"?key="+encodeURIComponent(a.j),function(a){a?a.error?d(Dg(a)):a.access_token&&a.refresh_token?c(a):d(new O("internal-error")):d(new O("network-request-failed"))},"POST",Ue(b).toString(),a.ge,a.Cf.get()):d(new O("internal-error"))})},Fg=function(a,b,c,d,e,f){var g=Pe(a.Le+b);J(g,"key",a.j);f&&J(g,"cb",la().toString());var k="GET"==c;if(k)for(var n in d){d.hasOwnProperty(n)&&J(g,n,d[n])}return new A(function(b,f){Cg(a,g.toString(),function(a){a?a.error?f(Dg(a,e||{})):b(a):f(new O("network-request-failed"))},c,k?void 0:xc(sf(d)),a.Pd,a.Me.get())})},Gg=function(a){if(!ic.test(a.email))throw new O("invalid-email")},Hg=function(a){"email"in a&&Gg(a)},Jg=function(a,b){return R(a,Ig,{identifier:b,continueUri:nf()?We():"http://localhost"}).then(function(a){return a.allProviders||[]})},Lg=function(a){return R(a,Kg,{}).then(function(a){return a.authorizedDomains||[]})},Mg=function(a){if(!a.idToken)throw new O("internal-error")},Ng=function(a){if(a.identifierNumber||a.temporaryProof){if(!a.identifierNumber||!a.temporaryProof)throw new O("internal-error")}else{if(!a.sessionInfo)throw new O("missing-verification-id");if(!a.code)throw new O("missing-verification-code")}};S.prototype.signInAnonymously=function(){return R(this,Og,{})};S.prototype.updateEmail=function(a,b){return R(this,Pg,{idToken:a,email:b})};S.prototype.updatePassword=function(a,b){return R(this,jg,{idToken:a,password:b})};var Qg={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};S.prototype.updateProfile=function(a,b){var c={idToken:a},d=[];Sa(Qg,function(a,f){var e=b[f];null===e?d.push(a):f in b&&(c[f]=e)});d.length&&(c.deleteAttribute=d);return R(this,Pg,c)};S.prototype.sendPasswordResetEmail=function(a){return R(this,Rg,{requestType:"PASSWORD_RESET",email:a})};S.prototype.sendEmailVerification=function(a){return R(this,Sg,{requestType:"VERIFY_EMAIL",idToken:a})};S.prototype.se=function(a){return R(this,Tg,a)};var Vg=function(a,b,c){return R(a,Ug,{idToken:b,deleteProvider:c})},Wg=function(a){if(!a.requestUri||!a.sessionId&&!a.postBody)throw new O("internal-error")},Xg=function(a){var b=null;a.needConfirmation?(a.code="account-exists-with-different-credential",b=ug(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=ug(a)):"EMAIL_EXISTS"==a.errorMessage&&(a.code="email-already-in-use",b=ug(a));if(b)throw b;if(!a.idToken)throw new O("internal-error")},Vf=function(a,b){b.returnIdpCredential=!0;return R(a,Yg,b)},Xf=function(a,b){b.returnIdpCredential=!0;return R(a,Zg,b)},Yf=function(a,b){b.returnIdpCredential=!0;b.autoCreate=!1;return R(a,$g,b)},ah=function(a){if(!a.oobCode)throw new O("invalid-action-code")};S.prototype.confirmPasswordReset=function(a,b){return R(this,bh,{oobCode:a,newPassword:b})};S.prototype.checkActionCode=function(a){return R(this,ch,{oobCode:a})};S.prototype.applyActionCode=function(a){return R(this,dh,{oobCode:a})};var dh={endpoint:"setAccountInfo",A:ah,Wa:"email"},ch={endpoint:"resetPassword",A:ah,Y:function(a){if(!a.email||!a.requestType)throw new O("internal-error")}},eh={endpoint:"signupNewUser",A:function(a){Gg(a);if(!a.password)throw new O("weak-password")},Y:Mg,sa:!0},Ig={endpoint:"createAuthUri"},fh={endpoint:"deleteAccount",Ua:["idToken"]},Ug={endpoint:"setAccountInfo",Ua:["idToken","deleteProvider"],A:function(a){if(!ea(a.deleteProvider))throw new O("internal-error")}},gh={endpoint:"getAccountInfo"},Sg={endpoint:"getOobConfirmationCode",Ua:["idToken","requestType"],A:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new O("internal-error")},Wa:"email"},Rg={endpoint:"getOobConfirmationCode",Ua:["requestType"],A:function(a){if("PASSWORD_RESET"!=a.requestType)throw new O("internal-error");Gg(a)},Wa:"email"},Kg={De:!0,endpoint:"getProjectConfig",We:"GET"},bh={endpoint:"resetPassword",A:ah,Wa:"email"},qg={endpoint:"sendVerificationCode",Ua:["identifierNumber","recaptchaToken"],Wa:"sessionInfo"},Pg={endpoint:"setAccountInfo",Ua:["idToken"],A:Hg,sa:!0},jg={endpoint:"setAccountInfo",Ua:["idToken"],A:function(a){Hg(a);if(!a.password)throw new O("weak-password")},Y:Mg,sa:!0},Og={endpoint:"signupNewUser",Y:Mg,sa:!0},Yg={endpoint:"verifyAssertion",A:Wg,Y:Xg,sa:!0},$g={endpoint:"verifyAssertion",A:Wg,Y:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new O("user-not-found");if(!a.idToken)throw new O("internal-error")},sa:!0},Zg={endpoint:"verifyAssertion",A:function(a){Wg(a);if(!a.idToken)throw new O("internal-error")},Y:Xg,sa:!0},hh={endpoint:"verifyCustomToken",A:function(a){if(!a.token)throw new O("invalid-custom-token")},Y:Mg,sa:!0},ig={endpoint:"verifyPassword",A:function(a){Gg(a);if(!a.password)throw new O("wrong-password")},Y:Mg,sa:!0},Tg={endpoint:"verifyidentifierNumber",A:Ng,Y:Mg},ng={endpoint:"verifyidentifierNumber",A:function(a){if(!a.idToken)throw new O("internal-error");Ng(a)},Y:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",ug(a);Mg(a)}},og={Ge:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyidentifierNumber",A:Ng,Y:Mg},R=function(a,b,c){if(!If(c,b.Ua))return D(new O("internal-error"));var d=b.We||"POST",e;return B(c).then(b.A).then(function(){b.sa&&(c.returnSecureToken=!0);return Fg(a,b.endpoint,d,c,b.Ge,b.De||!1)}).then(function(a){return e=a}).then(b.Y).then(function(){if(!b.Wa)return e;if(!(b.Wa in e))throw new O("internal-error");return e[b.Wa]})},Dg=function(a,b){var c=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"";var d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new O(d[c]):null)return c;c=a.error&&a.error.message||"";d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_identifier_NUMBER:"invalid-identifier-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_identifier_NUMBER:"missing-identifier-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired"};Za(d,b||{});b=(b=c.match(/^[^\s]+\s*:\s*(.*)$/))&&1<b.length?b[1]:void 0;for(var e in d){if(0===c.indexOf(e))return new O(d[e],b)}!b&&a&&(b=rf(a));return new O("internal-error",b)},ih=function(a){this.V=a};ih.prototype.value=function(){return this.V};ih.prototype.je=function(a){this.V.style=a;return this};var jh=function(a){this.V=a||{}};jh.prototype.value=function(){return this.V};jh.prototype.je=function(a){this.V.style=a;return this};var lh=function(a){this.Lf=a;this.nc=null;this.gd=kh(this)},mh=function(a){var b=new jh;b.V.where=document.body;b.V.url=a.Lf;b.V.messageHandlersFilter=M("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER");b.V.attributes=b.V.attributes||{};new ih(b.V.attributes).je({position:"absolute",top:"-100px",width:"1px",height:"1px"});b.V.dontclear=!0;return b},kh=function(a){return nh().then(function(){return new A(function(b,c){M("gapi.iframes.getContext")().open(mh(a).value(),function(d){a.nc=d;a.nc.restyle({setHideOnLeave:!1});var e=setTimeout(function(){c(Error("Network Error"))},oh.get()),f=function(){clearTimeout(e);b()};d.ping(f).then(f,function(){c(Error("Network Error"))})})})})};lh.prototype.sendMessage=function(a){var b=this;return this.gd.then(function(){return new A(function(c){b.nc.send(a.type,a,c,M("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var ph=function(a,b){a.gd.then(function(){a.nc.register("authEvent",b,M("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},qh=new xf(3E4,6E4),oh=new xf(5E3,15E3),nh=function(){return new A(function(a,b){if(wf()){var c=function(){vf();M("gapi.load")("gapi.iframes",{callback:a,ontimeout:function ontimeout(){vf();b(Error("Network Error"))},timeout:qh.get()})};if(M("gapi.iframes.Iframe"))a();else if(M("gapi.load"))c();else{var d="__iframefcb"+_Mathfloor(1E6*Math.random()).toString();l[d]=function(){M("gapi.load")?c():b(Error("Network Error"))};B(Dd("https://apis.google.com/js/api.js?onload="+d)).f(function(){b(Error("Network Error"))})}}else b(Error("Network Error"))})},rh=function(a,b,c){this.v=a;this.j=b;this.D=c;this.Ya=null;this.ac=Qe(this.v,"/__/auth/iframe");J(this.ac,"apiKey",this.j);J(this.ac,"appName",this.D)};rh.prototype.setVersion=function(a){this.Ya=a;return this};rh.prototype.toString=function(){this.Ya?J(this.ac,"v",this.Ya):this.ac.removeParameter("v");return this.ac.toString()};var sh=function(a,b,c,d,e){this.v=a;this.j=b;this.D=c;this.Be=d;this.Ya=this.J=this.pd=null;this.Pb=e};sh.prototype.setVersion=function(a){this.Ya=a;return this};sh.prototype.toString=function(){var a=Qe(this.v,"/__/auth/handler");J(a,"apiKey",this.j);J(a,"appName",this.D);J(a,"authType",this.Be);if(this.Pb.isOAuthProvider){J(a,"providerId",this.Pb.providerId);var b=this.Pb,c=sf(b.Id),d;for(d in c){c[d]=c[d].toString()}b=b.vf;c=Xa(c);for(d=0;d<b.length;d++){var e=b[d];e in c&&delete c[e]}Va(c)||J(a,"customParameters",rf(c))}"function"===typeof this.Pb.Rd&&(b=this.Pb.Rd(),b.length&&J(a,"scopes",b.join(",")));this.pd?J(a,"redirectUrl",this.pd):a.removeParameter("redirectUrl");this.J?J(a,"eventId",this.J):a.removeParameter("eventId");this.Ya?J(a,"v",this.Ya):a.removeParameter("v");if(this.bc)for(var f in this.bc){this.bc.hasOwnProperty(f)&&!Oe(a,f)&&J(a,f,this.bc[f])}return a.toString()};var th=function(a,b,c,d){this.v=a;this.j=b;this.D=c;this.Oe=(this.Ea=d||null)?mf(this.Ea):null;d=this.Ea;this.Xe=new rh(a,b,c).setVersion(d).toString();this.ma=[];this.g=new S(b,null,this.Oe);this.pc=this.wa=null},uh=function(a){var b=We();return Lg(a).then(function(a){a:{for(var c=Pe(b),e=c.ha,c=c.ea,f=0;f<a.length;f++){var g,k=a[f];g=c;var n=e;0==k.indexOf("chrome-extension://")?g=Pe(k).ea==g&&"chrome-extension"==n:"http"!=n&&"https"!=n?g=!1:ef.test(k)?g=g==k:(k=k.split(".").join("\\."),g=new RegExp("^(.+\\."+k+"|"+k+")$","i").test(g));if(g){a=!0;break a}}a=!1}if(!a)throw new Rf(We())})};h=th.prototype;h.Gb=function(){if(this.pc)return this.pc;var a=this;return this.pc=ff().then(function(){a.mc=new lh(a.Xe);vh(a)})};h.Vb=function(a,b,c){var d=new O("popup-closed-by-user"),e=new O("web-storage-unsupported"),f=this,g=!1;return this.La().then(function(){wh(f).then(function(c){c||(a&&bf(a),b(e),g=!0)})}).f(function(){}).then(function(){if(!g)return df(a)}).then(function(){if(!g)return le(c).then(function(){b(d)})})};h.ke=function(){var a=K();return!qf(a)&&!uf(a)};h.Ud=function(){return!1};h.Nb=function(a,b,c,d,e,f,g){if(!a)return D(new O("popup-blocked"));if(g&&!qf())return this.La().f(function(b){bf(a);e(b)}),d(),B();this.wa||(this.wa=uh(this.g));var k=this;return this.wa.then(function(){var b=k.La().f(function(b){bf(a);e(b);throw b});d();return b}).then(function(){sg(c);if(!g){var d=xh(k.v,k.j,k.D,b,c,null,f,k.Ea);Xe(d,a)}}).f(function(a){"auth/network-request-failed"==a.code&&(k.wa=null);throw a})};h.Ob=function(a,b,c){this.wa||(this.wa=uh(this.g));var d=this;return this.wa.then(function(){sg(b);var e=xh(d.v,d.j,d.D,a,b,We(),c,d.Ea);Xe(e)})};h.La=function(){var a=this;return this.Gb().then(function(){return a.mc.gd}).f(function(){a.wa=null;throw new O("network-request-failed")})};h.ne=function(){return!0};var xh=function(a,b,c,d,e,f,g,k,n){a=new sh(a,b,c,d,e);a.pd=f;a.J=g;f=a.setVersion(k);f.bc=Xa(n||null);return f.toString()},vh=function(a){if(!a.mc)throw Error("IfcHandler must be initialized!");ph(a.mc,function(b){var c={};if(b&&b.authEvent){var d=!1;b=Qf(b.authEvent);for(c=0;c<a.ma.length;c++){d=a.ma[c](b)||d}c={};c.status=d?"ACK":"ERROR";return B(c)}c.status="ERROR";return B(c)})},wh=function(a){var b={type:"webStorageSupport"};return a.Gb().then(function(){return a.mc.sendMessage(b)}).then(function(a){if(a&&a.length&&"undefined"!==typeof a[0].webStorageSupport)return a[0].webStorageSupport;throw Error()})};th.prototype.$a=function(a){this.ma.push(a)};th.prototype.Tb=function(a){La(this.ma,function(b){return b==a})};var yh=function(a){this.B=a||firebase.INTERNAL.reactNative&&firebase.INTERNAL.reactNative.AsyncStorage;if(!this.B)throw new O("internal-error","The React Native compatibility library was not found.")};h=yh.prototype;h.get=function(a){return B(this.B.getItem(a)).then(function(a){return a&&tf(a)})};h.set=function(a,b){return B(this.B.setItem(a,rf(b)))};h.remove=function(a){return B(this.B.removeItem(a))};h.ab=function(){};h.Ta=function(){};var zh=function(){this.B={}};h=zh.prototype;h.get=function(a){return B(this.B[a])};h.set=function(a,b){this.B[a]=b;return B()};h.remove=function(a){delete this.B[a];return B()};h.ab=function(){};h.Ta=function(){};var Ch=function(){if(!Bh()){if("Node"==L())throw new O("internal-error","The LocalStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.B=l.localStorage||firebase.INTERNAL.node.localStorage},Bh=function(){var a="Node"==L(),a=l.localStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.localStorage;if(!a)return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(b){return!1}};h=Ch.prototype;h.get=function(a){var b=this;return B().then(function(){var c=b.B.getItem(a);return tf(c)})};h.set=function(a,b){var c=this;return B().then(function(){var d=rf(b);null===d?c.remove(a):c.B.setItem(a,d)})};h.remove=function(a){var b=this;return B().then(function(){b.B.removeItem(a)})};h.ab=function(a){l.window&&Vb(l.window,"storage",a)};h.Ta=function(a){l.window&&dc(l.window,"storage",a)};var Dh=function(){this.B={}};h=Dh.prototype;h.get=function(){return B(null)};h.set=function(){return B()};h.remove=function(){return B()};h.ab=function(){};h.Ta=function(){};var Fh=function(){if(!Eh()){if("Node"==L())throw new O("internal-error","The SessionStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.B=l.sessionStorage||firebase.INTERNAL.node.sessionStorage},Eh=function(){var a="Node"==L(),a=l.sessionStorage||a&&firebase.INTERNAL.node&&firebase.INTERNAL.node.sessionStorage;if(!a)return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(b){return!1}};h=Fh.prototype;h.get=function(a){var b=this;return B().then(function(){var c=b.B.getItem(a);return tf(c)})};h.set=function(a,b){var c=this;return B().then(function(){var d=rf(b);null===d?c.remove(a):c.B.setItem(a,d)})};h.remove=function(a){var b=this;return B().then(function(){b.B.removeItem(a)})};h.ab=function(){};h.Ta=function(){};var Gh=function(a,b,c,d,e,f){if(!window.indexedDB)throw new O("web-storage-unsupported");this.He=a;this.fd=b;this.Qc=c;this.re=d;this.wb=e;this.$={};this.Wb=[];this.Jb=0;this.Ye=f||l.indexedDB},Hh,Ih=function(a){return new A(function(b,c){var d=a.Ye.open(a.He,a.wb);d.onerror=function(a){c(Error(a.target.errorCode))};d.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore(a.fd,{keyPath:a.Qc})}catch(f){c(f)}};d.onsuccess=function(a){b(a.target.result)}})},Jh=function(a){a.Xd||(a.Xd=Ih(a));return a.Xd},Kh=function(a,b){return b.objectStore(a.fd)},Lh=function(a,b,c){return b.transaction([a.fd],c?"readwrite":"readonly")},Mh=function(a){return new A(function(b,c){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()};a.onerror=function(a){c(Error(a.target.errorCode))}})};h=Gh.prototype;h.set=function(a,b){var c=!1,d,e=this;return md(Jh(this).then(function(b){d=b;b=Kh(e,Lh(e,d,!0));return Mh(b.get(a))}).then(function(f){var g=Kh(e,Lh(e,d,!0));if(f)return f.value=b,Mh(g.put(f));e.Jb++;c=!0;f={};f[e.Qc]=a;f[e.re]=b;return Mh(g.add(f))}).then(function(){e.$[a]=b}),function(){c&&e.Jb--})};h.get=function(a){var b=this;return Jh(this).then(function(c){return Mh(Kh(b,Lh(b,c,!1)).get(a))}).then(function(a){return a&&a.value})};h.remove=function(a){var b=!1,c=this;return md(Jh(this).then(function(d){b=!0;c.Jb++;return Mh(Kh(c,Lh(c,d,!0))["delete"](a))}).then(function(){delete c.$[a]}),function(){b&&c.Jb--})};h.Hf=function(){var a=this;return Jh(this).then(function(b){var c=Kh(a,Lh(a,b,!1));return c.getAll?Mh(c.getAll()):new A(function(a,b){var d=[],e=c.openCursor();e.onsuccess=function(b){(b=b.target.result)?(d.push(b.value),b["continue"]()):a(d)};e.onerror=function(a){b(Error(a.target.errorCode))}})}).then(function(b){var c={},d=[];if(0==a.Jb){for(d=0;d<b.length;d++){c[b[d][a.Qc]]=b[d][a.re]}d=Ye(a.$,c);a.$=c}return d})};h.ab=function(a){0==this.Wb.length&&this.vd();this.Wb.push(a)};h.Ta=function(a){La(this.Wb,function(b){return b==a});0==this.Wb.length&&this.Bc()};h.vd=function(){var a=this;this.Bc();var b=function(){a.kd=le(800).then(_q(a.Hf,a)).then(function(b){0<b.length&&w(a.Wb,function(a){a(b)})}).then(b).f(function(a){"STOP_EVENT"!=a.message&&b()});return a.kd};b()};h.Bc=function(){this.kd&&this.kd.cancel("STOP_EVENT")};var Qh=function(){this.Ld={Browser:Nh,Node:Oh,ReactNative:Ph}[L()]},Rh,Nh={M:Ch,yd:Fh},Oh={M:Ch,yd:Fh},Ph={M:yh,yd:Dh},Sh=function(a){var b={},c=a.email,d=a.newEmail;a=a.requestType;if(!c||!a)throw Error("Invalid provider user info!");b.fromEmail=d||null;b.email=c;N(this,"operation",a);N(this,"data",Jf(b))},Th=function(a,b,c,d,e,f){this.pf=a;this.xf=b;this.Qe=c;this.rc=d;this.zd=e;this.yf=!!f;this.kb=null;this.Ma=this.rc;if(this.zd<this.rc)throw Error("Proactive refresh lower bound greater than upper bound!")};Th.prototype.start=function(){this.Ma=this.rc;Uh(this,!0)};var Vh=function(a,b){if(b)return a.Ma=a.rc,a.Qe();b=a.Ma;a.Ma*=2;a.Ma>a.zd&&(a.Ma=a.zd);return b},Uh=function(a,b){a.stop();a.kb=le(Vh(a,b)).then(function(){return a.yf?B():zf()}).then(function(){return a.pf()}).then(function(){Uh(a,!0)}).f(function(b){a.xf(b)&&Uh(a,!1)})};Th.prototype.stop=function(){this.kb&&(this.kb.cancel(),this.kb=null)};var ai=function(a){var b={"facebook.com":Wh,"google.com":Xh,"github.com":Yh,"twitter.com":Zh},c=a&&a.providerId;return c?b[c]?new b[c](a):new $h(a):null},$h=function(a){var b=tf(a.rawUserInfo||"{}");a=a.providerId;if(!a)throw Error("Invalid additional user info!");N(this,"profile",Jf(b||{}));N(this,"providerId",a)},Wh=function(a){$h.call(this,a);if("facebook.com"!=this.providerId)throw Error("Invalid provider id!")};r(Wh,$h);var Yh=function(a){$h.call(this,a);if("github.com"!=this.providerId)throw Error("Invalid provider id!");N(this,"username",this.profile&&this.profile.login||null)};r(Yh,$h);var Xh=function(a){$h.call(this,a);if("google.com"!=this.providerId)throw Error("Invalid provider id!")};r(Xh,$h);var Zh=function(a){$h.call(this,a);if("twitter.com"!=this.providerId)throw Error("Invalid provider id!");N(this,"username",a.screenName||null)};r(Zh,$h);var bi=function(a,b,c,d){this.kf=a;this.he=b;this.zf=c;this.Ub=d;this.T={};Rh||(Rh=new Qh);a=Rh;try{var e;Ve()?(Hh||(Hh=new Gh("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),e=Hh):e=new a.Ld.M;this.Qa=e}catch(f){this.Qa=new zh,this.Ub=!0}try{this.Dc=new a.Ld.yd}catch(f){this.Dc=new zh}this.wd=_q(this.le,this);this.$={}},ci,di=function(){ci||(ci=new bi("firebase",":",!uf(K())&&kf()?!0:!1,qf()));return ci};h=bi.prototype;h.R=function(a,b){return this.kf+this.he+a.name+(b?this.he+b:"")};h.get=function(a,b){return(a.M?this.Qa:this.Dc).get(this.R(a,b))};h.remove=function(a,b){b=this.R(a,b);a.M&&!this.Ub&&(this.$[b]=null);return(a.M?this.Qa:this.Dc).remove(b)};h.set=function(a,b,c){var d=this.R(a,c),e=this,f=a.M?this.Qa:this.Dc;return f.set(d,b).then(function(){return f.get(d)}).then(function(b){a.M&&!this.Ub&&(e.$[d]=b)})};h.addListener=function(a,b,c){a=this.R(a,b);this.Ub||(this.$[a]=l.localStorage.getItem(a));Va(this.T)&&this.vd();this.T[a]||(this.T[a]=[]);this.T[a].push(c)};h.removeListener=function(a,b,c){a=this.R(a,b);this.T[a]&&(La(this.T[a],function(a){return a==c}),0==this.T[a].length&&delete this.T[a]);Va(this.T)&&this.Bc()};h.vd=function(){this.Qa.ab(this.wd);this.Ub||Ve()||ei(this)};var ei=function(a){fi(a);a.dd=setInterval(function(){for(var b in a.T){var c=l.localStorage.getItem(b),d=a.$[b];c!=d&&(a.$[b]=c,c=new Jb({type:"storage",key:b,target:window,oldValue:d,newValue:c,rf:!0}),a.le(c))}},1E3)},fi=function(a){a.dd&&(clearInterval(a.dd),a.dd=null)};bi.prototype.Bc=function(){this.Qa.Ta(this.wd);fi(this)};bi.prototype.le=function(a){if(a&&a.Pe){var b=a.eb.key;"undefined"!==typeof a.eb.rf?this.Qa.Ta(this.wd):fi(this);if(this.zf){var c=l.localStorage.getItem(b);a=a.eb.newValue;a!=c&&(a?l.localStorage.setItem(b,a):a||l.localStorage.removeItem(b))}this.$[b]=l.localStorage.getItem(b);this.Ed(b)}else w(a,_q(this.Ed,this))};bi.prototype.Ed=function(a){this.T[a]&&w(this.T[a],function(a){a()})};var gi=function(a,b){this.u=a;this.i=b||di()},hi={name:"authEvent",M:!0},ii=function(a){return a.i.get(hi,a.u).then(function(a){return Qf(a)})};gi.prototype.$a=function(a){this.i.addListener(hi,this.u,a)};gi.prototype.Tb=function(a){this.i.removeListener(hi,this.u,a)};var ji=function(a){this.i=a||di()},ki={name:"sessionId",M:!1};ji.prototype.ic=function(a){return this.i.get(ki,a)};var li=function(a,b,c,d,e,f){this.v=a;this.j=b;this.D=c;this.Ea=d||null;this.me=b+":"+c;this.Af=new ji;this.Qd=new gi(this.me);this.Zc=null;this.ma=[];this.bf=e||500;this.tf=f||2E3;this.Fb=this.uc=null},mi=function(a){return new O("invalid-cordova-configuration",a)};li.prototype.La=function(){return this.ad?this.ad:this.ad=hf().then(function(){if("function"!==typeof M("universalLinks.subscribe",l))throw mi("cordova-universal-links-plugin is not installed");if("undefined"===typeof M("BuildInfo.packageName",l))throw mi("cordova-plugin-buildinfo is not installed");if("function"!==typeof M("cordova.plugins.browsertab.openUrl",l))throw mi("cordova-plugin-browsertab is not installed");if("function"!==typeof M("cordova.InAppBrowser.open",l))throw mi("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};var ni=function(){for(var a=20,b=[];0<a;){b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(_Mathfloor(62*Math.random()))),a--}return b.join("")},oi=function(a){var b=new Eb;b.update(a);return Oa(b.digest())};h=li.prototype;h.Vb=function(a,b){b(new O("operation-not-supported-in-this-environment"));return B()};h.Nb=function(){return D(new O("operation-not-supported-in-this-environment"))};h.ne=function(){return!1};h.ke=function(){return!0};h.Ud=function(){return!0};h.Ob=function(a,b,c){if(this.uc)return D(new O("redirect-operation-pending"));var d=this,e=l.document,f=null,g=null,k=null,n=null;return this.uc=md(B().then(function(){sg(b);return pi(d)}).then(function(){return qi(d,a,b,c)}).then(function(){return new A(function(a,b){g=function(){var b=M("cordova.plugins.browsertab.close",l);a();"function"===typeof b&&b();d.Fb&&"function"===typeof d.Fb.close&&(d.Fb.close(),d.Fb=null);return!1};d.$a(g);k=function(){f||(f=le(d.tf).then(function(){b(new O("redirect-cancelled-by-user"))}))};n=function(){yf()&&k()};e.addEventListener("resume",k,!1);K().toLowerCase().match(/android/)||e.addEventListener("visibilitychange",n,!1)}).f(function(a){return ri(d).then(function(){throw a})})}),function(){k&&e.removeEventListener("resume",k,!1);n&&e.removeEventListener("visibilitychange",n,!1);f&&f.cancel();g&&d.Tb(g);d.uc=null})};var qi=function(a,b,c,d){var e=ni(),f=new P(b,d,null,e,new O("no-auth-event")),g=M("BuildInfo.packageName",l);if("string"!==typeof g)throw new O("invalid-cordova-configuration");var k=M("BuildInfo.displayName",l),n={};if(K().toLowerCase().match(/iphone|ipad|ipod/))n.ibi=g;else if(K().toLowerCase().match(/android/))n.apn=g;else return D(new O("operation-not-supported-in-this-environment"));k&&(n.appDisplayName=k);e=oi(e);n.sessionId=e;var C=xh(a.v,a.j,a.D,b,c,null,d,a.Ea,n);return a.La().then(function(){var b=a.me;return a.Af.i.set(hi,f.C(),b)}).then(function(){var b=M("cordova.plugins.browsertab.isAvailable",l);if("function"!==typeof b)throw new O("invalid-cordova-configuration");var c=null;b(function(b){if(b){c=M("cordova.plugins.browsertab.openUrl",l);if("function"!==typeof c)throw new O("invalid-cordova-configuration");c(C)}else{c=M("cordova.InAppBrowser.open",l);if("function"!==typeof c)throw new O("invalid-cordova-configuration");b=c;var d=K();d=!(!d.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!d.match(/(iPad|iPhone|iPod).*OS 8_\d/i));a.Fb=b(C,d?"_blank":"_system","location=yes")}})})},si=function(a,b){for(var c=0;c<a.ma.length;c++){try{a.ma[c](b)}catch(d){}}},pi=function(a){a.Zc||(a.Zc=a.La().then(function(){return new A(function(b){var c=function(d){b(d);a.Tb(c);return!1};a.$a(c);ti(a)})}));return a.Zc},ri=function(a){var b=null;return ii(a.Qd).then(function(c){b=c;c=a.Qd;return c.i.remove(hi,c.u)}).then(function(){return b})},ti=function(a){var b=M("universalLinks.subscribe",l);if("function"!==typeof b)throw new O("invalid-cordova-configuration");var c=new P("unknown",null,null,null,new O("no-auth-event")),d=!1,e=le(a.bf).then(function(){return ri(a).then(function(){d||si(a,c)})}),f=function(b){d=!0;e&&e.cancel();ri(a).then(function(d){var e=c;if(d&&b&&b.url){var e=null,f;f=b.url;var g=Pe(f),k=Oe(g,"link"),n=Oe(Pe(k),"link"),g=Oe(g,"deep_link_id");f=Oe(Pe(g),"link")||g||n||k||f;-1!=f.indexOf("/__/auth/callback")&&(e=Pe(f),e=tf(Oe(e,"firebaseError")||null),e=(e="object"===babelHelpers.typeof(e)?Pf(e):null)?new P(d.da,d.J,null,null,e):new P(d.da,d.J,f,d.ic()));e=e||c}si(a,e)})},g=l.handleOpenURL;l.handleOpenURL=function(a){0==a.indexOf(M("BuildInfo.packageName",l)+"://")&&f({url:a});if("function"===typeof g)try{g(a)}catch(n){console.error(n)}};b(null,f)};li.prototype.$a=function(a){this.ma.push(a);pi(this).f(function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new P("unknown",null,null,null,new O("no-auth-event")),a(b))})};li.prototype.Tb=function(a){La(this.ma,function(b){return b==a})};var ui=function(a){this.u=a;this.i=di()},vi={name:"pendingRedirect",M:!1},wi=function(a){return a.i.set(vi,"pending",a.u)},xi=function(a){return a.i.remove(vi,a.u)},yi=function(a){return a.i.get(vi,a.u).then(function(a){return"pending"==a})},T=function(a,b,c){this.v=a;this.j=b;this.D=c;this.Xb=[];this.ib=!1;this.Mc=_q(this.Wc,this);this.Ra=new zi(this);this.ld=new Ai(this);this.Kb=new ui(this.j+":"+this.D);this.Aa={};this.Aa.unknown=this.Ra;this.Aa.signInViaRedirect=this.Ra;this.Aa.linkViaRedirect=this.Ra;this.Aa.reauthViaRedirect=this.Ra;this.Aa.signInViaPopup=this.ld;this.Aa.linkViaPopup=this.ld;this.Aa.reauthViaPopup=this.ld;this.K=Bi(this.v,this.j,this.D)},Bi=function(a,b,c){var d=firebase.SDK_VERSION||null;return gf()?new li(a,b,c,d):new th(a,b,c,d)};T.prototype.reset=function(){this.ib=!1;this.K.Tb(this.Mc);this.K=Bi(this.v,this.j,this.D)};T.prototype.Gb=function(){var a=this;this.ib||(this.ib=!0,this.K.$a(this.Mc));var b=this.K;return this.K.La().f(function(c){a.K==b&&a.reset();throw c})};var Ei=function(a){a.K.ke()&&a.Gb().f(function(b){var c=new P("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Ci(b)&&a.Wc(c)});a.K.Ud()||Di(a.Ra)};T.prototype.subscribe=function(a){Ia(this.Xb,a)||this.Xb.push(a);if(!this.ib){var b=this;yi(this.Kb).then(function(a){a?xi(b.Kb).then(function(){b.Gb().f(function(a){var c=new P("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Ci(a)&&b.Wc(c)})}):Ei(b)}).f(function(){Ei(b)})}};T.prototype.unsubscribe=function(a){La(this.Xb,function(b){return b==a})};T.prototype.Wc=function(a){if(!a)throw new O("invalid-auth-event");for(var b=!1,c=0,d;c<this.Xb.length;c++){d=this.Xb[c];if(d.Fd(a.da,a.J)){(b=this.Aa[a.da])&&b.ce(a,d);b=!0;break}}Di(this.Ra);return b};var Fi=new xf(2E3,1E4),Gi=new xf(3E4,6E4);T.prototype.getRedirectResult=function(){return this.Ra.getRedirectResult()};T.prototype.Nb=function(a,b,c,d,e){var f=this;return this.K.Nb(a,b,c,function(){f.ib||(f.ib=!0,f.K.$a(f.Mc))},function(){f.reset()},d,e)};var Ci=function(a){return a&&"auth/cordova-not-ready"==a.code?!0:!1};T.prototype.Ob=function(a,b,c){var d=this,e;return wi(this.Kb).then(function(){return d.K.Ob(a,b,c).f(function(a){if(Ci(a))throw new O("operation-not-supported-in-this-environment");e=a;return xi(d.Kb).then(function(){throw e})}).then(function(){return d.K.ne()?new A(function(){}):xi(d.Kb).then(function(){return d.getRedirectResult()}).then(function(){}).f(function(){})})})};T.prototype.Vb=function(a,b,c,d){return this.K.Vb(c,function(c){a.Va(b,null,c,d)},Fi.get())};var Hi={},Ii=function(a,b,c){var d=b+":"+c;Hi[d]||(Hi[d]=new T(a,b,c));return Hi[d]},zi=function(a){this.i=a;this.qb=null;this.Rb=[];this.Qb=[];this.ob=null;this.od=!1};zi.prototype.reset=function(){this.qb=null;this.ob&&(this.ob.cancel(),this.ob=null)};zi.prototype.ce=function(a,b){if(!a)return D(new O("invalid-auth-event"));this.reset();this.od=!0;var c=a.da,d=a.J,e=a.getError()&&"auth/web-storage-unsupported"==a.getError().code,f=a.getError()&&"auth/operation-not-supported-in-this-environment"==a.getError().code;"unknown"!=c||e||f?a=a.P?this.md(a,b):b.zb(c,d)?this.nd(a,b):D(new O("invalid-auth-event")):(Ji(this,!1,null,null),a=B());return a};var Di=function(a){a.od||(a.od=!0,Ji(a,!1,null,null))};zi.prototype.md=function(a){Ji(this,!0,null,a.getError());return B()};zi.prototype.nd=function(a,b){var c=this;b=b.zb(a.da,a.J);var d=a.tb,e=a.ic(),f=!!a.da.match(/Redirect$/);return b(d,e).then(function(a){Ji(c,f,a,null)}).f(function(a){Ji(c,f,null,a)})};var Ki=function(a,b){a.qb=function(){return D(b)};if(a.Qb.length)for(var c=0;c<a.Qb.length;c++){a.Qb[c](b)}},Li=function(a,b){a.qb=function(){return B(b)};if(a.Rb.length)for(var c=0;c<a.Rb.length;c++){a.Rb[c](b)}},Ji=function(a,b,c,d){b?d?Ki(a,d):Li(a,c):Li(a,{user:null});a.Rb=[];a.Qb=[]};zi.prototype.getRedirectResult=function(){var a=this;return new A(function(b,c){a.qb?a.qb().then(b,c):(a.Rb.push(b),a.Qb.push(c),Mi(a))})};var Mi=function(a){var b=new O("timeout");a.ob&&a.ob.cancel();a.ob=le(Gi.get()).then(function(){a.qb||Ji(a,!0,null,b)})},Ai=function(a){this.i=a};Ai.prototype.ce=function(a,b){if(!a)return D(new O("invalid-auth-event"));var c=a.da,d=a.J;return a.P?this.md(a,b):b.zb(c,d)?this.nd(a,b):D(new O("invalid-auth-event"))};Ai.prototype.md=function(a,b){b.Va(a.da,null,a.getError(),a.J);return B()};Ai.prototype.nd=function(a,b){var c=a.J,d=a.da,e=b.zb(d,c),f=a.tb;a=a.ic();return e(f,a).then(function(a){b.Va(d,a,null,c)}).f(function(a){b.Va(d,null,a,c)})};var Ni=function(a){this.g=a;this.Ba=this.X=null;this.Ha=0};Ni.prototype.C=function(){return{apiKey:this.g.j,refreshToken:this.X,accessToken:this.Ba,expirationTime:this.Ha}};var Pi=function(a,b){var c=b.idToken,d=b.refreshToken;b=Oi(b.expiresIn);a.Ba=c;a.Ha=b;a.X=d},Oi=function(a){return la()+1E3*parseInt(a,10)},Qi=function(a,b){return Eg(a.g,b).then(function(b){a.Ba=b.access_token;a.Ha=Oi(b.expires_in);a.X=b.refresh_token;return{accessToken:a.Ba,expirationTime:a.Ha,refreshToken:a.X}}).f(function(b){"auth/user-token-expired"==b.code&&(a.X=null);throw b})};Ni.prototype.getToken=function(a){a=!!a;return this.Ba&&!this.X?D(new O("user-token-expired")):a||!this.Ba||la()>this.Ha-3E4?this.X?Qi(this,{grant_type:"refresh_token",refresh_token:this.X}):B(null):B({accessToken:this.Ba,expirationTime:this.Ha,refreshToken:this.X})};var Ri=function(a,b,c,d,e){Ff(this,{uid:a,displayName:d||null,photoURL:e||null,email:c||null,providerId:b})},Si=function(a,b){Ib.call(this,a);for(var c in b){this[c]=b[c]}};r(Si,Ib);var U=function(a,b,c){this.ba=[];this.j=a.apiKey;this.D=a.appName;this.v=a.authDomain||null;a=firebase.SDK_VERSION?mf(firebase.SDK_VERSION):null;this.g=new S(this.j,null,a);this.ia=new Ni(this.g);Ti(this,b.idToken);Pi(this.ia,b);N(this,"refreshToken",this.ia.X);Ui(this,c||{});he.call(this);this.vc=!1;this.v&&pf()&&(this.m=Ii(this.v,this.j,this.D));this.Ac=[];this.ka=null;this.mb=Vi(this);this.vb=_q(this.Xc,this)};r(U,he);U.prototype.Xc=function(){this.mb.kb&&(this.mb.stop(),this.mb.start())};var Vi=function(a){return new Th(function(){return a.getToken(!0)},function(a){return a&&"auth/network-request-failed"==a.code?!0:!1},function(){var b=a.ia.Ha-la()-3E5;return 0<b?b:0},3E4,96E4,!1)},Wi=function(a){a.Kd||a.mb.kb||(a.mb.start(),dc(a,"tokenChanged",a.vb),Vb(a,"tokenChanged",a.vb))},Xi=function(a){dc(a,"tokenChanged",a.vb);a.mb.stop()},Ti=function(a,b){a.Yd=b;N(a,"_lat",b)},Yi=function(a,b){La(a.Ac,function(a){return a==b})},Zi=function(a){for(var b=[],c=0;c<a.Ac.length;c++){b.push(a.Ac[c](a))}return jd(b).then(function(){return a})},$i=function(a){a.m&&!a.vc&&(a.vc=!0,a.m.subscribe(a))},Ui=function(a,b){Ff(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,identifierNumber:b.identifierNumber||null,isAnonymous:b.isAnonymous||!1,providerData:[]})};N(U.prototype,"providerId","firebase");var aj=function(){},bj=function(a){return B().then(function(){if(a.Kd)throw new O("app-deleted")})},cj=function(a){return Ea(a.providerData,function(a){return a.providerId})},ej=function(a,b){b&&(dj(a,b.providerId),a.providerData.push(b))},dj=function(a,b){La(a.providerData,function(a){return a.providerId==b})},fj=function(a,b,c){("uid"!=b||c)&&a.hasOwnProperty(b)&&N(a,b,c)};U.prototype.copy=function(a){var b=this;b!=a&&(Ff(this,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,identifierNumber:a.identifierNumber,isAnonymous:a.isAnonymous,providerData:[]}),w(a.providerData,function(a){ej(b,a)}),this.ia=a.ia,N(this,"refreshToken",this.ia.X))};U.prototype.reload=function(){var a=this;return this.c(bj(this).then(function(){return gj(a).then(function(){return Zi(a)}).then(aj)}))};var gj=function(a){return a.getToken().then(function(b){var c=a.isAnonymous;return hj(a,b).then(function(){c||fj(a,"isAnonymous",!1);return b})})};U.prototype.getToken=function(a){var b=this;return this.c(bj(this).then(function(){return b.ia.getToken(a)}).then(function(a){if(!a)throw new O("internal-error");a.accessToken!=b.Yd&&(Ti(b,a.accessToken),b.Na());fj(b,"refreshToken",a.refreshToken);return a.accessToken}))};var ij=function(a,b){b.idToken&&a.Yd!=b.idToken&&(Pi(a.ia,b),a.Na(),Ti(a,b.idToken),fj(a,"refreshToken",a.ia.X))};U.prototype.Na=function(){this.dispatchEvent(new Si("tokenChanged"))};var hj=function(a,b){return R(a.g,gh,{idToken:b}).then(_q(a.qf,a))};U.prototype.qf=function(a){a=a.users;if(!a||!a.length)throw new O("internal-error");a=a[0];Ui(this,{uid:a.localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,identifierNumber:a.identifierNumber});for(var b=jj(a),c=0;c<b.length;c++){ej(this,b[c])}fj(this,"isAnonymous",!(this.email&&a.passwordHash)&&!(this.providerData&&this.providerData.length))};var jj=function(a){return(a=a.providerUserInfo)&&a.length?Ea(a,function(a){return new Ri(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl)}):[]},lj=function(a,b){var c=null;return a.c(b.ed(a.g,a.uid).then(function(b){ij(a,b);c=kj(a,b,"reauthenticate");a.ka=null;return a.reload()}).then(function(){return c}),!0)};U.prototype.reauthenticate=function(a){Bf("firebase.User.prototype.reauthenticate is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead.");return this.reauthenticateWithCredential(a)};U.prototype.reauthenticateWithCredential=function(a){return lj(this,a).then(function(){})};var mj=function(a,b){return gj(a).then(function(){if(Ia(cj(a),b))return Zi(a).then(function(){throw new O("provider-already-linked")})})},oj=function(a,b){var c=null;return a.c(mj(a,b.providerId).then(function(){return a.getToken()}).then(function(c){return b.cd(a.g,c)}).then(function(b){c=kj(a,b,"link");return nj(a,b)}).then(function(){return c}))};U.prototype.link=function(a){Bf("firebase.User.prototype.link is deprecated. Please use firebase.User.prototype.linkWithCredential instead.");return this.linkWithCredential(a)};U.prototype.linkWithCredential=function(a){return oj(this,a).then(function(a){return a.user})};var kj=function(a,b,c){var d=rg(b);b=ai(b);return Gf({user:a,credential:d,additionalUserInfo:b,operationType:c})},nj=function(a,b){ij(a,b);return a.reload().then(function(){return a})};h=U.prototype;h.updateEmail=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.g.updateEmail(c,a)}).then(function(a){ij(b,a);return b.reload()}))};h.updatePassword=function(a){var b=this;return this.c(this.getToken().then(function(c){return b.g.updatePassword(c,a)}).then(function(a){ij(b,a);return b.reload()}))};h.updateProfile=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return bj(this);var b=this;return this.c(this.getToken().then(function(c){return b.g.updateProfile(c,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){ij(b,a);fj(b,"displayName",a.displayName||null);fj(b,"photoURL",a.photoUrl||null);return Zi(b)}).then(aj))};h.unlink=function(a){var b=this;return this.c(gj(this).then(function(c){return Ia(cj(b),a)?Vg(b.g,c,[a]).then(function(a){var c={};w(a.providerUserInfo||[],function(a){c[a.providerId]=!0});w(cj(b),function(a){c[a]||dj(b,a)});return Zi(b)}):Zi(b).then(function(){throw new O("no-such-provider")})}))};h["delete"]=function(){var a=this;return this.c(this.getToken().then(function(b){return R(a.g,fh,{idToken:b})}).then(function(){a.dispatchEvent(new Si("userDeleted"))})).then(function(){for(var b=0;b<a.ba.length;b++){a.ba[b].cancel("app-deleted")}a.ba=[];a.Kd=!0;Xi(a);N(a,"refreshToken",null);a.m&&a.m.unsubscribe(a)})};h.Fd=function(a,b){return"linkViaPopup"==a&&(this.ca||null)==b&&this.aa||"reauthViaPopup"==a&&(this.ca||null)==b&&this.aa||"linkViaRedirect"==a&&(this.za||null)==b||"reauthViaRedirect"==a&&(this.za||null)==b?!0:!1};h.Va=function(a,b,c,d){"linkViaPopup"!=a&&"reauthViaPopup"!=a||d!=(this.ca||null)||(c&&this.Pa?this.Pa(c):b&&!c&&this.aa&&this.aa(b),this.F&&(this.F.cancel(),this.F=null),delete this.aa,delete this.Pa)};h.zb=function(a,b){return"linkViaPopup"==a&&b==(this.ca||null)?_q(this.Nd,this):"reauthViaPopup"==a&&b==(this.ca||null)?_q(this.Od,this):"linkViaRedirect"==a&&(this.za||null)==b?_q(this.Nd,this):"reauthViaRedirect"==a&&(this.za||null)==b?_q(this.Od,this):null};h.hc=function(){return of(this.uid+":::")};var qj=function(a,b){return pj(a,"linkViaPopup",b,function(){return mj(a,b.providerId).then(function(){return Zi(a)})},!1)};U.prototype.linkWithPopup=function(a){return qj(this,a).then(function(a){return a?Gf({user:a.user,credential:a.credential,operationType:a.operationType}):a})};var rj=function(a,b){return pj(a,"reauthViaPopup",b,function(){return B()},!0)};U.prototype.reauthenticateWithPopup=function(a){return rj(this,a).then(function(a){return a?Gf({user:a.user,credential:a.credential,operationType:a.operationType}):a})};var pj=function(a,b,c,d,e){if(!pf())return D(new O("operation-not-supported-in-this-environment"));if(a.ka&&!e)return D(a.ka);var f=Nf(c.providerId),g=a.hc(),k=null;(!qf()||kf())&&a.v&&c.isOAuthProvider&&(k=xh(a.v,a.j,a.D,b,c,null,g,firebase.SDK_VERSION||null));var n=cf(k,f&&f.Mb,f&&f.Lb);d=d().then(function(){sj(a);if(!e)return a.getToken().then(function(){})}).then(function(){return a.m.Nb(n,b,c,g,!!k)}).then(function(){return new A(function(c,d){a.Va(b,null,new O("cancelled-popup-request"),a.ca||null);a.aa=c;a.Pa=d;a.ca=g;a.F=a.m.Vb(a,b,n,g)})}).then(function(a){n&&bf(n);return a}).f(function(a){n&&bf(n);throw a});return a.c(d,e)};U.prototype.linkWithRedirect=function(a){var b=this;return tj(this,"linkViaRedirect",a,function(){return mj(b,a.providerId)},!1)};U.prototype.reauthenticateWithRedirect=function(a){return tj(this,"reauthViaRedirect",a,function(){return B()},!0)};var tj=function(a,b,c,d,e){if(!pf())return D(new O("operation-not-supported-in-this-environment"));if(a.ka&&!e)return D(a.ka);var f=null,g=a.hc();d=d().then(function(){sj(a);if(!e)return a.getToken().then(function(){})}).then(function(){a.za=g;return Zi(a)}).then(function(b){a.Sa&&(b=a.Sa,b=b.i.set(uj,a.C(),b.u));return b}).then(function(){return a.m.Ob(b,c,g)}).f(function(b){f=b;if(a.Sa)return vj(a.Sa);throw f}).then(function(){if(f)throw f});return a.c(d,e)},sj=function(a){if(!a.m||!a.vc){if(a.m&&!a.vc)throw new O("internal-error");throw new O("auth-domain-config-required")}};U.prototype.Nd=function(a,b){var c=this;this.F&&(this.F.cancel(),this.F=null);var d=null,e=this.getToken().then(function(d){return Xf(c.g,{requestUri:a,sessionId:b,idToken:d})}).then(function(a){d=kj(c,a,"link");return nj(c,a)}).then(function(){return d});return this.c(e)};U.prototype.Od=function(a,b){var c=this;this.F&&(this.F.cancel(),this.F=null);var d=null,e=B().then(function(){return Tf(Yf(c.g,{requestUri:a,sessionId:b}),c.uid)}).then(function(a){d=kj(c,a,"reauthenticate");ij(c,a);c.ka=null;return c.reload()}).then(function(){return d});return this.c(e,!0)};U.prototype.sendEmailVerification=function(){var a=this;return this.c(this.getToken().then(function(b){return a.g.sendEmailVerification(b)}).then(function(b){if(a.email!=b)return a.reload()}).then(function(){}))};U.prototype.c=function(a,b){var c=this,d=wj(this,a,b);this.ba.push(d);md(d,function(){Ka(c.ba,d)});return d};var wj=function(a,b,c){return a.ka&&!c?(b.cancel(),D(a.ka)):b.f(function(b){b&&("auth/user-disabled"==b.code||"auth/user-token-expired"==b.code)&&(a.ka||a.dispatchEvent(new Si("userInvalidated")),a.ka=b);throw b})};U.prototype.toJSON=function(){return this.C()};U.prototype.C=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,identifierNumber:this.identifierNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.j,appName:this.D,authDomain:this.v,stsTokenManager:this.ia.C(),redirectEventId:this.za||null};w(this.providerData,function(b){a.providerData.push(Hf(b))});return a};var xj=function(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName},c={};if(a.stsTokenManager&&a.stsTokenManager.accessToken&&a.stsTokenManager.expirationTime)c.idToken=a.stsTokenManager.accessToken,c.refreshToken=a.stsTokenManager.refreshToken||null,c.expiresIn=(a.stsTokenManager.expirationTime-la())/1E3;else return null;var d=new U(b,c,a);a.providerData&&w(a.providerData,function(a){a&&ej(d,Gf(a))});a.redirectEventId&&(d.za=a.redirectEventId);return d},yj=function(a,b,c){var d=new U(a,b);c&&(d.Sa=c);return d.reload().then(function(){return d})},zj=function(a){this.u=a;this.i=di()},uj={name:"redirectUser",M:!1},vj=function(a){return a.i.remove(uj,a.u)},Aj=function(a,b){return a.i.get(uj,a.u).then(function(a){a&&b&&(a.authDomain=b);return xj(a||{})})},Bj=function(a){this.u=a;this.i=di()},Cj={name:"authUser",M:!0},Dj=function(a,b){return a.i.set(Cj,b.C(),a.u)},Ej=function(a){return a.i.remove(Cj,a.u)},Fj=function(a,b){return a.i.get(Cj,a.u).then(function(a){a&&b&&(a.authDomain=b);return xj(a||{})})},W=function(a){this.Fa=!1;N(this,"app",a);if(V(this).options&&V(this).options.apiKey)a=firebase.SDK_VERSION?mf(firebase.SDK_VERSION):null,this.g=new S(V(this).options&&V(this).options.apiKey,null,a);else throw new O("invalid-api-key");this.ba=[];this.Ca=[];this.ub=[];this.mf=firebase.INTERNAL.createSubscribe(_q(this.Ze,this));this.Ic=void 0;firebase.INTERNAL.createSubscribe(_q(this.af,this));Gj(this,null);this.ta=new Bj(V(this).options.apiKey+":"+V(this).name);this.pb=new zj(V(this).options.apiKey+":"+V(this).name);this.cc=this.c(Hj(this));this.qa=this.c(Ij(this));this.bd=!1;this.Vc=_q(this.Gf,this);this.qe=_q(this.gb,this);this.vb=_q(this.Xc,this);this.oe=_q(this.Ue,this);this.pe=_q(this.Ve,this);Jj(this);this.INTERNAL={};this.INTERNAL["delete"]=_q(this["delete"],this);this.Ia=0};W.prototype.toJSON=function(){return{apiKey:V(this).options.apiKey,authDomain:V(this).options.authDomain,appName:V(this).name,currentUser:X(this)&&X(this).C()}};var Kj=function(a){return a.Ie||D(new O("auth-domain-config-required"))},Jj=function(a){var b=V(a).options.authDomain,c=V(a).options.apiKey;b&&pf()&&(a.Ie=a.cc.then(function(){if(!a.Fa)return a.m=Ii(b,c,V(a).name),a.m.subscribe(a),X(a)&&$i(X(a)),a.Sb&&($i(a.Sb),a.Sb=null),a.m}))};h=W.prototype;h.Fd=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.ca==b&&!!this.aa;default:return!1;}};h.Va=function(a,b,c,d){"signInViaPopup"==a&&this.ca==d&&(c&&this.Pa?this.Pa(c):b&&!c&&this.aa&&this.aa(b),this.F&&(this.F.cancel(),this.F=null),delete this.aa,delete this.Pa)};h.zb=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.ca==b&&this.aa?_q(this.Ke,this):null};h.Ke=function(a,b){var c=this;a={requestUri:a,sessionId:b};this.F&&(this.F.cancel(),this.F=null);var d=null,e=null,f=Vf(c.g,a).then(function(a){d=rg(a);e=ai(a);return a});a=c.cc.then(function(){return f}).then(function(a){return Lj(c,a)}).then(function(){return Gf({user:X(c),credential:d,additionalUserInfo:e,operationType:"signIn"})});return this.c(a)};h.hc=function(){return of()};var Mj=function(a,b){if(!pf())return D(new O("operation-not-supported-in-this-environment"));var c=Nf(b.providerId),d=a.hc(),e=null;(!qf()||kf())&&V(a).options.authDomain&&b.isOAuthProvider&&(e=xh(V(a).options.authDomain,V(a).options.apiKey,V(a).name,"signInViaPopup",b,null,d,firebase.SDK_VERSION||null));var f=cf(e,c&&c.Mb,c&&c.Lb),c=Kj(a).then(function(a){return a.Nb(f,"signInViaPopup",b,d,!!e)}).then(function(){return new A(function(b,c){a.Va("signInViaPopup",null,new O("cancelled-popup-request"),a.ca);a.aa=b;a.Pa=c;a.ca=d;a.F=a.m.Vb(a,"signInViaPopup",f,d)})}).then(function(a){f&&bf(f);return a}).f(function(a){f&&bf(f);throw a});return a.c(c)};W.prototype.signInWithPopup=function(a){return Mj(this,a).then(function(a){return a?Gf({user:a.user,credential:a.credential,operationType:a.operationType}):a})};W.prototype.getRedirectResult=function(){return Nj(this).then(function(a){return a?Gf({user:a.user,credential:a.credential,operationType:a.operationType}):a})};W.prototype.signInWithRedirect=function(a){if(!pf())return D(new O("operation-not-supported-in-this-environment"));var b=this,c=Kj(this).then(function(){return b.m.Ob("signInViaRedirect",a)});return this.c(c)};var Nj=function(a){if(!pf())return D(new O("operation-not-supported-in-this-environment"));var b=Kj(a).then(function(){return a.m.getRedirectResult()});return a.c(b)},Lj=function(a,b){var c={apiKey:V(a).options.apiKey,authDomain:V(a).options.authDomain,appName:V(a).name};return a.cc.then(function(){return yj(c,b,a.pb)}).then(function(b){if(X(a)&&b.uid==X(a).uid)return X(a).copy(b),a.gb(b);Gj(a,b);$i(b);return a.gb(b)}).then(function(){a.Na()})},Gj=function(a,b){X(a)&&(Yi(X(a),a.qe),dc(X(a),"tokenChanged",a.vb),dc(X(a),"userDeleted",a.oe),dc(X(a),"userInvalidated",a.pe),Xi(X(a)));b&&(b.Ac.push(a.qe),Vb(b,"tokenChanged",a.vb),Vb(b,"userDeleted",a.oe),Vb(b,"userInvalidated",a.pe),0<a.Ia&&Wi(b));N(a,"currentUser",b)};W.prototype.signOut=function(){var a=this,b=this.qa.then(function(){if(!X(a))return B();Gj(a,null);return Ej(a.ta).then(function(){a.Na()})});return this.c(b)};var Oj=function(a){var b=Aj(a.pb,V(a).options.authDomain).then(function(b){if(a.Sb=b)b.Sa=a.pb;return vj(a.pb)});return a.c(b)},Hj=function(a){var b=V(a).options.authDomain,c=Oj(a).then(function(){return Fj(a.ta,b)}).then(function(b){return b?(b.Sa=a.pb,a.Sb&&(a.Sb.za||null)==(b.za||null)?b:b.reload().then(function(){return Dj(a.ta,b).then(function(){return b})}).f(function(c){return"auth/network-request-failed"==c.code?b:Ej(a.ta)})):null}).then(function(b){Gj(a,b||null)});return a.c(c)},Ij=function(a){return a.cc.then(function(){return a.getRedirectResult()}).f(function(){}).then(function(){if(!a.Fa)return a.Vc()}).f(function(){}).then(function(){if(!a.Fa){a.bd=!0;var b=a.ta;b.i.addListener(Cj,b.u,a.Vc)}})};h=W.prototype;h.Gf=function(){var a=this;return Fj(this.ta,V(this).options.authDomain).then(function(b){if(!a.Fa){var c;if(c=X(a)&&b){c=X(a).uid;var d=b.uid;c=void 0===c||null===c||""===c||void 0===d||null===d||""===d?!1:c==d}if(c)return X(a).copy(b),X(a).getToken();if(X(a)||b)Gj(a,b),b&&($i(b),b.Sa=a.pb),a.m&&a.m.subscribe(a),a.Na()}})};h.gb=function(a){return Dj(this.ta,a)};h.Xc=function(){this.Na();this.gb(X(this))};h.Ue=function(){this.signOut()};h.Ve=function(){this.signOut()};var Pj=function(a,b){var c=null,d=null;return a.c(b.then(function(b){c=rg(b);d=ai(b);return Lj(a,b)}).then(function(){return Gf({user:X(a),credential:c,additionalUserInfo:d,operationType:"signIn"})}))};h=W.prototype;h.Ze=function(a){var b=this;this.addAuthTokenListener(function(){a.next(X(b))})};h.af=function(a){var b=this;Qj(this,function(){a.next(X(b))})};h.onAuthStateChanged=function(a,b,c){var d=this;this.bd&&firebase.Promise.resolve().then(function(){p(a)?a(X(d)):p(a.next)&&a.next(X(d))});return this.mf(a,b,c)};h.getToken=function(a){var b=this,c=this.qa.then(function(){return X(b)?X(b).getToken(a).then(function(a){return{accessToken:a}}):null});return this.c(c)};h.signInWithCustomToken=function(a){var b=this;return this.qa.then(function(){return Pj(b,R(b.g,hh,{token:a}))}).then(function(a){a=a.user;fj(a,"isAnonymous",!1);return b.gb(a)}).then(function(){return X(b)})};h.signInWithEmailAndPassword=function(a,b){var c=this;return this.qa.then(function(){return Pj(c,R(c.g,ig,{email:a,password:b}))}).then(function(a){return a.user})};h.createUserWithEmailAndPassword=function(a,b){var c=this;return this.qa.then(function(){return Pj(c,R(c.g,eh,{email:a,password:b}))}).then(function(a){return a.user})};h.signInWithCredential=function(a){return Rj(this,a).then(function(a){return a.user})};var Rj=function(a,b){return a.qa.then(function(){return Pj(a,b.Ab(a.g))})};W.prototype.signInAnonymously=function(){var a=X(this),b=this;return a&&a.isAnonymous?B(a):this.qa.then(function(){return Pj(b,b.g.signInAnonymously())}).then(function(a){a=a.user;fj(a,"isAnonymous",!0);return b.gb(a)}).then(function(){return X(b)})};var V=function(a){return a.app},X=function(a){return a.currentUser};W.prototype.getUid=function(){return X(this)&&X(this).uid||null};var Sj=function(a){return X(a)&&X(a)._lat||null};h=W.prototype;h.Na=function(){if(this.bd){for(var a=0;a<this.Ca.length;a++){if(this.Ca[a])this.Ca[a](Sj(this))}if(this.Ic!==this.getUid()&&this.ub.length)for(this.Ic=this.getUid(),a=0;a<this.ub.length;a++){if(this.ub[a])this.ub[a](Sj(this))}}};h.Ae=function(a){this.addAuthTokenListener(a);this.Ia++;0<this.Ia&&X(this)&&Wi(X(this))};h.uf=function(a){var b=this;w(this.Ca,function(c){c==a&&b.Ia--});0>this.Ia&&(this.Ia=0);0==this.Ia&&X(this)&&Xi(X(this));this.removeAuthTokenListener(a)};h.addAuthTokenListener=function(a){var b=this;this.Ca.push(a);this.c(this.qa.then(function(){b.Fa||Ia(b.Ca,a)&&a(Sj(b))}))};h.removeAuthTokenListener=function(a){La(this.Ca,function(b){return b==a})};var Qj=function(a,b){a.ub.push(b);a.c(a.qa.then(function(){!a.Fa&&Ia(a.ub,b)&&a.Ic!==a.getUid()&&(a.Ic=a.getUid(),b(Sj(a)))}))};h=W.prototype;h["delete"]=function(){this.Fa=!0;for(var a=0;a<this.ba.length;a++){this.ba[a].cancel("app-deleted")}this.ba=[];this.ta&&(a=this.ta,a.i.removeListener(Cj,a.u,this.Vc));this.m&&this.m.unsubscribe(this);return firebase.Promise.resolve()};h.c=function(a){var b=this;this.ba.push(a);md(a,function(){Ka(b.ba,a)});return a};h.fetchProvidersForEmail=function(a){return this.c(Jg(this.g,a))};h.verifyPasswordResetCode=function(a){return this.checkActionCode(a).then(function(a){return a.data.email})};h.confirmPasswordReset=function(a,b){return this.c(this.g.confirmPasswordReset(a,b).then(function(){}))};h.checkActionCode=function(a){return this.c(this.g.checkActionCode(a).then(function(a){return new Sh(a)}))};h.applyActionCode=function(a){return this.c(this.g.applyActionCode(a).then(function(){}))};h.sendPasswordResetEmail=function(a){return this.c(this.g.sendPasswordResetEmail(a).then(function(){}))};var Tj="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),Y=function(a,b){return{name:a||"",ja:"a valid string",optional:!!b,la:m}},Z=function(a){return{name:a||"",ja:"a valid object",optional:!1,la:ha}},Uj=function(a,b){return{name:a||"",ja:"a function",optional:!!b,la:p}},Vj=function(){return{name:"",ja:"null",optional:!1,la:da}},Wj=function(){return{name:"credential",ja:"a valid credential",optional:!1,la:function(a){return a?!!a.Ab:!1}}},Xj=function(){return{name:"authProvider",ja:"a valid Auth provider",optional:!1,la:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}},Yj=function(a,b,c,d){return{name:c||"",ja:a.ja+" or "+b.ja,optional:!!d,la:function(c){return a.la(c)||b.la(c)}}},ak=function(a,b){for(var c in b){var d=b[c].name;a[d]=Zj(d,a[c],b[c].a)}},bk=function(a,b,c,d){a[b]=Zj(b,c,d)},Zj=function(a,b,c){if(!c)return b;var d=ck(a);a=function(){var a=Array.prototype.slice.call(arguments),e;a:{e=Array.prototype.slice.call(a);var k=0;for(var n=!1,C=0;C<c.length;C++){if(c[C].optional)n=!0;else{if(n)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");k++}}n=c.length;if(e.length<k||n<e.length)e="Expected "+(k==n?1==k?"1 argument":k+" arguments":k+"-"+n+" arguments")+" but got "+e.length+".";else{for(k=0;k<e.length;k++){if(n=c[k].optional&&void 0===e[k],!c[k].la(e[k])&&!n){e=c[k];if(0>k||k>=Tj.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");e=Tj[k]+" argument "+(e.name?"\""+e.name+"\" ":"")+"must be "+e.ja+".";break a}}e=null}}if(e)throw new O("argument-error",d+" failed: "+e);return b.apply(this,a)};for(var e in b){a[e]=b[e]}for(e in b.prototype){a.prototype[e]=b.prototype[e]}return a},ck=function(a){a=a.split(".");return a[a.length-1]};ak(W.prototype,{applyActionCode:{name:"applyActionCode",a:[Y("code")]},checkActionCode:{name:"checkActionCode",a:[Y("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[Y("code"),Y("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[Y("email"),Y("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[Y("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[Yj(Z(),Uj(),"nextOrObserver"),Uj("opt_error",!0),Uj("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[Y("email")]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[Wj()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[Y("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[Y("email"),Y("password")]},signInWithPopup:{name:"signInWithPopup",a:[Xj()]},signInWithRedirect:{name:"signInWithRedirect",a:[Xj()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[Y(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[Y("code")]}});ak(U.prototype,{delete:{name:"delete",a:[]},getToken:{name:"getToken",a:[{name:"opt_forceRefresh",ja:"a boolean",optional:!0,la:function(a){return"boolean"==typeof a}}]},link:{name:"link",a:[Wj()]},linkWithCredential:{name:"linkWithCredential",a:[Wj()]},linkWithPopup:{name:"linkWithPopup",a:[Xj()]},linkWithRedirect:{name:"linkWithRedirect",a:[Xj()]},reauthenticate:{name:"reauthenticate",a:[Wj()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[Wj()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[Xj()]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[Xj()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[]},toJSON:{name:"toJSON",a:[Y(null,!0)]},unlink:{name:"unlink",a:[Y("provider")]},updateEmail:{name:"updateEmail",a:[Y("email")]},updatePassword:{name:"updatePassword",a:[Y("password")]},updateProfile:{name:"updateProfile",a:[Z("profile")]}});ak(A.prototype,{f:{name:"catch"},then:{name:"then"}});bk(kg,"credential",function(a,b){return new hg(a,b)},[Y("email"),Y("password")]);ak($f.prototype,{addScope:{name:"addScope",a:[Y("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Z("customOAuthParameters")]}});bk($f,"credential",ag,[Yj(Y(),Z(),"token")]);ak(bg.prototype,{addScope:{name:"addScope",a:[Y("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Z("customOAuthParameters")]}});bk(bg,"credential",cg,[Yj(Y(),Z(),"token")]);ak(dg.prototype,{addScope:{name:"addScope",a:[Y("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Z("customOAuthParameters")]}});bk(dg,"credential",eg,[Yj(Y(),Yj(Z(),Vj()),"idToken"),Yj(Y(),Vj(),"accessToken",!0)]);ak(fg.prototype,{setCustomParameters:{name:"setCustomParameters",a:[Z("customOAuthParameters")]}});bk(fg,"credential",gg,[Yj(Y(),Z(),"token"),Y("secret",!0)]);ak(O.prototype,{toJSON:{name:"toJSON",a:[Y(null,!0)]}});ak(tg.prototype,{toJSON:{name:"toJSON",a:[Y(null,!0)]}});ak(Rf.prototype,{toJSON:{name:"toJSON",a:[Y(null,!0)]}});(function(){if("undefined"!==typeof firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService){var a={Auth:W,Error:O};bk(a,"EmailAuthProvider",kg,[]);bk(a,"FacebookAuthProvider",$f,[]);bk(a,"GithubAuthProvider",bg,[]);bk(a,"GoogleAuthProvider",dg,[]);bk(a,"TwitterAuthProvider",fg,[]);firebase.INTERNAL.registerService("auth",function(a,c){a=new W(a);c({INTERNAL:{getUid:_q(a.getUid,a),getToken:_q(a.getToken,a),addAuthTokenListener:_q(a.Ae,a),removeAuthTokenListener:_q(a.uf,a)}});return a},a,function(a,c){if("create"===a)try{c.auth()}catch(d){}});firebase.INTERNAL.extendNamespace({User:U})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")})()}).call(this);</script><script>(function(){for(var h,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,n=["Number","MIN_SAFE_INTEGER"],ba=0,ca;ba<n.length-1;ba++){ca=n[ba];ca in l||(l[ca]={});l=l[ca]}var da=n[n.length-1];-9007199254740991!=l[da]&&aa(l,da,{configurable:!0,writable:!0,value:-9007199254740991});var p=this,q=function(a){return void 0!==a},ea=function(a){var b=babelHelpers.typeof(a);if("object"==b){if(a){if(babelHelpers.instanceof(a,Array))return"array";if(babelHelpers.instanceof(a,Object))return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},r=function(a,b){this.code="storage/"+a;this.message="Firebase Storage: "+b;this.serverResponse=null;this.name="FirebaseError"};(function(){var a=Error;function b(){}b.prototype=a.prototype;r.b=a.prototype;r.prototype=new b;r.a=function(b,d){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++){c[f-2]=arguments[f]}return a.prototype[d].apply(b,c)}})();var fa=function(){return new r("unknown","An unknown error occurred, please check the error payload for server response.")},ga=function(){return new r("canceled","User canceled the upload/download.")},ha=function(){return new r("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},ia=function(a,b,c){return new r("invalid-argument","Invalid argument in `"+b+"` at index "+a+": "+c)},ja=function(){return new r("app-deleted","The Firebase app was deleted.")},t=function(a,b){return new r("invalid-format","String does not match format '"+a+"': "+b)},u=function(a){throw new r("internal-error","Internal error: "+a)},v="https://firebasestorage.googleapis.com",ka=function(a){if("undefined"!==typeof firebase)return new firebase.Promise(a);throw Error("Error in Firebase Storage - be sure to load firebase-app.js first.")},la=function(a,b){return-1!==a.indexOf(b)},ma=function(a,b,c){function d(){C||(C=!0,b.apply(null,arguments))}function e(b){m=setTimeout(function(){m=null;a(g,2===y)},b)}function g(a){if(!C)if(a)d.apply(null,arguments);else if(2===y||z)d.apply(null,arguments);else{64>k&&(k*=2);var c;1===y?(y=2,c=0):c=1E3*(k+Math.random());e(c)}}function f(a){Pa||(Pa=!0,C||(null!==m?(a||(y=2),clearTimeout(m),e(0)):a||(y=1)))}var k=1,m=null,z=!1,y=0,C=!1,Pa=!1;e(0);setTimeout(function(){z=!0;f(!0)},c);return f},na=function(a,b){for(var c in a){Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}},oa=function(a){var b={};na(a,function(a,d){b[a]=d});return b},w=function(a,b,c,d){this.l=a;this.b={};this.method=b;this.headers={};this.body=null;this.m=c;this.c=this.a=null;this.f=[200];this.i=[];this.timeout=d;this.g=!0},pa=function(a){var b=encodeURIComponent,c="?";na(a,function(a,e){a=b(a)+"="+b(e);c=c+a+"&"});return c=c.slice(0,-1)},ra=function(a,b,c,d,e,g,f,k,m,z,y){this.F=a;this.D=b;this.A=c;this.u=d;this.B=e.slice();this.s=g.slice();this.m=this.o=this.c=this.b=null;this.g=this.i=!1;this.v=f;this.l=k;this.f=z;this.G=y;this.C=m;var C=this;this.w=ka(function(a,b){C.o=a;C.m=b;qa(C)})},sa=function(a,b,c){this.b=a;this.c=b;this.a=!!c},qa=function(a){function b(a,b){function c(a){d.f(a.loaded,a.lengthComputable?a.total:-1)}b?a(!1,new sa(!1,null,!0)):(b=new ta,b.h.withCredentials=d.G,d.b=b,null!==d.f&&q(b.h.upload)&&b.h.upload.addEventListener("progress",c),ua(b,d.F,d.D,d.u,d.A).then(function(b){null!==d.f&&q(b.h.upload)&&b.h.upload.removeEventListener("progress",c);d.b=null;var e=0===va(b),f=x(b);if(!(e=!e))var e=la([408,429],f),g=la(d.s,f),e=500<=f&&600>f||e||g;e?(b=2===va(b),a(!1,new sa(!1,null,b))):a(!0,new sa(la(d.B,f),b))}))}function c(a,b){var c=d.o;a=d.m;var e=b.c;if(b.b)try{var g=d.v(e,wa(e));q(g)?c(g):c()}catch(z){a(z)}else null!==e?(b=fa(),g=wa(e),b.serverResponse=g,d.l?a(d.l(e,b)):a(b)):(b=b.a?d.g?ja():ga():new r("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),a(b))}var d=a;a.i?c(0,new sa(!1,null,!0)):a.c=ma(b,c,a.C)};ra.prototype.a=function(){return this.w};ra.prototype.cancel=function(a){this.i=!0;this.g=a||!1;null!==this.c&&(0,this.c)(!1);null!==this.b&&this.b.abort()};var xa=function(a,b,c){var d=pa(a.b),d=a.l+d,e=a.headers?oa(a.headers):{};null!==b&&0<b.length&&(e.Authorization="Firebase "+b);e["X-Firebase-Storage-Version"]="webjs/"+("undefined"!==typeof firebase?firebase.SDK_VERSION:"AppManager");return new ra(d,a.method,e,a.body,a.f,a.i,a.m,a.a,a.timeout,a.c,c)},ya=function(a){this.b=firebase.Promise.reject(a)};ya.prototype.a=function(){return this.b};ya.prototype.cancel=function(){};var A=function(a,b){this.bucket=a;this.path=b},za=function(a){var b=encodeURIComponent;return"/b/"+b(a.bucket)+"/o/"+b(a.path)},Ba=function(a){var b;try{b=Aa(a)}catch(c){return new A(a,"")}if(""===b.path)return b;throw new r("invalid-default-bucket","Invalid default bucket '"+a+"'.")},Aa=function(a){for(var b=null,c=[{M:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,H:{bucket:1,path:3},L:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path=a.path.slice(0,-1))}},{M:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,H:{bucket:1,path:3},L:function(a){a.path=decodeURIComponent(a.path)}}],d=0;d<c.length;d++){var e=c[d],g=e.M.exec(a);if(g){b=g[e.H.bucket];(g=g[e.H.path])||(g="");b=new A(b,g);e.L(b);break}}if(null==b)throw new r("invalid-url","Invalid URL '"+a+"'.");return b},Ca=function(){this.a={};this.b=Number.MIN_SAFE_INTEGER},Da=function(a,b){function c(){delete e.a[d]}var d=a.b;a.b++;a.a[d]=b;var e=a;b.a().then(c,c)},Ea=function(a){na(a.a,function(a,c){c&&c.cancel(!0)});a.a={}},B=function(a){return q(a)&&null!==a},Fa=function(a){return"string"===typeof a||babelHelpers.instanceof(a,String)},Ga=function(){return"undefined"!==typeof Blob},Ha=function(a,b,c,d,e){this.a=a;this.g=null;null!==this.a&&(a=this.a.options,B(a)&&(a=a.storageBucket||null,this.g=null==a?null:Ba(a).bucket));this.s=b;this.o=c;this.l=e;this.m=d;this.c=12E4;this.b=6E4;this.i=new Ca;this.f=!1},Ia=function(a){return null!==a.a&&B(a.a.INTERNAL)&&B(a.a.INTERNAL.getToken)?a.a.INTERNAL.getToken().then(function(a){return B(a)?a.accessToken:null},function(){return null}):firebase.Promise.resolve(null)};Ha.prototype.bucket=function(){if(this.f)throw ja();return this.g};var D=function(a,b,c){if(a.f)return new ya(ja());b=a.o(b,c,null===a.a,a.l);Da(a.i,b);return b},Ja=function(a,b){b=b.split("/").filter(function(a){return 0<a.length}).join("/");return 0===a.length?b:a+"/"+b},Ka=function(a){var b=a.lastIndexOf("/",a.length-2);return-1===b?a:a.slice(b+1)},La=function(a,b){return b},E=function(a,b,c,d){this.c=a;this.b=b||a;this.writable=!!c;this.a=d||La},Ma=null,Na=function(){if(Ma)return Ma;var a=[new E("bucket"),new E("generation"),new E("metageneration"),new E("name","fullPath",!0)],b=new E("name");b.a=function(a,b){return!Fa(b)||2>b.length?b:Ka(b)};a.push(b);b=new E("size");b.a=function(a,b){return B(b)?+b:b};a.push(b);a.push(new E("timeCreated"));a.push(new E("updated"));a.push(new E("md5Hash",null,!0));a.push(new E("cacheControl",null,!0));a.push(new E("contentDisposition",null,!0));a.push(new E("contentEncoding",null,!0));a.push(new E("contentLanguage",null,!0));a.push(new E("contentType",null,!0));a.push(new E("metadata","customMetadata",!0));a.push(new E("downloadTokens","downloadURLs",!1,function(a,b){if(!(Fa(b)&&0<b.length))return[];var c=encodeURIComponent;return b.split(",").map(function(b){var d=a.fullPath,d="https://firebasestorage.googleapis.com/v0"+("/b/"+c(a.bucket)+"/o/"+c(d));b=pa({alt:"media",token:b});return d+b})}));return Ma=a},Oa=function(a,b){Object.defineProperty(a,"ref",{get:function get(){return b.s(b,new A(a.bucket,a.fullPath))}})},Qa=function(a,b){for(var c={},d=b.length,e=0,g;e<d;e++){g=b[e];g.writable&&(c[g.c]=a[g.b])}return JSON.stringify(c)},Ra=function(a){if(!a||"object"!==babelHelpers.typeof(a))throw"Expected Metadata object.";for(var b in a){var c=a[b];if("customMetadata"===b){if("object"!==babelHelpers.typeof(c))throw"Expected object for 'customMetadata' mapping."}else if(null!=c&&"object"===babelHelpers.typeof(c))throw"Mapping for '"+b+"' cannot be an object."}},F=function(a,b,c){for(var d=b.length,e=b.length,g=0;g<b.length;g++){if(b[g].b){d=g;break}}if(!(d<=c.length&&c.length<=e))throw d===e?(b=d,d=1===d?"argument":"arguments"):(b="between "+d+" and "+e,d="arguments"),new r("invalid-argument-count","Invalid argument count in `"+a+"`: Expected "+b+" "+d+", received "+c.length+".");for(g=0;g<c.length;g++){try{b[g].a(c[g])}catch(f){if(babelHelpers.instanceof(f,Error))throw ia(g,a,f.message);throw ia(g,a,f)}}},G=function(a,b){var c=this;this.a=function(b){c.b&&!q(b)||a(b)};this.b=!!b},Sa=function(a,b){return function(c){a(c);b(c)}},H=function(a,b){function c(a){if(!("string"===typeof a||babelHelpers.instanceof(a,String)))throw"Expected string."}var d;a?d=Sa(c,a):d=c;return new G(d,b)},Ta=function(){return new G(function(a){if(!(babelHelpers.instanceof(a,Uint8Array)||babelHelpers.instanceof(a,ArrayBuffer)||Ga()&&babelHelpers.instanceof(a,Blob)))throw"Expected Blob or File."})},Ua=function(){return new G(function(a){if(!(("number"===typeof a||babelHelpers.instanceof(a,Number))&&0<=a))throw"Expected a number 0 or greater."})},Va=function(a,b){return new G(function(b){if(!(null===b||B(b)&&babelHelpers.instanceof(b,Object)))throw"Expected an Object.";B(a)&&a(b)},b)},I=function(){return new G(function(a){if(null!==a&&"function"!=ea(a))throw"Expected a Function."},!0)},J=function(a){return function(){var b=[];Array.prototype.push.apply(b,arguments);firebase.Promise.resolve(!0).then(function(){a.apply(null,b)})}},Wa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Xa=function(a,b){return a<b?-1:a>b?1:0},K;a:{var Ya=p.navigator;if(Ya){var Za=Ya.userAgent;if(Za){K=Za;break a}}K=""}var ab=function(a,b){var c=$a;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)},bb=-1!=K.indexOf("Opera"),cb=-1!=K.indexOf("Trident")||-1!=K.indexOf("MSIE"),db=-1!=K.indexOf("Edge"),eb=-1!=K.indexOf("Gecko")&&!(-1!=K.toLowerCase().indexOf("webkit")&&-1==K.indexOf("Edge"))&&!(-1!=K.indexOf("Trident")||-1!=K.indexOf("MSIE"))&&-1==K.indexOf("Edge"),fb=-1!=K.toLowerCase().indexOf("webkit")&&-1==K.indexOf("Edge"),gb;a:{var hb="",ib=function(){var a=K;if(eb)return /rv\:([^\);]+)(\)|;)/.exec(a);if(db)return /Edge\/([\d\.]+)/.exec(a);if(cb)return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(fb)return /WebKit\/(\S+)/.exec(a);if(bb)return /(?:Version)[ \/]?(\S+)/.exec(a)}();ib&&(hb=ib?ib[1]:"");if(cb){var jb,kb=p.document;jb=kb?kb.documentMode:void 0;if(null!=jb&&jb>parseFloat(hb)){gb=jb+"";break a}}gb=hb}var lb=gb,$a={},mb=function(a){return ab(a,function(){for(var b=0,c=Wa(lb+"").split("."),d=Wa(a+"").split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var f=c[g]||"",k=d[g]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==f[0].length&&0==k[0].length)break;b=Xa(0==f[1].length?0:parseInt(f[1],10),0==k[1].length?0:parseInt(k[1],10))||Xa(0==f[2].length,0==k[2].length)||Xa(f[2],k[2]);f=f[3];k=k[3]}while(0==b)}return 0<=b})},nb=function(){var b=p.BlobBuilder||p.WebKitBlobBuilder;if(q(b)){for(var b=new b,c=0;c<arguments.length;c++){b.append(arguments[c])}return b.getBlob()}b=Array.prototype.slice.call(arguments);c=p.BlobBuilder||p.WebKitBlobBuilder;if(q(c)){for(var c=new c,d=0;d<b.length;d++){c.append(b[d],void 0)}b=c.getBlob(void 0)}else if(q(p.Blob))b=new Blob(b,{});else throw Error("This browser doesn't seem to support creating Blobs");return b},ob=function(a,b,c){q(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,c):a.slice?eb&&!mb("13.0")||fb&&!mb("537.1")?(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):a.slice(b,c):null},L={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},pb=function(a){switch(a){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url].";}},qb=function(a,b){this.data=a;this.a=b||null},ub=function(a,b){switch(a){case"raw":return new qb(rb(b));case"base64":case"base64url":return new qb(sb(a,b));case"data_url":a=new tb(b);var c;if(a.a)c=sb("base64",a.c);else{try{c=decodeURIComponent(a.c)}catch(d){throw t("data_url","Malformed data URL.")}c=rb(c)}return new qb(c,new tb(b).b);}throw fa()},rb=function(a){for(var b=[],c=0,d;c<a.length;c++){d=a.charCodeAt(c);if(127>=d)b.push(d);else if(2047>=d)b.push(192|d>>6,128|63&d);else if(55296==(64512&d)){if(c<a.length-1&&56320==(64512&a.charCodeAt(c+1))){var e=a.charCodeAt(++c),d=65536|(1023&d)<<10|1023&e;b.push(240|d>>18,128|63&d>>12,128|63&d>>6,128|63&d)}else b.push(239,191,189);}else 56320==(64512&d)?b.push(239,191,189):b.push(224|d>>12,128|63&d>>6,128|63&d)}return new Uint8Array(b)},sb=function(a,b){switch(a){case"base64":var c=-1!==b.indexOf("-"),d=-1!==b.indexOf("_");if(c||d)throw t(a,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":c=-1!==b.indexOf("+");d=-1!==b.indexOf("/");if(c||d)throw t(a,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");b=b.replace(/-/g,"+").replace(/_/g,"/");}var e;try{e=atob(b)}catch(g){throw t(a,"Invalid character found")}a=new Uint8Array(e.length);for(b=0;b<e.length;b++){a[b]=e.charCodeAt(b)}return a},tb=function(a){var b=a.match(/^data:([^,]+)?,/);if(null===b)throw t("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");b=b[1]||null;this.a=!1;this.b=null;if(null!=b){var c=b.length-7;this.b=(this.a=0<=c&&b.indexOf(";base64",c)==c)?b.substring(0,b.length-7):b}this.c=a.substring(a.indexOf(",")+1)},M=function(a,b){Ga()&&babelHelpers.instanceof(a,Blob)?(this.j=a,b=a.size,a=a.type):(babelHelpers.instanceof(a,ArrayBuffer)?(b?this.j=new Uint8Array(a):(this.j=new Uint8Array(a.byteLength),this.j.set(new Uint8Array(a))),b=this.j.length):(b?this.j=a:(this.j=new Uint8Array(a.length),this.j.set(a)),b=a.length),a="");this.a=b;this.b=a};M.prototype.type=function(){return this.b};M.prototype.slice=function(a,b){if(Ga()&&babelHelpers.instanceof(this.j,Blob))return a=ob(this.j,a,b),null===a?null:new M(a);a=new Uint8Array(this.j.buffer,a,b-a);return new M(a,!0)};var vb=function(){var b=[];Array.prototype.push.apply(b,arguments);if(Ga())return b=b.map(function(a){return babelHelpers.instanceof(a,M)?a.j:a}),new M(nb.apply(null,b));var b=b.map(function(a){return Fa(a)?ub("raw",a).data:a.j}),c=0;b.forEach(function(a){c+=a.byteLength});var d=new Uint8Array(c),e=0;b.forEach(function(a){for(var b=0;b<a.length;b++){d[e++]=a[b]}});return new M(d,!0)},wb=function(a,b,c){"function"==ea(a)||B(b)||B(c)?(this.b=a,this.error=b||null,this.a=c||null):(this.b=a.next||null,this.error=a.error||null,this.a=a.complete||null)},N=function(a){if(!a)throw fa()},xb=function(a,b){return function(c,d){var e;a:{try{e=JSON.parse(d)}catch(k){e=null;break a}c=babelHelpers.typeof(e);e="object"==c&&null!=e||"function"==c?e:null}if(null===e)e=null;else{c={type:"file"};d=b.length;for(var g=0,f;g<d;g++){f=b[g];c[f.b]=f.a(c,e[f.c])}Oa(c,a);e=c}N(null!==e);return e}},O=function(a){return function(b,c){b=401===x(b)?new r("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===x(b)?new r("quota-exceeded","Quota for bucket '"+a.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===x(b)?new r("unauthorized","User does not have permission to access '"+a.path+"'."):c;b.serverResponse=c.serverResponse;return b}},yb=function(a){var b=O(a);return function(c,d){var e=b(c,d);404===x(c)&&(e=new r("object-not-found","Object '"+a.path+"' does not exist."));e.serverResponse=d.serverResponse;return e}},zb=function(a,b,c){var d=za(b);a=new w(v+"/v0"+d,"GET",xb(a,c),a.c);a.a=yb(b);return a},Ab=function(a,b){var c=za(b);a=new w(v+"/v0"+c,"DELETE",function(){},a.c);a.f=[200,204];a.a=yb(b);return a},Bb=function(a,b,c){c=c?oa(c):{};c.fullPath=a.path;c.size=b.a;c.contentType||(a=b&&b.type()||"application/octet-stream",c.contentType=a);return c},Cb=function(a,b,c,d,e){var g="/b/"+encodeURIComponent(b.bucket)+"/o",f={"X-Goog-Upload-Protocol":"multipart"},k;k="";for(var m=0;2>m;m++){k+=Math.random().toString().slice(2)}f["Content-Type"]="multipart/related; boundary="+k;e=Bb(b,d,e);m=Qa(e,c);d=vb("--"+k+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+m+"\r\n--"+k+"\r\nContent-Type: "+e.contentType+"\r\n\r\n",d,"\r\n--"+k+"--");if(null===d)throw ha();a=new w(v+"/v0"+g,"POST",xb(a,c),a.b);a.b={name:e.fullPath};a.headers=f;a.body=d.j;a.a=O(b);return a},Db=function(a,b,c,d){this.current=a;this.total=b;this.I=!!c;this.metadata=d||null},Eb=function(a,b){var c;try{c=a.h.getResponseHeader("X-Goog-Upload-Status")}catch(d){N(!1)}N(la(b||["active"],c));return c},Fb=function(a,b,c,d,e){var g="/b/"+encodeURIComponent(b.bucket)+"/o",f=Bb(b,d,e);e={name:f.fullPath};g=v+"/v0"+g;d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":d.a,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"};c=Qa(f,c);a=new w(g,"POST",function(a){Eb(a);var b;try{b=a.h.getResponseHeader("X-Goog-Upload-URL")}catch(z){N(!1)}N(Fa(b));return b},a.b);a.b=e;a.headers=d;a.body=c;a.a=O(b);return a},Gb=function(a,b,c,d){a=new w(c,"POST",function(a){var b=Eb(a,["active","final"]),c;try{c=a.h.getResponseHeader("X-Goog-Upload-Size-Received")}catch(k){N(!1)}a=c;isFinite(a)&&(a=a+"");a="string"==typeof a?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;N(!isNaN(a));return new Db(a,d.a,"final"===b)},a.b);a.headers={"X-Goog-Upload-Command":"query"};a.a=O(b);a.g=!1;return a},Hb=function(a,b,c,d,e,g,f,k){var m=new Db(0,0);f?(m.current=f.current,m.total=f.total):(m.current=0,m.total=d.a);if(d.a!==m.total)throw new r("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var z=f=m.total-m.current;0<e&&(z=Math.min(z,e));var y=m.current;e={"X-Goog-Upload-Command":z===f?"upload, finalize":"upload","X-Goog-Upload-Offset":m.current};f=d.slice(y,y+z);if(null===f)throw ha();c=new w(c,"POST",function(a,c){var e=Eb(a,["active","final"]),f=m.current+z,k=d.a,y;"final"===e?y=xb(b,g)(a,c):y=null;return new Db(f,k,"final"===e,y)},b.b);c.headers=e;c.body=f.j;c.c=k||null;c.a=O(a);c.g=!1;return c},Ib={STATE_CHANGED:"state_changed"},P={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},Jb=function(a){switch(a){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":return"error";default:return"error";}},ta=function(){var a=this;this.h=new XMLHttpRequest;this.b=0;this.c=ka(function(b){a.h.addEventListener("abort",function(){a.b=2;b(a)});a.h.addEventListener("error",function(){a.b=1;b(a)});a.h.addEventListener("load",function(){b(a)})});this.a=!1},ua=function(a,b,c,d,e){if(a.a)throw u("cannot .send() more than once");a.a=!0;a.h.open(c,b,!0);B(e)&&na(e,function(b,c){a.h.setRequestHeader(b,c.toString())});B(d)?a.h.send(d):a.h.send();return a.c},va=function(a){if(!a.a)throw u("cannot .getErrorCode() before sending");return a.b},x=function(a){if(!a.a)throw u("cannot .getStatus() before sending");try{return a.h.status}catch(b){return-1}},wa=function(a){if(!a.a)throw u("cannot .getResponseText() before sending");return a.h.responseText};ta.prototype.abort=function(){this.h.abort()};var Kb=function(){},Q=function(a,b,c,d,e,g){this.b=a;this.i=b;this.f=c;this.a=d;this.g=e;this.c=g};h=Q.prototype;h.X=function(){return this.b};h.sa=function(){return this.i};h.pa=function(){return this.f};h.ka=function(){return this.a};h.Y=function(){if(B(this.a)){var a=this.a.downloadURLs;return B(a)&&B(a[0])?a[0]:null}return null};h.ra=function(){return this.g};h.na=function(){return this.c};var T=function(a,b,c,d,e,g){var f=this;this.O=a;this.c=b;this.o=c;this.f=e;this.i=void 0===g?null:g;this.u=d;this.l=0;this.G=this.w=!1;this.B=[];this.U=262144<this.f.a;this.b="running";this.a=this.A=this.g=null;this.m=1;this.s=function(a){f.a=null;f.m=1;"storage/canceled"===a.code?(f.w=!0,R(f)):(f.g=a,S(f,"error"))};this.N=function(a){f.a=null;"storage/canceled"===a.code?R(f):(f.g=a,S(f,"error"))};this.D=this.v=null;this.F=ka(function(a,b){f.v=a;f.D=b;Lb(f)});this.F.then(null,function(){})},Nb=function(a){var b=a.l;return function(c){Mb(a,b+c)}},Lb=function(a){"running"===a.b&&null===a.a&&(a.U?null===a.A?Ob(a):a.w?Pb(a):a.G?Qb(a):Rb(a):Sb(a))},U=function(a,b){Ia(a.c).then(function(c){switch(a.b){case"running":b(c);break;case"canceling":S(a,"canceled");break;case"pausing":S(a,"paused");}})},Ob=function(a){U(a,function(b){var c=Fb(a.c,a.o,a.u,a.f,a.i);a.a=D(a.c,c,b);a.a.a().then(function(b){a.a=null;a.A=b;a.w=!1;R(a)},a.s)})},Pb=function(a){var b=a.A;U(a,function(c){var d=Gb(a.c,a.o,b,a.f);a.a=D(a.c,d,c);a.a.a().then(function(b){a.a=null;Mb(a,b.current);a.w=!1;b.I&&(a.G=!0);R(a)},a.s)})},Rb=function(a){var b=262144*a.m,c=new Db(a.l,a.f.a),d=a.A;U(a,function(e){var g;try{g=Hb(a.o,a.c,d,a.f,b,a.u,c,Nb(a))}catch(f){a.g=f;S(a,"error");return}a.a=D(a.c,g,e);a.a.a().then(function(b){33554432>262144*a.m&&(a.m*=2);a.a=null;Mb(a,b.current);b.I?(a.i=b.metadata,S(a,"success")):R(a)},a.s)})},Qb=function(a){U(a,function(b){var c=zb(a.c,a.o,a.u);a.a=D(a.c,c,b);a.a.a().then(function(b){a.a=null;a.i=b;S(a,"success")},a.N)})},Sb=function(a){U(a,function(b){var c=Cb(a.c,a.o,a.u,a.f,a.i);a.a=D(a.c,c,b);a.a.a().then(function(b){a.a=null;a.i=b;Mb(a,a.f.a);S(a,"success")},a.s)})},Mb=function(a,b){var c=a.l;a.l=b;a.l!==c&&V(a)},S=function(a,b){if(a.b!==b)switch(b){case"canceling":a.b=b;null!==a.a&&a.a.cancel();break;case"pausing":a.b=b;null!==a.a&&a.a.cancel();break;case"running":var c="paused"===a.b;a.b=b;c&&(V(a),Lb(a));break;case"paused":a.b=b;V(a);break;case"canceled":a.g=ga();a.b=b;V(a);break;case"error":a.b=b;V(a);break;case"success":a.b=b,V(a);}},R=function(a){switch(a.b){case"pausing":S(a,"paused");break;case"canceling":S(a,"canceled");break;case"running":Lb(a);}};T.prototype.C=function(){return new Q(this.l,this.f.a,Jb(this.b),this.i,this,this.O)};T.prototype.P=function(a,b,c,d){function e(a){try{f(a);return}catch(C){}try{if(k(a),!(q(a.next)||q(a.error)||q(a.complete)))throw""}catch(C){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function g(a){return function(b,c,d){null!==a&&F("on",a,arguments);var e=new wb(b,c,d);m.B.push(e);Tb(m,e);return function(){var a=m.B,b=a.indexOf(e);-1!==b&&a.splice(b,1)}}}var f=I().a,k=Va(null,!0).a;F("on",[H(function(){if("state_changed"!==a)throw"Expected one of the event types: [state_changed]."}),Va(e,!0),I(),I()],arguments);var m=this,z=[Va(function(a){if(null===a)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";e(a)}),I(),I()];return q(b)||q(c)||q(d)?g(null)(b,c,d):g(z)};T.prototype.then=function(a,b){return this.F.then(void 0===a?null:a,void 0===b?null:b)};T.prototype["catch"]=function(a){return this.then(null,a)};var V=function(a){Ub(a);Array.prototype.slice.call(a.B).forEach(function(b){Tb(a,b)})},Ub=function(a){if(null!==a.v){var b=!0;switch(Jb(a.b)){case"success":J(a.v.bind(null,a.C()))();break;case"canceled":case"error":J(a.D.bind(null,a.g))();break;default:b=!1;}b&&(a.v=null,a.D=null)}},Tb=function(a,b){switch(Jb(a.b)){case"running":case"paused":null!==b.b&&J(b.b.bind(b,a.C()))();break;case"success":null!==b.a&&J(b.a.bind(b))();break;case"canceled":case"error":null!==b.error&&J(b.error.bind(b,a.g))();break;default:null!==b.error&&J(b.error.bind(b,a.g))();}};T.prototype.T=function(){F("resume",[],arguments);var a="paused"===this.b||"pausing"===this.b;a&&S(this,"running");return a};T.prototype.R=function(){F("pause",[],arguments);var a="running"===this.b;a&&S(this,"pausing");return a};T.prototype.cancel=function(){F("cancel",[],arguments);var a="running"===this.b||"pausing"===this.b;a&&S(this,"canceling");return a};var W=function(a,b){this.a=a;this.location=babelHelpers.instanceof(b,A)?b:Aa(b)};W.prototype.toString=function(){F("toString",[],arguments);return"gs://"+this.location.bucket+"/"+this.location.path};var Vb=function(a,b){return new W(a,b)};h=W.prototype;h.J=function(a){F("child",[H()],arguments);var b=Ja(this.location.path,a);return Vb(this.a,new A(this.location.bucket,b))};h.ma=function(){var a=this.location.path;if(0==a.length)a=null;else{var b=a.lastIndexOf("/");a=-1===b?"":a.slice(0,b)}return null===a?null:Vb(this.a,new A(this.location.bucket,a))};h.oa=function(){return Vb(this.a,new A(this.location.bucket,""))};h.W=function(){return this.location.bucket};h.ha=function(){return this.location.path};h.la=function(){return Ka(this.location.path)};h.qa=function(){return this.a.m};h.aa=function(a,b){F("put",[Ta(),new G(Ra,!0)],arguments);X(this,"put");return new T(this,this.a,this.location,Na(),new M(a),b)};h.ba=function(a,b,c){F("putString",[H(),H(pb,!0),new G(Ra,!0)],arguments);X(this,"putString");var d=ub(B(b)?b:"raw",a),e=c?oa(c):{};!B(e.contentType)&&B(d.a)&&(e.contentType=d.a);return new T(this,this.a,this.location,Na(),new M(d.data,!0),e)};h.Z=function(){F("delete",[],arguments);X(this,"delete");var a=this;return Ia(this.a).then(function(b){var c=Ab(a.a,a.location);return D(a.a,c,b).a()})};h.K=function(){F("getMetadata",[],arguments);X(this,"getMetadata");var a=this;return Ia(this.a).then(function(b){var c=zb(a.a,a.location,Na());return D(a.a,c,b).a()})};h.ca=function(a){F("updateMetadata",[new G(Ra,void 0)],arguments);X(this,"updateMetadata");var b=this;return Ia(this.a).then(function(c){var d=b.a,e=b.location,g=a,f=Na(),k=za(e),k=v+"/v0"+k,g=Qa(g,f),d=new w(k,"PATCH",xb(d,f),d.c);d.headers={"Content-Type":"application/json; charset=utf-8"};d.body=g;d.a=yb(e);return D(b.a,d,c).a()})};h.$=function(){F("getDownloadURL",[],arguments);X(this,"getDownloadURL");return this.K().then(function(a){a=a.downloadURLs[0];if(B(a))return a;throw new r("no-download-url","The given file does not have any download URLs.")})};var X=function(a,b){if(""===a.location.path)throw new r("invalid-root-operation","The operation '"+b+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},Y=function(a,b,c){this.a=new Ha(a,function(a,b){return new W(a,b)},xa,this,b);this.c=a;q(c)?this.b=Ba(c):null!=this.a.bucket()&&(this.b=new A(this.a.bucket(),""));this.f=new Wb(this)};h=Y.prototype;h.da=function(a){F("ref",[H(function(a){if(/^[A-Za-z]+:\/\//.test(a))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments);if(null===this.b)throw Error("No Storage Bucket defined in Firebase Options.");var b=new W(this.a,this.b);return q(a)?b.J(a):b};h.ea=function(a){F("refFromURL",[H(function(a){if(!/^[A-Za-z]+:\/\//.test(a))throw"Expected full URL but got a child path, use ref instead.";try{Aa(a)}catch(c){throw"Expected valid full URL but got an invalid one."}},!1)],arguments);return new W(this.a,a)};h.ja=function(){return this.a.b};h.ga=function(a){F("setMaxUploadRetryTime",[Ua()],arguments);this.a.b=a};h.ia=function(){return this.a.c};h.fa=function(a){F("setMaxOperationRetryTime",[Ua()],arguments);this.a.c=a};h.V=function(){return this.c};h.S=function(){return this.f};var Wb=function(a){this.a=a};Wb.prototype.b=function(){var a=this.a.a;a.f=!0;a.a=null;Ea(a.i)};var Z=function(a,b,c){Object.defineProperty(a,b,{get:c})};W.prototype.toString=W.prototype.toString;W.prototype.child=W.prototype.J;W.prototype.put=W.prototype.aa;W.prototype.putString=W.prototype.ba;W.prototype["delete"]=W.prototype.Z;W.prototype.getMetadata=W.prototype.K;W.prototype.updateMetadata=W.prototype.ca;W.prototype.getDownloadURL=W.prototype.$;Z(W.prototype,"parent",W.prototype.ma);Z(W.prototype,"root",W.prototype.oa);Z(W.prototype,"bucket",W.prototype.W);Z(W.prototype,"fullPath",W.prototype.ha);Z(W.prototype,"name",W.prototype.la);Z(W.prototype,"storage",W.prototype.qa);Y.prototype.ref=Y.prototype.da;Y.prototype.refFromURL=Y.prototype.ea;Z(Y.prototype,"maxOperationRetryTime",Y.prototype.ia);Y.prototype.setMaxOperationRetryTime=Y.prototype.fa;Z(Y.prototype,"maxUploadRetryTime",Y.prototype.ja);Y.prototype.setMaxUploadRetryTime=Y.prototype.ga;Z(Y.prototype,"app",Y.prototype.V);Z(Y.prototype,"INTERNAL",Y.prototype.S);Wb.prototype["delete"]=Wb.prototype.b;Y.prototype.capi_=function(a){v=a};T.prototype.on=T.prototype.P;T.prototype.resume=T.prototype.T;T.prototype.pause=T.prototype.R;T.prototype.cancel=T.prototype.cancel;T.prototype.then=T.prototype.then;T.prototype["catch"]=T.prototype["catch"];Z(T.prototype,"snapshot",T.prototype.C);Z(Q.prototype,"bytesTransferred",Q.prototype.X);Z(Q.prototype,"totalBytes",Q.prototype.sa);Z(Q.prototype,"state",Q.prototype.pa);Z(Q.prototype,"metadata",Q.prototype.ka);Z(Q.prototype,"downloadURL",Q.prototype.Y);Z(Q.prototype,"task",Q.prototype.ra);Z(Q.prototype,"ref",Q.prototype.na);Ib.STATE_CHANGED="state_changed";P.RUNNING="running";P.PAUSED="paused";P.SUCCESS="success";P.CANCELED="canceled";P.ERROR="error";L.RAW="raw";L.BASE64="base64";L.BASE64URL="base64url";L.DATA_URL="data_url";(function(){function a(a,b,e){return new Y(a,new Kb(),e)}if("undefined"!==typeof firebase)firebase.INTERNAL.registerService("storage",a,{TaskState:P,TaskEvent:Ib,StringFormat:L,Storage:Y,Reference:W},void 0,!0);else throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.")})()}).call(this);</script><script>(function(){var f=function(a,b){function c(){}c.prototype=b.prototype;a.u=b.prototype;a.prototype=new c;for(var d in b){if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}},g=this,h=function(a){var b=babelHelpers.typeof(a);if("object"==b){if(a){if(babelHelpers.instanceof(a,Array))return"array";if(babelHelpers.instanceof(a,Object))return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},k=function(a,b){function c(){}c.prototype=b.prototype;a.u=b.prototype;a.prototype=new c;a.v=function(a,c){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++){d[e-2]=arguments[e]}return b.prototype[c].apply(a,d)}},m=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,m);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=a+"")};k(m,Error);var p=function(a){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;){d+=c.shift()+e.shift()}return d+c.join("%s")},q=function(a,b){b.unshift(a);m.call(this,p.apply(null,b));b.shift()};k(q,m);var r=function(a,b){if(!a){var d="Assertion failed";if(b)var d=d+(": "+b),e=Array.prototype.slice.call(arguments,2);throw new q(""+d,e||[])}},t=null,v=function(a){a=new Uint8Array(a);var b=h(a);r("array"==b||"object"==b&&"number"==typeof a.length,"encodeByteArray takes an array as a parameter");if(!t)for(t={},b=0;65>b;b++){t[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)}for(var b=t,c=[],d=0;d<a.length;d+=3){var e=a[d],n=d+1<a.length,l=n?a[d+1]:0,z=d+2<a.length,u=z?a[d+2]:0,M=e>>2,e=(3&e)<<4|l>>4,l=(15&l)<<2|u>>6,u=63&u;z||(u=64,n||(l=64));c.push(b[M],b[e],b[l],b[u])}return c.join("").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},w={},x=(w["only-available-in-window"]="This method is available in a Window context.",w["only-available-in-sw"]="This method is available in a service worker context.",w["should-be-overriden"]="This method should be overriden by extended classes.",w["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",w["permission-default"]="The required permissions were not granted and dismissed instead.",w["permission-blocked"]="The required permissions were not granted and blocked instead.",w["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",w["notifications-blocked"]="Notifications have been blocked.",w["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",w["sw-registration-expected"]="A service worker registration was the expected input.",w["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",w["invalid-saved-token"]="Unable to access details of the saved token.",w["sw-reg-redundant"]="The service worker being used for push was made redundant.",w["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$message}",w["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",w["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",w["use-sw-before-get-token"]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",w["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",w["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",w["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",w["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",w["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",w["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",w["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",w["failed-to-delete-token"]="Unable to delete the currently saved token.",w["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",w["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",w["bad-scope"]="The service worker scope must be a string with at least one character.",w["bad-vapid-key"]="The public VAPID key must be a string with at least one character.",w["bad-subscription"]="The subscription must be a valid PushSubscription.",w["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",w["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",w["failed-delete-vapid-key"]="The VAPID key could not be deleted.",w),y={userVisibleOnly:!0,applicationServerKey:new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110])},A=new firebase.INTERNAL.ErrorFactory("messaging","Messaging",x),B=function(){this.a=null},C=function(a){if(a.a)return a.a;a.a=new Promise(function(a,c){var b=g.indexedDB.open("fcm_token_details_db",1);b.onerror=function(a){c(a.target.error)};b.onsuccess=function(b){a(b.target.result)};b.onupgradeneeded=function(a){a=a.target.result.createObjectStore("fcm_token_object_Store",{keyPath:"swScope"});a.createIndex("fcmSenderId","fcmSenderId",{unique:!1});a.createIndex("fcmToken","fcmToken",{unique:!0})}});return a.a},D=function(a){a.a?a.a.then(function(b){b.close();a.a=null}):Promise.resolve()},E=function(a,b){return C(a).then(function(a){return new Promise(function(c,e){var d=a.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").index("fcmToken").get(b);d.onerror=function(a){e(a.target.error)};d.onsuccess=function(a){c(a.target.result)}})})},F=function(a,b){return C(a).then(function(a){return new Promise(function(c,e){var d=[],l=a.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").openCursor();l.onerror=function(a){e(a.target.error)};l.onsuccess=function(a){(a=a.target.result)?(a.value.fcmSenderId===b&&d.push(a.value),a.continue()):c(d)}})})},G=function(a,b,c){var d=v(b.getKey("p256dh")),e=v(b.getKey("auth"));a="authorized_entity="+a+"&"+("endpoint="+b.endpoint+"&")+("encryption_key="+d+"&")+("encryption_auth="+e);c&&(a+="&pushSet="+c);c=new Headers;c.append("Content-Type","application/x-www-form-urlencoded");return fetch("https://fcm.googleapis.com/fcm/connect/subscribe",{method:"POST",headers:c,body:a}).then(function(a){return a.json()}).then(function(a){if(a.error)throw A.create("token-subscribe-failed",{message:a.error.message});if(!a.token)throw A.create("token-subscribe-no-token");if(!a.pushSet)throw A.create("token-subscribe-no-push-set");return{token:a.token,pushSet:a.pushSet}})},H=function(a,b,c,d,e,n){var l={swScope:c.scope,endpoint:d.endpoint,auth:v(d.getKey("auth")),p256dh:v(d.getKey("p256dh")),fcmToken:e,fcmPushSet:n,fcmSenderId:b};return C(a).then(function(a){return new Promise(function(b,c){var d=a.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").put(l);d.onerror=function(a){c(a.target.error)};d.onsuccess=function(){b()}})})};B.prototype.i=function(a,b){return babelHelpers.instanceof(b,ServiceWorkerRegistration)?"string"!==typeof a||0===a.length?Promise.reject(A.create("bad-sender-id")):F(this,a).then(function(c){if(0!==c.length){var d=c.findIndex(function(c){return b.scope===c.swScope&&a===c.fcmSenderId});if(-1!==d)return c[d]}}).then(function(a){if(a)return b.pushManager.getSubscription().catch(function(){throw A.create("get-subscription-failed")}).then(function(b){var c;if(c=b)c=b.endpoint===a.endpoint&&v(b.getKey("auth"))===a.auth&&v(b.getKey("p256dh"))===a.p256dh;if(c)return a.fcmToken})}):Promise.reject(A.create("sw-registration-expected"))};B.prototype.getSavedToken=B.prototype.i;B.prototype.h=function(a,b){var c=this;return"string"!==typeof a||0===a.length?Promise.reject(A.create("bad-sender-id")):babelHelpers.instanceof(b,ServiceWorkerRegistration)?b.pushManager.getSubscription().then(function(a){return a?a:b.pushManager.subscribe(y)}).then(function(d){return G(a,d).then(function(e){return H(c,a,b,d,e.token,e.pushSet).then(function(){return e.token})})}):Promise.reject(A.create("sw-registration-expected"))};B.prototype.createToken=B.prototype.h;B.prototype.deleteToken=function(a){var b=this;return"string"!==typeof a||0===a.length?Promise.reject(A.create("invalid-delete-token")):E(this,a).then(function(a){if(!a)throw A.create("delete-token-not-found");return C(b).then(function(b){return new Promise(function(c,d){var e=b.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").delete(a.swScope);e.onerror=function(a){d(a.target.error)};e.onsuccess=function(b){0===b.target.result?d(A.create("failed-to-delete-token")):c(a)}})})})};var I=function(a){var b=this;this.a=new firebase.INTERNAL.ErrorFactory("messaging","Messaging",x);if(!a.options.messagingSenderId||"string"!==typeof a.options.messagingSenderId)throw this.a.create("bad-sender-id");this.l=a.options.messagingSenderId;this.c=new B;this.app=a;this.INTERNAL={};this.INTERNAL.delete=function(){return b.delete}};I.prototype.getToken=function(){var a=this,b=Notification.permission;return"granted"!==b?"denied"===b?Promise.reject(this.a.create("notifications-blocked")):Promise.resolve(null):this.f().then(function(b){return a.c.i(a.l,b).then(function(c){return c?c:a.c.h(a.l,b)})})};I.prototype.getToken=I.prototype.getToken;I.prototype.deleteToken=function(a){var b=this;return this.c.deleteToken(a).then(function(){return b.f()}).then(function(a){return a?a.pushManager.getSubscription():null}).then(function(a){if(a)return a.unsubscribe()})};I.prototype.deleteToken=I.prototype.deleteToken;I.prototype.f=function(){throw this.a.create("should-be-overriden")};I.prototype.requestPermission=function(){throw this.a.create("only-available-in-window")};I.prototype.useServiceWorker=function(){throw this.a.create("only-available-in-window")};I.prototype.useServiceWorker=I.prototype.useServiceWorker;I.prototype.onMessage=function(){throw this.a.create("only-available-in-window")};I.prototype.onMessage=I.prototype.onMessage;I.prototype.onTokenRefresh=function(){throw this.a.create("only-available-in-window")};I.prototype.onTokenRefresh=I.prototype.onTokenRefresh;I.prototype.setBackgroundMessageHandler=function(){throw this.a.create("only-available-in-sw")};I.prototype.setBackgroundMessageHandler=I.prototype.setBackgroundMessageHandler;I.prototype.delete=function(){D(this.c)};var J=function(a,b){var c={};return c["firebase-messaging-msg-type"]=a,c["firebase-messaging-msg-data"]=b,c},K=self,P=function(a){I.call(this,a);var b=this;this.a=new firebase.INTERNAL.ErrorFactory("messaging","Messaging",x);K.addEventListener("push",function(a){return L(b,a)},!1);K.addEventListener("pushsubscriptionchange",function(a){return N(b,a)},!1);K.addEventListener("notificationclick",function(a){return O(b,a)},!1);this.b=null};f(P,I);var L=function(a,b){var c;try{c=b.data.json()}catch(e){return}var d=Q().then(function(b){if(b){if(c.notification||a.b)return R(a,c)}else{if((b=c)&&"object"===babelHelpers.typeof(b.notification)){var d=Object.assign({},b.notification),e={};d.data=(e.FCM_MSG=b,e);b=d}else b=void 0;if(b)return K.registration.showNotification(b.title||"",b);if(a.b)return a.b(c)}});b.waitUntil(d)},N=function(a,b){var c=a.getToken().then(function(b){if(!b)throw a.a.create("no-fcm-token-for-resubscribe");var c=a.c;return E(c,b).then(function(b){if(!b)throw a.a.create("invalid-saved-token");return K.registration.pushManager.subscribe(y).then(function(a){return G(b.A,a,b.w)}).catch(function(d){return c.deleteToken(b.B).then(function(){throw a.a.create("unable-to-resubscribe",{message:d})})})})});b.waitUntil(c)},O=function(a,b){if(b.notification&&b.notification.data&&b.notification.data.FCM_MSG){b.stopImmediatePropagation();b.notification.close();var c=b.notification.data.FCM_MSG,d=c.notification.click_action;if(d){var e=S(d).then(function(a){return a?a:K.clients.openWindow(d)}).then(function(b){if(b)return delete c.notification,T(a,b,J("notification-clicked",c))});b.waitUntil(e)}}};P.prototype.setBackgroundMessageHandler=function(a){if(a&&"function"!==typeof a)throw this.a.create("bg-handler-function-expected");this.b=a};P.prototype.setBackgroundMessageHandler=P.prototype.setBackgroundMessageHandler;var S=function(a){var b=new URL(a).href;return K.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(a){for(var c=null,e=0;e<a.length;e++){if(new URL(a[e].url).href===b){c=a[e];break}}if(c)return c.focus(),c})},T=function(a,b,c){return new Promise(function(d,e){if(!b)return e(a.a.create("no-window-client-to-msg"));b.postMessage(c);d()})},Q=function(){return K.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(a){return a.some(function(a){return"visible"===a.visibilityState})})},R=function(a,b){return K.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(c){var d=J("push-msg-received",b);return Promise.all(c.map(function(b){return T(a,b,d)}))})};P.prototype.f=function(){return Promise.resolve(K.registration)};var V=function(a){I.call(this,a);var b=this;this.j=null;this.m=firebase.INTERNAL.createSubscribe(function(a){b.j=a});this.s=null;this.o=firebase.INTERNAL.createSubscribe(function(a){b.s=a});U(this)};f(V,I);V.prototype.getToken=function(){var a=this;return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")?W(this).then(function(){return I.prototype.getToken.call(a)}):Promise.reject(this.a.create("unsupported-browser"))};V.prototype.getToken=V.prototype.getToken;var W=function(a){if(a.g)return a.g;var b=document.querySelector("link[rel=\"manifest\"]");b?a.g=fetch(b.href).then(function(a){return a.json()}).catch(function(){return Promise.resolve()}).then(function(b){if(b&&b.gcm_sender_id&&"103953800507"!==b.gcm_sender_id)throw a.a.create("incorrect-gcm-sender-id")}):a.g=Promise.resolve();return a.g};V.prototype.requestPermission=function(){var a=this;return"granted"===Notification.permission?Promise.resolve():new Promise(function(b,c){var d=function(_d){return"granted"===_d?b():"denied"===_d?c(a.a.create("permission-blocked")):c(a.a.create("permission-default"))},e=Notification.requestPermission(function(a){e||d(a)});e&&e.then(d)})};V.prototype.requestPermission=V.prototype.requestPermission;V.prototype.useServiceWorker=function(a){if(!babelHelpers.instanceof(a,ServiceWorkerRegistration))throw this.a.create("sw-registration-expected");if("undefined"!==typeof this.b)throw this.a.create("use-sw-before-get-token");this.b=a};V.prototype.useServiceWorker=V.prototype.useServiceWorker;V.prototype.onMessage=function(a,b,c){return this.m(a,b,c)};V.prototype.onMessage=V.prototype.onMessage;V.prototype.onTokenRefresh=function(a,b,c){return this.o(a,b,c)};V.prototype.onTokenRefresh=V.prototype.onTokenRefresh;var X=function(a,b){var c=b.installing||b.waiting||b.active;return new Promise(function(d,e){if(c){if("activated"===c.state)d(b);else if("redundant"===c.state)e(a.a.create("sw-reg-redundant"));else{var n=function(){if("activated"===c.state)d(b);else if("redundant"===c.state)e(a.a.create("sw-reg-redundant"));else return;c.removeEventListener("statechange",n)};c.addEventListener("statechange",n)}}else e(a.a.create("no-sw-in-reg"))})};V.prototype.f=function(){var a=this;if(this.b)return X(this,this.b);this.b=null;return navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(b){throw a.a.create("failed-serviceworker-registration",{browserErrorMessage:b.message})}).then(function(b){return X(a,b).then(function(){a.b=b;b.update();return b})})};var U=function(a){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(b){if(b.data&&b.data["firebase-messaging-msg-type"])switch(b=b.data,b["firebase-messaging-msg-type"]){case"push-msg-received":case"notification-clicked":a.j.next(b["firebase-messaging-msg-data"]);}},!1)};if(!(firebase&&firebase.INTERNAL&&firebase.INTERNAL.registerService))throw Error("Cannot install Firebase Messaging - be sure to load firebase-app.js first.");firebase.INTERNAL.registerService("messaging",function(a){return self&&"ServiceWorkerGlobalScope"in self?new P(a):new V(a)},{Messaging:V});new firebase.INTERNAL.ErrorFactory("messaging","Messaging",x);new firebase.INTERNAL.ErrorFactory("messaging","Messaging",x);new firebase.INTERNAL.ErrorFactory("messaging","Messaging",x)}).call(this);</script><dom-module id="firebase-app" assetpath="../bower_components/polymerfire/"><script>(function(){"use strict";Polymer({is:"firebase-app",properties:{name:{type:String,value:""},apiKey:{type:String},authDomain:{type:String},databaseUrl:{type:String},storageBucket:{type:String,value:null},messagingSenderId:{type:String,value:null},app:{type:Object,notify:!0,computed:"__computeApp(name, apiKey, authDomain, databaseUrl, storageBucket, messagingSenderId)"}},__computeApp:function __computeApp(name,apiKey,authDomain,databaseUrl,storageBucket,messagingSenderId){if(apiKey&&authDomain&&databaseUrl){var init=[{apiKey:apiKey,authDomain:authDomain,databaseURL:databaseUrl,storageBucket:storageBucket,messagingSenderId:messagingSenderId}];if(name){init.push(name)}firebase.initializeApp.apply(firebase,init);this.fire("firebase-app-initialized")}else{return null}return firebase.app(name)}})})();</script></dom-module><script>(function(){"use strict";var networkStatusSubscribers=[];function notifySubscribers(){for(var i=0;i<networkStatusSubscribers.length;++i){networkStatusSubscribers[i].refreshNetworkStatus()}}window.addEventListener("online",notifySubscribers);window.addEventListener("offline",notifySubscribers);Polymer.AppNetworkStatusBehavior={properties:{online:{type:Boolean,readOnly:!0,notify:!0,value:function value(){return window.navigator.onLine}}},attached:function attached(){networkStatusSubscribers.push(this);this.refreshNetworkStatus()},detached:function detached(){var index=networkStatusSubscribers.indexOf(this);if(0>index){return}networkStatusSubscribers.splice(index,1)},refreshNetworkStatus:function refreshNetworkStatus(){this._setOnline(window.navigator.onLine)}}})();</script><script>(function(){"use strict";Polymer.FirebaseCommonBehaviorImpl={properties:{app:{type:Object,notify:!0,observer:"__appChanged"},appName:{type:String,notify:!0,value:"",observer:"__appNameChanged"}},__appNameChanged:function __appNameChanged(appName){if(this.app&&this.app.name===appName){return}try{if(null==appName){this.app=firebase.app()}else{this.app=firebase.app(appName)}}catch(e){var self=this;window.addEventListener("firebase-app-initialized",function onFirebaseAppInitialized(){window.removeEventListener("firebase-app-initialized",onFirebaseAppInitialized);self.__appNameChanged(self.appName)})}},__appChanged:function __appChanged(app){if(app&&app.name===this.appName){return}this.appName=app?app.name:""},__onError:function __onError(err){this.fire("error",err)}};Polymer.FirebaseCommonBehavior=[Polymer.AppNetworkStatusBehavior,Polymer.FirebaseCommonBehaviorImpl]})();</script><dom-module id="firebase-auth" assetpath="../bower_components/polymerfire/"><script>(function(){"use strict";Polymer({is:"firebase-auth",behaviors:[Polymer.FirebaseCommonBehavior],properties:{auth:{type:Object,computed:"_computeAuth(app)",observer:"__authChanged"},provider:{type:String,notify:!0},signedIn:{type:Boolean,computed:"_computeSignedIn(user)",notify:!0},user:{type:Object,readOnly:!0,value:null,notify:!0},statusKnown:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0}},signInAnonymously:function signInAnonymously(){if(!this.auth){return Promise.reject("No app configured for firebase-auth!")}return this._handleSignIn(this.auth.signInAnonymously())},signInWithCustomToken:function signInWithCustomToken(token){if(!this.auth){return Promise.reject("No app configured for firebase-auth!")}return this._handleSignIn(this.auth.signInWithCustomToken(token))},signInWithCredential:function signInWithCredential(credential){if(!this.auth){return Promise.reject("No app configured for firebase-auth!")}return this._handleSignIn(this.auth.signInWithCredential(credential))},signInWithPopup:function signInWithPopup(provider){return this._attemptProviderSignIn(this._normalizeProvider(provider),this.auth.signInWithPopup)},signInWithRedirect:function signInWithRedirect(provider){return this._attemptProviderSignIn(this._normalizeProvider(provider),this.auth.signInWithRedirect)},signInWithEmailAndPassword:function signInWithEmailAndPassword(email,password){return this._handleSignIn(this.auth.signInWithEmailAndPassword(email,password))},createUserWithEmailAndPassword:function createUserWithEmailAndPassword(email,password){return this._handleSignIn(this.auth.createUserWithEmailAndPassword(email,password))},sendPasswordResetEmail:function sendPasswordResetEmail(email){return this._handleSignIn(this.auth.sendPasswordResetEmail(email))},signOut:function signOut(){if(!this.auth){return Promise.reject("No app configured for auth!")}return this.auth.signOut()},_attemptProviderSignIn:function _attemptProviderSignIn(provider,method){provider=provider||this._providerFromName(this.provider);if(!provider){return Promise.reject("Must supply a provider for popup sign in.")}if(!this.auth){return Promise.reject("No app configured for firebase-auth!")}return this._handleSignIn(method.call(this.auth,provider))},_providerFromName:function _providerFromName(name){switch(name){case"facebook":return new firebase.auth.FacebookAuthProvider;case"github":return new firebase.auth.GithubAuthProvider;case"google":return new firebase.auth.GoogleAuthProvider;case"twitter":return new firebase.auth.TwitterAuthProvider;default:this.fire("error","Unrecognized firebase-auth provider \""+name+"\"");}},_normalizeProvider:function _normalizeProvider(provider){if("string"===typeof provider){return this._providerFromName(provider)}return provider},_handleSignIn:function _handleSignIn(promise){return promise.catch(function(err){this.fire("error",err);throw err}.bind(this))},_computeSignedIn:function _computeSignedIn(user){return!!user},_computeAuth:function _computeAuth(){return this.app.auth()},__authChanged:function __authChanged(auth,oldAuth){this._setStatusKnown(!1);if(oldAuth!==auth&&this._unsubscribe){this._unsubscribe();this._unsubscribe=null}if(this.auth){this._unsubscribe=this.auth.onAuthStateChanged(function(user){this._setUser(user);this._setStatusKnown(!0)}.bind(this),function(err){this.fire("error",err)}.bind(this))}}})})();</script></dom-module><script>(function(){Polymer.IronMeta=function(options){Polymer.IronMeta[" "](options);this.type=options&&options.type||"default";this.key=options&&options.key;if(options&&"value"in options){this.value=options.value}};Polymer.IronMeta[" "]=function(){};Polymer.IronMeta.types={};Polymer.IronMeta.prototype={get value(){var type=this.type,key=this.key;if(type&&key){return Polymer.IronMeta.types[type]&&Polymer.IronMeta.types[type][key]}},set value(value){var type=this.type,key=this.key;if(type&&key){type=Polymer.IronMeta.types[type]=Polymer.IronMeta.types[type]||{};if(null==value){delete type[key]}else{type[key]=value}}},get list(){var type=this.type;if(type){var items=Polymer.IronMeta.types[this.type];if(!items){return[]}return Object.keys(items).map(function(key){return metaDatas[this.type][key]},this)}},byKey:function byKey(key){this.key=key;return this.value}};var metaDatas=Polymer.IronMeta.types;Polymer({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function __computeMeta(type,key,value){var meta=new Polymer.IronMeta({type:type,key:key});if(value!==void 0&&value!==meta.value){meta.value=value}else if(this.value!==meta.value){this.value=meta.value}return meta},get list(){return this.__meta&&this.__meta.list},_selfChanged:function _selfChanged(self){if(self){this.value=this}},byKey:function byKey(key){return new Polymer.IronMeta({type:this.type,key:key}).value}})})();</script><script>Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function created(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function attached(){this.style.display="none"},getIconNames:function getIconNames(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(n){return this.name+":"+n},this)},applyIcon:function applyIcon(element,iconName){this.removeIcon(element);var svg=this._cloneIcon(iconName,this.rtlMirroring&&this._targetIsRTL(element));if(svg){var pde=Polymer.dom(element.root||element);pde.insertBefore(svg,pde.childNodes[0]);return element._svgIcon=svg}return null},removeIcon:function removeIcon(element){if(element._svgIcon){Polymer.dom(element.root||element).removeChild(element._svgIcon);element._svgIcon=null}},_targetIsRTL:function _targetIsRTL(target){if(null==this.__targetIsRTL){if(this.useGlobalRtlAttribute){var globalElement=document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement;this.__targetIsRTL="rtl"===globalElement.getAttribute("dir")}else{if(target&&target.nodeType!==Node.ELEMENT_NODE){target=target.host}this.__targetIsRTL=target&&"rtl"===window.getComputedStyle(target).direction}}return this.__targetIsRTL},_nameChanged:function _nameChanged(){this._meta.value=null;this._meta.key=this.name;this._meta.value=this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function _createIconMap(){var icons=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(icon){icons[icon.id]=icon});return icons},_cloneIcon:function _cloneIcon(id,mirrorAllowed){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[id],this.size,mirrorAllowed)},_prepareSvgClone:function _prepareSvgClone(sourceSvg,size,mirrorAllowed){if(sourceSvg){var content=sourceSvg.cloneNode(!0),svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),viewBox=content.getAttribute("viewBox")||"0 0 "+size+" "+size,cssText="pointer-events: none; display: block; width: 100%; height: 100%;";if(mirrorAllowed&&content.hasAttribute("mirror-in-rtl")){cssText+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;"}svg.setAttribute("viewBox",viewBox);svg.setAttribute("preserveAspectRatio","xMidYMid meet");svg.setAttribute("focusable","false");svg.style.cssText=cssText;svg.appendChild(content).removeAttribute("id");return svg}return null}});</script><iron-iconset-svg name="my-icons" size="24"><svg><defs><g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g><g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></defs></svg></iron-iconset-svg></div><dom-module id="my-app"><template><style>:host{--dark-primary-color:#212121;--default-primary-color:#424242;--light-primary-color:#bdbdbd;--text-primary-color:#FFFFFF;--accent-color:rgb(98, 97, 99);--primary-background-color:#CFD8DC;--primary-text-color:#212121;--secondary-text-color:#757575;--disabled-text-color:#BDBDBD;--divider-color:#BDBDBD;--paper-checkbox-label-color:var(--primary-text-color);--drawer-menu-color:#ffffff;--drawer-border-color:1px solid #ccc;--drawer-toolbar-border-color:1px solid rgba(0, 0, 0, 0.22);--paper-menu-background-color:#fff;--menu-link-color:#111111;--paper-input-container-color:#607D8B;--paper-input-container-focus-color:#455A64;--paper-input-container-input-color:#212121;--paper-radio-button-checked-color:var(--accent-color);--paper-radio-button-checked-ink-color:var(--accent-color);--paper-tab-ink:var(--accent-color);--paper-tabs-selection-bar-color:var(--accent-color);--paper-button:{background-color:var(--accent-color);color:var(--text-primary-color);};--paper-checkbox-checked-color:(--primary-text-color);--paper-checkbox-checked-ink-color:var(--accent-color);--paper-checkbox-checkmark-color:var(--accent-color);--paper-slider-active-color:var(--accent-color);--paper-slider-knob-color:var(--accent-color);--paper-listbox:{background-color:#fff;};--paper-card:{background-color:#fff;};display:block;}</style><app-location route="{{route}}"></app-location><app-route route="{{route}}" pattern="[[rootPattern]]:page/:subpage" data="{{routeData}}" tail="{{subroute}}"></app-route><firebase-app auth-domain="atlas-4951a.firebaseapp.com" database-url="https://atlas-4951a.firebaseio.com/" api-key="AIzaSyA14VnwL_vCDqgwlEsUyJPqyGgk92BTko8"></firebase-app><firebase-auth id="FBAuth" signed-in="{{signedIn}}"></firebase-auth><iron-pages role="main" selected="[[page]]" attr-for-selected="name" fallback-selection="view404"><my-login name="login"></my-login><my-home name="home" todo-list="{{todo}}"></my-home><my-case name="case" route-data="[[routeData]]" todo="[[todo]]"></my-case><my-compare name="compare" route-data="[[routeData]]" todo="[[todo]]"></my-compare><my-view404 name="view404"></my-view404><my-data name="data" route-data="[[routeData]]"></my-data><my-team name="team" route-data="[[routeData]]"></my-team></iron-pages></template><script>var MyApp=function(_Polymer$Element){babelHelpers.inherits(MyApp,_Polymer$Element);babelHelpers.createClass(MyApp,null,[{key:"is",get:function get(){return"my-app"}},{key:"properties",get:function get(){return{page:{type:String,reflectToAttribute:!0,observer:"_pageChanged"},rootPattern:String,subroute:String,signedIn:{type:Boolean,observer:"_signedInChanged"}}}},{key:"observers",get:function get(){return["_routePageChanged(routeData.page)"]}}]);function MyApp(){var _this;babelHelpers.classCallCheck(this,MyApp);_this=babelHelpers.possibleConstructorReturn(this,(MyApp.__proto__||Object.getPrototypeOf(MyApp)).call(this));_this.rootPattern=new URL(_this.rootPath).pathname;return _this}babelHelpers.createClass(MyApp,[{key:"_routePageChanged",value:function _routePageChanged(page){if(!this.signedIn&&"login"!==page){return}if(this.signedIn&&"login"===page){return}this.page=page||"home"}},{key:"_pageChanged",value:function _pageChanged(page){var resolvedPageUrl=this.resolveUrl("my-"+page+".html");Polymer.importHref(resolvedPageUrl,null,this._showPage404.bind(this),!0)}},{key:"_showPage404",value:function _showPage404(){this.page="view404"}},{key:"_signedInChanged",value:function _signedInChanged(signedIn){if(signedIn){this.set("routeData.page","home")}else{this.set("routeData.page","login");this.set("routeData.subpage","")}}}]);return MyApp}(Polymer.Element);window.customElements.define(MyApp.is,MyApp);</script></dom-module><script>(function(){var style=document.createElement("style");style.textContent="[hidden] { display: none !important; }";document.head.appendChild(style)})();</script><custom-style><style is="custom-style">[hidden]{display:none !important;}</style></custom-style><custom-style><style is="custom-style">html{--layout:{display:-ms-flexbox;display:-webkit-flex;display:flex;};--layout-inline:{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex;};--layout-horizontal:{@apply --layout;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;};--layout-horizontal-reverse:{@apply --layout;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse;};--layout-vertical:{@apply --layout;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;};--layout-vertical-reverse:{@apply --layout;-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;};--layout-wrap:{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;};--layout-wrap-reverse:{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;};--layout-flex-auto:{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;};--layout-flex-none:{-ms-flex:none;-webkit-flex:none;flex:none;};--layout-flex:{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;};--layout-flex-2:{-ms-flex:2;-webkit-flex:2;flex:2;};--layout-flex-3:{-ms-flex:3;-webkit-flex:3;flex:3;};--layout-flex-4:{-ms-flex:4;-webkit-flex:4;flex:4;};--layout-flex-5:{-ms-flex:5;-webkit-flex:5;flex:5;};--layout-flex-6:{-ms-flex:6;-webkit-flex:6;flex:6;};--layout-flex-7:{-ms-flex:7;-webkit-flex:7;flex:7;};--layout-flex-8:{-ms-flex:8;-webkit-flex:8;flex:8;};--layout-flex-9:{-ms-flex:9;-webkit-flex:9;flex:9;};--layout-flex-10:{-ms-flex:10;-webkit-flex:10;flex:10;};--layout-flex-11:{-ms-flex:11;-webkit-flex:11;flex:11;};--layout-flex-12:{-ms-flex:12;-webkit-flex:12;flex:12;};--layout-start:{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start;};--layout-center:{-ms-flex-align:center;-webkit-align-items:center;align-items:center;};--layout-end:{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;};--layout-baseline:{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline;};--layout-start-justified:{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;};--layout-center-justified:{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;};--layout-end-justified:{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;};--layout-around-justified:{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around;};--layout-justified:{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;};--layout-center-center:{@apply --layout-center;@apply --layout-center-justified;};--layout-self-start:{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start;};--layout-self-center:{-ms-align-self:center;-webkit-align-self:center;align-self:center;};--layout-self-end:{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end;};--layout-self-stretch:{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch;};--layout-self-baseline:{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline;};--layout-start-aligned:{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;};--layout-end-aligned:{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end;};--layout-center-aligned:{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center;};--layout-between-aligned:{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between;};--layout-around-aligned:{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around;};--layout-block:{display:block;};--layout-invisible:{visibility:hidden !important;};--layout-relative:{position:relative;};--layout-fit:{position:absolute;top:0;right:0;bottom:0;left:0;};--layout-scroll:{-webkit-overflow-scrolling:touch;overflow:auto;};--layout-fullbleed:{margin:0;height:100vh;};--layout-fixed-top:{position:fixed;top:0;left:0;right:0;};--layout-fixed-right:{position:fixed;top:0;right:0;bottom:0;};--layout-fixed-bottom:{position:fixed;right:0;bottom:0;left:0;};--layout-fixed-left:{position:fixed;top:0;bottom:0;left:0;};}</style></custom-style><script>Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function value(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function _scrollTargetChanged(scrollTarget,isAttached){if(this._oldScrollTarget){this._toggleScrollListener(!1,this._oldScrollTarget);this._oldScrollTarget=null}if(!isAttached){return}if("document"===scrollTarget){this.scrollTarget=this._doc}else if("string"===typeof scrollTarget){var domHost=this.domHost;this.scrollTarget=domHost&&domHost.$?domHost.$[scrollTarget]:Polymer.dom(this.ownerDocument).querySelector("#"+scrollTarget)}else if(this._isValidScrollTarget()){this._oldScrollTarget=scrollTarget;this._toggleScrollListener(this._shouldHaveListener,scrollTarget)}},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop}return 0},get _scrollLeft(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft}return 0},set _scrollTop(top){if(this.scrollTarget===this._doc){window.scrollTo(window.pageXOffset,top)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollTop=top}},set _scrollLeft(left){if(this.scrollTarget===this._doc){window.scrollTo(left,window.pageYOffset)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollLeft=left}},scroll:function scroll(left,top){if(this.scrollTarget===this._doc){window.scrollTo(left,top)}else if(this._isValidScrollTarget()){this.scrollTarget.scrollLeft=left;this.scrollTarget.scrollTop=top}},get _scrollTargetWidth(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth}return 0},get _scrollTargetHeight(){if(this._isValidScrollTarget()){return this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight}return 0},_isValidScrollTarget:function _isValidScrollTarget(){return babelHelpers.instanceof(this.scrollTarget,HTMLElement)},_toggleScrollListener:function _toggleScrollListener(yes,scrollTarget){var eventTarget=scrollTarget===this._doc?window:scrollTarget;if(yes){if(!this._boundScrollHandler){this._boundScrollHandler=this._scrollHandler.bind(this);eventTarget.addEventListener("scroll",this._boundScrollHandler)}}else{if(this._boundScrollHandler){eventTarget.removeEventListener("scroll",this._boundScrollHandler);this._boundScrollHandler=null}}},toggleScrollListener:function toggleScrollListener(yes){this._shouldHaveListener=yes;this._toggleScrollListener(yes,this.scrollTarget)}};</script><script>Polymer.AppLayout=Polymer.AppLayout||{};Polymer.AppLayout._scrollEffects=Polymer.AppLayout._scrollEffects||{};Polymer.AppLayout.scrollTimingFunction=function(t,b,c,d){t/=d;return-c*t*(t-2)+b};Polymer.AppLayout.registerEffect=function(effectName,effectDef){if(null!=Polymer.AppLayout._scrollEffects[effectName]){throw new Error("effect `"+effectName+"` is already registered.")}Polymer.AppLayout._scrollEffects[effectName]=effectDef};Polymer.AppLayout.queryAllRoot=function(selector,root){var queue=[root],matches=[];while(0<queue.length){var node=queue.shift();matches.push.apply(matches,node.querySelectorAll(selector));for(i=0;node.children[i];i++){if(node.children[i].shadowRoot){queue.push(node.children[i].shadowRoot)}}}return matches};Polymer.AppLayout.scroll=function(options){options=options||{};var docEl=document.documentElement,target=options.target||docEl,hasNativeScrollBehavior="scrollBehavior"in target.style&&target.scroll,scrollTop=options.top||0,scrollLeft=options.left||0,scrollTo=target===docEl?window.scrollTo:function(scrollLeft,scrollTop){target.scrollLeft=scrollLeft;target.scrollTop=scrollTop};if("smooth"===options.behavior){if(hasNativeScrollBehavior){target.scroll(options)}else{var timingFn=Polymer.AppLayout.scrollTimingFunction,startTime=Date.now(),currentScrollTop=target===docEl?window.pageYOffset:target.scrollTop,currentScrollLeft=target===docEl?window.pageXOffset:target.scrollLeft,duration=300,updateFrame=function updateFrame(){var now=Date.now(),elapsedTime=now-startTime;if(elapsedTime<duration){scrollTo(timingFn(elapsedTime,currentScrollLeft,scrollLeft-currentScrollLeft,duration),timingFn(elapsedTime,currentScrollTop,scrollTop-currentScrollTop,duration));requestAnimationFrame(updateFrame)}else{scrollTo(scrollLeft,scrollTop)}}.bind(this);updateFrame()}}else if("silent"===options.behavior){var headers=Polymer.AppLayout.queryAllRoot("app-header",document.body);headers.forEach(function(header){header.setAttribute("silent-scroll","")});window.cancelAnimationFrame(Polymer.AppLayout._scrollTimer);Polymer.AppLayout._scrollTimer=window.requestAnimationFrame(function(){headers.forEach(function(header){header.removeAttribute("silent-scroll")});Polymer.AppLayout._scrollTimer=null});scrollTo(scrollLeft,scrollTop)}else{scrollTo(scrollLeft,scrollTop)}};</script><script>Polymer.AppScrollEffectsBehavior=[Polymer.IronScrollTargetBehavior,{properties:{effects:{type:String},effectsConfig:{type:Object,value:function value(){return{}}},disabled:{type:Boolean,reflectToAttribute:!0,value:!1},threshold:{type:Number,value:0},thresholdTriggered:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:["_effectsChanged(effects, effectsConfig, isAttached)"],_updateScrollState:function _updateScrollState(){},isOnScreen:function isOnScreen(){return!1},isContentBelow:function isContentBelow(){return!1},_effectsRunFn:null,_effects:null,get _clampedScrollTop(){return Math.max(0,this._scrollTop)},detached:function detached(){this._tearDownEffects()},createEffect:function createEffect(effectName,effectConfig){var effectDef=Polymer.AppLayout._scrollEffects[effectName];if(!effectDef){throw new ReferenceError(this._getUndefinedMsg(effectName))}var prop=this._boundEffect(effectDef,effectConfig||{});prop.setUp();return prop},_effectsChanged:function _effectsChanged(effects,effectsConfig,isAttached){this._tearDownEffects();if(!effects||!isAttached){return}effects.split(" ").forEach(function(effectName){var effectDef;if(""!==effectName){if(effectDef=Polymer.AppLayout._scrollEffects[effectName]){this._effects.push(this._boundEffect(effectDef,effectsConfig[effectName]))}else{console.warn(this._getUndefinedMsg(effectName))}}},this);this._setUpEffect()},_layoutIfDirty:function _layoutIfDirty(){return this.offsetWidth},_boundEffect:function _boundEffect(effectDef,effectsConfig){effectsConfig=effectsConfig||{};var startsAt=parseFloat(effectsConfig.startsAt||0),endsAt=parseFloat(effectsConfig.endsAt||1),noop=function(){},runFn=0===startsAt&&1===endsAt?effectDef.run:function(progress,y){effectDef.run.call(this,Math.max(0,(progress-startsAt)/(endsAt-startsAt)),y)};return{setUp:effectDef.setUp?effectDef.setUp.bind(this,effectsConfig):noop,run:effectDef.run?runFn.bind(this):noop,tearDown:effectDef.tearDown?effectDef.tearDown.bind(this):noop}},_setUpEffect:function _setUpEffect(){if(this.isAttached&&this._effects){this._effectsRunFn=[];this._effects.forEach(function(effectDef){if(!1!==effectDef.setUp()){this._effectsRunFn.push(effectDef.run)}},this)}},_tearDownEffects:function _tearDownEffects(){if(this._effects){this._effects.forEach(function(effectDef){effectDef.tearDown()})}this._effectsRunFn=[];this._effects=[]},_runEffects:function _runEffects(p,y){if(this._effectsRunFn){this._effectsRunFn.forEach(function(run){run(p,y)})}},_scrollHandler:function _scrollHandler(){if(!this.disabled){var scrollTop=this._clampedScrollTop;this._updateScrollState(scrollTop);if(0<this.threshold){this._setThresholdTriggered(scrollTop>=this.threshold)}}},_getDOMRef:function _getDOMRef(id){console.warn("_getDOMRef","`"+id+"` is undefined")},_getUndefinedMsg:function _getUndefinedMsg(effectName){return"Scroll effect `"+effectName+"` is undefined. "+"Did you forget to import app-layout/app-scroll-effects/effects/"+effectName+".html ?"}}];</script><script>Polymer.AppLayoutBehavior=[Polymer.IronResizableBehavior,{listeners:{"app-reset-layout":"_appResetLayoutHandler","iron-resize":"resetLayout"},attached:function attached(){this.fire("app-reset-layout")},_appResetLayoutHandler:function _appResetLayoutHandler(e){if(Polymer.dom(e).path[0]===this){return}this.resetLayout();e.stopPropagation()},_updateLayoutStates:function _updateLayoutStates(){console.error("unimplemented")},resetLayout:function resetLayout(){var self=this,cb=this._updateLayoutStates.bind(this);if(Polymer.Async&&Polymer.Async.animationFrame){this._layoutDebouncer=Polymer.Debouncer.debounce(this._layoutDebouncer,Polymer.Async.animationFrame,cb);Polymer.enqueueDebouncer(this._layoutDebouncer)}else{this.debounce("resetLayout",cb)}this._notifyDescendantResize()},_notifyLayoutChanged:function _notifyLayoutChanged(){var self=this;requestAnimationFrame(function(){self.fire("app-reset-layout")})},_notifyDescendantResize:function _notifyDescendantResize(){if(!this.isAttached){return}this._interestedResizables.forEach(function(resizable){if(this.resizerShouldNotify(resizable)){this._notifyDescendant(resizable)}},this)}}];</script><dom-module id="app-header" assetpath="../bower_components/app-layout/app-header/"><template><style>:host{position:relative;display:block;transition-timing-function:linear;transition-property:-webkit-transform;transition-property:transform;}:host::before{position:absolute;right:0px;bottom:-5px;left:0px;width:100%;height:5px;content:"";transition:opacity 0.4s;pointer-events:none;opacity:0;box-shadow:inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);will-change:opacity;@apply --app-header-shadow;}:host([shadow])::before{opacity:1;}#background{@apply --layout-fit;overflow:hidden;}#backgroundFrontLayer,
      #backgroundRearLayer{@apply --layout-fit;height:100%;pointer-events:none;background-size:cover;}#backgroundFrontLayer{@apply --app-header-background-front-layer;}#backgroundRearLayer{opacity:0;@apply --app-header-background-rear-layer;}#contentContainer{position:relative;width:100%;height:100%;}:host([disabled]),
      :host([disabled])::after,
      :host([disabled]) #backgroundFrontLayer,
      :host([disabled]) #backgroundRearLayer,
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]),
      :host([silent-scroll])::after,
      :host([silent-scroll]) #backgroundFrontLayer,
      :host([silent-scroll]) #backgroundRearLayer{transition:none !important;}:host([disabled]) ::slotted(app-toolbar:first-of-type),
      :host([disabled]) ::slotted([sticky]),
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]) ::slotted(app-toolbar:first-of-type),
      :host([silent-scroll]) ::slotted([sticky]){transition:none !important;}</style><div id="contentContainer"><slot id="slot"></slot></div></template><script>Polymer({is:"app-header",behaviors:[Polymer.AppScrollEffectsBehavior,Polymer.AppLayoutBehavior],properties:{condenses:{type:Boolean,value:!1},fixed:{type:Boolean,value:!1},reveals:{type:Boolean,value:!1},shadow:{type:Boolean,reflectToAttribute:!0,value:!1}},observers:["_configChanged(isAttached, condenses, fixed)"],_height:0,_dHeight:0,_stickyElTop:0,_stickyElRef:null,_top:0,_progress:0,_wasScrollingDown:!1,_initScrollTop:0,_initTimestamp:0,_lastTimestamp:0,_lastScrollTop:0,get _maxHeaderTop(){return this.fixed?this._dHeight:this._height+5},get _stickyEl(){if(this._stickyElRef){return this._stickyElRef}for(var nodes=Polymer.dom(this.$.slot).getDistributedNodes(),i=0,node;node=nodes[i];i++){if(node.nodeType===Node.ELEMENT_NODE){if(node.hasAttribute("sticky")){this._stickyElRef=node;break}else if(!this._stickyElRef){this._stickyElRef=node}}}return this._stickyElRef},_configChanged:function _configChanged(){this.resetLayout();this._notifyLayoutChanged()},_updateLayoutStates:function _updateLayoutStates(){if(0===this.offsetWidth&&0===this.offsetHeight){return}var scrollTop=this._clampedScrollTop,firstSetup=0===this._height||0===scrollTop,currentDisabled=this.disabled;this._height=this.offsetHeight;this._stickyElRef=null;this.disabled=!0;if(!firstSetup){this._updateScrollState(0,!0)}if(this._mayMove()){this._dHeight=this._stickyEl?this._height-this._stickyEl.offsetHeight:0}else{this._dHeight=0}this._stickyElTop=this._stickyEl?this._stickyEl.offsetTop:0;this._setUpEffect();if(firstSetup){this._updateScrollState(scrollTop,!0)}else{this._updateScrollState(this._lastScrollTop,!0);this._layoutIfDirty()}this.disabled=currentDisabled},_updateScrollState:function _updateScrollState(scrollTop,forceUpdate){var _Mathabs=Math.abs;if(0===this._height){return}var progress=0,top=0,lastTop=this._top,lastScrollTop=this._lastScrollTop,maxHeaderTop=this._maxHeaderTop,dScrollTop=scrollTop-this._lastScrollTop,absDScrollTop=_Mathabs(dScrollTop),isScrollingDown=scrollTop>this._lastScrollTop,now=performance.now();if(this._mayMove()){top=this._clamp(this.reveals?lastTop+dScrollTop:scrollTop,0,maxHeaderTop)}if(scrollTop>=this._dHeight){top=this.condenses&&!this.fixed?Math.max(this._dHeight,top):top;this.style.transitionDuration="0ms"}if(this.reveals&&!this.disabled&&100>absDScrollTop){if(300<now-this._initTimestamp||this._wasScrollingDown!==isScrollingDown){this._initScrollTop=scrollTop;this._initTimestamp=now}if(scrollTop>=maxHeaderTop){if(30<_Mathabs(this._initScrollTop-scrollTop)||10<absDScrollTop){if(isScrollingDown&&scrollTop>=maxHeaderTop){top=maxHeaderTop}else if(!isScrollingDown&&scrollTop>=this._dHeight){top=this.condenses&&!this.fixed?this._dHeight:0}var scrollVelocity=dScrollTop/(now-this._lastTimestamp);this.style.transitionDuration=this._clamp((top-lastTop)/scrollVelocity,0,300)+"ms"}else{top=this._top}}}if(0===this._dHeight){progress=0<scrollTop?1:0}else{progress=top/this._dHeight}if(!forceUpdate){this._lastScrollTop=scrollTop;this._top=top;this._wasScrollingDown=isScrollingDown;this._lastTimestamp=now}if(forceUpdate||progress!==this._progress||lastTop!==top||0===scrollTop){this._progress=progress;this._runEffects(progress,top);this._transformHeader(top)}},_mayMove:function _mayMove(){return this.condenses||!this.fixed},willCondense:function willCondense(){return 0<this._dHeight&&this.condenses},isOnScreen:function isOnScreen(){return 0!==this._height&&this._top<this._height},isContentBelow:function isContentBelow(){return 0===this._top?0<this._clampedScrollTop:0<=this._clampedScrollTop-this._maxHeaderTop},_transformHeader:function _transformHeader(y){this.translate3d(0,-y+"px",0);if(this._stickyEl){this.translate3d(0,this.condenses&&y>=this._stickyElTop?Math.min(y,this._dHeight)-this._stickyElTop+"px":0,0,this._stickyEl)}},_clamp:function _clamp(v,min,max){return Math.min(max,Math.max(min,v))},_ensureBgContainers:function _ensureBgContainers(){if(!this._bgContainer){this._bgContainer=document.createElement("div");this._bgContainer.id="background";this._bgRear=document.createElement("div");this._bgRear.id="backgroundRearLayer";this._bgContainer.appendChild(this._bgRear);this._bgFront=document.createElement("div");this._bgFront.id="backgroundFrontLayer";this._bgContainer.appendChild(this._bgFront);Polymer.dom(this.root).insertBefore(this._bgContainer,this.$.contentContainer)}},_getDOMRef:function _getDOMRef(id){switch(id){case"backgroundFrontLayer":this._ensureBgContainers();return this._bgFront;case"backgroundRearLayer":this._ensureBgContainers();return this._bgRear;case"background":this._ensureBgContainers();return this._bgContainer;case"mainTitle":return Polymer.dom(this).querySelector("[main-title]");case"condensedTitle":return Polymer.dom(this).querySelector("[condensed-title]");}return null},getScrollState:function getScrollState(){return{progress:this._progress,top:this._top}}});</script></dom-module><dom-module id="app-header-layout" assetpath="../bower_components/app-layout/app-header-layout/"><template><style>:host{display:block;position:relative;z-index:0;}#wrapper ::slotted([slot=header]){@apply --layout-fixed-top;z-index:1;}#wrapper.initializing ::slotted([slot=header]){position:relative;}:host([has-scrolling-region]){height:100%;}:host([has-scrolling-region]) #wrapper ::slotted([slot=header]){position:absolute;}:host([has-scrolling-region]) #wrapper.initializing ::slotted([slot=header]){position:relative;}:host([has-scrolling-region]) #wrapper #contentContainer{@apply --layout-fit;overflow-y:auto;-webkit-overflow-scrolling:touch;}:host([has-scrolling-region]) #wrapper.initializing #contentContainer{position:relative;}:host([fullbleed]){@apply --layout-vertical;@apply --layout-fit;}:host([fullbleed]) #wrapper,
      :host([fullbleed]) #wrapper #contentContainer{@apply --layout-vertical;@apply --layout-flex;}#contentContainer{position:relative;z-index:0;}</style><div id="wrapper" class="initializing"><slot id="headerSlot" name="header"></slot><div id="contentContainer"><slot></slot></div></div></template><script>Polymer({is:"app-header-layout",behaviors:[Polymer.AppLayoutBehavior],properties:{hasScrollingRegion:{type:Boolean,value:!1,reflectToAttribute:!0}},observers:["resetLayout(isAttached, hasScrollingRegion)"],get header(){return Polymer.dom(this.$.headerSlot).getDistributedNodes()[0]},_updateLayoutStates:function _updateLayoutStates(){var header=this.header;if(!this.isAttached||!header){return}this.$.wrapper.classList.remove("initializing");header.scrollTarget=this.hasScrollingRegion?this.$.contentContainer:this.ownerDocument.documentElement;var headerHeight=header.offsetHeight;if(!this.hasScrollingRegion){requestAnimationFrame(function(){var rect=this.getBoundingClientRect(),rightOffset=document.documentElement.clientWidth-rect.right;header.style.left=rect.left+"px";header.style.right=rightOffset+"px"}.bind(this))}else{header.style.left="";header.style.right=""}var containerStyle=this.$.contentContainer.style;if(header.fixed&&!header.condenses&&this.hasScrollingRegion){containerStyle.marginTop=headerHeight+"px";containerStyle.paddingTop=""}else{containerStyle.paddingTop=headerHeight+"px";containerStyle.marginTop=""}}});</script></dom-module><dom-module id="app-toolbar" assetpath="../bower_components/app-layout/app-toolbar/"><template><style>:host{@apply --layout-horizontal;@apply --layout-center;position:relative;height:64px;padding:0 16px;pointer-events:none;font-size:var(--app-toolbar-font-size, 20px);}:host ::slotted(*){pointer-events:auto;}:host ::slotted(paper-icon-button){font-size:0;}:host ::slotted([main-title]),
      :host ::slotted([condensed-title]){pointer-events:none;@apply --layout-flex;}:host ::slotted([bottom-item]){position:absolute;right:0;bottom:0;left:0;}:host ::slotted([top-item]){position:absolute;top:0;right:0;left:0;}:host ::slotted([spacer]){margin-left:64px;}</style><slot></slot></template><script>Polymer({is:"app-toolbar"});</script></dom-module><dom-module id="iron-icon" assetpath="../bower_components/iron-icon/"><template><style>:host{@apply --layout-inline;@apply --layout-center-center;position:relative;vertical-align:middle;fill:var(--iron-icon-fill-color, currentcolor);stroke:var(--iron-icon-stroke-color, none);width:var(--iron-icon-width, 24px);height:var(--iron-icon-height, 24px);@apply --iron-icon;}:host([hidden]){display:none;}</style></template><script>Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function _iconChanged(icon){var parts=(icon||"").split(":");this._iconName=parts.pop();this._iconsetName=parts.pop()||this._DEFAULT_ICONSET;this._updateIcon()},_srcChanged:function _srcChanged(){this._updateIcon()},_usesIconset:function _usesIconset(){return this.icon||!this.src},_updateIcon:function _updateIcon(){if(this._usesIconset()){if(this._img&&this._img.parentNode){Polymer.dom(this.root).removeChild(this._img)}if(""===this._iconName){if(this._iconset){this._iconset.removeIcon(this)}}else if(this._iconsetName&&this._meta){this._iconset=this._meta.byKey(this._iconsetName);if(this._iconset){this._iconset.applyIcon(this,this._iconName,this.theme);this.unlisten(window,"iron-iconset-added","_updateIcon")}else{this.listen(window,"iron-iconset-added","_updateIcon")}}}else{if(this._iconset){this._iconset.removeIcon(this)}if(!this._img){this._img=document.createElement("img");this._img.style.width="100%";this._img.style.height="100%";this._img.draggable=!1}this._img.src=this.src;Polymer.dom(this.root).appendChild(this._img)}}});</script></dom-module><script>(function(){"use strict";var _StringfromCharCode=String.fromCharCode,KEY_IDENTIFIER={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},KEY_CODE={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},MODIFIER_KEYS={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},KEY_CHAR=/[a-z0-9*]/,IDENT_CHAR=/U\+/,ARROW_KEY=/^arrow/,SPACE_KEY=/^space(bar)?/,ESC_KEY=/^escape$/;function transformKey(key,noSpecialChars){var validKey="";if(key){var lKey=key.toLowerCase();if(" "===lKey||SPACE_KEY.test(lKey)){validKey="space"}else if(ESC_KEY.test(lKey)){validKey="esc"}else if(1==lKey.length){if(!noSpecialChars||KEY_CHAR.test(lKey)){validKey=lKey}}else if(ARROW_KEY.test(lKey)){validKey=lKey.replace("arrow","")}else if("multiply"==lKey){validKey="*"}else{validKey=lKey}}return validKey}function transformKeyIdentifier(keyIdent){var validKey="";if(keyIdent){if(keyIdent in KEY_IDENTIFIER){validKey=KEY_IDENTIFIER[keyIdent]}else if(IDENT_CHAR.test(keyIdent)){keyIdent=parseInt(keyIdent.replace("U+","0x"),16);validKey=_StringfromCharCode(keyIdent).toLowerCase()}else{validKey=keyIdent.toLowerCase()}}return validKey}function transformKeyCode(keyCode){var validKey="";if(+keyCode){if(65<=keyCode&&90>=keyCode){validKey=_StringfromCharCode(32+keyCode)}else if(112<=keyCode&&123>=keyCode){validKey="f"+(keyCode-112+1)}else if(48<=keyCode&&57>=keyCode){validKey=keyCode-48+""}else if(96<=keyCode&&105>=keyCode){validKey=keyCode-96+""}else{validKey=KEY_CODE[keyCode]}}return validKey}function normalizedKeyForEvent(keyEvent,noSpecialChars){if(keyEvent.key){return transformKey(keyEvent.key,noSpecialChars)}if(keyEvent.detail&&keyEvent.detail.key){return transformKey(keyEvent.detail.key,noSpecialChars)}return transformKeyIdentifier(keyEvent.keyIdentifier)||transformKeyCode(keyEvent.keyCode)||""}function keyComboMatchesEvent(keyCombo,event){var keyEvent=normalizedKeyForEvent(event,keyCombo.hasModifiers);return keyEvent===keyCombo.key&&(!keyCombo.hasModifiers||!!event.shiftKey===!!keyCombo.shiftKey&&!!event.ctrlKey===!!keyCombo.ctrlKey&&!!event.altKey===!!keyCombo.altKey&&!!event.metaKey===!!keyCombo.metaKey)}function parseKeyComboString(keyComboString){if(1===keyComboString.length){return{combo:keyComboString,key:keyComboString,event:"keydown"}}return keyComboString.split("+").reduce(function(parsedKeyCombo,keyComboPart){var eventParts=keyComboPart.split(":"),keyName=eventParts[0],event=eventParts[1];if(keyName in MODIFIER_KEYS){parsedKeyCombo[MODIFIER_KEYS[keyName]]=!0;parsedKeyCombo.hasModifiers=!0}else{parsedKeyCombo.key=keyName;parsedKeyCombo.event=event||"keydown"}return parsedKeyCombo},{combo:keyComboString.split(":").shift()})}function parseEventString(eventString){return eventString.trim().split(" ").map(function(keyComboString){return parseKeyComboString(keyComboString)})}Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function value(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function value(){return[]}},_imperativeKeyBindings:{type:Object,value:function value(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function registered(){this._prepKeyBindings()},attached:function attached(){this._listenKeyEventListeners()},detached:function detached(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function addOwnKeyBinding(eventString,handlerName){this._imperativeKeyBindings[eventString]=handlerName;this._prepKeyBindings();this._resetKeyEventListeners()},removeOwnKeyBindings:function removeOwnKeyBindings(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},keyboardEventMatchesKeys:function keyboardEventMatchesKeys(event,eventString){for(var keyCombos=parseEventString(eventString),i=0;i<keyCombos.length;++i){if(keyComboMatchesEvent(keyCombos[i],event)){return!0}}return!1},_collectKeyBindings:function _collectKeyBindings(){var keyBindings=this.behaviors.map(function(behavior){return behavior.keyBindings});if(-1===keyBindings.indexOf(this.keyBindings)){keyBindings.push(this.keyBindings)}return keyBindings},_prepKeyBindings:function _prepKeyBindings(){this._keyBindings={};this._collectKeyBindings().forEach(function(keyBindings){for(var eventString in keyBindings){this._addKeyBinding(eventString,keyBindings[eventString])}},this);for(var eventString in this._imperativeKeyBindings){this._addKeyBinding(eventString,this._imperativeKeyBindings[eventString])}for(var eventName in this._keyBindings){this._keyBindings[eventName].sort(function(kb1,kb2){var b1=kb1[0].hasModifiers,b2=kb2[0].hasModifiers;return b1===b2?0:b1?-1:1})}},_addKeyBinding:function _addKeyBinding(eventString,handlerName){parseEventString(eventString).forEach(function(keyCombo){this._keyBindings[keyCombo.event]=this._keyBindings[keyCombo.event]||[];this._keyBindings[keyCombo.event].push([keyCombo,handlerName])},this)},_resetKeyEventListeners:function _resetKeyEventListeners(){this._unlistenKeyEventListeners();if(this.isAttached){this._listenKeyEventListeners()}},_listenKeyEventListeners:function _listenKeyEventListeners(){if(!this.keyEventTarget){return}Object.keys(this._keyBindings).forEach(function(eventName){var keyBindings=this._keyBindings[eventName],boundKeyHandler=this._onKeyBindingEvent.bind(this,keyBindings);this._boundKeyHandlers.push([this.keyEventTarget,eventName,boundKeyHandler]);this.keyEventTarget.addEventListener(eventName,boundKeyHandler)},this)},_unlistenKeyEventListeners:function _unlistenKeyEventListeners(){var keyHandlerTuple,keyEventTarget,eventName,boundKeyHandler;while(this._boundKeyHandlers.length){keyHandlerTuple=this._boundKeyHandlers.pop();keyEventTarget=keyHandlerTuple[0];eventName=keyHandlerTuple[1];boundKeyHandler=keyHandlerTuple[2];keyEventTarget.removeEventListener(eventName,boundKeyHandler)}},_onKeyBindingEvent:function _onKeyBindingEvent(keyBindings,event){if(this.stopKeyboardEventPropagation){event.stopPropagation()}if(event.defaultPrevented){return}for(var i=0;i<keyBindings.length;i++){var keyCombo=keyBindings[i][0],handlerName=keyBindings[i][1];if(keyComboMatchesEvent(keyCombo,event)){this._triggerKeyHandler(keyCombo,handlerName,event);if(event.defaultPrevented){return}}}},_triggerKeyHandler:function _triggerKeyHandler(keyCombo,handlerName,keyboardEvent){var detail=Object.create(keyCombo);detail.keyboardEvent=keyboardEvent;var event=new CustomEvent(keyCombo.event,{detail:detail,cancelable:!0});this[handlerName].call(this,event);if(event.defaultPrevented){keyboardEvent.preventDefault()}}}})();</script><script>Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function value(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function value(){return!this.shadowRoot&&!Polymer.Element}}},observers:["_changedControlState(focused, disabled)"],ready:function ready(){this.addEventListener("focus",this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function _focusBlurHandler(event){if(Polymer.Element){this._setFocused("focus"===event.type);return}if(event.target===this){this._setFocused("focus"===event.type)}else if(this.__handleEventRetargeting){var target=Polymer.dom(event).localTarget;if(!this.isLightDescendant(target)){this.fire(event.type,{sourceEvent:event},{node:this,bubbles:event.bubbles,cancelable:event.cancelable})}}},_disabledChanged:function _disabledChanged(disabled){this.setAttribute("aria-disabled",disabled?"true":"false");this.style.pointerEvents=disabled?"none":"";if(disabled){this._oldTabIndex=this.getAttribute("tabindex");this._setFocused(!1);this.tabIndex=-1;this.blur()}else if(this._oldTabIndex!==void 0){if(null===this._oldTabIndex){this.removeAttribute("tabindex")}else{this.setAttribute("tabindex",this._oldTabIndex)}}},_changedControlState:function _changedControlState(){if(this._controlStateChanged){this._controlStateChanged()}}};</script><script>Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function _tapHandler(){if(this.toggles){this._userActivate(!this.active)}else{this.active=!1}},_focusChanged:function _focusChanged(focused){this._detectKeyboardFocus(focused);if(!focused){this._setPressed(!1)}},_detectKeyboardFocus:function _detectKeyboardFocus(focused){this._setReceivedFocusFromKeyboard(!this.pointerDown&&focused)},_userActivate:function _userActivate(active){if(this.active!==active){this.active=active;this.fire("change")}},_downHandler:function _downHandler(){this._setPointerDown(!0);this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},_upHandler:function _upHandler(){this._setPointerDown(!1);this._setPressed(!1)},_spaceKeyDownHandler:function _spaceKeyDownHandler(event){var keyboardEvent=event.detail.keyboardEvent,target=Polymer.dom(keyboardEvent).localTarget;if(this.isLightDescendant(target))return;keyboardEvent.preventDefault();keyboardEvent.stopImmediatePropagation();this._setPressed(!0)},_spaceKeyUpHandler:function _spaceKeyUpHandler(event){var keyboardEvent=event.detail.keyboardEvent,target=Polymer.dom(keyboardEvent).localTarget;if(this.isLightDescendant(target))return;if(this.pressed){this._asyncClick()}this._setPressed(!1)},_asyncClick:function _asyncClick(){this.async(function(){this.click()},1)},_pressedChanged:function _pressedChanged(){this._changedButtonState()},_ariaActiveAttributeChanged:function _ariaActiveAttributeChanged(value,oldValue){if(oldValue&&oldValue!=value&&this.hasAttribute(oldValue)){this.removeAttribute(oldValue)}},_activeChanged:function _activeChanged(active){if(this.toggles){this.setAttribute(this.ariaActiveAttribute,active?"true":"false")}else{this.removeAttribute(this.ariaActiveAttribute)}this._changedButtonState()},_controlStateChanged:function _controlStateChanged(){if(this.disabled){this._setPressed(!1)}else{this._changedButtonState()}},_changedButtonState:function _changedButtonState(){if(this._buttonStateChanged){this._buttonStateChanged()}}};Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];</script><dom-module id="paper-ripple" assetpath="../bower_components/paper-ripple/"><template><style>:host{display:block;position:absolute;border-radius:inherit;overflow:hidden;top:0;left:0;right:0;bottom:0;pointer-events:none;}:host([animating]){-webkit-transform:translate(0, 0);transform:translate3d(0, 0, 0);}#background,
      #waves,
      .wave-container,
      .wave{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;}#background,
      .wave{opacity:0;}#waves,
      .wave{overflow:hidden;}.wave-container,
      .wave{border-radius:50%;}:host(.circle) #background,
      :host(.circle) #waves{border-radius:50%;}:host(.circle) .wave-container{overflow:hidden;}</style><div id="background"></div><div id="waves"></div></template></dom-module><script>(function(){"use strict";var _Mathmin=Math.min,_Mathmax=Math.max,_Mathsqrt=Math.sqrt,Utility={distance:function distance(x1,y1,x2,y2){var xDelta=x1-x2,yDelta=y1-y2;return _Mathsqrt(xDelta*xDelta+yDelta*yDelta)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function ElementMetrics(element){this.element=element;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=_Mathmax(this.width,this.height)}ElementMetrics.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function furthestCornerDistanceFrom(x,y){var topLeft=Utility.distance(x,y,0,0),topRight=Utility.distance(x,y,this.width,0),bottomLeft=Utility.distance(x,y,0,this.height),bottomRight=Utility.distance(x,y,this.width,this.height);return _Mathmax(topLeft,topRight,bottomLeft,bottomRight)}};function Ripple(element){this.element=element;this.color=window.getComputedStyle(element).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}Ripple.MAX_RADIUS=300;Ripple.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var elapsed;if(!this.mouseDownStart){return 0}elapsed=Utility.now()-this.mouseDownStart;if(this.mouseUpStart){elapsed-=this.mouseUpElapsed}return elapsed},get mouseUpElapsed(){return this.mouseUpStart?Utility.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var width2=this.containerMetrics.width*this.containerMetrics.width,height2=this.containerMetrics.height*this.containerMetrics.height,waveRadius=1.1*_Mathmin(_Mathsqrt(width2+height2),Ripple.MAX_RADIUS)+5,duration=1.1-.2*(waveRadius/Ripple.MAX_RADIUS),timeNow=this.mouseInteractionSeconds/duration,size=waveRadius*(1-Math.pow(80,-timeNow));return Math.abs(size)},get opacity(){if(!this.mouseUpStart){return this.initialOpacity}return _Mathmax(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity)},get outerOpacity(){var outerOpacity=.3*this.mouseUpElapsedSeconds,waveOpacity=this.opacity;return _Mathmax(0,_Mathmin(outerOpacity,waveOpacity))},get isOpacityFullyDecayed(){return .01>this.opacity&&this.radius>=_Mathmin(this.maxRadius,Ripple.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=_Mathmin(this.maxRadius,Ripple.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return _Mathmin(1,2*(this.radius/this.containerMetrics.size)/1.4142135623730951)},get xNow(){if(this.xEnd){return this.xStart+this.translationFraction*(this.xEnd-this.xStart)}return this.xStart},get yNow(){if(this.yEnd){return this.yStart+this.translationFraction*(this.yEnd-this.yStart)}return this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function resetInteractionState(){this.maxRadius=0;this.mouseDownStart=0;this.mouseUpStart=0;this.xStart=0;this.yStart=0;this.xEnd=0;this.yEnd=0;this.slideDistance=0;this.containerMetrics=new ElementMetrics(this.element)},draw:function draw(){var scale,dx,dy;this.wave.style.opacity=this.opacity;scale=this.radius/(this.containerMetrics.size/2);dx=this.xNow-this.containerMetrics.width/2;dy=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+dx+"px, "+dy+"px)";this.waveContainer.style.transform="translate3d("+dx+"px, "+dy+"px, 0)";this.wave.style.webkitTransform="scale("+scale+","+scale+")";this.wave.style.transform="scale3d("+scale+","+scale+",1)"},downAction:function downAction(event){var xCenter=this.containerMetrics.width/2,yCenter=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=Utility.now();if(this.center){this.xStart=xCenter;this.yStart=yCenter;this.slideDistance=Utility.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)}else{this.xStart=event?event.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2;this.yStart=event?event.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2}if(this.recenters){this.xEnd=xCenter;this.yEnd=yCenter;this.slideDistance=Utility.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)}this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function upAction(){if(!this.isMouseDown){return}this.mouseUpStart=Utility.now()},remove:function remove(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function value(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function value(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function attached(){if(11==this.parentNode.nodeType){this.keyEventTarget=Polymer.dom(this).getOwnerRoot().host}else{this.keyEventTarget=this.parentNode}var keyEventTarget=this.keyEventTarget;this.listen(keyEventTarget,"up","uiUpAction");this.listen(keyEventTarget,"down","uiDownAction")},detached:function detached(){this.unlisten(this.keyEventTarget,"up","uiUpAction");this.unlisten(this.keyEventTarget,"down","uiDownAction");this.keyEventTarget=null},get shouldKeepAnimating(){for(var index=0;index<this.ripples.length;++index){if(!this.ripples[index].isAnimationComplete){return!0}}return!1},simulatedRipple:function simulatedRipple(){this.downAction(null);this.async(function(){this.upAction()},1)},uiDownAction:function uiDownAction(event){if(!this.noink){this.downAction(event)}},downAction:function downAction(event){if(this.holdDown&&0<this.ripples.length){return}var ripple=this.addRipple();ripple.downAction(event);if(!this._animating){this._animating=!0;this.animate()}},uiUpAction:function uiUpAction(event){if(!this.noink){this.upAction(event)}},upAction:function upAction(event){if(this.holdDown){return}this.ripples.forEach(function(ripple){ripple.upAction(event)});this._animating=!0;this.animate()},onAnimationComplete:function onAnimationComplete(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},addRipple:function addRipple(){var ripple=new Ripple(this);Polymer.dom(this.$.waves).appendChild(ripple.waveContainer);this.$.background.style.backgroundColor=ripple.color;this.ripples.push(ripple);this._setAnimating(!0);return ripple},removeRipple:function removeRipple(ripple){var rippleIndex=this.ripples.indexOf(ripple);if(0>rippleIndex){return}this.ripples.splice(rippleIndex,1);ripple.remove();if(!this.ripples.length){this._setAnimating(!1)}},animate:function animate(){if(!this._animating){return}var index,ripple;for(index=0;index<this.ripples.length;++index){ripple=this.ripples[index];ripple.draw();this.$.background.style.opacity=ripple.outerOpacity;if(ripple.isOpacityFullyDecayed&&!ripple.isRestingAtMaxRadius){this.removeRipple(ripple)}}if(!this.shouldKeepAnimating&&0===this.ripples.length){this.onAnimationComplete()}else{window.requestAnimationFrame(this._boundAnimate)}},_onEnterKeydown:function _onEnterKeydown(){this.uiDownAction();this.async(this.uiUpAction,1)},_onSpaceKeydown:function _onSpaceKeydown(){this.uiDownAction()},_onSpaceKeyup:function _onSpaceKeyup(){this.uiUpAction()},_holdDownChanged:function _holdDownChanged(newVal,oldVal){if(oldVal===void 0){return}if(newVal){this.downAction()}else{this.upAction()}}})})();</script><script>Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function _buttonStateChanged(){if(this.focused){this.ensureRipple()}},_downHandler:function _downHandler(event){Polymer.IronButtonStateImpl._downHandler.call(this,event);if(this.pressed){this.ensureRipple(event)}},ensureRipple:function ensureRipple(optTriggeringEvent){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var rippleContainer=this._rippleContainer||this.root;if(rippleContainer){Polymer.dom(rippleContainer).appendChild(this._ripple)}if(optTriggeringEvent){var domContainer=Polymer.dom(this._rippleContainer||this),target=Polymer.dom(optTriggeringEvent).rootTarget;if(domContainer.deepContains(target)){this._ripple.uiDownAction(optTriggeringEvent)}}}},getRipple:function getRipple(){this.ensureRipple();return this._ripple},hasRipple:function hasRipple(){return!!this._ripple},_createRipple:function _createRipple(){var element=document.createElement("paper-ripple");return element},_noinkChanged:function _noinkChanged(noink){if(this.hasRipple()){this._ripple.noink=noink}}};</script><script>Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function _calculateElevation(){var e=1;if(this.disabled){e=0}else if(this.active||this.pressed){e=4}else if(this.receivedFocusFromKeyboard){e=3}this._setElevation(e)},_computeKeyboardClass:function _computeKeyboardClass(receivedFocusFromKeyboard){this.toggleClass("keyboard-focus",receivedFocusFromKeyboard)},_spaceKeyDownHandler:function _spaceKeyDownHandler(event){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,event);if(this.hasRipple()&&1>this.getRipple().ripples.length){this._ripple.uiDownAction()}},_spaceKeyUpHandler:function _spaceKeyUpHandler(event){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,event);if(this.hasRipple()){this._ripple.uiUpAction()}}};Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];</script><custom-style><style is="custom-style">html{--shadow-transition:{transition:box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);};--shadow-none:{box-shadow:none;};--shadow-elevation-2dp:{box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);};--shadow-elevation-3dp:{box-shadow:0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);};--shadow-elevation-4dp:{box-shadow:0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-6dp:{box-shadow:0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-8dp:{box-shadow:0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);};--shadow-elevation-12dp:{box-shadow:0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);};--shadow-elevation-16dp:{box-shadow:0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);};--shadow-elevation-24dp:{box-shadow:0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);};}</style></custom-style><dom-module id="paper-material-styles" assetpath="../bower_components/paper-styles/element-styles/"><template><style>:host, html{--paper-material:{display:block;position:relative;};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}:host(.paper-material), .paper-material{@apply --paper-material;}:host(.paper-material[elevation="1"]), .paper-material[elevation="1"]{@apply --paper-material-elevation-1;}:host(.paper-material[elevation="2"]), .paper-material[elevation="2"]{@apply --paper-material-elevation-2;}:host(.paper-material[elevation="3"]), .paper-material[elevation="3"]{@apply --paper-material-elevation-3;}:host(.paper-material[elevation="4"]), .paper-material[elevation="4"]{@apply --paper-material-elevation-4;}:host(.paper-material[elevation="5"]), .paper-material[elevation="5"]{@apply --paper-material-elevation-5;}</style></template></dom-module><dom-module id="paper-button" assetpath="../bower_components/paper-button/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-inline;@apply --layout-center-center;position:relative;box-sizing:border-box;min-width:5.14em;margin:0 0.29em;background:transparent;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;font:inherit;text-transform:uppercase;outline-width:0;border-radius:3px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:pointer;z-index:0;padding:0.7em 0.57em;@apply --paper-font-common-base;@apply --paper-button;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}:host([hidden]){display:none !important;}:host([raised].keyboard-focus){font-weight:bold;@apply --paper-button-raised-keyboard-focus;}:host(:not([raised]).keyboard-focus){font-weight:bold;@apply --paper-button-flat-keyboard-focus;}:host([disabled]){background:none;color:#a8a8a8;cursor:auto;pointer-events:none;@apply --paper-button-disabled;}:host([disabled][raised]){background:#eaeaea;}:host([animated]){@apply --shadow-transition;}paper-ripple{color:var(--paper-button-ink-color);}</style><slot></slot></template><script>Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function _calculateElevation(){if(!this.raised){this._setElevation(0)}else{Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this)}}});</script></dom-module><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic" crossorigin="anonymous"><custom-style><style is="custom-style">html{--paper-font-common-base:{font-family:'Roboto', 'Noto', sans-serif;-webkit-font-smoothing:antialiased;};--paper-font-common-code:{font-family:'Roboto Mono', 'Consolas', 'Menlo', monospace;-webkit-font-smoothing:antialiased;};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility;};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px;};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px;};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px;};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px;};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px;};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px;};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px;};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px;};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px;};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:0.011em;line-height:20px;};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px;};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:0.018em;line-height:24px;text-transform:uppercase;};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px;};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px;};}</style></custom-style><custom-style><style is="custom-style">html{--google-red-100:#f4c7c3;--google-red-300:#e67c73;--google-red-500:#db4437;--google-red-700:#c53929;--google-blue-100:#c6dafc;--google-blue-300:#7baaf7;--google-blue-500:#4285f4;--google-blue-700:#3367d6;--google-green-100:#b7e1cd;--google-green-300:#57bb8a;--google-green-500:#0f9d58;--google-green-700:#0b8043;--google-yellow-100:#fce8b2;--google-yellow-300:#f7cb4d;--google-yellow-500:#f4b400;--google-yellow-700:#f09300;--google-grey-100:#f5f5f5;--google-grey-300:#e0e0e0;--google-grey-500:#9e9e9e;--google-grey-700:#616161;--paper-red-50:#ffebee;--paper-red-100:#ffcdd2;--paper-red-200:#ef9a9a;--paper-red-300:#e57373;--paper-red-400:#ef5350;--paper-red-500:#f44336;--paper-red-600:#e53935;--paper-red-700:#d32f2f;--paper-red-800:#c62828;--paper-red-900:#b71c1c;--paper-red-a100:#ff8a80;--paper-red-a200:#ff5252;--paper-red-a400:#ff1744;--paper-red-a700:#d50000;--paper-pink-50:#fce4ec;--paper-pink-100:#f8bbd0;--paper-pink-200:#f48fb1;--paper-pink-300:#f06292;--paper-pink-400:#ec407a;--paper-pink-500:#e91e63;--paper-pink-600:#d81b60;--paper-pink-700:#c2185b;--paper-pink-800:#ad1457;--paper-pink-900:#880e4f;--paper-pink-a100:#ff80ab;--paper-pink-a200:#ff4081;--paper-pink-a400:#f50057;--paper-pink-a700:#c51162;--paper-purple-50:#f3e5f5;--paper-purple-100:#e1bee7;--paper-purple-200:#ce93d8;--paper-purple-300:#ba68c8;--paper-purple-400:#ab47bc;--paper-purple-500:#9c27b0;--paper-purple-600:#8e24aa;--paper-purple-700:#7b1fa2;--paper-purple-800:#6a1b9a;--paper-purple-900:#4a148c;--paper-purple-a100:#ea80fc;--paper-purple-a200:#e040fb;--paper-purple-a400:#d500f9;--paper-purple-a700:#aa00ff;--paper-deep-purple-50:#ede7f6;--paper-deep-purple-100:#d1c4e9;--paper-deep-purple-200:#b39ddb;--paper-deep-purple-300:#9575cd;--paper-deep-purple-400:#7e57c2;--paper-deep-purple-500:#673ab7;--paper-deep-purple-600:#5e35b1;--paper-deep-purple-700:#512da8;--paper-deep-purple-800:#4527a0;--paper-deep-purple-900:#311b92;--paper-deep-purple-a100:#b388ff;--paper-deep-purple-a200:#7c4dff;--paper-deep-purple-a400:#651fff;--paper-deep-purple-a700:#6200ea;--paper-indigo-50:#e8eaf6;--paper-indigo-100:#c5cae9;--paper-indigo-200:#9fa8da;--paper-indigo-300:#7986cb;--paper-indigo-400:#5c6bc0;--paper-indigo-500:#3f51b5;--paper-indigo-600:#3949ab;--paper-indigo-700:#303f9f;--paper-indigo-800:#283593;--paper-indigo-900:#1a237e;--paper-indigo-a100:#8c9eff;--paper-indigo-a200:#536dfe;--paper-indigo-a400:#3d5afe;--paper-indigo-a700:#304ffe;--paper-blue-50:#e3f2fd;--paper-blue-100:#bbdefb;--paper-blue-200:#90caf9;--paper-blue-300:#64b5f6;--paper-blue-400:#42a5f5;--paper-blue-500:#2196f3;--paper-blue-600:#1e88e5;--paper-blue-700:#1976d2;--paper-blue-800:#1565c0;--paper-blue-900:#0d47a1;--paper-blue-a100:#82b1ff;--paper-blue-a200:#448aff;--paper-blue-a400:#2979ff;--paper-blue-a700:#2962ff;--paper-light-blue-50:#e1f5fe;--paper-light-blue-100:#b3e5fc;--paper-light-blue-200:#81d4fa;--paper-light-blue-300:#4fc3f7;--paper-light-blue-400:#29b6f6;--paper-light-blue-500:#03a9f4;--paper-light-blue-600:#039be5;--paper-light-blue-700:#0288d1;--paper-light-blue-800:#0277bd;--paper-light-blue-900:#01579b;--paper-light-blue-a100:#80d8ff;--paper-light-blue-a200:#40c4ff;--paper-light-blue-a400:#00b0ff;--paper-light-blue-a700:#0091ea;--paper-cyan-50:#e0f7fa;--paper-cyan-100:#b2ebf2;--paper-cyan-200:#80deea;--paper-cyan-300:#4dd0e1;--paper-cyan-400:#26c6da;--paper-cyan-500:#00bcd4;--paper-cyan-600:#00acc1;--paper-cyan-700:#0097a7;--paper-cyan-800:#00838f;--paper-cyan-900:#006064;--paper-cyan-a100:#84ffff;--paper-cyan-a200:#18ffff;--paper-cyan-a400:#00e5ff;--paper-cyan-a700:#00b8d4;--paper-teal-50:#e0f2f1;--paper-teal-100:#b2dfdb;--paper-teal-200:#80cbc4;--paper-teal-300:#4db6ac;--paper-teal-400:#26a69a;--paper-teal-500:#009688;--paper-teal-600:#00897b;--paper-teal-700:#00796b;--paper-teal-800:#00695c;--paper-teal-900:#004d40;--paper-teal-a100:#a7ffeb;--paper-teal-a200:#64ffda;--paper-teal-a400:#1de9b6;--paper-teal-a700:#00bfa5;--paper-green-50:#e8f5e9;--paper-green-100:#c8e6c9;--paper-green-200:#a5d6a7;--paper-green-300:#81c784;--paper-green-400:#66bb6a;--paper-green-500:#4caf50;--paper-green-600:#43a047;--paper-green-700:#388e3c;--paper-green-800:#2e7d32;--paper-green-900:#1b5e20;--paper-green-a100:#b9f6ca;--paper-green-a200:#69f0ae;--paper-green-a400:#00e676;--paper-green-a700:#00c853;--paper-light-green-50:#f1f8e9;--paper-light-green-100:#dcedc8;--paper-light-green-200:#c5e1a5;--paper-light-green-300:#aed581;--paper-light-green-400:#9ccc65;--paper-light-green-500:#8bc34a;--paper-light-green-600:#7cb342;--paper-light-green-700:#689f38;--paper-light-green-800:#558b2f;--paper-light-green-900:#33691e;--paper-light-green-a100:#ccff90;--paper-light-green-a200:#b2ff59;--paper-light-green-a400:#76ff03;--paper-light-green-a700:#64dd17;--paper-lime-50:#f9fbe7;--paper-lime-100:#f0f4c3;--paper-lime-200:#e6ee9c;--paper-lime-300:#dce775;--paper-lime-400:#d4e157;--paper-lime-500:#cddc39;--paper-lime-600:#c0ca33;--paper-lime-700:#afb42b;--paper-lime-800:#9e9d24;--paper-lime-900:#827717;--paper-lime-a100:#f4ff81;--paper-lime-a200:#eeff41;--paper-lime-a400:#c6ff00;--paper-lime-a700:#aeea00;--paper-yellow-50:#fffde7;--paper-yellow-100:#fff9c4;--paper-yellow-200:#fff59d;--paper-yellow-300:#fff176;--paper-yellow-400:#ffee58;--paper-yellow-500:#ffeb3b;--paper-yellow-600:#fdd835;--paper-yellow-700:#fbc02d;--paper-yellow-800:#f9a825;--paper-yellow-900:#f57f17;--paper-yellow-a100:#ffff8d;--paper-yellow-a200:#ffff00;--paper-yellow-a400:#ffea00;--paper-yellow-a700:#ffd600;--paper-amber-50:#fff8e1;--paper-amber-100:#ffecb3;--paper-amber-200:#ffe082;--paper-amber-300:#ffd54f;--paper-amber-400:#ffca28;--paper-amber-500:#ffc107;--paper-amber-600:#ffb300;--paper-amber-700:#ffa000;--paper-amber-800:#ff8f00;--paper-amber-900:#ff6f00;--paper-amber-a100:#ffe57f;--paper-amber-a200:#ffd740;--paper-amber-a400:#ffc400;--paper-amber-a700:#ffab00;--paper-orange-50:#fff3e0;--paper-orange-100:#ffe0b2;--paper-orange-200:#ffcc80;--paper-orange-300:#ffb74d;--paper-orange-400:#ffa726;--paper-orange-500:#ff9800;--paper-orange-600:#fb8c00;--paper-orange-700:#f57c00;--paper-orange-800:#ef6c00;--paper-orange-900:#e65100;--paper-orange-a100:#ffd180;--paper-orange-a200:#ffab40;--paper-orange-a400:#ff9100;--paper-orange-a700:#ff6500;--paper-deep-orange-50:#fbe9e7;--paper-deep-orange-100:#ffccbc;--paper-deep-orange-200:#ffab91;--paper-deep-orange-300:#ff8a65;--paper-deep-orange-400:#ff7043;--paper-deep-orange-500:#ff5722;--paper-deep-orange-600:#f4511e;--paper-deep-orange-700:#e64a19;--paper-deep-orange-800:#d84315;--paper-deep-orange-900:#bf360c;--paper-deep-orange-a100:#ff9e80;--paper-deep-orange-a200:#ff6e40;--paper-deep-orange-a400:#ff3d00;--paper-deep-orange-a700:#dd2c00;--paper-brown-50:#efebe9;--paper-brown-100:#d7ccc8;--paper-brown-200:#bcaaa4;--paper-brown-300:#a1887f;--paper-brown-400:#8d6e63;--paper-brown-500:#795548;--paper-brown-600:#6d4c41;--paper-brown-700:#5d4037;--paper-brown-800:#4e342e;--paper-brown-900:#3e2723;--paper-grey-50:#fafafa;--paper-grey-100:#f5f5f5;--paper-grey-200:#eeeeee;--paper-grey-300:#e0e0e0;--paper-grey-400:#bdbdbd;--paper-grey-500:#9e9e9e;--paper-grey-600:#757575;--paper-grey-700:#616161;--paper-grey-800:#424242;--paper-grey-900:#212121;--paper-blue-grey-50:#eceff1;--paper-blue-grey-100:#cfd8dc;--paper-blue-grey-200:#b0bec5;--paper-blue-grey-300:#90a4ae;--paper-blue-grey-400:#78909c;--paper-blue-grey-500:#607d8b;--paper-blue-grey-600:#546e7a;--paper-blue-grey-700:#455a64;--paper-blue-grey-800:#37474f;--paper-blue-grey-900:#263238;--dark-divider-opacity:0.12;--dark-disabled-opacity:0.38;--dark-secondary-opacity:0.54;--dark-primary-opacity:0.87;--light-divider-opacity:0.12;--light-disabled-opacity:0.3;--light-secondary-opacity:0.7;--light-primary-opacity:1.0;}</style></custom-style><custom-style><style is="custom-style">html{--primary-text-color:var(--light-theme-text-color);--primary-background-color:var(--light-theme-background-color);--secondary-text-color:var(--light-theme-secondary-color);--disabled-text-color:var(--light-theme-disabled-color);--divider-color:var(--light-theme-divider-color);--error-color:var(--paper-deep-orange-a700);--primary-color:var(--paper-indigo-500);--light-primary-color:var(--paper-indigo-100);--dark-primary-color:var(--paper-indigo-700);--accent-color:var(--paper-pink-a200);--light-accent-color:var(--paper-pink-a100);--dark-accent-color:var(--paper-pink-a400);--light-theme-background-color:#ffffff;--light-theme-base-color:#000000;--light-theme-text-color:var(--paper-grey-900);--light-theme-secondary-color:#737373;--light-theme-disabled-color:#9b9b9b;--light-theme-divider-color:#dbdbdb;--dark-theme-background-color:var(--paper-grey-900);--dark-theme-base-color:#ffffff;--dark-theme-text-color:#ffffff;--dark-theme-secondary-color:#bcbcbc;--dark-theme-disabled-color:#646464;--dark-theme-divider-color:#3c3c3c;--text-primary-color:var(--dark-theme-text-color);--default-primary-color:var(--primary-color);}</style></custom-style><script>Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function value(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function value(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function select(value){if(this.multi){this._toggleSelected(value)}else{this.selected=value}},multiChanged:function multiChanged(multi){this._selection.multi=multi;this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function _updateAttrForSelected(){if(!this.multi){Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)}else if(this.selectedItems&&0<this.selectedItems.length){this.selectedValues=this.selectedItems.map(function(selectedItem){return this._indexToValue(this.indexOf(selectedItem))},this).filter(function(unfilteredValue){return null!=unfilteredValue},this)}},_updateSelected:function _updateSelected(){if(this.multi){this._selectMulti(this.selectedValues)}else{this._selectSelected(this.selected)}},_selectMulti:function _selectMulti(values){values=values||[];var selectedItems=(this._valuesToItems(values)||[]).filter(function(item){return null!==item&&item!==void 0});this._selection.clear(selectedItems);for(var i=0;i<selectedItems.length;i++){this._selection.setItemSelected(selectedItems[i],!0)}if(this.fallbackSelection&&!this._selection.get().length){var fallback=this._valueToItem(this.fallbackSelection);if(fallback){this.select(this.fallbackSelection)}}},_selectionChange:function _selectionChange(){var s=this._selection.get();if(this.multi){this._setSelectedItems(s);this._setSelectedItem(s.length?s[0]:null)}else{if(null!==s&&s!==void 0){this._setSelectedItems([s]);this._setSelectedItem(s)}else{this._setSelectedItems([]);this._setSelectedItem(null)}}},_toggleSelected:function _toggleSelected(value){var i=this.selectedValues.indexOf(value);if(0>i){this.push("selectedValues",value)}else{this.splice("selectedValues",i,1)}},_valuesToItems:function _valuesToItems(values){return null==values?null:values.map(function(value){return this._valueToItem(value)},this)}};Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];</script><script>Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function attached(){this._resetTabindices()},select:function select(value){if(this._defaultFocusAsync){this.cancelAsync(this._defaultFocusAsync);this._defaultFocusAsync=null}var item=this._valueToItem(value);if(item&&item.hasAttribute("disabled"))return;this._setFocusedItem(item);Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments)},_resetTabindices:function _resetTabindices(){var selectedItem=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(item){item.setAttribute("tabindex",item===selectedItem?"0":"-1")},this)},_updateMultiselectable:function _updateMultiselectable(multi){if(multi){this.setAttribute("aria-multiselectable","true")}else{this.removeAttribute("aria-multiselectable")}},_focusWithKeyboardEvent:function _focusWithKeyboardEvent(event){if(-1!==this._MODIFIER_KEYS.indexOf(event.key))return;this.cancelDebouncer("_clearSearchText");var searchText=this._searchText||"",key=event.key&&1==event.key.length?event.key:String.fromCharCode(event.keyCode);searchText+=key.toLocaleLowerCase();for(var searchLength=searchText.length,i=0,item;item=this.items[i];i++){if(item.hasAttribute("disabled")){continue}var attr=this.attrForItemTitle||"textContent",title=(item[attr]||item.getAttribute(attr)||"").trim();if(title.length<searchLength){continue}if(title.slice(0,searchLength).toLocaleLowerCase()==searchText){this._setFocusedItem(item);break}}this._searchText=searchText;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)},_clearSearchText:function _clearSearchText(){this._searchText=""},_focusPrevious:function _focusPrevious(){for(var length=this.items.length,curFocusIndex=+this.indexOf(this.focusedItem),i=1,item;i<length+1;i++){item=this.items[(curFocusIndex-i+length)%length];if(!item.hasAttribute("disabled")){var owner=Polymer.dom(item).getOwnerRoot()||document;this._setFocusedItem(item);if(Polymer.dom(owner).activeElement==item){return}}}},_focusNext:function _focusNext(){for(var length=this.items.length,curFocusIndex=+this.indexOf(this.focusedItem),i=1,item;i<length+1;i++){item=this.items[(curFocusIndex+i)%length];if(!item.hasAttribute("disabled")){var owner=Polymer.dom(item).getOwnerRoot()||document;this._setFocusedItem(item);if(Polymer.dom(owner).activeElement==item){return}}}},_applySelection:function _applySelection(item,isSelected){if(isSelected){item.setAttribute("aria-selected","true")}else{item.removeAttribute("aria-selected")}Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function _focusedItemChanged(focusedItem,old){old&&old.setAttribute("tabindex","-1");if(focusedItem&&!focusedItem.hasAttribute("disabled")&&!this.disabled){focusedItem.setAttribute("tabindex","0");focusedItem.focus()}},_onIronItemsChanged:function _onIronItemsChanged(event){if(event.detail.addedNodes.length){this._resetTabindices()}},_onShiftTabDown:function _onShiftTabDown(){var oldTabIndex=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",oldTabIndex);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function _onFocus(event){if(Polymer.IronMenuBehaviorImpl._shiftTabPressed){return}var rootTarget=Polymer.dom(event).rootTarget;if(rootTarget!==this&&"undefined"!==typeof rootTarget.tabIndex&&!this.isLightDescendant(rootTarget)){return}this._defaultFocusAsync=this.async(function(){var selectedItem=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);if(selectedItem){this._setFocusedItem(selectedItem)}else if(this.items[0]){this._focusNext()}})},_onUpKey:function _onUpKey(event){this._focusPrevious();event.detail.keyboardEvent.preventDefault()},_onDownKey:function _onDownKey(event){this._focusNext();event.detail.keyboardEvent.preventDefault()},_onEscKey:function _onEscKey(){var focusedItem=this.focusedItem;if(focusedItem){focusedItem.blur()}},_onKeydown:function _onKeydown(event){if(!this.keyboardEventMatchesKeys(event,"up down esc")){this._focusWithKeyboardEvent(event)}event.stopPropagation()},_activateHandler:function _activateHandler(event){Polymer.IronSelectableBehavior._activateHandler.call(this,event);event.stopPropagation()},_disabledChanged:function _disabledChanged(disabled){if(disabled){this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0;this.removeAttribute("tabindex")}else if(!this.hasAttribute("tabindex")){this.setAttribute("tabindex",this._previousTabIndex)}}};Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];</script><script>Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function _focusedChanged(receivedFocusFromKeyboard){if(receivedFocusFromKeyboard){this.ensureRipple()}if(this.hasRipple()){this._ripple.holdDown=receivedFocusFromKeyboard}},_createRipple:function _createRipple(){var ripple=Polymer.PaperRippleBehavior._createRipple();ripple.id="ink";ripple.setAttribute("center","");ripple.classList.add("circle");return ripple}};Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];</script><dom-module id="paper-icon-button" assetpath="../bower_components/paper-icon-button/"><template strip-whitespace=""><style>:host{display:inline-block;position:relative;padding:8px;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;z-index:0;line-height:1;width:40px;height:40px;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;box-sizing:border-box !important;@apply --paper-icon-button;}:host #ink{color:var(--paper-icon-button-ink-color, var(--primary-text-color));opacity:0.6;}:host([disabled]){color:var(--paper-icon-button-disabled-text, var(--disabled-text-color));pointer-events:none;cursor:auto;@apply --paper-icon-button-disabled;}:host([hidden]){display:none !important;}:host(:hover){@apply --paper-icon-button-hover;}iron-icon{--iron-icon-width:100%;--iron-icon-height:100%;}</style><iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon></template><script>Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function _altChanged(newValue,oldValue){var label=this.getAttribute("aria-label");if(!label||oldValue==label){this.setAttribute("aria-label",newValue)}}});</script></dom-module><script>(function(){"use strict";var SPLICES_RX=/\.splices$/,LENGTH_RX=/\.length$/,NUMBER_RX=/\.?#?([0-9]+)$/;Polymer.AppStorageBehavior={properties:{data:{type:Object,notify:!0,value:function value(){return this.zeroValue}},sequentialTransactions:{type:Boolean,value:!1},log:{type:Boolean,value:!1}},observers:["__dataChanged(data.*)"],created:function created(){this.__initialized=!1;this.__syncingToMemory=!1;this.__initializingStoredValue=null;this.__transactionQueueAdvances=Promise.resolve()},ready:function ready(){this._initializeStoredValue()},get isNew(){return!0},get transactionsComplete(){return this.__transactionQueueAdvances},get zeroValue(){},saveValue:function saveValue(){return Promise.resolve()},reset:function reset(){},destroy:function destroy(){this.data=this.zeroValue;return this.saveValue()},initializeStoredValue:function initializeStoredValue(){if(this.isNew){return Promise.resolve()}return this._getStoredValue("data").then(function(data){this._log("Got stored value!",data,this.data);if(null==data){return this._setStoredValue("data",this.data||this.zeroValue)}else{this.syncToMemory(function(){this.set("data",data)})}}.bind(this))},getStoredValue:function getStoredValue(){return Promise.resolve()},setStoredValue:function setStoredValue(storagePath,value){return Promise.resolve(value)},memoryPathToStoragePath:function memoryPathToStoragePath(path){return path},storagePathToMemoryPath:function storagePathToMemoryPath(path){return path},syncToMemory:function syncToMemory(operation){if(this.__syncingToMemory){return}this._group("Sync to memory.");this.__syncingToMemory=!0;operation.call(this);this.__syncingToMemory=!1;this._groupEnd("Sync to memory.")},valueIsEmpty:function valueIsEmpty(value){if(Array.isArray(value)){return 0===value.length}else if(Object.prototype.isPrototypeOf(value)){return 0===Object.keys(value).length}else{return null==value}},_getStoredValue:function _getStoredValue(path){return this.getStoredValue(this.memoryPathToStoragePath(path))},_setStoredValue:function _setStoredValue(path,value){return this.setStoredValue(this.memoryPathToStoragePath(path),value)},_enqueueTransaction:function _enqueueTransaction(transaction){if(this.sequentialTransactions){transaction=transaction.bind(this)}else{var result=transaction.call(this);transaction=function(){return result}}return this.__transactionQueueAdvances=this.__transactionQueueAdvances.then(transaction).catch(function(error){this._error("Error performing queued transaction.",error)}.bind(this))},_log:function _log(){if(this.log){console.log.apply(console,arguments)}},_error:function _error(){if(this.log){console.error.apply(console,arguments)}},_group:function _group(){if(this.log){console.group.apply(console,arguments)}},_groupEnd:function _groupEnd(){if(this.log){console.groupEnd.apply(console,arguments)}},_initializeStoredValue:function _initializeStoredValue(){if(this.__initializingStoredValue){return}this._group("Initializing stored value.");var initializingStoredValue=this.__initializingStoredValue=this.initializeStoredValue().then(function(){this.__initialized=!0;this.__initializingStoredValue=null;this._groupEnd("Initializing stored value.")}.bind(this)).catch(function(){this.__initializingStoredValue=null;this._groupEnd("Initializing stored value.")}.bind(this));return this._enqueueTransaction(function(){return initializingStoredValue})},__dataChanged:function __dataChanged(change){if(this.isNew||this.__syncingToMemory||!this.__initialized||this.__pathCanBeIgnored(change.path)){return}var path=this.__normalizeMemoryPath(change.path),value=change.value,indexSplices=value&&value.indexSplices;this._enqueueTransaction(function(){this._log("Setting",path+":",indexSplices||value);if(indexSplices&&this.__pathIsSplices(path)){path=this.__parentPath(path);value=this.get(path)}return this._setStoredValue(path,value)})},__normalizeMemoryPath:function __normalizeMemoryPath(path){for(var parts=path.split("."),parentPath=[],currentPath=[],normalizedPath=[],i=0;i<parts.length;++i){currentPath.push(parts[i]);if(/^#/.test(parts[i])){normalizedPath.push(this.get(parentPath).indexOf(this.get(currentPath)))}else{normalizedPath.push(parts[i])}parentPath.push(parts[i])}return normalizedPath.join(".")},__parentPath:function __parentPath(path){var parentPath=path.split(".");return parentPath.slice(0,parentPath.length-1).join(".")},__pathCanBeIgnored:function __pathCanBeIgnored(path){return LENGTH_RX.test(path)&&Array.isArray(this.get(this.__parentPath(path)))},__pathIsSplices:function __pathIsSplices(path){return SPLICES_RX.test(path)&&Array.isArray(this.get(this.__parentPath(path)))},__pathRefersToArray:function __pathRefersToArray(path){return(SPLICES_RX.test(path)||LENGTH_RX.test(path))&&Array.isArray(this.get(this.__parentPath(path)))},__pathTailToIndex:function __pathTailToIndex(path){var tail=path.split(".").pop();return window.parseInt(tail.replace(NUMBER_RX,"$1"),10)}}})();</script><script>(function(){"use strict";Polymer.FirebaseDatabaseBehaviorImpl={properties:{db:{type:Object,computed:"__computeDb(app)"},ref:{type:Object,computed:"__computeRef(db, path, disabled)",observer:"__refChanged"},path:{type:String,value:null,observer:"__pathChanged"},disabled:{type:Boolean,value:!1}},observers:["__onlineChanged(online)"],_setFirebaseValue:function _setFirebaseValue(path,value){this._log("Setting Firebase value at",path,"to",value);var key=value&&value.$key,leaf=value&&value.hasOwnProperty("$val");if(key){value.$key=null}var result=this.db.ref(path).set(leaf?value.$val:value);if(key){value.$key=key}return result},__computeDb:function __computeDb(app){return app?app.database():null},__computeRef:function __computeRef(db,path){if(null==db||null==path||!this.__pathReady(path)||this.disabled){return null}return db.ref(path)},__refChanged:function __refChanged(){},__pathChanged:function __pathChanged(){if(!this.disabled&&!this.valueIsEmpty(this.data)){this.syncToMemory(function(){this.data=this.zeroValue;this.__needSetData=!0})}},__pathReady:function __pathReady(path){return path&&0>path.split("/").slice(1).indexOf("")},__onlineChanged:function __onlineChanged(online){if(!this.ref){return}if(online){this.db.goOnline()}else{this.db.goOffline()}}};Polymer.FirebaseDatabaseBehavior=[Polymer.AppStorageBehavior,Polymer.FirebaseCommonBehavior,Polymer.FirebaseDatabaseBehaviorImpl]})();</script><dom-module id="firebase-query" assetpath="../bower_components/polymerfire/"><script>(function(){"use strict";Polymer({is:"firebase-query",behaviors:[Polymer.FirebaseDatabaseBehavior],properties:{query:{type:Object,computed:"__computeQuery(ref, orderByChild, orderByValue, limitToFirst, limitToLast, startAt, endAt, equalTo)",observer:"__queryChanged"},orderByChild:{type:String,value:""},orderByValue:{type:Boolean,value:!1},startAt:{type:String,value:""},endAt:{type:String,value:""},equalTo:{type:Object,value:null},limitToFirst:{type:Number,value:0},limitToLast:{type:Number,value:0}},created:function created(){this.__map={}},attached:function attached(){this.__queryChanged(this.query,this.query)},detached:function detached(){if(null==this.query){return}this.__queryChanged(null,this.query)},child:function child(key){return this.__map[key]},get isNew(){return this.disabled||!this.__pathReady(this.path)},get zeroValue(){return[]},memoryPathToStoragePath:function memoryPathToStoragePath(path){var storagePath=this.path;if("data"!==path){var parts=path.split("."),index=window.parseInt(parts[1],10);if(null!=index&&!isNaN(index)){parts[1]=null!=this.data[index]&&this.data[index].$key}storagePath+=parts.join("/").replace(/^data\.?/,"")}return storagePath},storagePathToMemoryPath:function storagePathToMemoryPath(storagePath){var path="data";if(storagePath!==this.path){var parts=storagePath.replace(this.path+"/","").split("/"),key=parts[0],datum=this.__map[key];if(datum){parts[0]=this.__indexFromKey(key)}path+="."+parts.join(".")}return path},setStoredValue:function setStoredValue(storagePath,value){if(storagePath===this.path||/\$key$/.test(storagePath)){return Promise.resolve()}else if(/\/\$val$/.test(storagePath)){return this._setFirebaseValue(storagePath.replace(/\/\$val$/,""),value)}else{return this._setFirebaseValue(storagePath,value)}},_propertyToKey:function _propertyToKey(property){var index=window.parseInt(property,10);if(null!=index&&!isNaN(index)){return this.data[index].$key}},__computeQuery:function __computeQuery(ref,orderByChild,orderByValue,limitToFirst,limitToLast,startAt,endAt,equalTo){if(null==ref){return null}var query;if(orderByChild){query=ref.orderByChild(orderByChild)}else if(orderByValue){query=ref.orderByValue()}else{query=ref.orderByKey()}if(limitToFirst){query=query.limitToFirst(limitToFirst)}else if(limitToLast){query=query.limitToLast(limitToLast)}if(startAt){query=query.startAt(startAt)}if(endAt){query=query.endAt(endAt)}if(null!==equalTo){query=query.equalTo(equalTo)}return query},__pathChanged:function __pathChanged(path){if(null==path){this.syncToMemory(function(){this.data=this.zeroValue})}},__queryChanged:function __queryChanged(query,oldQuery){if(oldQuery){oldQuery.off("child_added",this.__onFirebaseChildAdded,this);oldQuery.off("child_removed",this.__onFirebaseChildRemoved,this);oldQuery.off("child_changed",this.__onFirebaseChildChanged,this);oldQuery.off("child_moved",this.__onFirebaseChildMoved,this);this.syncToMemory(function(){this.set("data",this.zeroValue)})}if(query){if(this._onOnce){query.off("child_added",this.__onFirebaseChildAdded,this);query.off("child_removed",this.__onFirebaseChildRemoved,this);query.off("child_changed",this.__onFirebaseChildChanged,this);query.off("child_moved",this.__onFirebaseChildMoved,this)}this._onOnce=!0;query.on("child_added",this.__onFirebaseChildAdded,this.__onError,this);query.on("child_removed",this.__onFirebaseChildRemoved,this.__onError,this);query.on("child_changed",this.__onFirebaseChildChanged,this.__onError,this);query.on("child_moved",this.__onFirebaseChildMoved,this.__onError,this)}},__indexFromKey:function __indexFromKey(key){if(null!=key){for(var i=0;i<this.data.length;i++){if(this.data[i].$key===key){return i}}}return-1},__onFirebaseChildAdded:function __onFirebaseChildAdded(snapshot,previousChildKey){var key=snapshot.key,value=snapshot.val(),previousChildIndex=this.__indexFromKey(previousChildKey);this._log("Firebase child_added:",key,value);value=this.__snapshotToValue(snapshot);this.__map[key]=value;this.splice("data",previousChildIndex+1,0,value)},__onFirebaseChildRemoved:function __onFirebaseChildRemoved(snapshot){var key=snapshot.key,value=this.__map[key];this._log("Firebase child_removed:",key,value);if(value){this.__map[key]=null;this.async(function(){this.syncToMemory(function(){this.splice("data",this.__indexFromKey(key),1)})})}},__onFirebaseChildChanged:function __onFirebaseChildChanged(snapshot){var key=snapshot.key,prev=this.__map[key];this._log("Firebase child_changed:",key,prev);if(prev){this.async(function(){var index=this.__indexFromKey(key),value=this.__snapshotToValue(snapshot);this.__map[key]=value;this.syncToMemory(function(){if(babelHelpers.instanceof(value,Object)){for(var property in value){this.set(["data",index,property],value[property])}for(var property in prev){if(!value.hasOwnProperty(property)){this.set(["data",index,property],void 0)}}}else{this.set(["data",index],value)}})})}},__onFirebaseChildMoved:function __onFirebaseChildMoved(snapshot,previousChildKey){var key=snapshot.key,value=this.__map[key],targetIndex=previousChildKey?this.__indexFromKey(previousChildKey):0;this._log("Firebase child_moved:",key,value,"to index",targetIndex);if(value){var index=this.__indexFromKey(key);value=this.__snapshotToValue(snapshot);this.__map[key]=value;this.async(function(){this.syncToMemory(function(){this.splice("data",index,1);this.splice("data",targetIndex,0,value)})})}},__snapshotToValue:function __snapshotToValue(snapshot){var key=snapshot.key,value=snapshot.val(),leaf="object"!==babelHelpers.typeof(value);if(leaf){value={$key:key,$val:value}}else{value.$key=key}return value}})})();</script></dom-module><dom-module id="shared-styles" assetpath="style/"><template><style>.card{margin:24px;padding:16px;color:#757575;border-radius:5px;background-color:#ffffff;box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);}.circle{display:inline-block;width:64px;height:64px;text-align:center;color:#555;border-radius:50%;background:#ddd;font-size:30px;line-height:64px;}h1{margin:16px 0;color:#212121;font-size:22px;}:host{display:block;padding:10px;}.drawer-list{margin:0 20px;}.drawer-list a{display:block;padding:0 16px;text-decoration:none;color:var(--accent-color);line-height:40px;}.drawer-list a.iron-selected{color:black;font-weight:bold;}.container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:15px;padding:1.5%;-webkit-box-sizing:border-box;box-sizing:border-box;}.welcome{min-height:60px;margin:10px 10px;background-size:contain;background-position:center center;background-repeat:no-repeat;background-image:url('../../images/logo4.png');}.emailTest{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:18px;font-weight:lighter;}.separator{margin:0 10px;font-size:14px;font-weight:lighter;color:#aaa;border-top:1px solid var(--divider-color);}.separator span{padding-top:10px;padding-left:16px;display:block;}app-drawer-layout:not([narrow]) [drawer-toggle]{display:none;}app-header{background-color:var(--dark-primary-color);color:var(--text-primary-color);}app-header paper-icon-button, app-header a{--paper-icon-button-ink-color:white;text-decoration:none;color:white;}paper-item{cursor:pointer;}paper-listbox a{text-decoration:none;color:#212121;}paper-listbox a paper-item.iron-selected{font-weight:bold;background-color:#eeeeee;}</style></template></dom-module><dom-module id="iron-collapse" assetpath="../bower_components/iron-collapse/"><template><style>:host{display:block;transition-duration:var(--iron-collapse-transition-duration, 300ms);-webkit-transition-duration:var(--iron-collapse-transition-duration, 300ms);overflow:visible;}:host(.iron-collapse-closed){display:none;}:host(:not(.iron-collapse-opened)){overflow:hidden;}</style><slot></slot></template></dom-module><script>Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},get _dimensionMaxCss(){return this.horizontal?"max-width":"max-height"},hostAttributes:{role:"group","aria-hidden":"true"},listeners:{transitionend:"_onTransitionEnd"},toggle:function toggle(){this.opened=!this.opened},show:function show(){this.opened=!0},hide:function hide(){this.opened=!1},updateSize:function updateSize(size,animated){size="auto"===size?"":size;var willAnimate=animated&&!this.noAnimation&&this.isAttached&&this._desiredSize!==size;this._desiredSize=size;this._updateTransition(!1);if(willAnimate){var startSize=this._calcSize();if(""===size){this.style[this._dimensionMax]="";size=this._calcSize()}this.style[this._dimensionMax]=startSize;this.scrollTop=this.scrollTop;this._updateTransition(!0);willAnimate=size!==startSize}this.style[this._dimensionMax]=size;if(!willAnimate){this._transitionEnd()}},enableTransition:function enableTransition(enabled){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!enabled},_updateTransition:function _updateTransition(enabled){this.style.transitionDuration=enabled&&!this.noAnimation?"":"0s"},_horizontalChanged:function _horizontalChanged(){this.style.transitionProperty=this._dimensionMaxCss;var otherDimension="maxWidth"===this._dimensionMax?"maxHeight":"maxWidth";this.style[otherDimension]="";this.updateSize(this.opened?"auto":"0px",!1)},_openedChanged:function _openedChanged(){this.setAttribute("aria-hidden",!this.opened);this._setTransitioning(!0);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);if(this.opened){this.focus()}},_transitionEnd:function _transitionEnd(){this.style[this._dimensionMax]=this._desiredSize;this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",this.opened);this._updateTransition(!1);this.notifyResize();this._setTransitioning(!1)},_onTransitionEnd:function _onTransitionEnd(event){if(Polymer.dom(event).rootTarget===this){this._transitionEnd()}},_calcSize:function _calcSize(){return this.getBoundingClientRect()[this.dimension]+"px"}});</script><script>Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function attached(){if(!Polymer.Element){this.fire("iron-form-element-register")}},detached:function detached(){if(!Polymer.Element&&this._parentForm){this._parentForm.fire("iron-form-element-unregister",{target:this})}}};</script><script>Polymer.IronValidatableBehaviorMeta=null;Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function registered(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function _invalidChanged(){if(this.invalid){this.setAttribute("aria-invalid","true")}else{this.removeAttribute("aria-invalid")}},get _validator(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)},hasValidator:function hasValidator(){return null!=this._validator},validate:function validate(value){if(value===void 0&&this.value!==void 0)this.invalid=!this._getValidity(this.value);else this.invalid=!this._getValidity(value);return!this.invalid},_getValidity:function _getValidity(value){if(this.hasValidator()){return this._validator.validate(value)}return!0}};</script><dom-module id="iron-a11y-announcer" assetpath="../bower_components/iron-a11y-announcer/"><template><style>:host{display:inline-block;position:fixed;clip:rect(0px,0px,0px,0px);}</style><div aria-live$="[[mode]]">[[_text]]</div></template><script>(function(){"use strict";Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function created(){if(!Polymer.IronA11yAnnouncer.instance){Polymer.IronA11yAnnouncer.instance=this}document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function announce(text){this._text="";this.async(function(){this._text=text},100)},_onIronAnnounce:function _onIronAnnounce(event){if(event.detail&&event.detail.text){this.announce(event.detail.text)}}});Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){if(!Polymer.IronA11yAnnouncer.instance){Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer")}document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}})();</script></dom-module><dom-module id="iron-input" assetpath="../bower_components/iron-input/"><template><style>:host{display:inline-block;}</style><slot id="content"></slot></template><script>Polymer({is:"iron-input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function created(){Polymer.IronA11yAnnouncer.requestAvailability();this._previousValidInput="";this._patternAlreadyChecked=!1},attached:function attached(){this._observer=Polymer.dom(this).observeNodes(function(){this._initSlottedInput()}.bind(this))},detached:function detached(){if(this._observer){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null}},get inputElement(){return this._inputElement},_initSlottedInput:function _initSlottedInput(){this._inputElement=this.getEffectiveChildren()[0];if(this.inputElement&&this.inputElement.value){this.bindValue=this.inputElement.value}this.fire("iron-input-ready")},get _patternRegExp(){var pattern;if(this.allowedPattern){pattern=new RegExp(this.allowedPattern)}else{switch(this.inputElement.type){case"number":pattern=/[0-9.,e-]/;break;}}return pattern},_bindValueChanged:function _bindValueChanged(bindValue,inputElement){if(!inputElement){return}if(bindValue===void 0){inputElement.value=null}else if(bindValue!==inputElement.value){this.inputElement.value=bindValue}if(this.autoValidate){this.validate()}this.fire("bind-value-changed",{value:bindValue})},_onInput:function _onInput(){if(this.allowedPattern&&!this._patternAlreadyChecked){var valid=this._checkPatternValidity();if(!valid){this._announceInvalidCharacter("Invalid string of characters not entered.");this.inputElement.value=this._previousValidInput}}this.bindValue=this._previousValidInput=this.inputElement.value;this._patternAlreadyChecked=!1},_isPrintable:function _isPrintable(event){var anyNonPrintable=8==event.keyCode||9==event.keyCode||13==event.keyCode||27==event.keyCode,mozNonPrintable=19==event.keyCode||20==event.keyCode||45==event.keyCode||46==event.keyCode||144==event.keyCode||145==event.keyCode||32<event.keyCode&&41>event.keyCode||111<event.keyCode&&124>event.keyCode;return!anyNonPrintable&&!(0==event.charCode&&mozNonPrintable)},_onKeypress:function _onKeypress(event){if(!this.allowedPattern&&"number"!==this.inputElement.type){return}var regexp=this._patternRegExp;if(!regexp){return}if(event.metaKey||event.ctrlKey||event.altKey){return}this._patternAlreadyChecked=!0;var thisChar=String.fromCharCode(event.charCode);if(this._isPrintable(event)&&!regexp.test(thisChar)){event.preventDefault();this._announceInvalidCharacter("Invalid character "+thisChar+" not entered.")}},_checkPatternValidity:function _checkPatternValidity(){var regexp=this._patternRegExp;if(!regexp){return!0}for(var i=0;i<this.inputElement.value.length;i++){if(!regexp.test(this.inputElement.value[i])){return!1}}return!0},validate:function validate(){if(!this.inputElement){this.invalid=!1;return!0}var valid=this.inputElement.checkValidity();if(valid){if(this.required&&""===this.bindValue){valid=!1}else if(this.hasValidator()){valid=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue)}}this.invalid=!valid;this.fire("iron-input-validate");return valid},_announceInvalidCharacter:function _announceInvalidCharacter(message){this.fire("iron-announce",{text:message})},_computeValue:function _computeValue(bindValue){return bindValue}});</script></dom-module><script>Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;Polymer.PaperInputHelper.NextInputID=1;Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){if(!this.$){this.$={}}if(!this.$.input){this._generateInputId();this.$.input=this.$$("#"+this._inputId)}return this.$.input},get _focusableElement(){return this.inputElement},created:function created(){this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]},attached:function attached(){this._updateAriaLabelledBy();if(!Polymer.Element&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)){this.alwaysFloatLabel=!0}},_appendStringWithSpace:function _appendStringWithSpace(str,more){if(str){str=str+" "+more}else{str=more}return str},_onAddonAttached:function _onAddonAttached(event){var target=Polymer.dom(event).rootTarget;if(target.id){this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,target.id)}else{var id="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;target.id=id;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,id)}},validate:function validate(){return this.inputElement.validate()},_focusBlurHandler:function _focusBlurHandler(event){Polymer.IronControlState._focusBlurHandler.call(this,event);if(this.focused&&!this._shiftTabPressed&&this._focusableElement){this._focusableElement.focus()}},_onShiftTabDown:function _onShiftTabDown(){var oldTabIndex=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",oldTabIndex);this._shiftTabPressed=!1},1)},_handleAutoValidate:function _handleAutoValidate(){if(this.autoValidate)this.validate()},updateValueAndPreserveCaret:function updateValueAndPreserveCaret(newValue){try{var start=this.inputElement.selectionStart;this.value=newValue;this.inputElement.selectionStart=start;this.inputElement.selectionEnd=start}catch(e){this.value=newValue}},_computeAlwaysFloatLabel:function _computeAlwaysFloatLabel(alwaysFloatLabel,placeholder){return placeholder||alwaysFloatLabel},_updateAriaLabelledBy:function _updateAriaLabelledBy(){var label=Polymer.dom(this.root).querySelector("label");if(!label){this._ariaLabelledBy="";return}var labelledBy;if(label.id){labelledBy=label.id}else{labelledBy="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++;label.id=labelledBy}this._ariaLabelledBy=labelledBy},_generateInputId:function _generateInputId(){if(!this._inputId||""===this._inputId){this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++}},_onChange:function _onChange(event){if(this.shadowRoot){this.fire(event.type,{sourceEvent:event},{node:this,bubbles:event.bubbles,cancelable:event.cancelable})}},_autofocusChanged:function _autofocusChanged(){if(this.autofocus&&this._focusableElement){var activeElement=document.activeElement,isActiveElementValid=babelHelpers.instanceof(activeElement,HTMLElement),isSomeElementActive=isActiveElementValid&&activeElement!==document.body&&activeElement!==document.documentElement;if(!isSomeElementActive){this._focusableElement.focus()}}}};Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];</script><script>Polymer.PaperInputAddonBehavior={attached:function attached(){this.fire("addon-attached")},update:function update(){}};</script><dom-module id="paper-input-char-counter" assetpath="../bower_components/paper-input/"><template><style>:host{display:inline-block;float:right;@apply --paper-font-caption;@apply --paper-input-char-counter;}:host([hidden]){display:none !important;}:host(:dir(rtl)){float:left;}</style><span>[[_charCounterStr]]</span></template></dom-module><script>Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function update(state){if(!state.inputElement){return}state.value=state.value||"";var counter=state.value.toString().length.toString();if(state.inputElement.hasAttribute("maxlength")){counter+="/"+state.inputElement.getAttribute("maxlength")}this._charCounterStr=counter}});</script><custom-style><style is="custom-style">html{--paper-input-container-shared-input-style:{position:relative;outline:none;box-shadow:none;padding:0;margin:0;width:100%;max-width:100%;background:transparent;border:none;color:var(--paper-input-container-input-color, var(--primary-text-color));-webkit-appearance:none;text-align:inherit;vertical-align:bottom;@apply --paper-font-subhead;};}</style></custom-style><dom-module id="paper-input-container" assetpath="../bower_components/paper-input/"><template><style>:host{display:block;padding:8px 0;@apply --paper-input-container;}:host([inline]){display:inline-block;}:host([disabled]){pointer-events:none;opacity:0.33;@apply --paper-input-container-disabled;}:host([hidden]){display:none !important;}[hidden]{display:none !important;}.floated-label-placeholder{@apply --paper-font-caption;}.underline{height:2px;position:relative;}.focused-line{@apply --layout-fit;border-bottom:2px solid var(--paper-input-container-focus-color, var(--primary-color));-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:scale3d(0,1,1);transform:scale3d(0,1,1);@apply --paper-input-container-underline-focus;}.underline.is-highlighted .focused-line{-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.underline.is-invalid .focused-line{border-color:var(--paper-input-container-invalid-color, var(--error-color));-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.unfocused-line{@apply --layout-fit;border-bottom:1px solid var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline;}:host([disabled]) .unfocused-line{border-bottom:1px dashed;border-color:var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline-disabled;}.input-wrapper{@apply --layout-horizontal;@apply --layout-center;position:relative;}.input-content{@apply --layout-flex-auto;@apply --layout-relative;max-width:100%;}.input-content ::slotted(label),
      .input-content ::slotted(.paper-input-label){position:absolute;top:0;left:0;width:100%;font:inherit;color:var(--paper-input-container-color, var(--secondary-text-color));-webkit-transition:-webkit-transform 0.25s, width 0.25s;transition:transform 0.25s, width 0.25s;-webkit-transform-origin:left top;transform-origin:left top;min-height:1px;@apply --paper-font-common-nowrap;@apply --paper-font-subhead;@apply --paper-input-container-label;@apply --paper-transition-easing;}.input-content.label-is-floating ::slotted(label),
      .input-content.label-is-floating ::slotted(.paper-input-label){-webkit-transform:translateY(-75%) scale(0.75);transform:translateY(-75%) scale(0.75);width:133%;@apply --paper-input-container-label-floating;}:host(:dir(rtl)) .input-content.label-is-floating ::slotted(label),
      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label){right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;}.input-content.label-is-highlighted ::slotted(label),
      .input-content.label-is-highlighted ::slotted(.paper-input-label){color:var(--paper-input-container-focus-color, var(--primary-color));@apply --paper-input-container-label-focus;}.input-content.is-invalid ::slotted(label),
      .input-content.is-invalid ::slotted(.paper-input-label){color:var(--paper-input-container-invalid-color, var(--error-color));}.input-content.label-is-hidden ::slotted(label),
      .input-content.label-is-hidden ::slotted(.paper-input-label){visibility:hidden;}.input-content ::slotted(input),
      .input-content ::slotted(iron-input),
      .input-content ::slotted(textarea),
      .input-content ::slotted(iron-autogrow-textarea),
      .input-content ::slotted(.paper-input-input){@apply --paper-input-container-shared-input-style;color:var(--paper-input-container-input-color, var(--primary-text-color));@apply --paper-input-container-input;}.input-content ::slotted(input)::-webkit-outer-spin-button,
      .input-content ::slotted(input)::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}.input-content.focused ::slotted(input),
      .input-content.focused ::slotted(iron-input),
      .input-content.focused ::slotted(textarea),
      .input-content.focused ::slotted(iron-autogrow-textarea),
      .input-content.focused ::slotted(.paper-input-input){@apply --paper-input-container-input-focus;}.input-content.is-invalid ::slotted(input),
      .input-content.is-invalid ::slotted(iron-input),
      .input-content.is-invalid ::slotted(textarea),
      .input-content.is-invalid ::slotted(iron-autogrow-textarea),
      .input-content.is-invalid ::slotted(.paper-input-input){@apply --paper-input-container-input-invalid;}.prefix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-prefix;}.suffix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-suffix;}.input-content ::slotted(input){min-width:0;}.input-content ::slotted(textarea){resize:none;}.add-on-content{position:relative;}.add-on-content.is-invalid ::slotted(*){color:var(--paper-input-container-invalid-color, var(--error-color));}.add-on-content.is-highlighted ::slotted(*){color:var(--paper-input-container-focus-color, var(--primary-color));}</style><div class="floated-label-placeholder" aria-hidden="true" hidden="[[noLabelFloat]]">&nbsp;</div><div class="input-wrapper"><span class="prefix"><slot name="prefix"></slot></span><div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]" id="labelAndInputContainer"><slot name="label"></slot><slot name="input"></slot></div><span class="suffix"><slot name="suffix"></slot></span></div><div class$="[[_computeUnderlineClass(focused,invalid)]]"><div class="unfocused-line"></div><div class="focused-line"></div></div><div class$="[[_computeAddOnContentClass(focused,invalid)]]"><slot name="add-on"></slot></div></template></dom-module><script>Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,iron-input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function value(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function value(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function value(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function value(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function ready(){this.__isFirstValueUpdate=!0;if(!this._addons){this._addons=[]}this.addEventListener("focus",this._boundOnFocus,!0);this.addEventListener("blur",this._boundOnBlur,!0)},attached:function attached(){if(this.attrForValue){this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged)}else{this.addEventListener("input",this._onInput)}if(this._inputElementValue&&""!=this._inputElementValue){this._handleValueAndAutoValidate(this._inputElement)}else{this._handleValue(this._inputElement)}},_onAddonAttached:function _onAddonAttached(event){if(!this._addons){this._addons=[]}var target=event.target;if(-1===this._addons.indexOf(target)){this._addons.push(target);if(this.isAttached){this._handleValue(this._inputElement)}}},_onFocus:function _onFocus(){this._setFocused(!0)},_onBlur:function _onBlur(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},_onInput:function _onInput(event){this._handleValueAndAutoValidate(event.target)},_onValueChanged:function _onValueChanged(event){var input=event.target;if(this.__isFirstValueUpdate){this.__isFirstValueUpdate=!1;if(input.value===void 0||""===input.value){return}}this._handleValueAndAutoValidate(event.target)},_handleValue:function _handleValue(inputElement){var value=this._inputElementValue;if(value||0===value||"number"===inputElement.type&&!inputElement.checkValidity()){this._inputHasContent=!0}else{this._inputHasContent=!1}this.updateAddons({inputElement:inputElement,value:value,invalid:this.invalid})},_handleValueAndAutoValidate:function _handleValueAndAutoValidate(inputElement){if(this.autoValidate&&inputElement){var valid;if(inputElement.validate){valid=inputElement.validate(this._inputElementValue)}else{valid=inputElement.checkValidity()}this.invalid=!valid}this._handleValue(inputElement)},_onIronInputValidate:function _onIronInputValidate(){this.invalid=this._inputElement.invalid},_invalidChanged:function _invalidChanged(){if(this._addons){this.updateAddons({invalid:this.invalid})}},updateAddons:function updateAddons(state){for(var addon,index=0;addon=this._addons[index];index++){addon.update(state)}},_computeInputContentClass:function _computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent){var cls="input-content";if(!noLabelFloat){var label=this.querySelector("label");if(alwaysFloatLabel||_inputHasContent){cls+=" label-is-floating";this.$.labelAndInputContainer.style.position="static";if(invalid){cls+=" is-invalid"}else if(focused){cls+=" label-is-highlighted"}}else{if(label){this.$.labelAndInputContainer.style.position="relative"}if(invalid){cls+=" is-invalid"}}}else{if(_inputHasContent){cls+=" label-is-hidden"}if(invalid){cls+=" is-invalid"}}if(focused){cls+=" focused"}return cls},_computeUnderlineClass:function _computeUnderlineClass(focused,invalid){var cls="underline";if(invalid){cls+=" is-invalid"}else if(focused){cls+=" is-highlighted"}return cls},_computeAddOnContentClass:function _computeAddOnContentClass(focused,invalid){var cls="add-on-content";if(invalid){cls+=" is-invalid"}else if(focused){cls+=" is-highlighted"}return cls}});</script><dom-module id="paper-input-error" assetpath="../bower_components/paper-input/"><template><style>:host{display:inline-block;visibility:hidden;color:var(--paper-input-container-invalid-color, var(--error-color));@apply --paper-font-caption;@apply --paper-input-error;position:absolute;left:0;right:0;}:host([invalid]){visibility:visible;}</style><slot></slot></template></dom-module><script>Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function update(state){this._setInvalid(state.invalid)}});</script><dom-module id="paper-input" assetpath="../bower_components/paper-input/"><template><style>:host{display:block;}:host([focused]){outline:none;}:host([hidden]){display:none !important;}input{min-width:0;}iron-input > input{@apply --paper-input-container-shared-input-style;font-family:inherit;font-weight:inherit;font-size:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;text-shadow:inherit;color:inherit;cursor:inherit;}input:disabled{@apply --paper-input-container-input-disabled;}input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}input::-webkit-clear-button{@apply --paper-input-container-input-webkit-clear;}input::-webkit-calendar-picker-indicator{@apply --paper-input-container-input-webkit-calendar-picker-indicator;}input::-webkit-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input:-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-ms-clear{@apply --paper-input-container-ms-clear;}input::-ms-reveal{@apply --paper-input-container-ms-reveal;}input:-ms-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}label{pointer-events:none;}</style><paper-input-container id="container" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><slot name="prefix" slot="prefix"></slot><label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label> <span id="template-placeholder"></span><slot name="suffix" slot="suffix"></slot><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if" if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template><template id="v0"><input is="iron-input" slot="input" class="input-element" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></template><template id="v1"><iron-input bind-value="{{value}}" slot="input" class="input-element" id$="[[_inputId]]" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]"><input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></iron-input></template></dom-module><script>Polymer({is:"paper-input",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{value:{type:String}},beforeRegister:function beforeRegister(){var ironInput=document.createElement("iron-input"),version="function"==typeof ironInput._initSlottedInput?"v1":"v0",template=Polymer.DomModule.import("paper-input","template"),inputTemplate=Polymer.DomModule.import("paper-input","template#"+version),inputPlaceholder=template.content.querySelector("#template-placeholder");if(inputPlaceholder){inputPlaceholder.parentNode.replaceChild(inputTemplate.content,inputPlaceholder)}},get _focusableElement(){return Polymer.Element?this.inputElement._inputElement:this.inputElement},listeners:{"iron-input-ready":"_onIronInputReady"},_onIronInputReady:function _onIronInputReady(){if(!this.$.nativeInput){this.$.nativeInput=this.$$("input")}if(this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)){this.alwaysFloatLabel=!0}if(!!this.inputElement.bindValue){this.$.container._handleValueAndAutoValidate(this.inputElement)}}});</script><script>Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function value(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){var fitWidth;if(this.fitInto===window){fitWidth=this.fitInto.innerWidth}else{fitWidth=this.fitInto.getBoundingClientRect().width}return fitWidth},get _fitHeight(){var fitHeight;if(this.fitInto===window){fitHeight=this.fitInto.innerHeight}else{fitHeight=this.fitInto.getBoundingClientRect().height}return fitHeight},get _fitLeft(){var fitLeft;if(this.fitInto===window){fitLeft=0}else{fitLeft=this.fitInto.getBoundingClientRect().left}return fitLeft},get _fitTop(){var fitTop;if(this.fitInto===window){fitTop=0}else{fitTop=this.fitInto.getBoundingClientRect().top}return fitTop},get _defaultPositionTarget(){var parent=Polymer.dom(this).parentNode;if(parent&&parent.nodeType===Node.DOCUMENT_FRAGMENT_NODE){parent=parent.host}return parent},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign){return"left"}if("left"===this.horizontalAlign){return"right"}}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},attached:function attached(){if("undefined"===typeof this._isRTL){this._isRTL="rtl"==window.getComputedStyle(this).direction}this.positionTarget=this.positionTarget||this._defaultPositionTarget;if(this.autoFitOnAttach){if("none"===window.getComputedStyle(this).display){setTimeout(function(){this.fit()}.bind(this))}else{window.ShadyDOM&&ShadyDOM.flush();this.fit()}}},detached:function detached(){if(this.__deferredFit){clearTimeout(this.__deferredFit);this.__deferredFit=null}},fit:function fit(){this.position();this.constrain();this.center()},_discoverInfo:function _discoverInfo(){if(this._fitInfo){return}var target=window.getComputedStyle(this),sizer=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==target.top?"top":"auto"!==target.bottom?"bottom":null,horizontally:"auto"!==target.left?"left":"auto"!==target.right?"right":null},sizedBy:{height:"none"!==sizer.maxHeight,width:"none"!==sizer.maxWidth,minWidth:parseInt(sizer.minWidth,10)||0,minHeight:parseInt(sizer.minHeight,10)||0},margin:{top:parseInt(target.marginTop,10)||0,right:parseInt(target.marginRight,10)||0,bottom:parseInt(target.marginBottom,10)||0,left:parseInt(target.marginLeft,10)||0}}},resetFit:function resetFit(){var info=this._fitInfo||{};for(var property in info.sizerInlineStyle){this.sizingTarget.style[property]=info.sizerInlineStyle[property]}for(var property in info.inlineStyle){this.style[property]=info.inlineStyle[property]}this._fitInfo=null},refit:function refit(){var scrollLeft=this.sizingTarget.scrollLeft,scrollTop=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=scrollLeft;this.sizingTarget.scrollTop=scrollTop},position:function(){var _Mathmax=Math.max,_Mathmin=Math.min;if(!this.__shouldPosition){return}this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing="border-box";this.style.left="0px";this.style.top="0px";var rect=this.getBoundingClientRect(),positionRect=this.__getNormalizedRect(this.positionTarget),fitRect=this.__getNormalizedRect(this.fitInto),margin=this._fitInfo.margin,size={width:rect.width+margin.left+margin.right,height:rect.height+margin.top+margin.bottom},position=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,size,rect,positionRect,fitRect),left=position.left+margin.left,top=position.top+margin.top,right=_Mathmin(fitRect.right-margin.right,left+rect.width),bottom=_Mathmin(fitRect.bottom-margin.bottom,top+rect.height);left=_Mathmax(fitRect.left+margin.left,_Mathmin(left,right-this._fitInfo.sizedBy.minWidth));top=_Mathmax(fitRect.top+margin.top,_Mathmin(top,bottom-this._fitInfo.sizedBy.minHeight));this.sizingTarget.style.maxWidth=_Mathmax(right-left,this._fitInfo.sizedBy.minWidth)+"px";this.sizingTarget.style.maxHeight=_Mathmax(bottom-top,this._fitInfo.sizedBy.minHeight)+"px";this.style.left=left-rect.left+"px";this.style.top=top-rect.top+"px"},constrain:function constrain(){if(this.__shouldPosition){return}this._discoverInfo();var info=this._fitInfo;if(!info.positionedBy.vertically){this.style.position="fixed";this.style.top="0px"}if(!info.positionedBy.horizontally){this.style.position="fixed";this.style.left="0px"}this.sizingTarget.style.boxSizing="border-box";var rect=this.getBoundingClientRect();if(!info.sizedBy.height){this.__sizeDimension(rect,info.positionedBy.vertically,"top","bottom","Height")}if(!info.sizedBy.width){this.__sizeDimension(rect,info.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function _sizeDimension(rect,positionedBy,start,end,extent){this.__sizeDimension(rect,positionedBy,start,end,extent)},__sizeDimension:function __sizeDimension(rect,positionedBy,start,end,extent){var info=this._fitInfo,fitRect=this.__getNormalizedRect(this.fitInto),max="Width"===extent?fitRect.width:fitRect.height,flip=positionedBy===end,offset=flip?max-rect[end]:rect[start],margin=info.margin[flip?start:end],offsetExtent="offset"+extent,sizingOffset=this[offsetExtent]-this.sizingTarget[offsetExtent];this.sizingTarget.style["max"+extent]=max-margin-offset-sizingOffset+"px"},center:function center(){if(this.__shouldPosition){return}this._discoverInfo();var positionedBy=this._fitInfo.positionedBy;if(positionedBy.vertically&&positionedBy.horizontally){return}this.style.position="fixed";if(!positionedBy.vertically){this.style.top="0px"}if(!positionedBy.horizontally){this.style.left="0px"}var rect=this.getBoundingClientRect(),fitRect=this.__getNormalizedRect(this.fitInto);if(!positionedBy.vertically){var top=fitRect.top-rect.top+(fitRect.height-rect.height)/2;this.style.top=top+"px"}if(!positionedBy.horizontally){var left=fitRect.left-rect.left+(fitRect.width-rect.width)/2;this.style.left=left+"px"}},__getNormalizedRect:function __getNormalizedRect(target){if(target===document.documentElement||target===window){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}}return target.getBoundingClientRect()},__getOffscreenArea:function __getOffscreenArea(position,size,fitRect){var _Mathabs=Math.abs,_Mathmin2=Math.min,verticalCrop=_Mathmin2(0,position.top)+_Mathmin2(0,fitRect.bottom-(position.top+size.height)),horizontalCrop=_Mathmin2(0,position.left)+_Mathmin2(0,fitRect.right-(position.left+size.width));return _Mathabs(verticalCrop)*size.width+_Mathabs(horizontalCrop)*size.height},__getPosition:function __getPosition(hAlign,vAlign,size,sizeNoMargins,positionRect,fitRect){var positions=[{verticalAlign:"top",horizontalAlign:"left",top:positionRect.top+this.verticalOffset,left:positionRect.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:positionRect.top+this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:positionRect.bottom-size.height-this.verticalOffset,left:positionRect.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:positionRect.bottom-size.height-this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset}];if(this.noOverlap){for(var i=0,l=positions.length,copy;i<l;i++){copy={};for(var key in positions[i]){copy[key]=positions[i][key]}positions.push(copy)}positions[0].top=positions[1].top+=positionRect.height;positions[2].top=positions[3].top-=positionRect.height;positions[4].left=positions[6].left+=positionRect.width;positions[5].left=positions[7].left-=positionRect.width}vAlign="auto"===vAlign?null:vAlign;hAlign="auto"===hAlign?null:hAlign;if(!hAlign||"center"===hAlign){positions.push({verticalAlign:"top",horizontalAlign:"center",top:positionRect.top+this.verticalOffset+(this.noOverlap?positionRect.height:0),left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset});positions.push({verticalAlign:"bottom",horizontalAlign:"center",top:positionRect.bottom-size.height-this.verticalOffset-(this.noOverlap?positionRect.height:0),left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset})}if(!vAlign||"middle"===vAlign){positions.push({verticalAlign:"middle",horizontalAlign:"left",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.left+this.horizontalOffset+(this.noOverlap?positionRect.width:0)});positions.push({verticalAlign:"middle",horizontalAlign:"right",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.right-size.width-this.horizontalOffset-(this.noOverlap?positionRect.width:0)})}if("middle"===vAlign&&"center"===hAlign){positions.push({verticalAlign:"middle",horizontalAlign:"center",top:positionRect.top-sizeNoMargins.height/2+positionRect.height/2+this.verticalOffset,left:positionRect.left-sizeNoMargins.width/2+positionRect.width/2+this.horizontalOffset})}for(var position,i=0;i<positions.length;i++){var candidate=positions[i],vAlignOk=candidate.verticalAlign===vAlign,hAlignOk=candidate.horizontalAlign===hAlign;if(!this.dynamicAlign&&!this.noOverlap&&vAlignOk&&hAlignOk){position=candidate;break}var alignOk=(!vAlign||vAlignOk)&&(!hAlign||hAlignOk);if(!this.dynamicAlign&&!alignOk){continue}candidate.offscreenArea=this.__getOffscreenArea(candidate,size,fitRect);if(0===candidate.offscreenArea&&alignOk){position=candidate;break}position=position||candidate;var diff=candidate.offscreenArea-position.offscreenArea;if(0>diff||0===diff&&(vAlignOk||hAlignOk)){position=candidate}}return position}};</script><dom-module id="iron-overlay-backdrop" assetpath="../bower_components/iron-overlay-behavior/"><template><style>:host{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--iron-overlay-backdrop-background-color, #000);opacity:0;transition:opacity 0.2s;pointer-events:none;@apply --iron-overlay-backdrop;}:host(.opened){opacity:var(--iron-overlay-backdrop-opacity, 0.6);pointer-events:auto;@apply --iron-overlay-backdrop-opened;}</style><slot></slot></template></dom-module><script>Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function created(){this.__openedRaf=null},attached:function attached(){this.opened&&this._openedChanged(this.opened)},prepare:function prepare(){if(this.opened&&!this.parentNode){Polymer.dom(document.body).appendChild(this)}},open:function open(){this.opened=!0},close:function close(){this.opened=!1},complete:function complete(){if(!this.opened&&this.parentNode===document.body){Polymer.dom(this.parentNode).removeChild(this)}},_onTransitionend:function _onTransitionend(event){if(event&&event.target===this){this.complete()}},_openedChanged:function _openedChanged(opened){if(opened){this.prepare()}else{var cs=window.getComputedStyle(this);if("0s"===cs.transitionDuration||0==cs.opacity){this.complete()}}if(!this.isAttached){return}if(this.__openedRaf){window.cancelAnimationFrame(this.__openedRaf);this.__openedRaf=null}this.scrollTop=this.scrollTop;this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this))}});</script><script>Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document.documentElement,"tap",function(){});document.addEventListener("tap",this._onCaptureClick.bind(this),!0);document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){if(!this._backdropElement){this._backdropElement=document.createElement("iron-overlay-backdrop")}return this._backdropElement},get deepActiveElement(){var active=document.activeElement;if(!active||!1===babelHelpers.instanceof(active,Element)){active=document.body}while(active.root&&Polymer.dom(active.root).activeElement){active=Polymer.dom(active.root).activeElement}return active},_bringOverlayAtIndexToFront:function _bringOverlayAtIndexToFront(i){var overlay=this._overlays[i];if(!overlay){return}var lastI=this._overlays.length-1,currentOverlay=this._overlays[lastI];if(currentOverlay&&this._shouldBeBehindOverlay(overlay,currentOverlay)){lastI--}if(i>=lastI){return}var minimumZ=Math.max(this.currentOverlayZ(),this._minimumZ);if(this._getZ(overlay)<=minimumZ){this._applyOverlayZ(overlay,minimumZ)}while(i<lastI){this._overlays[i]=this._overlays[i+1];i++}this._overlays[lastI]=overlay},addOrRemoveOverlay:function addOrRemoveOverlay(overlay){if(overlay.opened){this.addOverlay(overlay)}else{this.removeOverlay(overlay)}},addOverlay:function addOverlay(overlay){var _Mathmax=Math.max,i=this._overlays.indexOf(overlay);if(0<=i){this._bringOverlayAtIndexToFront(i);this.trackBackdrop();return}var insertionIndex=this._overlays.length,currentOverlay=this._overlays[insertionIndex-1],minimumZ=_Mathmax(this._getZ(currentOverlay),this._minimumZ),newZ=this._getZ(overlay);if(currentOverlay&&this._shouldBeBehindOverlay(overlay,currentOverlay)){this._applyOverlayZ(currentOverlay,minimumZ);insertionIndex--;var previousOverlay=this._overlays[insertionIndex-1];minimumZ=_Mathmax(this._getZ(previousOverlay),this._minimumZ)}if(newZ<=minimumZ){this._applyOverlayZ(overlay,minimumZ)}this._overlays.splice(insertionIndex,0,overlay);this.trackBackdrop()},removeOverlay:function removeOverlay(overlay){var i=this._overlays.indexOf(overlay);if(-1===i){return}this._overlays.splice(i,1);this.trackBackdrop()},currentOverlay:function currentOverlay(){var i=this._overlays.length-1;return this._overlays[i]},currentOverlayZ:function currentOverlayZ(){return this._getZ(this.currentOverlay())},ensureMinimumZ:function ensureMinimumZ(minimumZ){this._minimumZ=Math.max(this._minimumZ,minimumZ)},focusOverlay:function focusOverlay(){var current=this.currentOverlay();if(current){current._applyFocus()}},trackBackdrop:function trackBackdrop(){var overlay=this._overlayWithBackdrop();if(!overlay&&!this._backdropElement){return}this.backdropElement.style.zIndex=this._getZ(overlay)-1;this.backdropElement.opened=!!overlay;this.backdropElement.prepare()},getBackdrops:function getBackdrops(){for(var backdrops=[],i=0;i<this._overlays.length;i++){if(this._overlays[i].withBackdrop){backdrops.push(this._overlays[i])}}return backdrops},backdropZ:function backdropZ(){return this._getZ(this._overlayWithBackdrop())-1},_overlayWithBackdrop:function _overlayWithBackdrop(){for(var i=this._overlays.length-1;0<=i;i--){if(this._overlays[i].withBackdrop){return this._overlays[i]}}},_getZ:function _getZ(overlay){var z=this._minimumZ;if(overlay){var z1=+(overlay.style.zIndex||window.getComputedStyle(overlay).zIndex);if(z1===z1){z=z1}}return z},_setZ:function _setZ(element,z){element.style.zIndex=z},_applyOverlayZ:function _applyOverlayZ(overlay,aboveZ){this._setZ(overlay,aboveZ+2)},_overlayInPath:function _overlayInPath(path){path=path||[];for(var i=0;i<path.length;i++){if(path[i]._manager===this){return path[i]}}},_onCaptureClick:function _onCaptureClick(event){var i=this._overlays.length-1;if(-1===i)return;var path=Polymer.dom(event).path,overlay;while((overlay=this._overlays[i])&&this._overlayInPath(path)!==overlay){overlay._onCaptureClick(event);if(overlay.allowClickThrough){i--}else{break}}},_onCaptureFocus:function _onCaptureFocus(event){var overlay=this.currentOverlay();if(overlay){overlay._onCaptureFocus(event)}},_onCaptureKeyDown:function _onCaptureKeyDown(event){var overlay=this.currentOverlay();if(overlay){if(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(event,"esc")){overlay._onCaptureEsc(event)}else if(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(event,"tab")){overlay._onCaptureTab(event)}}},_shouldBeBehindOverlay:function _shouldBeBehindOverlay(overlay1,overlay2){return!overlay1.alwaysOnTop&&overlay2.alwaysOnTop}};Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;</script><script>(function(){"use strict";var lastTouchPosition={pageX:0,pageY:0},lastRootTarget=null,lastScrollableNodes=[],scrollEvents=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function elementIsScrollLocked(element){var currentLockingElement=this.currentLockingElement;if(currentLockingElement===void 0)return!1;var scrollLocked;if(this._hasCachedLockedElement(element)){return!0}if(this._hasCachedUnlockedElement(element)){return!1}scrollLocked=!!currentLockingElement&&currentLockingElement!==element&&!this._composedTreeContains(currentLockingElement,element);if(scrollLocked){this._lockedElementCache.push(element)}else{this._unlockedElementCache.push(element)}return scrollLocked},pushScrollLock:function pushScrollLock(element){if(0<=this._lockingElements.indexOf(element)){return}if(0===this._lockingElements.length){this._lockScrollInteractions()}this._lockingElements.push(element);this._lockedElementCache=[];this._unlockedElementCache=[]},removeScrollLock:function removeScrollLock(element){var index=this._lockingElements.indexOf(element);if(-1===index){return}this._lockingElements.splice(index,1);this._lockedElementCache=[];this._unlockedElementCache=[];if(0===this._lockingElements.length){this._unlockScrollInteractions()}},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function _hasCachedLockedElement(element){return-1<this._lockedElementCache.indexOf(element)},_hasCachedUnlockedElement:function _hasCachedUnlockedElement(element){return-1<this._unlockedElementCache.indexOf(element)},_composedTreeContains:function _composedTreeContains(element,child){var contentElements,distributedNodes,contentIndex,nodeIndex;if(element.contains(child)){return!0}contentElements=Polymer.dom(element).querySelectorAll("content,slot");for(contentIndex=0;contentIndex<contentElements.length;++contentIndex){distributedNodes=Polymer.dom(contentElements[contentIndex]).getDistributedNodes();for(nodeIndex=0;nodeIndex<distributedNodes.length;++nodeIndex){if(distributedNodes[nodeIndex].nodeType!==Node.ELEMENT_NODE)continue;if(this._composedTreeContains(distributedNodes[nodeIndex],child)){return!0}}}return!1},_scrollInteractionHandler:function _scrollInteractionHandler(event){if(event.cancelable&&this._shouldPreventScrolling(event)){event.preventDefault()}if(event.targetTouches){var touch=event.targetTouches[0];lastTouchPosition.pageX=touch.pageX;lastTouchPosition.pageY=touch.pageY}},_boundScrollHandler:void 0,_lockScrollInteractions:function _lockScrollInteractions(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var i=0,l=scrollEvents.length;i<l;i++){document.addEventListener(scrollEvents[i],this._boundScrollHandler,{capture:!0,passive:!1})}},_unlockScrollInteractions:function _unlockScrollInteractions(){for(var i=0,l=scrollEvents.length;i<l;i++){document.removeEventListener(scrollEvents[i],this._boundScrollHandler,{capture:!0,passive:!1})}},_shouldPreventScrolling:function _shouldPreventScrolling(event){var target=Polymer.dom(event).rootTarget;if("touchmove"!==event.type&&lastRootTarget!==target){lastRootTarget=target;lastScrollableNodes=this._getScrollableNodes(Polymer.dom(event).path)}if(!lastScrollableNodes.length){return!0}if("touchstart"===event.type){return!1}var info=this._getScrollInfo(event);return!this._getScrollingNode(lastScrollableNodes,info.deltaX,info.deltaY)},_getScrollableNodes:function _getScrollableNodes(nodes){for(var scrollables=[],lockingIndex=nodes.indexOf(this.currentLockingElement),i=0;i<=lockingIndex;i++){if(nodes[i].nodeType!==Node.ELEMENT_NODE){continue}var node=nodes[i],style=node.style;if("scroll"!==style.overflow&&"auto"!==style.overflow){style=window.getComputedStyle(node)}if("scroll"===style.overflow||"auto"===style.overflow){scrollables.push(node)}}return scrollables},_getScrollingNode:function _getScrollingNode(nodes,deltaX,deltaY){var _Mathabs=Math.abs;if(!deltaX&&!deltaY){return}for(var verticalScroll=_Mathabs(deltaY)>=_Mathabs(deltaX),i=0;i<nodes.length;i++){var node=nodes[i],canScroll=!1;if(verticalScroll){canScroll=0>deltaY?0<node.scrollTop:node.scrollTop<node.scrollHeight-node.clientHeight}else{canScroll=0>deltaX?0<node.scrollLeft:node.scrollLeft<node.scrollWidth-node.clientWidth}if(canScroll){return node}}},_getScrollInfo:function _getScrollInfo(event){var info={deltaX:event.deltaX,deltaY:event.deltaY};if("deltaX"in event){}else if("wheelDeltaX"in event&&"wheelDeltaY"in event){info.deltaX=-event.wheelDeltaX;info.deltaY=-event.wheelDeltaY}else if("wheelDelta"in event){info.deltaX=0;info.deltaY=-event.wheelDelta}else if("axis"in event){info.deltaX=1===event.axis?event.detail:0;info.deltaY=2===event.axis?event.detail:0}else if(event.targetTouches){var touch=event.targetTouches[0];info.deltaX=lastTouchPosition.pageX-touch.pageX;info.deltaY=lastTouchPosition.pageY-touch.pageY}return info}}})();</script><script>(function(){"use strict";var p=Element.prototype,matches=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function getTabbableNodes(node){var result=[],needsSortByTabIndex=this._collectTabbableNodes(node,result);if(needsSortByTabIndex){return this._sortByTabIndex(result)}return result},isFocusable:function isFocusable(element){if(matches.call(element,"input, select, textarea, button, object")){return matches.call(element,":not([disabled])")}return matches.call(element,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function isTabbable(element){return this.isFocusable(element)&&matches.call(element,":not([tabindex=\"-1\"])")&&this._isVisible(element)},_normalizedTabIndex:function _normalizedTabIndex(element){if(this.isFocusable(element)){var tabIndex=element.getAttribute("tabindex")||0;return+tabIndex}return-1},_collectTabbableNodes:function _collectTabbableNodes(node,result){if(node.nodeType!==Node.ELEMENT_NODE||!this._isVisible(node)){return!1}var element=node,tabIndex=this._normalizedTabIndex(element),needsSort=0<tabIndex;if(0<=tabIndex){result.push(element)}var children;if("content"===element.localName||"slot"===element.localName){children=Polymer.dom(element).getDistributedNodes()}else{children=Polymer.dom(element.root||element).children}for(var i=0;i<children.length;i++){needsSort=this._collectTabbableNodes(children[i],result)||needsSort}return needsSort},_isVisible:function _isVisible(element){var style=element.style;if("hidden"!==style.visibility&&"none"!==style.display){style=window.getComputedStyle(element);return"hidden"!==style.visibility&&"none"!==style.display}return!1},_sortByTabIndex:function _sortByTabIndex(tabbables){var len=tabbables.length;if(2>len){return tabbables}var pivot=Math.ceil(len/2),left=this._sortByTabIndex(tabbables.slice(0,pivot)),right=this._sortByTabIndex(tabbables.slice(pivot));return this._mergeSortByTabIndex(left,right)},_mergeSortByTabIndex:function _mergeSortByTabIndex(left,right){var result=[];while(0<left.length&&0<right.length){if(this._hasLowerTabOrder(left[0],right[0])){result.push(right.shift())}else{result.push(left.shift())}}return result.concat(left,right)},_hasLowerTabOrder:function _hasLowerTabOrder(a,b){var _Mathmax=Math.max,ati=_Mathmax(a.tabIndex,0),bti=_Mathmax(b.tabIndex,0);return 0===ati||0===bti?bti>ati:ati>bti}}})();</script><script>(function(){"use strict";Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function ready(){this.__isAnimating=!1;this.__shouldRemoveTabIndex=!1;this.__firstFocusableNode=this.__lastFocusableNode=null;this.__rafs={};this.__restoreFocusNode=null;this.__scrollTop=this.__scrollLeft=null;this.__onCaptureScroll=this.__onCaptureScroll.bind(this);this.__rootNodes=null;this._ensureSetup()},attached:function attached(){if(this.opened){this._openedChanged(this.opened)}this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function detached(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;for(var cb in this.__rafs){if(null!==this.__rafs[cb]){cancelAnimationFrame(this.__rafs[cb])}}this.__rafs={};this._manager.removeOverlay(this);if(this.__isAnimating){if(this.opened){this._finishRenderOpened()}else{this._applyFocus();this._finishRenderClosed()}}},toggle:function toggle(){this._setCanceled(!1);this.opened=!this.opened},open:function open(){this._setCanceled(!1);this.opened=!0},close:function close(){this._setCanceled(!1);this.opened=!1},cancel:function cancel(event){var cancelEvent=this.fire("iron-overlay-canceled",event,{cancelable:!0});if(cancelEvent.defaultPrevented){return}this._setCanceled(!0);this.opened=!1},invalidateTabbables:function invalidateTabbables(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function _ensureSetup(){if(this._overlaySetup){return}this._overlaySetup=!0;this.style.outline="none";this.style.display="none"},_openedChanged:function _openedChanged(opened){if(opened){this.removeAttribute("aria-hidden")}else{this.setAttribute("aria-hidden","true")}if(!this.isAttached){return}this.__isAnimating=!0;this.__deraf("__openedChanged",this.__openedChanged)},_canceledChanged:function _canceledChanged(){this.closingReason=this.closingReason||{};this.closingReason.canceled=this.canceled},_withBackdropChanged:function _withBackdropChanged(){if(this.withBackdrop&&!this.hasAttribute("tabindex")){this.setAttribute("tabindex","-1");this.__shouldRemoveTabIndex=!0}else if(this.__shouldRemoveTabIndex){this.removeAttribute("tabindex");this.__shouldRemoveTabIndex=!1}if(this.opened&&this.isAttached){this._manager.trackBackdrop()}},_prepareRenderOpened:function _prepareRenderOpened(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();if(this.noAutoFocus&&document.activeElement===this._focusNode){this._focusNode.blur();this.__restoreFocusNode.focus()}},_renderOpened:function _renderOpened(){this._finishRenderOpened()},_renderClosed:function _renderClosed(){this._finishRenderClosed()},_finishRenderOpened:function _finishRenderOpened(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},_finishRenderClosed:function _finishRenderClosed(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function _preparePositioning(){this.style.transition=this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function _finishPositioning(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},_applyFocus:function _applyFocus(){if(this.opened){if(!this.noAutoFocus){this._focusNode.focus()}}else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var activeElement=this._manager.deepActiveElement;if(activeElement===document.body||Polymer.dom(this).deepContains(activeElement)){this.__restoreFocusNode.focus()}}this.__restoreFocusNode=null;this._focusNode.blur();this._focusedChild=null}},_onCaptureClick:function _onCaptureClick(event){if(!this.noCancelOnOutsideClick){this.cancel(event)}},_onCaptureFocus:function _onCaptureFocus(event){if(!this.withBackdrop){return}var path=Polymer.dom(event).path;if(-1===path.indexOf(this)){event.stopPropagation();this._applyFocus()}else{this._focusedChild=path[0]}},_onCaptureEsc:function _onCaptureEsc(event){if(!this.noCancelOnEscKey){this.cancel(event)}},_onCaptureTab:function _onCaptureTab(event){if(!this.withBackdrop){return}this.__ensureFirstLastFocusables();var shift=event.shiftKey,nodeToCheck=shift?this.__firstFocusableNode:this.__lastFocusableNode,nodeToSet=shift?this.__lastFocusableNode:this.__firstFocusableNode,shouldWrap=!1;if(nodeToCheck===nodeToSet){shouldWrap=!0}else{var focusedNode=this._manager.deepActiveElement;shouldWrap=focusedNode===nodeToCheck||focusedNode===this}if(shouldWrap){event.preventDefault();this._focusedChild=nodeToSet;this._applyFocus()}},_onIronResize:function _onIronResize(){if(this.opened&&!this.__isAnimating){this.__deraf("refit",this.refit)}},_onNodesChange:function _onNodesChange(){if(this.opened&&!this.__isAnimating){this.invalidateTabbables();this.notifyResize()}},__ensureFirstLastFocusables:function __ensureFirstLastFocusables(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var focusableNodes=this._focusableNodes;this.__firstFocusableNode=focusableNodes[0];this.__lastFocusableNode=focusableNodes[focusableNodes.length-1]}},__openedChanged:function __openedChanged(){if(this.opened){this._prepareRenderOpened();this._manager.addOverlay(this);this._applyFocus();this._renderOpened()}else{this._manager.removeOverlay(this);this._applyFocus();this._renderClosed()}},__deraf:function __deraf(jobname,callback){var rafs=this.__rafs;if(null!==rafs[jobname]){cancelAnimationFrame(rafs[jobname])}rafs[jobname]=requestAnimationFrame(function(){rafs[jobname]=null;callback.call(this)}.bind(this))},__updateScrollObservers:function __updateScrollObservers(isAttached,opened,scrollAction){if(!isAttached||!opened||!this.__isValidScrollAction(scrollAction)){Polymer.IronScrollManager.removeScrollLock(this);this.__removeScrollListeners()}else{if("lock"===scrollAction){this.__saveScrollPosition();Polymer.IronScrollManager.pushScrollLock(this)}this.__addScrollListeners()}},__addScrollListeners:function __addScrollListeners(){if(!this.__rootNodes){this.__rootNodes=[];if(Polymer.Settings.useShadow){var node=this;while(node){if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&node.host){this.__rootNodes.push(node)}node=node.host||node.assignedSlot||node.parentNode}}this.__rootNodes.push(document)}this.__rootNodes.forEach(function(el){el.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)},__removeScrollListeners:function __removeScrollListeners(){if(this.__rootNodes){this.__rootNodes.forEach(function(el){el.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)}if(!this.isAttached){this.__rootNodes=null}},__isValidScrollAction:function __isValidScrollAction(scrollAction){return"lock"===scrollAction||"refit"===scrollAction||"cancel"===scrollAction},__onCaptureScroll:function __onCaptureScroll(event){if(this.__isAnimating){return}if(0<=Polymer.dom(event).path.indexOf(this)){return}switch(this.scrollAction){case"lock":this.__restoreScrollPosition();break;case"refit":this.__deraf("refit",this.refit);break;case"cancel":this.cancel(event);break;}},__saveScrollPosition:function __saveScrollPosition(){var _Mathmax=Math.max;if(document.scrollingElement){this.__scrollTop=document.scrollingElement.scrollTop;this.__scrollLeft=document.scrollingElement.scrollLeft}else{this.__scrollTop=_Mathmax(document.documentElement.scrollTop,document.body.scrollTop);this.__scrollLeft=_Mathmax(document.documentElement.scrollLeft,document.body.scrollLeft)}},__restoreScrollPosition:function __restoreScrollPosition(){if(document.scrollingElement){document.scrollingElement.scrollTop=this.__scrollTop;document.scrollingElement.scrollLeft=this.__scrollLeft}else{document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop;document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft}}};Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl]})();</script><script>Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function _entryAnimationChanged(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function _exitAnimationChanged(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function _copyProperties(config1,config2){for(var property in config2){config1[property]=config2[property]}},_cloneConfig:function _cloneConfig(config){var clone={isClone:!0};this._copyProperties(clone,config);return clone},_getAnimationConfigRecursive:function _getAnimationConfigRecursive(type,map,allConfigs){if(!this.animationConfig){return}if(this.animationConfig.value&&"function"===typeof this.animationConfig.value){this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));return}var thisConfig;if(type){thisConfig=this.animationConfig[type]}else{thisConfig=this.animationConfig}if(!Array.isArray(thisConfig)){thisConfig=[thisConfig]}if(thisConfig){for(var config,index=0;config=thisConfig[index];index++){if(config.animatable){config.animatable._getAnimationConfigRecursive(config.type||type,map,allConfigs)}else{if(config.id){var cachedConfig=map[config.id];if(cachedConfig){if(!cachedConfig.isClone){map[config.id]=this._cloneConfig(cachedConfig);cachedConfig=map[config.id]}this._copyProperties(cachedConfig,config)}else{map[config.id]=config}}else{allConfigs.push(config)}}}}},getAnimationConfig:function getAnimationConfig(type){var map={},allConfigs=[];this._getAnimationConfigRecursive(type,map,allConfigs);for(var key in map){allConfigs.push(map[key])}return allConfigs}};</script><script>Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function _configureAnimations(configs){var results=[],resultsToPlay=[];if(0<configs.length){for(var config,index=0,neonAnimation;config=configs[index];index++){neonAnimation=document.createElement(config.name);if(neonAnimation.isNeonAnimation){var result=null;if(!neonAnimation.configure){neonAnimation.configure=function(){return null}}result=neonAnimation.configure(config);resultsToPlay.push({result:result,config:config})}else{console.warn(this.is+":",config.name,"not found!")}}}for(var i=0;i<resultsToPlay.length;i++){var result=resultsToPlay[i].result,config=resultsToPlay[i].config;try{if("function"!=typeof result.cancel){result=document.timeline.play(result)}}catch(e){result=null;console.warn("Couldnt play","(",config.name,").",e)}if(result){results.push({neonAnimation:neonAnimation,config:config,animation:result})}}return results},_shouldComplete:function _shouldComplete(activeEntries){for(var finished=!0,i=0;i<activeEntries.length;i++){if("finished"!=activeEntries[i].animation.playState){finished=!1;break}}return finished},_complete:function _complete(activeEntries){for(var i=0;i<activeEntries.length;i++){activeEntries[i].neonAnimation.complete(activeEntries[i].config)}for(var i=0;i<activeEntries.length;i++){activeEntries[i].animation.cancel()}},playAnimation:function playAnimation(type,cookie){var configs=this.getAnimationConfig(type);if(!configs){return}this._active=this._active||{};if(this._active[type]){this._complete(this._active[type]);delete this._active[type]}var activeEntries=this._configureAnimations(configs);if(0==activeEntries.length){this.fire("neon-animation-finish",cookie,{bubbles:!1});return}this._active[type]=activeEntries;for(var i=0;i<activeEntries.length;i++){activeEntries[i].animation.onfinish=function(){if(this._shouldComplete(activeEntries)){this._complete(activeEntries);delete this._active[type];this.fire("neon-animation-finish",cookie,{bubbles:!1})}}.bind(this)}},cancelAnimation:function cancelAnimation(){for(var k in this._active){var entries=this._active[k];for(var j in entries){entries[j].animation.cancel()}}this._active={}}};Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];</script><script>Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function _onUpKey(event){this.focusedItem.click();event.detail.keyboardEvent.preventDefault()},_onDownKey:function _onDownKey(event){this.focusedItem.click();event.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function _onLeftKey(event){if(this._isRTL){this._focusNext()}else{this._focusPrevious()}event.detail.keyboardEvent.preventDefault()},_onRightKey:function _onRightKey(event){if(this._isRTL){this._focusPrevious()}else{this._focusNext()}event.detail.keyboardEvent.preventDefault()},_onKeydown:function _onKeydown(event){if(this.keyboardEventMatchesKeys(event,"up down left right esc")){return}this._focusWithKeyboardEvent(event)}};Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];</script><iron-iconset-svg name="icons" size="24"><svg><defs><g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z"></path></g><g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"></path></g><g id="accessible"><circle cx="12" cy="4" r="2"></circle><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z"></path></g><g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z"></path></g><g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"></path></g><g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></g><g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></g><g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z"></path></g><g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g><g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g><g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"></path></g><g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"></path></g><g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z"></path></g><g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z"></path></g><g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z"></path></g><g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"></path></g><g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"></path></g><g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path></g><g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"></path></g><g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g><g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path></g><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g><g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z"></path></g><g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"></path></g><g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path></g><g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"></path></g><g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g><g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g><g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></g><g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"></path></g><g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g><g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z"></path></g><g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z"></path></g><g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g><g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"></path></g><g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></path></g><g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"></path></g><g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g><g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"></path></g><g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g><g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g><g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g><g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path></g><g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"></path></g><g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"></path></g><g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z"></path></g><g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></g><g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g><g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z"></path></g><g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"></path></g><g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"></path></g><g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></g><g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g><g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g><g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z"></path></g><g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g><g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"></path></g><g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z"></path></g><g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"></path></g><g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></g><g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"></path></g><g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"></path></g><g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g><g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></g><g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"></path></g><g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></g><g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"></path></g><g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path></g><g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"></path></g><g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g><g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"></path></g><g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"></path></g><g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="delete-forever"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="delete-sweep"><path d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"></path></g><g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></g><g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g><g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"></path></g><g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"></path></g><g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z"></path></g><g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"></path></g><g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z"></path></g><g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="euro-symbol"><path d="M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1 0 .34.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z"></path></g><g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"></path></g><g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z"></path></g><g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g><g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g><g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"></path></g><g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"></path></g><g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"></path></g><g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></g><g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"></path></g><g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"></path></g><g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path></g><g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></g><g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"></path></g><g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z"></path></g><g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"></path></g><g id="first-page"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"></path></g><g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g><g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z"></path></g><g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z"></path></g><g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z"></path></g><g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z"></path></g><g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"></path></g><g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"></path></g><g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"></path></g><g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z"></path></g><g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z"></path></g><g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></g><g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></g><g id="g-translate"><path d="M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06-1.23 1.18-.06-.05c-.29-.27-.78-.59-1.52-.59-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61 0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2-.81-2.77.92-.92L17.79 18l.73-.73-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z"></path></g><g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z"></path></g><g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"></path></g><g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"></path></g><g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g><g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></g><g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g><g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"></path></g><g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z"></path></g><g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z"></path></g><g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g><g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z"></path></g><g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"></path></g><g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></path></g><g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path></g><g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></g><g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"></path></g><g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"></path></g><g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"></path></g><g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"></path></g><g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"></path></g><g id="last-page"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"></path></g><g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g><g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"></path></g><g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z"></path></g><g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"></path></g><g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g><g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></g><g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g><g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"></path></g><g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"></path></g><g id="low-priority"><path d="M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z"></path></g><g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z"></path></g><g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"></path></g><g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g><g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path></g><g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"></path></g><g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z"></path></g><g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"></path></g><g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z"></path></g><g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"></path></g><g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"></path></g><g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g><g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path></g><g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z"></path></g><g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"></path></g><g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g><g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z"></path></g><g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"></path></g><g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g><g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g><g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"></path></g><g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z"></path></g><g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z"></path></g><g id="pets"><circle cx="4.5" cy="9.5" r="2.5"></circle><circle cx="9" cy="5.5" r="2.5"></circle><circle cx="15" cy="5.5" r="2.5"></circle><circle cx="19.5" cy="9.5" r="2.5"></circle><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"></path></g><g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"></path></g><g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"></path></g><g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z"></path></g><g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z"></path></g><g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"></path></g><g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z"></path></g><g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></g><g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g><g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></g><g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"></path></g><g id="record-voice-over"><circle cx="9" cy="9" r="4"></circle><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"></path></g><g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g><g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"></path></g><g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></g><g id="remove"><path d="M19 13H5v-2h14v2z"></path></g><g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"></path></g><g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="remove-shopping-cart"><path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z"></path></g><g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"></path></g><g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g><g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g><g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></g><g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="restore-page"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z"></path></g><g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z"></path></g><g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z"></path></g><g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></g><g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g><g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></g><g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"></path></g><g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g><g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g><g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z"></path></g><g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"></path></g><g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z"></path></g><g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z"></path></g><g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z"></path></g><g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z"></path></g><g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z"></path></g><g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g><g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g><g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z"></path></g><g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g><g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g><g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z"></path></g><g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z"></path></g><g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z"></path></g><g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z"></path></g><g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z"></path></g><g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z"></path></g><g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"></path></g><g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z"></path></g><g id="speaker-notes-off"><path d="M10.54 11l-.54-.54L7.54 8 6 6.46 2.38 2.84 1.27 1.73 0 3l2.01 2.01L2 22l4-4h9l5.73 5.73L22 22.46 17.54 18l-7-7zM8 14H6v-2h2v2zm-2-3V9l2 2H6zm14-9H4.08L10 7.92V6h8v2h-7.92l1 1H18v2h-4.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2z"></path></g><g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"></path></g><g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"></path></g><g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"></path></g><g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z"></path></g><g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"></path></g><g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"></path></g><g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"></path></g><g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"></path></g><g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"></path></g><g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z"></path></g><g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z"></path></g><g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"></path></g><g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z"></path></g><g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z"></path></g><g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"></path></g><g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"></path></g><g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"></path></g><g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z"></path></g><g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"></path></g><g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path></g><g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"></path></g><g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z"></path></g><g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z"></path></g><g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"></path></g><g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></g><g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"></path></g><g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z"></path></g><g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"></path></g><g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g><g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g><g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z"></path></g><g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"></path></g><g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"></path></g><g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"></path></g><g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"></path></g><g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g><g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z"></path></g><g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z"></path></g><g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z"></path></g><g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"></path></g><g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z"></path></g><g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"></path></g><g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"></path></g><g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"></path></g><g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z"></path></g><g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z"></path></g><g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"></path></g><g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></g><g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"></path></g><g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z"></path></g><g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"></path></g><g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z"></path></g><g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></g><g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"></path></g></defs></svg></iron-iconset-svg><iron-iconset-svg name="communication" size="24"><svg><defs><g id="business"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"></path></g><g id="call"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"></path></g><g id="call-end"><path d="M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"></path></g><g id="call-made"><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"></path></g><g id="call-merge"><path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z"></path></g><g id="call-missed"><path d="M19.59 7L12 14.59 6.41 9H11V7H3v8h2v-4.59l7 7 9-9z"></path></g><g id="call-missed-outgoing"><path d="M3 8.41l9 9 7-7V15h2V7h-8v2h4.59L12 14.59 4.41 7 3 8.41z"></path></g><g id="call-received"><path d="M20 5.41L18.59 4 7 15.59V9H5v10h10v-2H8.41z"></path></g><g id="call-split"><path d="M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z"></path></g><g id="chat"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"></path></g><g id="chat-bubble"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"></path></g><g id="chat-bubble-outline"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"></path></g><g id="clear-all"><path d="M5 13h14v-2H5v2zm-2 4h14v-2H3v2zM7 7v2h14V7H7z"></path></g><g id="comment"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></g><g id="contact-mail"><path d="M21 8V7l-3 2-3-2v1l3 2 3-2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm8-6h-8V6h8v6z"></path></g><g id="contact-phone"><path d="M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2z"></path></g><g id="contacts"><path d="M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z"></path></g><g id="dialer-sip"><path d="M17 3h-1v5h1V3zm-2 2h-2V4h2V3h-3v3h2v1h-2v1h3V5zm3-2v5h1V6h2V3h-3zm2 2h-1V4h1v1zm0 10.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.01.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.59l2.2-2.21c.27-.26.35-.65.24-1C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1z"></path></g><g id="dialpad"><path d="M12 19c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="email"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="forum"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></g><g id="import-contacts"><path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"></path></g><g id="import-export"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"></path></g><g id="invert-colors-off"><path d="M20.65 20.87l-2.35-2.35-6.3-6.29-3.56-3.57-1.42-1.41L4.27 4.5 3 5.77l2.78 2.78c-2.55 3.14-2.36 7.76.56 10.69C7.9 20.8 9.95 21.58 12 21.58c1.79 0 3.57-.59 5.03-1.78l2.7 2.7L21 21.23l-.35-.36zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59c0-1.32.43-2.57 1.21-3.6L12 14.77v4.82zM12 5.1v4.58l7.25 7.26c1.37-2.96.84-6.57-1.6-9.01L12 2.27l-3.7 3.7 1.41 1.41L12 5.1z"></path></g><g id="live-help"><path d="M19 2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 16h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 11.9 13 12.5 13 14h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g><g id="location-off"><path d="M12 6.5c1.38 0 2.5 1.12 2.5 2.5 0 .74-.33 1.39-.83 1.85l3.63 3.63c.98-1.86 1.7-3.8 1.7-5.48 0-3.87-3.13-7-7-7-1.98 0-3.76.83-5.04 2.15l3.19 3.19c.46-.52 1.11-.84 1.85-.84zm4.37 9.6l-4.63-4.63-.11-.11L3.27 3 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21 20 19.73l-3.63-3.63z"></path></g><g id="location-on"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="mail-outline"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"></path></g><g id="message"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></g><g id="no-sim"><path d="M18.99 5c0-1.1-.89-2-1.99-2h-7L7.66 5.34 19 16.68 18.99 5zM3.65 3.88L2.38 5.15 5 7.77V19c0 1.1.9 2 2 2h10.01c.35 0 .67-.1.96-.26l1.88 1.88 1.27-1.27L3.65 3.88z"></path></g><g id="phone"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"></path></g><g id="phonelink-erase"><path d="M13 8.2l-1-1-4 4-4-4-1 1 4 4-4 4 1 1 4-4 4 4 1-1-4-4 4-4zM19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2z"></path></g><g id="phonelink-lock"><path d="M19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-8.2 10V9.5C10.8 8.1 9.4 7 8 7S5.2 8.1 5.2 9.5V11c-.6 0-1.2.6-1.2 1.2v3.5c0 .7.6 1.3 1.2 1.3h5.5c.7 0 1.3-.6 1.3-1.2v-3.5c0-.7-.6-1.3-1.2-1.3zm-1.3 0h-3V9.5c0-.8.7-1.3 1.5-1.3s1.5.5 1.5 1.3V11z"></path></g><g id="phonelink-ring"><path d="M20.1 7.7l-1 1c1.8 1.8 1.8 4.6 0 6.5l1 1c2.5-2.3 2.5-6.1 0-8.5zM18 9.8l-1 1c.5.7.5 1.6 0 2.3l1 1c1.2-1.2 1.2-3 0-4.3zM14 1H4c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 19H4V4h10v16z"></path></g><g id="phonelink-setup"><path d="M11.8 12.5v-1l1.1-.8c.1-.1.1-.2.1-.3l-1-1.7c-.1-.1-.2-.2-.3-.1l-1.3.4c-.3-.2-.6-.4-.9-.5l-.2-1.3c0-.1-.1-.2-.3-.2H7c-.1 0-.2.1-.3.2l-.2 1.3c-.3.1-.6.3-.9.5l-1.3-.5c-.1 0-.2 0-.3.1l-1 1.7c-.1.1 0 .2.1.3l1.1.8v1l-1.1.8c-.1.2-.1.3-.1.4l1 1.7c.1.1.2.2.3.1l1.4-.4c.3.2.6.4.9.5l.2 1.3c-.1.1.1.2.2.2h2c.1 0 .2-.1.3-.2l.2-1.3c.3-.1.6-.3.9-.5l1.3.5c.1 0 .2 0 .3-.1l1-1.7c.1-.1 0-.2-.1-.3l-1.1-.9zM8 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2z"></path></g><g id="portable-wifi-off"><path d="M17.56 14.24c.28-.69.44-1.45.44-2.24 0-3.31-2.69-6-6-6-.79 0-1.55.16-2.24.44l1.62 1.62c.2-.03.41-.06.62-.06 2.21 0 4 1.79 4 4 0 .21-.02.42-.05.63l1.61 1.61zM12 4c4.42 0 8 3.58 8 8 0 1.35-.35 2.62-.95 3.74l1.47 1.47C21.46 15.69 22 13.91 22 12c0-5.52-4.48-10-10-10-1.91 0-3.69.55-5.21 1.47l1.46 1.46C9.37 4.34 10.65 4 12 4zM3.27 2.5L2 3.77l2.1 2.1C2.79 7.57 2 9.69 2 12c0 3.7 2.01 6.92 4.99 8.65l1-1.73C5.61 17.53 4 14.96 4 12c0-1.76.57-3.38 1.53-4.69l1.43 1.44C6.36 9.68 6 10.8 6 12c0 2.22 1.21 4.15 3 5.19l1-1.74c-1.19-.7-2-1.97-2-3.45 0-.65.17-1.25.44-1.79l1.58 1.58L10 12c0 1.1.9 2 2 2l.21-.02.01.01 7.51 7.51L21 20.23 4.27 3.5l-1-1z"></path></g><g id="present-to-all"><path d="M21 3H3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h18c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 16.02H3V4.98h18v14.04zM10 12H8l4-4 4 4h-2v4h-4v-4z"></path></g><g id="ring-volume"><path d="M23.71 16.67C20.66 13.78 16.54 12 12 12 7.46 12 3.34 13.78.29 16.67c-.18.18-.29.43-.29.71 0 .28.11.53.29.71l2.48 2.48c.18.18.43.29.71.29.27 0 .52-.11.7-.28.79-.74 1.69-1.36 2.66-1.85.33-.16.56-.5.56-.9v-3.1c1.45-.48 3-.73 4.6-.73s3.15.25 4.6.72v3.1c0 .39.23.74.56.9.98.49 1.87 1.12 2.66 1.85.18.18.43.28.7.28.28 0 .53-.11.71-.29l2.48-2.48c.18-.18.29-.43.29-.71 0-.27-.11-.52-.29-.7zM21.16 6.26l-1.41-1.41-3.56 3.55 1.41 1.41s3.45-3.52 3.56-3.55zM13 2h-2v5h2V2zM6.4 9.81L7.81 8.4 4.26 4.84 2.84 6.26c.11.03 3.56 3.55 3.56 3.55z"></path></g><g id="rss-feed"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></g><g id="screen-share"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2h-4zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73-4 3.74z"></path></g><g id="speaker-phone"><path d="M7 7.07L8.43 8.5c.91-.91 2.18-1.48 3.57-1.48s2.66.57 3.57 1.48L17 7.07C15.72 5.79 13.95 5 12 5s-3.72.79-5 2.07zM12 1C8.98 1 6.24 2.23 4.25 4.21l1.41 1.41C7.28 4 9.53 3 12 3s4.72 1 6.34 2.62l1.41-1.41C17.76 2.23 15.02 1 12 1zm2.86 9.01L9.14 10C8.51 10 8 10.51 8 11.14v9.71c0 .63.51 1.14 1.14 1.14h5.71c.63 0 1.14-.51 1.14-1.14v-9.71c.01-.63-.5-1.13-1.13-1.13zM15 20H9v-8h6v8z"></path></g><g id="stay-current-landscape"><path d="M1.01 7L1 17c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2H3c-1.1 0-1.99.9-1.99 2zM19 7v10H5V7h14z"></path></g><g id="stay-current-portrait"><path d="M17 1.01L7 1c-1.1 0-1.99.9-1.99 2v18c0 1.1.89 2 1.99 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g><g id="stay-primary-landscape"><path d="M1.01 7L1 17c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2H3c-1.1 0-1.99.9-1.99 2zM19 7v10H5V7h14z"></path></g><g id="stay-primary-portrait"><path d="M17 1.01L7 1c-1.1 0-1.99.9-1.99 2v18c0 1.1.89 2 1.99 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g><g id="stop-screen-share"><path d="M21.22 18.02l2 2H24v-2h-2.78zm.77-2l.01-10c0-1.11-.9-2-2-2H7.22l5.23 5.23c.18-.04.36-.07.55-.1V7.02l4 3.73-1.58 1.47 5.54 5.54c.61-.33 1.03-.99 1.03-1.74zM2.39 1.73L1.11 3l1.54 1.54c-.4.36-.65.89-.65 1.48v10c0 1.1.89 2 2 2H0v2h18.13l2.71 2.71 1.27-1.27L2.39 1.73zM7 15.02c.31-1.48.92-2.95 2.07-4.06l1.59 1.59c-1.54.38-2.7 1.18-3.66 2.47z"></path></g><g id="swap-calls"><path d="M18 4l-4 4h3v7c0 1.1-.9 2-2 2s-2-.9-2-2V8c0-2.21-1.79-4-4-4S5 5.79 5 8v7H2l4 4 4-4H7V8c0-1.1.9-2 2-2s2 .9 2 2v7c0 2.21 1.79 4 4 4s4-1.79 4-4V8h3l-4-4z"></path></g><g id="textsms"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"></path></g><g id="voicemail"><path d="M18.5 6C15.46 6 13 8.46 13 11.5c0 1.33.47 2.55 1.26 3.5H9.74c.79-.95 1.26-2.17 1.26-3.5C11 8.46 8.54 6 5.5 6S0 8.46 0 11.5 2.46 17 5.5 17h13c3.04 0 5.5-2.46 5.5-5.5S21.54 6 18.5 6zm-13 9C3.57 15 2 13.43 2 11.5S3.57 8 5.5 8 9 9.57 9 11.5 7.43 15 5.5 15zm13 0c-1.93 0-3.5-1.57-3.5-3.5S16.57 8 18.5 8 22 9.57 22 11.5 20.43 15 18.5 15z"></path></g><g id="vpn-key"><path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g></defs></svg></iron-iconset-svg><script>(function(){"use strict";Polymer.IronDropdownScrollManager=Polymer.IronScrollManager})();</script><dom-module id="iron-dropdown" assetpath="../bower_components/iron-dropdown/"><template><style>:host{position:fixed;}#contentWrapper ::slotted(*){overflow:auto;}#contentWrapper.animating ::slotted(*){overflow:hidden;pointer-events:none;}</style><div id="contentWrapper"><slot id="content" name="dropdown-content"></slot></div></template><script>(function(){"use strict";Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1,observer:"_allowOutsideScrollChanged"}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},ready:function ready(){if(!this.scrollAction){this.scrollAction=this.allowOutsideScroll?"refit":"lock"}this._readied=!0},attached:function attached(){if(!this.sizingTarget||this.sizingTarget===this){this.sizingTarget=this.containedElement||this}},detached:function detached(){this.cancelAnimation()},_openedChanged:function _openedChanged(){if(this.opened&&this.disabled){this.cancel()}else{this.cancelAnimation();this._updateAnimationConfig();Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)}},_renderOpened:function _renderOpened(){if(!this.noAnimations&&this.animationConfig.open){this.$.contentWrapper.classList.add("animating");this.playAnimation("open")}else{Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)}},_renderClosed:function _renderClosed(){if(!this.noAnimations&&this.animationConfig.close){this.$.contentWrapper.classList.add("animating");this.playAnimation("close")}else{Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)}},_onNeonAnimationFinish:function _onNeonAnimationFinish(){this.$.contentWrapper.classList.remove("animating");if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}},_updateAnimationConfig:function _updateAnimationConfig(){for(var animationNode=this.containedElement,animations=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),i=0;i<animations.length;i++){animations[i].node=animationNode}this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function _updateOverlayPosition(){if(this.isAttached){this.notifyResize()}},_allowOutsideScrollChanged:function _allowOutsideScrollChanged(allowOutsideScroll){if(!this._readied){return}if(!allowOutsideScroll){this.scrollAction="lock"}else if(!this.scrollAction||"lock"===this.scrollAction){this.scrollAction="refit"}},_applyFocus:function _applyFocus(){var focusTarget=this.focusTarget||this.containedElement;if(focusTarget&&this.opened&&!this.noAutoFocus){focusTarget.focus()}else{Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}}})})();</script></dom-module><script>Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function value(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function created(){if(!document.body.animate){console.warn("No web animations detected. This element will not"+" function without a web animations polyfill.")}},timingFromConfig:function timingFromConfig(config){if(config.timing){for(var property in config.timing){this.animationTiming[property]=config.timing[property]}}return this.animationTiming},setPrefixedProperty:function setPrefixedProperty(node,property,value){for(var map={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]},prefixes=map[property],prefix,index=0;prefix=prefixes[index];index++){node.style[prefix]=value}node.style[property]=value},complete:function complete(){}};</script><script>Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node;this._effect=new KeyframeEffect(node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(config));return this._effect}});</script><script>Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node;this._effect=new KeyframeEffect(node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(config));return this._effect}});</script><script>Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node,rect=node.getBoundingClientRect(),height=rect.height;this._effect=new KeyframeEffect(node,[{height:height/2+"px"},{height:height+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node,rect=node.getBoundingClientRect(),width=rect.width;this._effect=new KeyframeEffect(node,[{width:width/2+"px"},{width:width+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node,rect=node.getBoundingClientRect(),width=rect.width;this._effect=new KeyframeEffect(node,[{width:width+"px"},{width:width-width/20+"px"}],this.timingFromConfig(config));return this._effect}});Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function configure(config){var node=config.node,rect=node.getBoundingClientRect(),height=rect.height;this.setPrefixedProperty(node,"transformOrigin","0 0");this._effect=new KeyframeEffect(node,[{height:height+"px",transform:"translateY(0)"},{height:height/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(config));return this._effect}});</script><dom-module id="paper-menu-button" assetpath="../bower_components/paper-menu-button/"><template><style>:host{display:inline-block;position:relative;padding:8px;outline:none;@apply --paper-menu-button;}:host([disabled]){cursor:auto;color:var(--disabled-text-color);@apply --paper-menu-button-disabled;}iron-dropdown{@apply --paper-menu-button-dropdown;}.dropdown-content{@apply --shadow-elevation-2dp;position:relative;border-radius:2px;background-color:var(--paper-menu-button-dropdown-background, var(--primary-background-color));@apply --paper-menu-button-content;}:host([vertical-align="top"]) .dropdown-content{margin-bottom:20px;margin-top:-10px;top:10px;}:host([vertical-align="bottom"]) .dropdown-content{bottom:10px;margin-bottom:-10px;margin-top:20px;}#trigger{cursor:pointer;}</style><div id="trigger" on-tap="toggle"><slot name="dropdown-trigger"></slot></div><iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled"><div slot="dropdown-content" class="dropdown-content"><slot id="content" name="dropdown-content"></slot></div></iron-dropdown></template><script>(function(){"use strict";var config={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Polymer.PaperMenuButton=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function value(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:config.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:config.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function value(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:config.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},get contentElement(){for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},toggle:function toggle(){if(this.opened){this.close()}else{this.open()}},open:function open(){if(this.disabled){return}this.$.dropdown.open()},close:function close(){this.$.dropdown.close()},_onIronSelect:function _onIronSelect(){if(!this.ignoreSelect){this.close()}},_onIronActivate:function _onIronActivate(){if(this.closeOnActivate){this.close()}},_openedChanged:function _openedChanged(opened,oldOpened){if(opened){this._dropdownContent=this.contentElement;this.fire("paper-dropdown-open")}else if(null!=oldOpened){this.fire("paper-dropdown-close")}},_disabledChanged:function _disabledChanged(disabled){Polymer.IronControlState._disabledChanged.apply(this,arguments);if(disabled&&this.opened){this.close()}},__onIronOverlayCanceled:function __onIronOverlayCanceled(event){var uiEvent=event.detail,trigger=this.$.trigger,path=Polymer.dom(uiEvent).path;if(-1<path.indexOf(trigger)){event.preventDefault()}}});Object.keys(config).forEach(function(key){Polymer.PaperMenuButton[key]=config[key]})})();</script></dom-module><iron-iconset-svg name="paper-dropdown-menu" size="24"><svg><defs><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-dropdown-menu-shared-styles" assetpath="../bower_components/paper-dropdown-menu/"><template><style>:host{display:inline-block;position:relative;text-align:left;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;--paper-input-container-input:{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;box-sizing:border-box;cursor:pointer;};@apply --paper-dropdown-menu;}:host([disabled]){@apply --paper-dropdown-menu-disabled;}:host([noink]) paper-ripple{display:none;}:host([no-label-float]) paper-ripple{top:8px;}paper-ripple{top:12px;left:0px;bottom:8px;right:0px;@apply --paper-dropdown-menu-ripple;}paper-menu-button{display:block;padding:0;@apply --paper-dropdown-menu-button;}paper-input{@apply --paper-dropdown-menu-input;}iron-icon{color:var(--disabled-text-color);@apply --paper-dropdown-menu-icon;}</style></template></dom-module><dom-module id="paper-dropdown-menu" assetpath="../bower_components/paper-dropdown-menu/"><template><style include="paper-dropdown-menu-shared-styles"></style><span role="button"></span><paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat, verticalOffset)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate="" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]"><div class="dropdown-trigger" slot="dropdown-trigger"><paper-ripple></paper-ripple><paper-input type="text" invalid="[[invalid]]" readonly="" disabled="[[disabled]]" value="[[value]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]"><iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" slot="suffix"></iron-icon></paper-input></div><slot id="content" name="dropdown-content" slot="dropdown-content"></slot></paper-menu-button></template><script>(function(){"use strict";Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},verticalOffset:Number,dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function attached(){var contentElement=this.contentElement;if(contentElement&&contentElement.selectedItem){this._setSelectedItem(contentElement.selectedItem)}},get contentElement(){for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},open:function open(){this.$.menuButton.open()},close:function close(){this.$.menuButton.close()},_onIronSelect:function _onIronSelect(event){this._setSelectedItem(event.detail.item)},_onIronDeselect:function _onIronDeselect(){this._setSelectedItem(null)},_onTap:function _onTap(event){if(Polymer.Gestures.findOriginalTarget(event)===this){this.open()}},_selectedItemChanged:function _selectedItemChanged(selectedItem){var value="";if(!selectedItem){value=""}else{value=selectedItem.label||selectedItem.getAttribute("label")||selectedItem.textContent.trim()}this.value=value;this._setSelectedItemLabel(value)},_computeMenuVerticalOffset:function _computeMenuVerticalOffset(noLabelFloat,opt_verticalOffset){if(opt_verticalOffset){return opt_verticalOffset}return noLabelFloat?-4:8},_getValidity:function _getValidity(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function _openedChanged(){var openState=this.opened?"true":"false",e=this.contentElement;if(e){e.setAttribute("aria-expanded",openState)}}})})();</script></dom-module><dom-module id="paper-listbox" assetpath="../bower_components/paper-listbox/"><template><style>:host{display:block;padding:8px 0;background:var(--paper-listbox-background-color, var(--primary-background-color));color:var(--paper-listbox-color, var(--primary-text-color));@apply --paper-listbox;}</style><slot></slot></template><script>(function(){Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}})})();</script></dom-module><script>Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];</script><dom-module id="paper-item-shared-styles" assetpath="../bower_components/paper-item/"><template><style>:host, .paper-item{display:block;position:relative;min-height:var(--paper-item-min-height, 48px);padding:0px 16px;}.paper-item{@apply --paper-font-subhead;border:none;outline:none;background:white;width:100%;text-align:left;}:host([hidden]), .paper-item[hidden]{display:none !important;}:host(.iron-selected), .paper-item.iron-selected{font-weight:var(--paper-item-selected-weight, bold);@apply --paper-item-selected;}:host([disabled]), .paper-item[disabled]{color:var(--paper-item-disabled-color, var(--disabled-text-color));@apply --paper-item-disabled;}:host(:focus), .paper-item:focus{position:relative;outline:0;@apply --paper-item-focused;}:host(:focus):before, .paper-item:focus:before{@apply --layout-fit;background:currentColor;content:'';opacity:var(--dark-divider-opacity);pointer-events:none;@apply --paper-item-focused-before;}</style></template></dom-module><dom-module id="paper-item" assetpath="../bower_components/paper-item/"><template><style include="paper-item-shared-styles">:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;}</style><slot></slot></template><script>Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});</script></dom-module><dom-module id="paper-icon-item" assetpath="../bower_components/paper-item/"><template><style include="paper-item-shared-styles"></style><style>:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;@apply --paper-icon-item;}.content-icon{@apply --layout-horizontal;@apply --layout-center;width:var(--paper-item-icon-width, 56px);@apply --paper-item-icon;}</style><div id="contentIcon" class="content-icon"><slot name="item-icon"></slot></div><slot></slot></template><script>Polymer({is:"paper-icon-item",behaviors:[Polymer.PaperItemBehavior]});</script></dom-module><script>Polymer.PaperContactBehavior={openInSameTab:function openInSameTab(){var value=this._getContent();if(value){window.location.assign(encodeURI(this._getTargetUrl(value)))}},openInBlankTab:function openInBlankTab(){var value=this._getContent();if(value){window.open(encodeURI(this._getTargetUrl(value),"_blank"))}},_getContent:function _getContent(){var items=Polymer.dom(this).getEffectiveChildNodes();if(0>=items.length){return null}return Polymer.dom(items[0]).textContent}};</script><dom-module id="paper-contact-shared-styles" assetpath="../bower_components/paper-contact/"><template><style>:host{@apply --layout-vertical;}.item{cursor:pointer;}.icon{color:var(--disabled-text-color);}.text{padding-top:14px;padding-bottom:14px;white-space:pre-wrap;@apply --paper-font-body1;}</style></template></dom-module><dom-module id="paper-contact-email" assetpath="../bower_components/paper-contact/"><template><style include="paper-contact-shared-styles"></style><paper-icon-item class="item" on-tap="openInSameTab"><paper-ripple></paper-ripple><iron-icon class="icon" icon="communication:email" slot="item-icon"></iron-icon><div class="text"><slot></slot></div></paper-icon-item></template></dom-module><script>(function(){Polymer({is:"paper-contact-email",behaviors:[Polymer.PaperContactBehavior],_getTargetUrl:function _getTargetUrl(content){return"mailto:"+encodeURIComponent(content)}})})();</script><dom-module id="paper-contact-phone" assetpath="../bower_components/paper-contact/"><template><style include="paper-contact-shared-styles"></style><paper-icon-item class="item" on-tap="openInSameTab"><paper-ripple></paper-ripple><iron-icon class="icon" icon="communication:phone" slot="item-icon"></iron-icon><div class="text"><slot></slot></div></paper-icon-item></template></dom-module><script>(function(){Polymer({is:"paper-contact-phone",behaviors:[Polymer.PaperContactBehavior],_getTargetUrl:function _getTargetUrl(content){return"tel:"+content}})})();</script><iron-iconset-svg name="hardware" size="24"><svg><defs><g id="cast"><path d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"></path></g><g id="cast-connected"><path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="computer"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"></path></g><g id="desktop-mac"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7l-2 3v1h8v-1l-2-3h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 12H3V4h18v10z"></path></g><g id="desktop-windows"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z"></path></g><g id="developer-board"><path d="M22 9V7h-2V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2v-2h-2V9h2zm-4 10H4V5h14v14zM6 13h5v4H6zm6-6h4v3h-4zM6 7h5v5H6zm6 4h4v6h-4z"></path></g><g id="device-hub"><path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"></path></g><g id="devices-other"><path d="M3 6h18V4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V6zm10 6H9v1.78c-.61.55-1 1.33-1 2.22s.39 1.67 1 2.22V20h4v-1.78c.61-.55 1-1.34 1-2.22s-.39-1.67-1-2.22V12zm-2 5.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM22 8h-6c-.5 0-1 .5-1 1v10c0 .5.5 1 1 1h6c.5 0 1-.5 1-1V9c0-.5-.5-1-1-1zm-1 10h-4v-8h4v8z"></path></g><g id="dock"><path d="M8 23h8v-2H8v2zm8-21.99L8 1c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM16 15H8V5h8v10z"></path></g><g id="gamepad"><path d="M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"></path></g><g id="headset"><path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"></path></g><g id="headset-mic"><path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h4v1h-7v2h6c1.66 0 3-1.34 3-3V10c0-4.97-4.03-9-9-9z"></path></g><g id="keyboard"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"></path></g><g id="keyboard-arrow-down"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></g><g id="keyboard-arrow-left"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"></path></g><g id="keyboard-arrow-right"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></g><g id="keyboard-arrow-up"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></g><g id="keyboard-backspace"><path d="M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"></path></g><g id="keyboard-capslock"><path d="M12 8.41L16.59 13 18 11.59l-6-6-6 6L7.41 13 12 8.41zM6 18h12v-2H6v2z"></path></g><g id="keyboard-hide"><path d="M20 3H4c-1.1 0-1.99.9-1.99 2L2 15c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 3h2v2h-2V6zm0 3h2v2h-2V9zM8 6h2v2H8V6zm0 3h2v2H8V9zm-1 2H5V9h2v2zm0-3H5V6h2v2zm9 7H8v-2h8v2zm0-4h-2V9h2v2zm0-3h-2V6h2v2zm3 3h-2V9h2v2zm0-3h-2V6h2v2zm-7 15l4-4H8l4 4z"></path></g><g id="keyboard-return"><path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"></path></g><g id="keyboard-tab"><path d="M11.59 7.41L15.17 11H1v2h14.17l-3.59 3.59L13 18l6-6-6-6-1.41 1.41zM20 6v12h2V6h-2z"></path></g><g id="keyboard-voice"><path d="M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.42 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g><g id="laptop"><path d="M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"></path></g><g id="laptop-chromebook"><path d="M22 18V3H2v15H0v2h24v-2h-2zm-8 0h-4v-1h4v1zm6-3H4V5h16v10z"></path></g><g id="laptop-mac"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2H0c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2h-4zM4 5h16v11H4V5zm8 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g><g id="laptop-windows"><path d="M20 18v-1c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2v1H0v2h24v-2h-4zM4 5h16v10H4V5z"></path></g><g id="memory"><path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"></path></g><g id="mouse"><path d="M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93zM4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4v4zm7-13.93C7.05 1.56 4 4.92 4 9h7V1.07z"></path></g><g id="phone-android"><path d="M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3zm-2 20h-4v-1h4v1zm3.25-3H6.75V4h10.5v14z"></path></g><g id="phone-iphone"><path d="M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z"></path></g><g id="phonelink"><path d="M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"></path></g><g id="phonelink-off"><path d="M22 6V4H6.82l2 2H22zM1.92 1.65L.65 2.92l1.82 1.82C2.18 5.08 2 5.52 2 6v11H0v3h17.73l2.35 2.35 1.27-1.27L3.89 3.62 1.92 1.65zM4 6.27L14.73 17H4V6.27zM23 8h-6c-.55 0-1 .45-1 1v4.18l2 2V10h4v7h-2.18l3 3H23c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1z"></path></g><g id="power-input"><path d="M2 9v2h19V9H2zm0 6h5v-2H2v2zm7 0h5v-2H9v2zm7 0h5v-2h-5v2z"></path></g><g id="router"><path d="M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z"></path></g><g id="scanner"><path d="M19.8 10.7L4.2 5l-.7 1.9L17.6 12H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5.5c0-.8-.5-1.6-1.2-1.8zM7 17H5v-2h2v2zm12 0H9v-2h10v2z"></path></g><g id="security"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"></path></g><g id="sim-card"><path d="M19.99 4c0-1.1-.89-2-1.99-2h-8L4 8v12c0 1.1.9 2 2 2h12.01c1.1 0 1.99-.9 1.99-2l-.01-16zM9 19H7v-2h2v2zm8 0h-2v-2h2v2zm-8-4H7v-4h2v4zm4 4h-2v-4h2v4zm0-6h-2v-2h2v2zm4 2h-2v-4h2v4z"></path></g><g id="smartphone"><path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g><g id="speaker"><path d="M17 2H7c-1.1 0-2 .9-2 2v16c0 1.1.9 1.99 2 1.99L17 22c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5 2c1.1 0 2 .9 2 2s-.9 2-2 2c-1.11 0-2-.9-2-2s.89-2 2-2zm0 16c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="speaker-group"><path d="M18.2 1H9.8C8.81 1 8 1.81 8 2.8v14.4c0 .99.81 1.79 1.8 1.79l8.4.01c.99 0 1.8-.81 1.8-1.8V2.8c0-.99-.81-1.8-1.8-1.8zM14 3c1.1 0 2 .89 2 2s-.9 2-2 2-2-.89-2-2 .9-2 2-2zm0 13.5c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path><circle cx="14" cy="12.5" r="2.5"></circle><path d="M6 5H4v16c0 1.1.89 2 2 2h10v-2H6V5z"></path></g><g id="tablet"><path d="M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 1.99-.9 1.99-2L23 6c0-1.1-.9-2-2-2zm-2 14H5V6h14v12z"></path></g><g id="tablet-android"><path d="M18 0H6C4.34 0 3 1.34 3 3v18c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V3c0-1.66-1.34-3-3-3zm-4 22h-4v-1h4v1zm5.25-3H4.75V3h14.5v16z"></path></g><g id="tablet-mac"><path d="M18.5 0h-14C3.12 0 2 1.12 2 2.5v19C2 22.88 3.12 24 4.5 24h14c1.38 0 2.5-1.12 2.5-2.5v-19C21 1.12 19.88 0 18.5 0zm-7 23c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm7.5-4H4V3h15v16z"></path></g><g id="toys"><path d="M12 12c0-3 2.5-5.5 5.5-5.5S23 9 23 12H12zm0 0c0 3-2.5 5.5-5.5 5.5S1 15 1 12h11zm0 0c-3 0-5.5-2.5-5.5-5.5S9 1 12 1v11zm0 0c3 0 5.5 2.5 5.5 5.5S15 23 12 23V12z"></path></g><g id="tv"><path d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2zm0 14H3V5h18v12z"></path></g><g id="videogame-asset"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="watch"><path d="M20 12c0-2.54-1.19-4.81-3.04-6.27L16 0H8l-.95 5.73C5.19 7.19 4 9.45 4 12s1.19 4.81 3.05 6.27L8 24h8l.96-5.73C18.81 16.81 20 14.54 20 12zM6 12c0-3.31 2.69-6 6-6s6 2.69 6 6-2.69 6-6 6-6-2.69-6-6z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-contact-mobile" assetpath="../bower_components/paper-contact/"><template><style include="paper-contact-shared-styles"></style><paper-icon-item class="item" on-tap="openInSameTab"><paper-ripple></paper-ripple><iron-icon class="icon" icon="hardware:smartphone" slot="item-icon"></iron-icon><div class="text"><slot></slot></div></paper-icon-item></template></dom-module><script>(function(){Polymer({is:"paper-contact-mobile",behaviors:[Polymer.PaperContactBehavior],_getTargetUrl:function _getTargetUrl(content){return"tel:"+content}})})();</script><iron-iconset-svg name="social" size="24"><svg><defs><g id="cake"><path d="M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm4.6 9.99l-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01zM18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9z"></path></g><g id="domain"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"></path></g><g id="group"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></g><g id="group-add"><path d="M8 10H5V7H3v3H0v2h3v3h2v-3h3v-2zm10 1c1.66 0 2.99-1.34 2.99-3S19.66 5 18 5c-.32 0-.63.05-.91.14.57.81.9 1.79.9 2.86s-.34 2.04-.9 2.86c.28.09.59.14.91.14zm-5 0c1.66 0 2.99-1.34 2.99-3S14.66 5 13 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm6.62 2.16c.83.73 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.49-4.38-2.84zM13 13c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3z"></path></g><g id="location-city"><path d="M15 11V5l-3-3-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z"></path></g><g id="mood"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="mood-bad"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"></path></g><g id="notifications"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"></path></g><g id="notifications-active"><path d="M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"></path></g><g id="notifications-none"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"></path></g><g id="notifications-off"><path d="M20 18.69L7.84 6.14 5.27 3.49 4 4.76l2.8 2.8v.01c-.52.99-.8 2.16-.8 3.42v5l-2 2v1h13.73l2 2L21 19.72l-1-1.03zM12 22c1.11 0 2-.89 2-2h-4c0 1.11.89 2 2 2zm6-7.32V11c0-3.08-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.15.03-.29.08-.42.12-.1.03-.2.07-.3.11h-.01c-.01 0-.01 0-.02.01-.23.09-.46.2-.68.31 0 0-.01 0-.01.01L18 14.68z"></path></g><g id="notifications-paused"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.93 6 11v5l-2 2v1h16v-1l-2-2zm-3.5-6.2l-2.8 3.4h2.8V15h-5v-1.8l2.8-3.4H9.5V8h5v1.8z"></path></g><g id="pages"><path d="M3 5v6h5L7 7l4 1V3H5c-1.1 0-2 .9-2 2zm5 8H3v6c0 1.1.9 2 2 2h6v-5l-4 1 1-4zm9 4l-4-1v5h6c1.1 0 2-.9 2-2v-6h-5l1 4zm2-14h-6v5l4-1-1 4h5V5c0-1.1-.9-2-2-2z"></path></g><g id="party-mode"><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 3c1.63 0 3.06.79 3.98 2H12c-1.66 0-3 1.34-3 3 0 .35.07.69.18 1H7.1c-.06-.32-.1-.66-.1-1 0-2.76 2.24-5 5-5zm0 10c-1.63 0-3.06-.79-3.98-2H12c1.66 0 3-1.34 3-3 0-.35-.07-.69-.18-1h2.08c.07.32.1.66.1 1 0 2.76-2.24 5-5 5z"></path></g><g id="people"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></g><g id="people-outline"><path d="M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"></path></g><g id="person"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></g><g id="person-add"><path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></g><g id="person-outline"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g><g id="plus-one"><path d="M10 8H8v4H4v2h4v4h2v-4h4v-2h-4zm4.5-1.92V7.9l2.5-.5V18h2V5z"></path></g><g id="poll"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g><g id="public"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"></path></g><g id="school"><path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"></path></g><g id="sentiment-dissatisfied"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"></path></g><g id="sentiment-neutral"><path d="M9 14h6v1.5H9z"></path><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="sentiment-satisfied"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-1.48 0-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5s4.32-1.45 5.12-3.5h-1.67c-.7 1.19-1.97 2-3.45 2z"></path></g><g id="sentiment-very-dissatisfied"><path d="M11.99 2C6.47 2 2 6.47 2 12s4.47 10 9.99 10S22 17.53 22 12 17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm4.18-12.24l-1.06 1.06-1.06-1.06L13 8.82l1.06 1.06L13 10.94 14.06 12l1.06-1.06L16.18 12l1.06-1.06-1.06-1.06 1.06-1.06zM7.82 12l1.06-1.06L9.94 12 11 10.94 9.94 9.88 11 8.82 9.94 7.76 8.88 8.82 7.82 7.76 6.76 8.82l1.06 1.06-1.06 1.06zM12 14c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"></path></g><g id="sentiment-very-satisfied"><path d="M11.99 2C6.47 2 2 6.47 2 12s4.47 10 9.99 10S22 17.53 22 12 17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-10.06L14.06 11l1.06-1.06L16.18 11l1.06-1.06-2.12-2.12zm-4.12 0L9.94 11 11 9.94 8.88 7.82 6.76 9.94 7.82 11zM12 17.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="share"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"></path></g><g id="whatshot"><path d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-contact-linkedin" assetpath="../bower_components/paper-contact/"><template><style include="paper-contact-shared-styles"></style><paper-icon-item class="item" on-tap="openInBlankTab"><paper-ripple></paper-ripple><iron-icon class="icon" icon="social:public" slot="item-icon"></iron-icon><div class="text">LinkedIn</div></paper-icon-item></template></dom-module><script>(function(){Polymer({is:"paper-contact-linkedin",behaviors:[Polymer.PaperContactBehavior],_getTargetUrl:function _getTargetUrl(content){return content}})})();</script><dom-module id="paper-contact-twitter" assetpath="../bower_components/paper-contact/"><template><style include="paper-contact-shared-styles"></style><paper-icon-item class="item" on-tap="openInBlankTab"><paper-ripple></paper-ripple><iron-icon class="icon" icon="communication:chat" slot="item-icon"></iron-icon><div class="text">Twitter</div></paper-icon-item></template></dom-module><script>(function(){Polymer({is:"paper-contact-twitter",behaviors:[Polymer.PaperContactBehavior],_getTargetUrl:function _getTargetUrl(content){return"https://twitter.com/#!/"+content}})})();</script><dom-module id="paper-contact-skype" assetpath="../bower_components/paper-contact/"><template><style include="paper-contact-shared-styles"></style><paper-icon-item class="item" on-tap="openInBlankTab"><paper-ripple></paper-ripple><iron-icon class="icon" icon="hardware:headset-mic" slot="item-icon"></iron-icon><div class="text">Skype</div></paper-icon-item></template></dom-module><script>(function(){Polymer({is:"paper-contact-skype",behaviors:[Polymer.PaperContactBehavior],_getTargetUrl:function _getTargetUrl(content){return"skype:"+content+"?call"}})})();</script><iron-iconset-svg name="maps" size="24"><svg><defs><g id="add-location"><path d="M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm4 8h-3v3h-2v-3H8V8h3V5h2v3h3v2z"></path></g><g id="beenhere"><path d="M19 1H5c-1.1 0-1.99.9-1.99 2L3 15.93c0 .69.35 1.3.88 1.66L12 23l8.11-5.41c.53-.36.88-.97.88-1.66L21 3c0-1.1-.9-2-2-2zm-9 15l-5-5 1.41-1.41L10 13.17l7.59-7.59L19 7l-9 9z"></path></g><g id="directions"><path d="M21.71 11.29l-9-9c-.39-.39-1.02-.39-1.41 0l-9 9c-.39.39-.39 1.02 0 1.41l9 9c.39.39 1.02.39 1.41 0l9-9c.39-.38.39-1.01 0-1.41zM14 14.5V12h-4v3H8v-4c0-.55.45-1 1-1h5V7.5l3.5 3.5-3.5 3.5z"></path></g><g id="directions-bike"><path d="M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10l2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1-.6-1.6-.6s-1.1.2-1.4.6L7.8 8.4c-.4.4-.6.9-.6 1.4 0 .6.2 1.1.6 1.4L11 14v5h2v-6.2l-2.2-2.3zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"></path></g><g id="directions-boat"><path d="M20 21c-1.39 0-2.78-.47-4-1.32-2.44 1.71-5.56 1.71-8 0C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 2.52 1.29 5.48 1.29 8 0 1.26.65 2.62.99 4 .99h2v-2h-2zM3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19zM6 6h12v3.97L12 8 6 9.97V6z"></path></g><g id="directions-bus"><path d="M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4s-8 .5-8 4v10zm3.5 1c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-6H6V6h12v5z"></path></g><g id="directions-car"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"></path></g><g id="directions-railway"><path d="M4 15.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V5c0-3.5-3.58-4-8-4s-8 .5-8 4v10.5zm8 1.5c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm6-7H6V5h12v5z"></path></g><g id="directions-run"><path d="M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"></path></g><g id="directions-subway"><path d="M12 2c-4.42 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4zM7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm3.5-6H6V6h5v5zm5.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-6h-5V6h5v5z"></path></g><g id="directions-transit"><path d="M12 2c-4.42 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h12v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4zM7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm3.5-6H6V6h5v5zm5.5 6c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-6h-5V6h5v5z"></path></g><g id="directions-walk"><path d="M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"></path></g><g id="edit-location"><path d="M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm-1.56 10H9v-1.44l3.35-3.34 1.43 1.43L10.44 12zm4.45-4.45l-.7.7-1.44-1.44.7-.7c.15-.15.39-.15.54 0l.9.9c.15.15.15.39 0 .54z"></path></g><g id="ev-station"><path d="M19.77 7.23l.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM18 10c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM8 18v-4.5H6L10 6v5h2l-4 7z"></path></g><g id="flight"><path d="M10.18 9"></path><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"></path></g><g id="hotel"><path d="M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"></path></g><g id="layers"><path d="M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"></path></g><g id="layers-clear"><path d="M19.81 14.99l1.19-.92-1.43-1.43-1.19.92 1.43 1.43zm-.45-4.72L21 9l-9-7-2.91 2.27 7.87 7.88 2.4-1.88zM3.27 1L2 2.27l4.22 4.22L3 9l1.63 1.27L12 16l2.1-1.63 1.43 1.43L12 18.54l-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21 22 19.73 3.27 1z"></path></g><g id="local-activity"><path d="M20 12c0-1.1.9-2 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-1.99.9-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2zm-4.42 4.8L12 14.5l-3.58 2.3 1.08-4.12-3.29-2.69 4.24-.25L12 5.8l1.54 3.95 4.24.25-3.29 2.69 1.09 4.11z"></path></g><g id="local-airport"><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"></path></g><g id="local-atm"><path d="M11 17h2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1h-3v-1h4V8h-2V7h-2v1h-1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3v1H9v2h2v1zm9-13H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4V6h16v12z"></path></g><g id="local-bar"><path d="M21 5V3H3v2l8 9v5H6v2h12v-2h-5v-5l8-9zM7.43 7L5.66 5h12.69l-1.78 2H7.43z"></path></g><g id="local-cafe"><path d="M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 5h-2V5h2v3zM2 21h18v-2H2v2z"></path></g><g id="local-car-wash"><path d="M17 5c.83 0 1.5-.67 1.5-1.5 0-1-1.5-2.7-1.5-2.7s-1.5 1.7-1.5 2.7c0 .83.67 1.5 1.5 1.5zm-5 0c.83 0 1.5-.67 1.5-1.5 0-1-1.5-2.7-1.5-2.7s-1.5 1.7-1.5 2.7c0 .83.67 1.5 1.5 1.5zM7 5c.83 0 1.5-.67 1.5-1.5C8.5 2.5 7 .8 7 .8S5.5 2.5 5.5 3.5C5.5 4.33 6.17 5 7 5zm11.92 3.01C18.72 7.42 18.16 7 17.5 7h-11c-.66 0-1.21.42-1.42 1.01L3 14v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 18c-.83 0-1.5-.67-1.5-1.5S5.67 15 6.5 15s1.5.67 1.5 1.5S7.33 18 6.5 18zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 13l1.5-4.5h11L19 13H5z"></path></g><g id="local-convenience-store"><path d="M19 7V4H5v3H2v13h8v-4h4v4h8V7h-3zm-8 3H9v1h2v1H8V9h2V8H8V7h3v3zm5 2h-1v-2h-2V7h1v2h1V7h1v5z"></path></g><g id="local-dining"><path d="M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"></path></g><g id="local-drink"><path d="M3 2l2.01 18.23C5.13 21.23 5.97 22 7 22h10c1.03 0 1.87-.77 1.99-1.77L21 2H3zm9 17c-1.66 0-3-1.34-3-3 0-2 3-5.4 3-5.4s3 3.4 3 5.4c0 1.66-1.34 3-3 3zm6.33-11H5.67l-.44-4h13.53l-.43 4z"></path></g><g id="local-florist"><path d="M12 22c4.97 0 9-4.03 9-9-4.97 0-9 4.03-9 9zM5.6 10.25c0 1.38 1.12 2.5 2.5 2.5.53 0 1.01-.16 1.42-.44l-.02.19c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5l-.02-.19c.4.28.89.44 1.42.44 1.38 0 2.5-1.12 2.5-2.5 0-1-.59-1.85-1.43-2.25.84-.4 1.43-1.25 1.43-2.25 0-1.38-1.12-2.5-2.5-2.5-.53 0-1.01.16-1.42.44l.02-.19C14.5 2.12 13.38 1 12 1S9.5 2.12 9.5 3.5l.02.19c-.4-.28-.89-.44-1.42-.44-1.38 0-2.5 1.12-2.5 2.5 0 1 .59 1.85 1.43 2.25-.84.4-1.43 1.25-1.43 2.25zM12 5.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8s1.12-2.5 2.5-2.5zM3 13c0 4.97 4.03 9 9 9 0-4.97-4.03-9-9-9z"></path></g><g id="local-gas-station"><path d="M19.77 7.23l.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM12 10H6V5h6v5zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g><g id="local-grocery-store"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="local-hospital"><path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"></path></g><g id="local-hotel"><path d="M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"></path></g><g id="local-laundry-service"><path d="M9.17 16.83c1.56 1.56 4.1 1.56 5.66 0 1.56-1.56 1.56-4.1 0-5.66l-5.66 5.66zM18 2.01L6 2c-1.11 0-2 .89-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V4c0-1.11-.89-1.99-2-1.99zM10 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM7 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm5 16c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"></path></g><g id="local-library"><path d="M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"></path></g><g id="local-mall"><path d="M19 6h-2c0-2.76-2.24-5-5-5S7 3.24 7 6H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-7-3c1.66 0 3 1.34 3 3H9c0-1.66 1.34-3 3-3zm0 10c-2.76 0-5-2.24-5-5h2c0 1.66 1.34 3 3 3s3-1.34 3-3h2c0 2.76-2.24 5-5 5z"></path></g><g id="local-movies"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"></path></g><g id="local-offer"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"></path></g><g id="local-parking"><path d="M13 3H6v18h4v-6h3c3.31 0 6-2.69 6-6s-2.69-6-6-6zm.2 8H10V7h3.2c1.1 0 2 .9 2 2s-.9 2-2 2z"></path></g><g id="local-pharmacy"><path d="M21 5h-2.64l1.14-3.14L17.15 1l-1.46 4H3v2l2 6-2 6v2h18v-2l-2-6 2-6V5zm-5 9h-3v3h-2v-3H8v-2h3V9h2v3h3v2z"></path></g><g id="local-phone"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"></path></g><g id="local-pizza"><path d="M12 2C8.43 2 5.23 3.54 3.01 6L12 22l8.99-16C18.78 3.55 15.57 2 12 2zM7 7c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm5 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="local-play"><path d="M20 12c0-1.1.9-2 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-1.99.9-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2zm-4.42 4.8L12 14.5l-3.58 2.3 1.08-4.12-3.29-2.69 4.24-.25L12 5.8l1.54 3.95 4.24.25-3.29 2.69 1.09 4.11z"></path></g><g id="local-post-office"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="local-printshop"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></g><g id="local-see"><circle cx="12" cy="12" r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g><g id="local-shipping"><path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="local-taxi"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5H15V3H9v2H6.5c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"></path></g><g id="map"><path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"></path></g><g id="my-location"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="navigation"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"></path></g><g id="near-me"><path d="M21 3L3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z"></path></g><g id="person-pin"><path d="M19 2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 3.3c1.49 0 2.7 1.21 2.7 2.7 0 1.49-1.21 2.7-2.7 2.7-1.49 0-2.7-1.21-2.7-2.7 0-1.49 1.21-2.7 2.7-2.7zM18 16H6v-.9c0-2 4-3.1 6-3.1s6 1.1 6 3.1v.9z"></path></g><g id="person-pin-circle"><path d="M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm0 2c1.1 0 2 .9 2 2 0 1.11-.9 2-2 2s-2-.89-2-2c0-1.1.9-2 2-2zm0 10c-1.67 0-3.14-.85-4-2.15.02-1.32 2.67-2.05 4-2.05s3.98.73 4 2.05c-.86 1.3-2.33 2.15-4 2.15z"></path></g><g id="pin-drop"><path d="M18 8c0-3.31-2.69-6-6-6S6 4.69 6 8c0 4.5 6 11 6 11s6-6.5 6-11zm-8 0c0-1.1.9-2 2-2s2 .9 2 2-.89 2-2 2c-1.1 0-2-.9-2-2zM5 20v2h14v-2H5z"></path></g><g id="place"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="rate-review"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14H6zm12 0h-7.5l2-2H18v2z"></path></g><g id="restaurant"><path d="M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"></path></g><g id="restaurant-menu"><path d="M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"></path></g><g id="satellite"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.99h3C8 6.65 6.66 8 5 8V4.99zM5 12v-2c2.76 0 5-2.25 5-5.01h2C12 8.86 8.87 12 5 12zm0 6l3.5-4.5 2.5 3.01L14.5 12l4.5 6H5z"></path></g><g id="store-mall-directory"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"></path></g><g id="streetview"><path d="M12.56 14.33c-.34.27-.56.7-.56 1.17V21h7c1.1 0 2-.9 2-2v-5.98c-.94-.33-1.95-.52-3-.52-2.03 0-3.93.7-5.44 1.83z"></path><circle cx="18" cy="6" r="5"></circle><path d="M11.5 6c0-1.08.27-2.1.74-3H5c-1.1 0-2 .9-2 2v14c0 .55.23 1.05.59 1.41l9.82-9.82C12.23 9.42 11.5 7.8 11.5 6z"></path></g><g id="subway"><circle cx="15.5" cy="16" r="1"></circle><circle cx="8.5" cy="16" r="1"></circle><path d="M7.01 9h10v5h-10zM17.8 2.8C16 2.09 13.86 2 12 2c-1.86 0-4 .09-5.8.8C3.53 3.84 2 6.05 2 8.86V22h20V8.86c0-2.81-1.53-5.02-4.2-6.06zm.2 13.08c0 1.45-1.18 2.62-2.63 2.62l1.13 1.12V20H15l-1.5-1.5h-2.83L9.17 20H7.5v-.38l1.12-1.12C7.18 18.5 6 17.32 6 15.88V9c0-2.63 3-3 6-3 3.32 0 6 .38 6 3v6.88z"></path></g><g id="terrain"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"></path></g><g id="traffic"><path d="M20 10h-3V8.86c1.72-.45 3-2 3-3.86h-3V4c0-.55-.45-1-1-1H8c-.55 0-1 .45-1 1v1H4c0 1.86 1.28 3.41 3 3.86V10H4c0 1.86 1.28 3.41 3 3.86V15H4c0 1.86 1.28 3.41 3 3.86V20c0 .55.45 1 1 1h8c.55 0 1-.45 1-1v-1.14c1.72-.45 3-2 3-3.86h-3v-1.14c1.72-.45 3-2 3-3.86zm-8 9c-1.11 0-2-.9-2-2s.89-2 2-2c1.1 0 2 .9 2 2s-.89 2-2 2zm0-5c-1.11 0-2-.9-2-2s.89-2 2-2c1.1 0 2 .9 2 2s-.89 2-2 2zm0-5c-1.11 0-2-.9-2-2 0-1.11.89-2 2-2 1.1 0 2 .89 2 2 0 1.1-.89 2-2 2z"></path></g><g id="train"><path d="M12 2c-4 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h2.23l2-2H14l2 2h2v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-3.58-4-8-4zM7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm3.5-7H6V6h5v4zm2 0V6h5v4h-5zm3.5 7c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="tram"><path d="M19 16.94V8.5c0-2.79-2.61-3.4-6.01-3.49l.76-1.51H17V2H7v1.5h4.75l-.76 1.52C7.86 5.11 5 5.73 5 8.5v8.44c0 1.45 1.19 2.66 2.59 2.97L6 21.5v.5h2.23l2-2H14l2 2h2v-.5L16.5 20h-.08c1.69 0 2.58-1.37 2.58-3.06zm-7 1.56c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5-4.5H7V9h10v5z"></path></g><g id="transfer-within-a-station"><path d="M16.49 15.5v-1.75L14 16.25l2.49 2.5V17H22v-1.5zm3.02 4.25H14v1.5h5.51V23L22 20.5 19.51 18zM9.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5.75 8.9L3 23h2.1l1.75-8L9 17v6h2v-7.55L8.95 13.4l.6-3C10.85 12 12.8 13 15 13v-2c-1.85 0-3.45-1-4.35-2.45l-.95-1.6C9.35 6.35 8.7 6 8 6c-.25 0-.5.05-.75.15L2 8.3V13h2V9.65l1.75-.75"></path></g><g id="zoom-out-map"><path d="M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-item-body" assetpath="../bower_components/paper-item/"><template><style>:host{overflow:hidden;@apply --layout-vertical;@apply --layout-center-justified;@apply --layout-flex;}:host([two-line]){min-height:var(--paper-item-body-two-line-min-height, 72px);}:host([three-line]){min-height:var(--paper-item-body-three-line-min-height, 88px);}:host > ::slotted(*){overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}:host > ::slotted([secondary]){@apply --paper-font-body1;color:var(--paper-item-body-secondary-color, var(--secondary-text-color));@apply --paper-item-body-secondary;}</style><slot></slot></template><script>Polymer({is:"paper-item-body"});</script></dom-module><dom-module id="paper-contact-address" assetpath="../bower_components/paper-contact/"><template><style include="paper-contact-shared-styles"></style><paper-icon-item class="item" on-tap="openInBlankTab"><paper-ripple></paper-ripple><iron-icon class="icon" icon="maps:place" slot="item-icon"></iron-icon><div class="text"><slot></slot></div></paper-icon-item></template></dom-module><script>(function(){Polymer({is:"paper-contact-address",properties:{latitude:Number,longitude:Number},behaviors:[Polymer.PaperContactBehavior],_getTargetUrl:function _getTargetUrl(content){var url="https://www.google.com/maps/search/".concat(content);if(this.latitude&&this.longitude){url+="/@".concat(this.latitude,"+").concat(this.longitude)}return url}})})();</script><dom-module id="paper-contact-list" assetpath="../bower_components/paper-contact/"><template><style>:host{display:block;}::slotted(*:last-of-type){border-bottom:1px solid rgba(0, 0, 0, 0.12);}::slotted(*:last-child){border-bottom:none;}::slotted() > *:last-of-type > * .icon{visibility:hidden;}::slotted() > *:only-of-type > * .icon{visibility:visible;}::slotted() > *:last-child > * .text{border-bottom :none;}</style><slot></slot></template></dom-module><script>(function(){Polymer({is:"paper-contact-list"})})();</script><script>Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function created(){this._hasIronCheckedElementBehavior=!0},_getValidity:function _getValidity(){return this.disabled||!this.required||this.checked},_requiredChanged:function _requiredChanged(){if(this.required){this.setAttribute("aria-required","true")}else{this.removeAttribute("aria-required")}},_checkedChanged:function _checkedChanged(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function _valueChanged(){if(this.value===void 0||null===this.value){this.value="on"}}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];</script><script>Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function _checkedChanged(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);if(this.hasRipple()){if(this.checked){this._ripple.setAttribute("checked","")}else{this._ripple.removeAttribute("checked")}}},_buttonStateChanged:function _buttonStateChanged(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);if(this.disabled){return}if(this.isAttached){this.checked=this.active}}};Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];</script><dom-module id="paper-checkbox" assetpath="../bower_components/paper-checkbox/"><template strip-whitespace=""><style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent;}:host([hidden]){display:none !important;}:host(:focus){outline:none;}.hidden{display:none;}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin, initial);vertical-align:var(--paper-checkbox-vertical-align, middle);background-color:var(--paper-checkbox-unchecked-background-color, transparent);}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;}#ink:dir(rtl){right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:auto;}#ink[checked]{color:var(--paper-checkbox-checked-ink-color, var(--primary-color));}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms, border-color 140ms;transition:background-color 140ms, border-color 140ms;}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0, 0) rotate(45deg);}100%{-webkit-transform:scale(1, 1) rotate(45deg);}}@keyframes checkmark-expand{0%{transform:scale(0, 0) rotate(45deg);}100%{transform:scale(1, 1) rotate(45deg);}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color, var(--primary-color));border-color:var(--paper-checkbox-checked-color, var(--primary-color));}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color, white);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box;}#checkmark:dir(rtl){-webkit-transform-origin:50% 14%;transform-origin:50% 14%;}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing, 8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color, var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));@apply --paper-checkbox-label-checked;}#checkboxLabel:dir(rtl){padding-right:var(--paper-checkbox-label-spacing, 8px);padding-left:0;}#checkboxLabel[hidden]{display:none;}:host([disabled]) #checkbox{opacity:0.5;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #checkboxLabel{opacity:0.65;}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color, var(--error-color));}</style><div id="checkboxContainer"><div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div></template><script>Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function attached(){Polymer.RenderStatus.afterNextRender(this,function(){var inkSize=this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim();if("-1px"===inkSize){var checkboxSizeText=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),units="px",unitsMatches=checkboxSizeText.match(/[A-Za-z]+$/);if(null!==unitsMatches){units=unitsMatches[0]}var checkboxSize=parseFloat(checkboxSizeText),defaultInkSize=8/3*checkboxSize;if("px"===units){defaultInkSize=Math.floor(defaultInkSize);if(defaultInkSize%2!==checkboxSize%2){defaultInkSize++}}this.updateStyles({"--paper-checkbox-ink-size":defaultInkSize+units})}})},_computeCheckboxClass:function _computeCheckboxClass(checked,invalid){var className="";if(checked){className+="checked "}if(invalid){className+="invalid"}return className},_computeCheckmarkClass:function _computeCheckmarkClass(checked){return checked?"":"hidden"},_createRipple:function _createRipple(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});</script></dom-module><dom-module id="paper-radio-button" assetpath="../bower_components/paper-radio-button/"><template strip-whitespace=""><style>:host{display:inline-block;line-height:0;white-space:nowrap;cursor:pointer;@apply --paper-font-common-base;--calculated-paper-radio-button-size:var(--paper-radio-button-size, 16px);--calculated-paper-radio-button-ink-size:var(--paper-radio-button-ink-size, -1px);}:host(:focus){outline:none;}#radioContainer{@apply --layout-inline;@apply --layout-center-center;position:relative;width:var(--calculated-paper-radio-button-size);height:var(--calculated-paper-radio-button-size);vertical-align:middle;@apply --paper-radio-button-radio-container;}#ink{position:absolute;top:50%;left:50%;right:auto;width:var(--calculated-paper-radio-button-ink-size);height:var(--calculated-paper-radio-button-ink-size);color:var(--paper-radio-button-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);}#ink[checked]{color:var(--paper-radio-button-checked-ink-color, var(--primary-color));}#offRadio, #onRadio{position:absolute;box-sizing:border-box;top:0;left:0;width:100%;height:100%;border-radius:50%;}#offRadio{border:2px solid var(--paper-radio-button-unchecked-color, var(--primary-text-color));background-color:var(--paper-radio-button-unchecked-background-color, transparent);transition:border-color 0.28s;}#onRadio{background-color:var(--paper-radio-button-checked-color, var(--primary-color));-webkit-transform:scale(0);transform:scale(0);transition:-webkit-transform ease 0.28s;transition:transform ease 0.28s;will-change:transform;}:host([checked]) #offRadio{border-color:var(--paper-radio-button-checked-color, var(--primary-color));}:host([checked]) #onRadio{-webkit-transform:scale(0.5);transform:scale(0.5);}#radioLabel{line-height:normal;position:relative;display:inline-block;vertical-align:middle;margin-left:var(--paper-radio-button-label-spacing, 10px);white-space:normal;color:var(--paper-radio-button-label-color, var(--primary-text-color));@apply --paper-radio-button-label;}:host([checked]) #radioLabel{@apply --paper-radio-button-label-checked;}#radioLabel:dir(rtl){margin-left:0;margin-right:var(--paper-radio-button-label-spacing, 10px);}#radioLabel[hidden]{display:none;}:host([disabled]) #offRadio{border-color:var(--paper-radio-button-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled][checked]) #onRadio{background-color:var(--paper-radio-button-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #radioLabel{opacity:0.65;}</style><div id="radioContainer"><div id="offRadio"></div><div id="onRadio"></div></div><div id="radioLabel"><slot></slot></div></template><script>Polymer({is:"paper-radio-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function ready(){this._rippleContainer=this.$.radioContainer},attached:function attached(){Polymer.RenderStatus.afterNextRender(this,function(){var inkSize=this.getComputedStyleValue("--calculated-paper-radio-button-ink-size").trim();if("-1px"===inkSize){var size=parseFloat(this.getComputedStyleValue("--calculated-paper-radio-button-size").trim()),defaultInkSize=Math.floor(3*size);if(defaultInkSize%2!==size%2){defaultInkSize++}this.updateStyles({"--paper-radio-button-ink-size":defaultInkSize+"px"})}})}});</script></dom-module><dom-module id="paper-radio-group" assetpath="../bower_components/paper-radio-group/"><template><style>:host{display:inline-block;}:host ::slotted(*){padding:var(--paper-radio-group-item-padding, 12px);}</style><slot></slot></template></dom-module><script>Polymer({is:"paper-radio-group",behaviors:[Polymer.IronMenubarBehavior],hostAttributes:{role:"radiogroup"},properties:{attrForSelected:{type:String,value:"name"},selectedAttribute:{type:String,value:"checked"},selectable:{type:String,value:"paper-radio-button"},allowEmptySelection:{type:Boolean,value:!1}},select:function select(value){var newItem=this._valueToItem(value);if(newItem&&newItem.hasAttribute("disabled")){return}if(this.selected){var oldItem=this._valueToItem(this.selected);if(this.selected==value){if(this.allowEmptySelection){value=""}else{if(oldItem)oldItem.checked=!0;return}}if(oldItem)oldItem.checked=!1}Polymer.IronSelectableBehavior.select.apply(this,[value]);this.fire("paper-radio-group-changed")},_activateFocusedItem:function _activateFocusedItem(){this._itemActivate(this._valueForItem(this.focusedItem),this.focusedItem)},_onUpKey:function _onUpKey(event){this._focusPrevious();event.preventDefault();this._activateFocusedItem()},_onDownKey:function _onDownKey(event){this._focusNext();event.preventDefault();this._activateFocusedItem()},_onLeftKey:function _onLeftKey(){Polymer.IronMenubarBehaviorImpl._onLeftKey.apply(this,arguments);this._activateFocusedItem()},_onRightKey:function _onRightKey(){Polymer.IronMenubarBehaviorImpl._onRightKey.apply(this,arguments);this._activateFocusedItem()}});</script><script>Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function _calcRatio(value){return(this._clampValue(value)-this.min)/(this.max-this.min)},_clampValue:function _clampValue(value){return Math.min(this.max,Math.max(this.min,this._calcStep(value)))},_calcStep:function _calcStep(value){value=parseFloat(value);if(!this.step){return value}var numSteps=Math.round((value-this.min)/this.step);if(1>this.step){return numSteps/(1/this.step)+this.min}else{return numSteps*this.step+this.min}},_validateValue:function _validateValue(){var v=this._clampValue(this.value);this.value=this.oldValue=isNaN(v)?this.oldValue:v;return this.value!==v},_update:function _update(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};</script><dom-module id="paper-progress" assetpath="../bower_components/paper-progress/"><template><style>:host{display:block;width:200px;position:relative;overflow:hidden;}:host([hidden]), [hidden]{display:none !important;}#progressContainer{@apply --paper-progress-container;position:relative;}#progressContainer,
      /* the stripe for the indeterminate animation*/
      .indeterminate::after{height:var(--paper-progress-height, 4px);}#primaryProgress,
      #secondaryProgress,
      .indeterminate::after{@apply --layout-fit;}#progressContainer,
      .indeterminate::after{background:var(--paper-progress-container-color, var(--google-grey-300));}:host(.transiting) #primaryProgress,
      :host(.transiting) #secondaryProgress{-webkit-transition-property:-webkit-transform;transition-property:transform;-webkit-transition-duration:var(--paper-progress-transition-duration, 0.08s);transition-duration:var(--paper-progress-transition-duration, 0.08s);-webkit-transition-timing-function:var(--paper-progress-transition-timing-function, ease);transition-timing-function:var(--paper-progress-transition-timing-function, ease);-webkit-transition-delay:var(--paper-progress-transition-delay, 0s);transition-delay:var(--paper-progress-transition-delay, 0s);}#primaryProgress,
      #secondaryProgress{@apply --layout-fit;-webkit-transform-origin:left center;transform-origin:left center;-webkit-transform:scaleX(0);transform:scaleX(0);will-change:transform;}#primaryProgress{background:var(--paper-progress-active-color, var(--google-green-500));}#secondaryProgress{background:var(--paper-progress-secondary-color, var(--google-green-100));}:host([disabled]) #primaryProgress{background:var(--paper-progress-disabled-active-color, var(--google-grey-500));}:host([disabled]) #secondaryProgress{background:var(--paper-progress-disabled-secondary-color, var(--google-grey-300));}:host(:not([disabled])) #primaryProgress.indeterminate{-webkit-transform-origin:right center;transform-origin:right center;-webkit-animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}:host(:not([disabled])) #primaryProgress.indeterminate::after{content:"";-webkit-transform-origin:center center;transform-origin:center center;-webkit-animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}@-webkit-keyframes indeterminate-bar{0%{-webkit-transform:scaleX(1) translateX(-100%);}50%{-webkit-transform:scaleX(1) translateX(0%);}75%{-webkit-transform:scaleX(1) translateX(0%);-webkit-animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{-webkit-transform:scaleX(0) translateX(0%);}}@-webkit-keyframes indeterminate-splitter{0%{-webkit-transform:scaleX(.75) translateX(-125%);}30%{-webkit-transform:scaleX(.75) translateX(-125%);-webkit-animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{-webkit-transform:scaleX(.75) translateX(125%);}100%{-webkit-transform:scaleX(.75) translateX(125%);}}@keyframes indeterminate-bar{0%{transform:scaleX(1) translateX(-100%);}50%{transform:scaleX(1) translateX(0%);}75%{transform:scaleX(1) translateX(0%);animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{transform:scaleX(0) translateX(0%);}}@keyframes indeterminate-splitter{0%{transform:scaleX(.75) translateX(-125%);}30%{transform:scaleX(.75) translateX(-125%);animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{transform:scaleX(.75) translateX(125%);}100%{transform:scaleX(.75) translateX(125%);}}</style><div id="progressContainer"><div id="secondaryProgress" hidden$="[[_hideSecondaryProgress(secondaryRatio)]]"></div><div id="primaryProgress"></div></div></template></dom-module><script>Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function _toggleIndeterminate(indeterminate){this.toggleClass("indeterminate",indeterminate,this.$.primaryProgress)},_transformProgress:function _transformProgress(progress,ratio){progress.style.transform=progress.style.webkitTransform="scaleX("+ratio/100+")"},_mainRatioChanged:function _mainRatioChanged(ratio){this._transformProgress(this.$.primaryProgress,ratio)},_progressChanged:function _progressChanged(secondaryProgress,value,min,max,indeterminate){secondaryProgress=this._clampValue(secondaryProgress);value=this._clampValue(value);var secondaryRatio=100*this._calcRatio(secondaryProgress),mainRatio=100*this._calcRatio(value);this._setSecondaryRatio(secondaryRatio);this._transformProgress(this.$.secondaryProgress,secondaryRatio);this._transformProgress(this.$.primaryProgress,mainRatio);this.secondaryProgress=secondaryProgress;if(indeterminate){this.removeAttribute("aria-valuenow")}else{this.setAttribute("aria-valuenow",value)}this.setAttribute("aria-valuemin",min);this.setAttribute("aria-valuemax",max)},_disabledChanged:function _disabledChanged(disabled){this.setAttribute("aria-disabled",disabled?"true":"false")},_hideSecondaryProgress:function _hideSecondaryProgress(secondaryRatio){return 0===secondaryRatio}});</script><dom-module id="paper-slider" assetpath="../bower_components/paper-slider/"><template strip-whitespace=""><style>:host{@apply --layout;@apply --layout-justified;@apply --layout-center;width:200px;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);--paper-progress-active-color:var(--paper-slider-active-color, var(--google-blue-700));--paper-progress-secondary-color:var(--paper-slider-secondary-color, var(--google-blue-300));--paper-progress-disabled-active-color:var(--paper-slider-disabled-active-color, var(--paper-grey-400));--paper-progress-disabled-secondary-color:var(--paper-slider-disabled-secondary-color, var(--paper-grey-400));--calculated-paper-slider-height:var(--paper-slider-height, 2px);}:host(:focus){outline:none;}:dir(rtl) #sliderContainer{-webkit-transform:scaleX(-1);transform:scaleX(-1);}:host([dir="rtl"]) #sliderContainer{-webkit-transform:scaleX(-1);transform:scaleX(-1);}:host([dir="ltr"]) #sliderContainer{-webkit-transform:scaleX(1);transform:scaleX(1);}#sliderContainer{position:relative;width:100%;height:calc(30px + var(--calculated-paper-slider-height));margin-left:calc(15px + var(--calculated-paper-slider-height)/2);margin-right:calc(15px + var(--calculated-paper-slider-height)/2);}#sliderContainer:focus{outline:0;}#sliderContainer.editable{margin-top:12px;margin-bottom:12px;}.bar-container{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden;}.ring > .bar-container{left:calc(5px + var(--calculated-paper-slider-height)/2);transition:left 0.18s ease;}.ring.expand.dragging > .bar-container{transition:none;}.ring.expand:not(.pin) > .bar-container{left:calc(8px + var(--calculated-paper-slider-height)/2);}#sliderBar{padding:15px 0;width:100%;background-color:var(--paper-slider-bar-color, transparent);--paper-progress-container-color:var(--paper-slider-container-color, var(--paper-grey-400));--paper-progress-height:var(--calculated-paper-slider-height);}.slider-markers{position:absolute;top:15px;height:var(--calculated-paper-slider-height);left:0;right:-1px;box-sizing:border-box;pointer-events:none;@apply --layout-horizontal;}.slider-marker{@apply --layout-flex;}.slider-markers::after,
      .slider-marker::after{content:"";display:block;margin-left:-1px;width:2px;height:var(--calculated-paper-slider-height);border-radius:50%;background-color:var(--paper-slider-markers-color, #000);}.slider-knob{position:absolute;left:0;top:0;margin-left:calc(-15px - var(--calculated-paper-slider-height)/2);width:calc(30px + var(--calculated-paper-slider-height));height:calc(30px + var(--calculated-paper-slider-height));}.transiting > .slider-knob{transition:left 0.08s ease;}.slider-knob:focus{outline:none;}.slider-knob.dragging{transition:none;}.snaps > .slider-knob.dragging{transition:-webkit-transform 0.08s ease;transition:transform 0.08s ease;}.slider-knob-inner{margin:10px;width:calc(100% - 20px);height:calc(100% - 20px);background-color:var(--paper-slider-knob-color, var(--google-blue-700));border:2px solid var(--paper-slider-knob-color, var(--google-blue-700));border-radius:50%;-moz-box-sizing:border-box;box-sizing:border-box;transition-property:-webkit-transform, background-color, border;transition-property:transform, background-color, border;transition-duration:0.18s;transition-timing-function:ease;}.expand:not(.pin) > .slider-knob > .slider-knob-inner{-webkit-transform:scale(1.5);transform:scale(1.5);}.ring > .slider-knob > .slider-knob-inner{background-color:var(--paper-slider-knob-start-color, transparent);border:2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));}.slider-knob-inner::before{background-color:var(--paper-slider-pin-color, var(--google-blue-700));}.pin > .slider-knob > .slider-knob-inner::before{content:"";position:absolute;top:0;left:50%;margin-left:-13px;width:26px;height:26px;border-radius:50% 50% 50% 0;-webkit-transform:rotate(-45deg) scale(0) translate(0);transform:rotate(-45deg) scale(0) translate(0);}.slider-knob-inner::before,
      .slider-knob-inner::after{transition:-webkit-transform .18s ease, background-color .18s ease;transition:transform .18s ease, background-color .18s ease;}.pin.ring > .slider-knob > .slider-knob-inner::before{background-color:var(--paper-slider-pin-start-color, var(--paper-grey-400));}.pin.expand > .slider-knob > .slider-knob-inner::before{-webkit-transform:rotate(-45deg) scale(1) translate(17px, -17px);transform:rotate(-45deg) scale(1) translate(17px, -17px);}.pin > .slider-knob > .slider-knob-inner::after{content:attr(value);position:absolute;top:0;left:50%;margin-left:-16px;width:32px;height:26px;text-align:center;color:var(--paper-slider-font-color, #fff);font-size:10px;-webkit-transform:scale(0) translate(0);transform:scale(0) translate(0);}.pin.expand > .slider-knob > .slider-knob-inner::after{-webkit-transform:scale(1) translate(0, -17px);transform:scale(1) translate(0, -17px);}.slider-input{width:50px;overflow:hidden;--paper-input-container-input:{text-align:center;@apply --paper-slider-input-container-input;};@apply --paper-slider-input;}#sliderContainer.disabled{pointer-events:none;}.disabled > .slider-knob > .slider-knob-inner{background-color:var(--paper-slider-disabled-knob-color, var(--paper-grey-400));border:2px solid var(--paper-slider-disabled-knob-color, var(--paper-grey-400));-webkit-transform:scale3d(0.75, 0.75, 1);transform:scale3d(0.75, 0.75, 1);}.disabled.ring > .slider-knob > .slider-knob-inner{background-color:var(--paper-slider-knob-start-color, transparent);border:2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));}paper-ripple{color:var(--paper-slider-knob-color, var(--google-blue-700));}</style><div id="sliderContainer" class$="[[_getClassNames(disabled, pin, snaps, immediateValue, min, expand, dragging, transiting, editable)]]"><div class="bar-container"><paper-progress disabled$="[[disabled]]" id="sliderBar" aria-hidden="true" min="[[min]]" max="[[max]]" step="[[step]]" value="[[immediateValue]]" secondary-progress="[[secondaryProgress]]" on-down="_bardown" on-up="_resetKnob" on-track="_bartrack" on-tap="_barclick"></paper-progress></div><template is="dom-if" if="[[snaps]]"><div class="slider-markers"><template is="dom-repeat" items="[[markers]]"><div class="slider-marker"></div></template></div></template><div id="sliderKnob" class="slider-knob" on-down="_knobdown" on-up="_resetKnob" on-track="_onTrack" on-transitionend="_knobTransitionEnd"><div class="slider-knob-inner" value$="[[immediateValue]]"></div></div></div><template is="dom-if" if="[[editable]]"><paper-input id="input" type="number" step="[[step]]" min="[[min]]" max="[[max]]" class="slider-input" disabled$="[[disabled]]" value="[[immediateValue]]" on-change="_changeValue" on-keydown="_inputKeyDown" no-label-float=""></paper-input></template></template><script>Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{value:{type:Number,value:0},snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,value:!1,readOnly:!0},ignoreBarTouch:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function value(){return[]}}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{left:"_leftKey",right:"_rightKey","down pagedown home":"_decrementKey","up pageup end":"_incrementKey"},ready:function ready(){if(this.ignoreBarTouch){Polymer.Gestures.setTouchAction(this.$.sliderBar,"auto")}},increment:function increment(){this.value=this._clampValue(this.value+this.step)},decrement:function decrement(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function _updateKnob(value,min,max){this.setAttribute("aria-valuemin",min);this.setAttribute("aria-valuemax",max);this.setAttribute("aria-valuenow",value);this._positionKnob(100*this._calcRatio(value))},_valueChanged:function _valueChanged(){this.fire("value-change",{composed:!0})},_immediateValueChanged:function _immediateValueChanged(){if(this.dragging){this.fire("immediate-value-change",{composed:!0})}else{this.value=this.immediateValue}},_secondaryProgressChanged:function _secondaryProgressChanged(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},_expandKnob:function _expandKnob(){this._setExpand(!0)},_resetKnob:function _resetKnob(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},_positionKnob:function _positionKnob(ratio){this._setImmediateValue(this._calcStep(this._calcKnobPosition(ratio)));this._setRatio(100*this._calcRatio(this.immediateValue));this.$.sliderKnob.style.left=this.ratio+"%";if(this.dragging){this._knobstartx=this.ratio*this._w/100;this.translate3d(0,0,0,this.$.sliderKnob)}},_calcKnobPosition:function _calcKnobPosition(ratio){return(this.max-this.min)*ratio/100+this.min},_onTrack:function _onTrack(event){event.stopPropagation();switch(event.detail.state){case"start":this._trackStart(event);break;case"track":this._trackX(event);break;case"end":this._trackEnd();break;}},_trackStart:function _trackStart(){this._setTransiting(!1);this._w=this.$.sliderBar.offsetWidth;this._x=this.ratio*this._w/100;this._startx=this._x;this._knobstartx=this._startx;this._minx=-this._startx;this._maxx=this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},_trackX:function _trackX(event){if(!this.dragging){this._trackStart(event)}var direction=this._isRTL?-1:1,dx=Math.min(this._maxx,Math.max(this._minx,event.detail.dx*direction));this._x=this._startx+dx;var immediateValue=this._calcStep(this._calcKnobPosition(100*(this._x/this._w)));this._setImmediateValue(immediateValue);var translateX=this._calcRatio(this.immediateValue)*this._w-this._knobstartx;this.translate3d(translateX+"px",0,0,this.$.sliderKnob)},_trackEnd:function _trackEnd(){var s=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;s.transform=s.webkitTransform="";this.fire("change",{composed:!0})},_knobdown:function _knobdown(event){this._expandKnob();event.preventDefault();this.focus()},_bartrack:function _bartrack(event){if(this._allowBarEvent(event)){this._onTrack(event)}},_barclick:function _barclick(event){this._w=this.$.sliderBar.offsetWidth;var rect=this.$.sliderBar.getBoundingClientRect(),ratio=100*((event.detail.x-rect.left)/this._w);if(this._isRTL){ratio=100-ratio}var prevRatio=this.ratio;this._setTransiting(!0);this._positionKnob(ratio);if(prevRatio===this.ratio){this._setTransiting(!1)}this.async(function(){this.fire("change",{composed:!0})});event.preventDefault();this.focus()},_bardown:function _bardown(event){if(this._allowBarEvent(event)){this.debounce("expandKnob",this._expandKnob,60);this._barclick(event)}},_knobTransitionEnd:function _knobTransitionEnd(event){if(event.target===this.$.sliderKnob){this._setTransiting(!1)}},_updateMarkers:function _updateMarkers(maxMarkers,min,max,snaps){if(!snaps){this._setMarkers([])}var steps=Math.round((max-min)/this.step);if(steps>maxMarkers){steps=maxMarkers}if(0>steps||!isFinite(steps)){steps=0}this._setMarkers(Array(steps))},_mergeClasses:function _mergeClasses(classes){return Object.keys(classes).filter(function(className){return classes[className]}).join(" ")},_getClassNames:function _getClassNames(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},_allowBarEvent:function _allowBarEvent(event){return!this.ignoreBarTouch||babelHelpers.instanceof(event.detail.sourceEvent,MouseEvent)},get _isRTL(){if(this.__isRTL===void 0){this.__isRTL="rtl"===window.getComputedStyle(this).direction}return this.__isRTL},_leftKey:function _leftKey(event){if(this._isRTL)this._incrementKey(event);else this._decrementKey(event)},_rightKey:function _rightKey(event){if(this._isRTL)this._decrementKey(event);else this._incrementKey(event)},_incrementKey:function _incrementKey(event){if(!this.disabled){if("end"===event.detail.key){this.value=this.max}else{this.increment()}this.fire("change");event.preventDefault()}},_decrementKey:function _decrementKey(event){if(!this.disabled){if("home"===event.detail.key){this.value=this.min}else{this.decrement()}this.fire("change");event.preventDefault()}},_changeValue:function _changeValue(event){this.value=event.target.value;this.fire("change",{composed:!0})},_inputKeyDown:function _inputKeyDown(event){event.stopPropagation()},_createRipple:function _createRipple(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function _focusedChanged(receivedFocusFromKeyboard){if(receivedFocusFromKeyboard){this.ensureRipple()}if(this.hasRipple()){if(receivedFocusFromKeyboard){this._ripple.style.display=""}else{this._ripple.style.display="none"}this._ripple.holdDown=receivedFocusFromKeyboard}}});</script></dom-module><script>(function(l,ia){"object"===("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!==typeof module?ia(exports):"function"===typeof define&&define.amd?define(["exports"],ia):ia(l.THREE={})})(this,function(l){var _Mathtan=Math.tan,_Mathatan2=Math.atan,_Mathacos=Math.acos,_Mathround=Math.round,_Mathceil=Math.ceil,_NumberisInteger=Number.isInteger,_Mathsign=Math.sign,_NumberEPSILON=Number.EPSILON,_Mathsin=Math.sin,_Mathatan=Math.atan2,_Mathpow=Math.pow,_MathPI=Math.PI,_Mathsqrt=Math.sqrt,_MathLN=Math.LN2,_Mathlog=Math.log,_Mathmax=Math.max,_Mathcos=Math.cos,_Mathmin=Math.min,_Mathabs=Math.abs,_Mathfloor=Math.floor;function ia(){}function A(a,b){this.x=a||0;this.y=b||0}function P(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function ja(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1}function p(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0}function oa(){this.elements=[1,0,0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function Q(a,b,c,d,e,f,g,h,k,m){Object.defineProperty(this,"id",{value:Gf++});this.uuid=S.generateUUID();this.name="";this.image=void 0!==a?a:Q.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:Q.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:1001;this.wrapT=void 0!==d?d:1001;this.magFilter=void 0!==e?e:1006;this.minFilter=void 0!==f?f:1008;this.anisotropy=void 0!==k?k:1;this.format=void 0!==g?g:1023;this.type=void 0!==h?h:1009;this.offset=new A(0,0);this.repeat=new A(1,1);this.center=new A(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new oa;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:3E3;this.version=0;this.onUpdate=null}function Z(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1}function ib(a,b,c){this.width=a;this.height=b;this.scissor=new Z(0,0,a,b);this.scissorTest=!1;this.viewport=new Z(0,0,a,b);c=c||{};void 0===c.minFilter&&(c.minFilter=1006);this.texture=new Q(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.texture.generateMipmaps=void 0!==c.generateMipmaps?c.generateMipmaps:!0;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null}function Jb(a,b,c){ib.call(this,a,b,c);this.activeMipMapLevel=this.activeCubeFace=0}function jb(a,b,c,d,e,f,g,h,k,m,r,n){Q.call(this,null,f,g,h,k,m,d,e,r,n);this.image={data:a,width:b,height:c};this.magFilter=void 0!==k?k:1003;this.minFilter=void 0!==m?m:1003;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}function Wa(a,b){this.min=void 0!==a?a:new p(1/0,1/0,1/0);this.max=void 0!==b?b:new p(-Infinity,-Infinity,-Infinity)}function Fa(a,b){this.center=void 0!==a?a:new p;this.radius=void 0!==b?b:0}function Pa(a,b){this.normal=void 0!==a?a:new p(1,0,0);this.constant=void 0!==b?b:0}function rd(a,b,c,d,e,f){this.planes=[void 0!==a?a:new Pa,void 0!==b?b:new Pa,void 0!==c?c:new Pa,void 0!==d?d:new Pa,void 0!==e?e:new Pa,void 0!==f?f:new Pa]}function G(a,b,c){return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)}function Vd(){function a(e,f){!1!==c&&(d(e,f),b.requestAnimationFrame(a))}var b=null,c=!1,d=null;return{start:function start(){!0!==c&&null!==d&&(b.requestAnimationFrame(a),c=!0)},stop:function stop(){c=!1},setAnimationLoop:function setAnimationLoop(a){d=a},setContext:function setContext(a){b=a}}}function Hf(a){function b(b,c){var d=b.array,e=b.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW,h=a.createBuffer();a.bindBuffer(c,h);a.bufferData(c,d,e);b.onUploadCallback();c=a.FLOAT;babelHelpers.instanceof(d,Float32Array)?c=a.FLOAT:babelHelpers.instanceof(d,Float64Array)?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):babelHelpers.instanceof(d,Uint16Array)?c=a.UNSIGNED_SHORT:babelHelpers.instanceof(d,Int16Array)?c=a.SHORT:babelHelpers.instanceof(d,Uint32Array)?c=a.UNSIGNED_INT:babelHelpers.instanceof(d,Int32Array)?c=a.INT:babelHelpers.instanceof(d,Int8Array)?c=a.BYTE:babelHelpers.instanceof(d,Uint8Array)&&(c=a.UNSIGNED_BYTE);return{buffer:h,type:c,bytesPerElement:d.BYTES_PER_ELEMENT,version:b.version}}var c=new WeakMap;return{get:function get(a){a.isInterleavedBufferAttribute&&(a=a.data);return c.get(a)},remove:function remove(b){b.isInterleavedBufferAttribute&&(b=b.data);var d=c.get(b);d&&(a.deleteBuffer(d.buffer),c.delete(b))},update:function update(d,e){d.isInterleavedBufferAttribute&&(d=d.data);var f=c.get(d);if(void 0===f)c.set(d,b(d,e));else if(f.version<d.version){var g=d,h=g.array,k=g.updateRange;a.bindBuffer(e,f.buffer);!1===g.dynamic?a.bufferData(e,h,a.STATIC_DRAW):-1===k.count?a.bufferSubData(e,0,h):0===k.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(a.bufferSubData(e,k.offset*h.BYTES_PER_ELEMENT,h.subarray(k.offset,k.offset+k.count)),k.count=-1);f.version=d.version}}}}function Xa(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d&&d.isVector3?d:new p;this.vertexNormals=Array.isArray(d)?d:[];this.color=e&&e.isColor?e:new G;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==f?f:0}function kb(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||kb.DefaultOrder}function Wd(){this.mask=1}function C(){Object.defineProperty(this,"id",{value:If++});this.uuid=S.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=C.DefaultUp.clone();var a=new p,b=new kb,c=new ja,d=new p(1,1,1);b.onChange(function(){c.setFromEuler(b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:b},quaternion:{enumerable:!0,value:c},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new P},normalMatrix:{value:new oa}});this.matrix=new P;this.matrixWorld=new P;this.matrixAutoUpdate=C.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new Wd;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}}function M(){Object.defineProperty(this,"id",{value:Jf+=2});this.uuid=S.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function I(a,b,c){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=!0===c;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0}function sc(a,b,c){I.call(this,new Int8Array(a),b,c)}function tc(a,b,c){I.call(this,new Uint8Array(a),b,c)}function uc(a,b,c){I.call(this,new Uint8ClampedArray(a),b,c)}function vc(a,b,c){I.call(this,new Int16Array(a),b,c)}function lb(a,b,c){I.call(this,new Uint16Array(a),b,c)}function wc(a,b,c){I.call(this,new Int32Array(a),b,c)}function mb(a,b,c){I.call(this,new Uint32Array(a),b,c)}function z(a,b,c){I.call(this,new Float32Array(a),b,c)}function xc(a,b,c){I.call(this,new Float64Array(a),b,c)}function Ge(){this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function He(a){if(0===a.length)return-Infinity;for(var b=a[0],c=1,d=a.length;c<d;++c){a[c]>b&&(b=a[c])}return b}function F(){Object.defineProperty(this,"id",{value:Kf+=2});this.uuid=S.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:1/0};this.userData={}}function Kb(a,b,c,d,e,f){M.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new nb(a,b,c,d,e,f));this.mergeVertices()}function nb(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,l,X,B,Lb){var t=f/X,u=g/B,y=f/2,w=g/2;g=X+1;var J=f=0,D,A,z=new p;for(A=0;A<B+1;A++){var C=A*u-w;for(D=0;D<g;D++){z[a]=(D*t-y)*d,z[b]=C*e,z[c]=l/2,m.push(z.x,z.y,z.z),z[a]=0,z[b]=0,z[c]=0<l?1:-1,r.push(z.x,z.y,z.z),n.push(D/X),n.push(1-A/B),f+=1}}for(A=0;A<B;A++){for(D=0;D<X;D++){a=q+D+g*(A+1),b=q+(D+1)+g*(A+1),c=q+(D+1)+g*A,k.push(q+D+g*A,a,c),k.push(a,b,c),J+=6}}h.addGroup(v,J,Lb);v+=J;q+=f}F.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var h=this;a=a||1;b=b||1;c=c||1;d=_Mathfloor(d)||1;e=_Mathfloor(e)||1;f=_Mathfloor(f)||1;var k=[],m=[],r=[],n=[],q=0,v=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y","x",1,-1,c,b,-a,f,e,1);g("x","z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z",1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(k);this.addAttribute("position",new z(m,3));this.addAttribute("normal",new z(r,3));this.addAttribute("uv",new z(n,2))}function yc(a,b,c,d){M.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new ob(a,b,c,d));this.mergeVertices()}function ob(a,b,c,d){F.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};a=a||1;b=b||1;var e=a/2,f=b/2;c=_Mathfloor(c)||1;d=_Mathfloor(d)||1;var g=c+1,h=d+1,k=a/c,m=b/d,r=[],n=[],q=[],v=[];for(a=0;a<h;a++){var t=a*m-f;for(b=0;b<g;b++){n.push(b*k-e,-t,0),q.push(0,0,1),v.push(b/c),v.push(1-a/d)}}for(a=0;a<d;a++){for(b=0;b<c;b++){e=b+g*(a+1),f=b+1+g*(a+1),h=b+1+g*a,r.push(b+g*a,e,h),r.push(e,f,h)}}this.setIndex(r);this.addAttribute("position",new z(n,3));this.addAttribute("normal",new z(q,3));this.addAttribute("uv",new z(v,2))}function L(){Object.defineProperty(this,"id",{value:Lf++});this.uuid=S.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=1;this.side=0;this.flatShading=!1;this.vertexColors=0;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.overdraw=0;this.visible=!0;this.userData={};this.needsUpdate=!0}function la(a){L.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))}function pb(a,b){this.origin=void 0!==a?a:new p;this.direction=void 0!==b?b:new p}function da(a,b,c){this.a=void 0!==a?a:new p;this.b=void 0!==b?b:new p;this.c=void 0!==c?c:new p}function wa(a){L.call(this);this.type="MeshBasicMaterial";this.color=new G(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;this.setValues(a)}function ua(a,b){C.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new F;this.material=void 0!==b?b:new wa({color:16777215*Math.random()});this.drawMode=0;this.updateMorphTargets()}function Mf(a,b,c,d){function e(a,c){b.buffers.color.setClear(a.r,a.g,a.b,c,d)}var f=new G(0),g=0,h,k;return{getClearColor:function getClearColor(){return f},setClearColor:function setClearColor(a,b){f.set(a);g=void 0!==b?b:1;e(f,g)},getClearAlpha:function getClearAlpha(){return g},setClearAlpha:function setClearAlpha(a){g=a;e(f,g)},render:function render(b,d,n,q){d=d.background;null===d?e(f,g):d&&d.isColor&&(e(d,1),q=!0);(a.autoClear||q)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);d&&d.isCubeTexture?(void 0===k&&(k=new ua(new nb(1,1,1),new la({uniforms:va.clone(Qa.cube.uniforms),vertexShader:Qa.cube.vertexShader,fragmentShader:Qa.cube.fragmentShader,side:1,depthTest:!0,depthWrite:!1,fog:!1})),k.geometry.removeAttribute("normal"),k.geometry.removeAttribute("uv"),k.onBeforeRender=function(a,b,c){this.matrixWorld.copyPosition(c.matrixWorld)},c.update(k)),k.material.uniforms.tCube.value=d,b.push(k,k.geometry,k.material,0,null)):d&&d.isTexture&&(void 0===h&&(h=new ua(new ob(2,2),new la({uniforms:va.clone(Qa.background.uniforms),vertexShader:Qa.background.vertexShader,fragmentShader:Qa.background.fragmentShader,side:0,depthTest:!0,depthWrite:!1,fog:!1})),h.geometry.removeAttribute("normal"),c.update(h)),h.material.uniforms.t2D.value=d,b.push(h,h.geometry,h.material,0,null))}}}function Nf(a,b,c,d){var e;this.setMode=function(a){e=a};this.render=function(b,d){a.drawArrays(e,b,d);c.update(d,e)};this.renderInstances=function(f,g,h){if(d.isWebGL2)var k=a;else if(k=b.get("ANGLE_instanced_arrays"),null===k){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}k[d.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](e,g,h,f.maxInstancedCount);c.update(h,e,f.maxInstancedCount)}}function Of(a,b,c){function d(b){if("highp"===b){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";b="mediump"}return"mediump"===b&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}var e,f="undefined"!==typeof WebGL2RenderingContext&&babelHelpers.instanceof(a,WebGL2RenderingContext),g=void 0!==c.precision?c.precision:"highp",h=d(g);h!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",h,"instead."),g=h);c=!0===c.logarithmicDepthBuffer;h=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);var k=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=a.getParameter(a.MAX_TEXTURE_SIZE),r=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),n=a.getParameter(a.MAX_VERTEX_ATTRIBS),q=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),v=a.getParameter(a.MAX_VARYING_VECTORS),t=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),l=0<k,y=f||!!b.get("OES_texture_float");return{isWebGL2:f,getMaxAnisotropy:function getMaxAnisotropy(){if(void 0!==e)return e;var c=b.get("EXT_texture_filter_anisotropic");return e=null!==c?a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:d,precision:g,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:k,maxTextureSize:m,maxCubemapSize:r,maxAttributes:n,maxVertexUniforms:q,maxVaryings:v,maxFragmentUniforms:t,vertexTextures:l,floatFragmentTextures:y,floatVertexTextures:l&&y}}function Pf(){function a(){m.value!==d&&(m.value=d,m.needsUpdate=0<e);c.numPlanes=e;c.numIntersection=0}function b(a,b,d,e){var f=null!==a?a.length:0,g=null;if(0!==f){g=m.value;if(!0!==e||null===g){e=d+4*f;b=b.matrixWorldInverse;k.getNormalMatrix(b);if(null===g||g.length<e)g=new Float32Array(e);for(e=0;e!==f;++e,d+=4){h.copy(a[e]).applyMatrix4(b,k),h.normal.toArray(g,d),g[d+3]=h.constant}}m.value=g;m.needsUpdate=!0}c.numPlanes=f;return g}var c=this,d=null,e=0,f=!1,g=!1,h=new Pa,k=new oa,m={value:null,needsUpdate:!1};this.uniform=m;this.numIntersection=this.numPlanes=0;this.init=function(a,c,g){var h=0!==a.length||c||0!==e||f;f=c;d=b(a,g,0);e=a.length;return h};this.beginShadows=function(){g=!0;b(null)};this.endShadows=function(){g=!1;a()};this.setState=function(c,h,k,v,t,l){if(!f||null===c||0===c.length||g&&!k)g?b(null):a();else{k=g?0:e;var n=4*k,r=t.clippingState||null;m.value=r;r=b(c,v,n,l);for(c=0;c!==n;++c){r[c]=d[c]}t.clippingState=r;this.numIntersection=h?this.numPlanes:0;this.numPlanes+=k}}}function Qf(a){var b={};return{get:function get(c){if(void 0!==b[c])return b[c];switch(c){case"WEBGL_depth_texture":var d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c);}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");return b[c]=d}}}function Rf(a,b,c){function d(a){var h=a.target;a=e[h.id];null!==a.index&&b.remove(a.index);for(var g in a.attributes){b.remove(a.attributes[g])}h.removeEventListener("dispose",d);delete e[h.id];if(g=f[a.id])b.remove(g),delete f[a.id];c.memory.geometries--}var e={},f={};return{get:function get(a,b){var f=e[b.id];if(f)return f;b.addEventListener("dispose",d);b.isBufferGeometry?f=b:b.isGeometry&&(void 0===b._bufferGeometry&&(b._bufferGeometry=new F().setFromObject(a)),f=b._bufferGeometry);e[b.id]=f;c.memory.geometries++;return f},update:function update(c){var d=c.index,e=c.attributes;null!==d&&b.update(d,a.ELEMENT_ARRAY_BUFFER);for(var f in e){b.update(e[f],a.ARRAY_BUFFER)}c=c.morphAttributes;for(f in c){d=c[f];e=0;for(var g=d.length;e<g;e++){b.update(d[e],a.ARRAY_BUFFER)}}},getWireframeAttribute:function getWireframeAttribute(c){var d=f[c.id];if(d)return d;d=[];var e=c.index,g=c.attributes;if(null!==e){e=e.array;g=0;for(var r=e.length;g<r;g+=3){var n=e[g+0],q=e[g+1],v=e[g+2];d.push(n,q,q,v,v,n)}}else for(e=g.position.array,g=0,r=e.length/3-1;g<r;g+=3){n=g+0,q=g+1,v=g+2,d.push(n,q,q,v,v,n)}d=new(65535<He(d)?mb:lb)(d,1);b.update(d,a.ELEMENT_ARRAY_BUFFER);return f[c.id]=d}}}function Sf(a,b,c,d){var e,f,g;this.setMode=function(a){e=a};this.setIndex=function(a){f=a.type;g=a.bytesPerElement};this.render=function(b,d){a.drawElements(e,d,f,b*g);c.update(d,e)};this.renderInstances=function(h,k,m){if(d.isWebGL2)var r=a;else if(r=b.get("ANGLE_instanced_arrays"),null===r){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}r[d.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](e,m,f,k*g,h.maxInstancedCount);c.update(m,e,h.maxInstancedCount)}}function Tf(a){var b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,autoReset:!0,reset:function reset(){b.frame++;b.calls=0;b.triangles=0;b.points=0;b.lines=0},update:function update(c,d,e){e=e||1;b.calls++;switch(d){case a.TRIANGLES:b.triangles+=c/3*e;break;case a.TRIANGLE_STRIP:case a.TRIANGLE_FAN:b.triangles+=e*(c-2);break;case a.LINES:b.lines+=c/2*e;break;case a.LINE_STRIP:b.lines+=e*(c-1);break;case a.LINE_LOOP:b.lines+=e*c;break;case a.POINTS:b.points+=e*c;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d);}}}}function Uf(a,b){return _Mathabs(b[1])-_Mathabs(a[1])}function Vf(a){var b={},c=new Float32Array(8);return{update:function update(d,e,f,g){var h=d.morphTargetInfluences,k=h.length;d=b[e.id];if(void 0===d){d=[];for(var m=0;m<k;m++){d[m]=[m,0]}b[e.id]=d}var r=f.morphTargets&&e.morphAttributes.position;f=f.morphNormals&&e.morphAttributes.normal;for(m=0;m<k;m++){var n=d[m];0!==n[1]&&(r&&e.removeAttribute("morphTarget"+m),f&&e.removeAttribute("morphNormal"+m))}for(m=0;m<k;m++){n=d[m],n[0]=m,n[1]=h[m]}d.sort(Uf);for(m=0;8>m;m++){if(n=d[m])if(h=n[0],k=n[1]){r&&e.addAttribute("morphTarget"+m,r[h]);f&&e.addAttribute("morphNormal"+m,f[h]);c[m]=k;continue}c[m]=0}g.getUniforms().setValue(a,"morphTargetInfluences",c)}}}function Wf(a,b){var c={};return{update:function update(d){var e=b.render.frame,f=d.geometry,g=a.get(d,f);c[g.id]!==e&&(f.isGeometry&&g.updateFromObject(d),a.update(g),c[g.id]=e);return g},dispose:function dispose(){c={}}}}function Ya(a,b,c,d,e,f,g,h,k,m){a=void 0!==a?a:[];Q.call(this,a,void 0!==b?b:301,c,d,e,f,g,h,k,m);this.flipY=!1}function Mb(a,b,c,d){Q.call(this,null);this.image={data:a,width:b,height:c,depth:d};this.minFilter=this.magFilter=1003;this.flipY=this.generateMipmaps=!1}function Nb(a,b,c){var d=a[0];if(0>=d||0<d)return a;var e=b*c,f=Ie[e];void 0===f&&(f=new Float32Array(e),Ie[e]=f);if(0!==b)for(d.toArray(f,0),d=1,e=0;d!==b;++d){e+=c,a[d].toArray(f,e)}return f}function ea(a,b){if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++){if(a[c]!==b[c])return!1}return!0}function sa(a,b){for(var c=0,d=b.length;c<d;c++){a[c]=b[c]}}function Je(a,b){var c=Ke[b];void 0===c&&(c=new Int32Array(b),Ke[b]=c);for(var d=0;d!==b;++d){c[d]=a.allocTextureUnit()}return c}function Xf(a,b){var c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}function Yf(a,b){var c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function Zf(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else ea(c,b)||(a.uniform2fv(this.addr,b),sa(c,b))}function $f(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else if(void 0!==b.r){if(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b}else ea(c,b)||(a.uniform3fv(this.addr,b),sa(c,b))}function ag(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else ea(c,b)||(a.uniform4fv(this.addr,b),sa(c,b))}function bg(a,b){var c=this.cache,d=b.elements;void 0===d?ea(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),sa(c,b)):ea(c,d)||(Le.set(d),a.uniformMatrix2fv(this.addr,!1,Le),sa(c,d))}function cg(a,b){var c=this.cache,d=b.elements;void 0===d?ea(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),sa(c,b)):ea(c,d)||(Me.set(d),a.uniformMatrix3fv(this.addr,!1,Me),sa(c,d))}function dg(a,b){var c=this.cache,d=b.elements;void 0===d?ea(c,b)||(a.uniformMatrix4fv(this.addr,!1,b),sa(c,b)):ea(c,d)||(Ne.set(d),a.uniformMatrix4fv(this.addr,!1,Ne),sa(c,d))}function eg(a,b,c){var d=this.cache,e=c.allocTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture2D(b||Oe,e)}function fg(a,b,c){var d=this.cache,e=c.allocTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture3D(b||gg,e)}function hg(a,b,c){var d=this.cache,e=c.allocTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTextureCube(b||Pe,e)}function Qe(a,b){var c=this.cache;ea(c,b)||(a.uniform2iv(this.addr,b),sa(c,b))}function Re(a,b){var c=this.cache;ea(c,b)||(a.uniform3iv(this.addr,b),sa(c,b))}function Se(a,b){var c=this.cache;ea(c,b)||(a.uniform4iv(this.addr,b),sa(c,b))}function ig(a){switch(a){case 5126:return Xf;case 35664:return Zf;case 35665:return $f;case 35666:return ag;case 35674:return bg;case 35675:return cg;case 35676:return dg;case 35678:case 36198:return eg;case 35679:return fg;case 35680:return hg;case 5124:case 35670:return Yf;case 35667:case 35671:return Qe;case 35668:case 35672:return Re;case 35669:case 35673:return Se;}}function jg(a,b){var c=this.cache;ea(c,b)||(a.uniform1fv(this.addr,b),sa(c,b))}function kg(a,b){var c=this.cache;ea(c,b)||(a.uniform1iv(this.addr,b),sa(c,b))}function lg(a,b){var c=this.cache;b=Nb(b,this.size,2);ea(c,b)||(a.uniform2fv(this.addr,b),this.updateCache(b))}function mg(a,b){var c=this.cache;b=Nb(b,this.size,3);ea(c,b)||(a.uniform3fv(this.addr,b),this.updateCache(b))}function ng(a,b){var c=this.cache;b=Nb(b,this.size,4);ea(c,b)||(a.uniform4fv(this.addr,b),this.updateCache(b))}function og(a,b){var c=this.cache;b=Nb(b,this.size,4);ea(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),this.updateCache(b))}function pg(a,b){var c=this.cache;b=Nb(b,this.size,9);ea(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),this.updateCache(b))}function qg(a,b){var c=this.cache;b=Nb(b,this.size,16);ea(c,b)||(a.uniformMatrix4fv(this.addr,!1,b),this.updateCache(b))}function rg(a,b,c){var d=this.cache,e=b.length,f=Je(c,e);!1===ea(d,f)&&(a.uniform1iv(this.addr,f),sa(d,f));for(a=0;a!==e;++a){c.setTexture2D(b[a]||Oe,f[a])}}function sg(a,b,c){var d=this.cache,e=b.length,f=Je(c,e);!1===ea(d,f)&&(a.uniform1iv(this.addr,f),sa(d,f));for(a=0;a!==e;++a){c.setTextureCube(b[a]||Pe,f[a])}}function tg(a){switch(a){case 5126:return jg;case 35664:return lg;case 35665:return mg;case 35666:return ng;case 35674:return og;case 35675:return pg;case 35676:return qg;case 35678:return rg;case 35680:return sg;case 5124:case 35670:return kg;case 35667:case 35671:return Qe;case 35668:case 35672:return Re;case 35669:case 35673:return Se;}}function ug(a,b,c){this.id=a;this.addr=c;this.cache=[];this.setValue=ig(b.type)}function Te(a,b,c){this.id=a;this.addr=c;this.cache=[];this.size=b.size;this.setValue=tg(b.type)}function Ue(a){this.id=a;this.seq=[];this.map={}}function bb(a,b,c){this.seq=[];this.map={};this.renderer=c;c=a.getProgramParameter(b,a.ACTIVE_UNIFORMS);for(var d=0;d<c;++d){var e=a.getActiveUniform(b,d),f=a.getUniformLocation(b,e.name),g=this,h=e.name,k=h.length;for(Yd.lastIndex=0;;){var m=Yd.exec(h),r=Yd.lastIndex,n=m[1],q=m[3];"]"===m[2]&&(n|=0);if(void 0===q||"["===q&&r+2===k){h=g;e=void 0===q?new ug(n,e,f):new Te(n,e,f);h.seq.push(e);h.map[e.id]=e;break}else q=g.map[n],void 0===q&&(q=new Ue(n),n=g,g=q,n.seq.push(g),n.map[g.id]=g),g=q}}}function vg(a){a=a.split("\n");for(var b=0;b<a.length;b++){a[b]=b+1+": "+a[b]}return a.join("\n")}function Ve(a,b,c){var d=a.createShader(b);a.shaderSource(d,c);a.compileShader(d);!1===a.getShaderParameter(d,a.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==a.getShaderInfoLog(d)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",b===a.VERTEX_SHADER?"vertex":"fragment",a.getShaderInfoLog(d),vg(c));return d}function We(a){switch(a){case 3E3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+a);}}function td(a,b){b=We(b);return"vec4 "+a+"( vec4 value ) { return "+b[0]+"ToLinear"+b[1]+"; }"}function wg(a,b){b=We(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function xg(a,b){switch(b){case 1:b="Linear";break;case 2:b="Reinhard";break;case 3:b="Uncharted2";break;case 4:b="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+b);}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}function yg(a,b,c){a=a||{};return[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap&&!b.objectSpaceNormalMap||b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(zc).join("\n")}function zg(a){var b=[],c;for(c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}function zc(a){return""!==a}function Xe(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function Ye(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}function Zd(a){return a.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(a,c){a=K[c];if(void 0===a)throw Error("Can not resolve #include <"+c+">");return Zd(a)})}function Ze(a){return a.replace(/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(a,c,d,e){a="";for(c=parseInt(c);c<parseInt(d);c++){a+=e.replace(/\[ i \]/g,"[ "+c+" ]")}return a})}function Ag(a,b,c,d,e,f,g){var h=a.context,k=d.defines,m=e.vertexShader,r=e.fragmentShader,n="SHADOWMAP_TYPE_BASIC";1===f.shadowMapType?n="SHADOWMAP_TYPE_PCF":2===f.shadowMapType&&(n="SHADOWMAP_TYPE_PCF_SOFT");var q="ENVMAP_TYPE_CUBE",v="ENVMAP_MODE_REFLECTION",t="ENVMAP_BLENDING_MULTIPLY";if(f.envMap){switch(d.envMap.mapping){case 301:case 302:q="ENVMAP_TYPE_CUBE";break;case 306:case 307:q="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:q="ENVMAP_TYPE_EQUIREC";break;case 305:q="ENVMAP_TYPE_SPHERE";}switch(d.envMap.mapping){case 302:case 304:v="ENVMAP_MODE_REFRACTION";}switch(d.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD";}}var l=0<a.gammaFactor?a.gammaFactor:1,y=g.isWebGL2?"":yg(d.extensions,f,b),p=zg(k),w=h.createProgram();d.isRawShaderMaterial?(k=[p].filter(zc).join("\n"),0<k.length&&(k+="\n"),b=[y,p].filter(zc).join("\n"),0<b.length&&(b+="\n")):(k=["precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,p,f.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+l,"#define MAX_BONES "+f.maxBones,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+v:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.displacementMap&&f.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.vertexColors?"#define USE_COLOR":"",f.flatShading?"#define FLAT_SHADED":"",f.skinning?"#define USE_SKINNING":"",f.useVertexTexture?"#define BONE_TEXTURE":"",f.morphTargets?"#define USE_MORPHTARGETS":"",f.morphNormals&&!1===f.flatShading?"#define USE_MORPHNORMALS":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+n:"",f.sizeAttenuation?"#define USE_SIZEATTENUATION":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&(g.isWebGL2||b.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(zc).join("\n"),b=[y,"precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,p,f.alphaTest?"#define ALPHATEST "+f.alphaTest+(f.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+l,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+q:"",f.envMap?"#define "+v:"",f.envMap?"#define "+t:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.normalMap&&f.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.vertexColors?"#define USE_COLOR":"",f.gradientMap?"#define USE_GRADIENTMAP":"",f.flatShading?"#define FLAT_SHADED":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+n:"",f.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",f.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&(g.isWebGL2||b.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",f.envMap&&(g.isWebGL2||b.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==f.toneMapping?"#define TONE_MAPPING":"",0!==f.toneMapping?K.tonemapping_pars_fragment:"",0!==f.toneMapping?xg("toneMapping",f.toneMapping):"",f.dithering?"#define DITHERING":"",f.outputEncoding||f.mapEncoding||f.matcapEncoding||f.envMapEncoding||f.emissiveMapEncoding?K.encodings_pars_fragment:"",f.mapEncoding?td("mapTexelToLinear",f.mapEncoding):"",f.matcapEncoding?td("matcapTexelToLinear",f.matcapEncoding):"",f.envMapEncoding?td("envMapTexelToLinear",f.envMapEncoding):"",f.emissiveMapEncoding?td("emissiveMapTexelToLinear",f.emissiveMapEncoding):"",f.outputEncoding?wg("linearToOutputTexel",f.outputEncoding):"",f.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter(zc).join("\n"));m=Zd(m);m=Xe(m,f);m=Ye(m,f);r=Zd(r);r=Xe(r,f);r=Ye(r,f);m=Ze(m);r=Ze(r);g.isWebGL2&&!d.isRawShaderMaterial&&(g=!1,n=/^\s*#version\s+300\s+es\s*\n/,d.isShaderMaterial&&null!==m.match(n)&&null!==r.match(n)&&(g=!0,m=m.replace(n,""),r=r.replace(n,"")),k="#version 300 es\n\n#define attribute in\n#define varying out\n#define texture2D texture\n"+k,b=["#version 300 es\n\n#define varying in",g?"":"out highp vec4 pc_fragColor;",g?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b);r=b+r;m=Ve(h,h.VERTEX_SHADER,k+m);r=Ve(h,h.FRAGMENT_SHADER,r);h.attachShader(w,m);h.attachShader(w,r);void 0!==d.index0AttributeName?h.bindAttribLocation(w,0,d.index0AttributeName):!0===f.morphTargets&&h.bindAttribLocation(w,0,"position");h.linkProgram(w);f=h.getProgramInfoLog(w).trim();g=h.getShaderInfoLog(m).trim();n=h.getShaderInfoLog(r).trim();v=q=!0;if(!1===h.getProgramParameter(w,h.LINK_STATUS))q=!1,console.error("THREE.WebGLProgram: shader error: ",h.getError(),"gl.VALIDATE_STATUS",h.getProgramParameter(w,h.VALIDATE_STATUS),"gl.getProgramInfoLog",f,g,n);else if(""!==f)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",f);else if(""===g||""===n)v=!1;v&&(this.diagnostics={runnable:q,material:d,programLog:f,vertexShader:{log:g,prefix:k},fragmentShader:{log:n,prefix:b}});h.deleteShader(m);h.deleteShader(r);var D;this.getUniforms=function(){void 0===D&&(D=new bb(h,w,a));return D};var J;this.getAttributes=function(){if(void 0===J){for(var a={},b=h.getProgramParameter(w,h.ACTIVE_ATTRIBUTES),c=0,d;c<b;c++){d=h.getActiveAttrib(w,c).name;a[d]=h.getAttribLocation(w,d)}J=a}return J};this.destroy=function(){h.deleteProgram(w);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function get(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function get(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.name=e.name;this.id=Bg++;this.code=c;this.usedTimes=1;this.program=w;this.vertexShader=m;this.fragmentShader=r;return this}function Cg(a,b,c){function d(a,b){if(a)a.isTexture?c=a.encoding:a.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),c=a.texture.encoding);else var c=3E3;3E3===c&&b&&(c=3007);return c}var e=[],f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},g="precision supportsVertexTextures map mapEncoding matcapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");this.getParameters=function(b,e,g,r,n,q,v){var h=f[b.type];if(v.isSkinnedMesh){var k=v.skeleton.bones;if(c.floatVertexTextures)k=1024;else{var m=_Mathmin(_Mathfloor((c.maxVertexUniforms-20)/4),k.length);m<k.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+k.length+" bones. This GPU supports "+m+"."),k=0):k=m}}else k=0;m=c.precision;null!==b.precision&&(m=c.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));var l=a.getRenderTarget();return{shaderID:h,precision:m,supportsVertexTextures:c.vertexTextures,outputEncoding:d(l?l.texture:null,a.gammaOutput),map:!!b.map,mapEncoding:d(b.map,a.gammaInput),matcap:!!b.matcap,matcapEncoding:d(b.matcap,a.gammaInput),envMap:!!b.envMap,envMapMode:b.envMap&&b.envMap.mapping,envMapEncoding:d(b.envMap,a.gammaInput),envMapCubeUV:!!b.envMap&&(306===b.envMap.mapping||307===b.envMap.mapping),lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,emissiveMapEncoding:d(b.emissiveMap,a.gammaInput),bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:1===b.normalMapType,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,alphaMap:!!b.alphaMap,gradientMap:!!b.gradientMap,combine:b.combine,vertexColors:b.vertexColors,fog:!!r,useFog:b.fog,fogExp:r&&r.isFogExp2,flatShading:b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:c.logarithmicDepthBuffer,skinning:b.skinning&&0<k,maxBones:k,useVertexTexture:c.floatVertexTextures,morphTargets:b.morphTargets,morphNormals:b.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numClippingPlanes:n,numClipIntersection:q,dithering:b.dithering,shadowMapEnabled:a.shadowMap.enabled&&v.receiveShadow&&0<g.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,alphaTest:b.alphaTest,doubleSided:2===b.side,flipSided:1===b.side,depthPacking:void 0!==b.depthPacking?b.depthPacking:!1}};this.getProgramCode=function(b,c){var d=[];c.shaderID?d.push(c.shaderID):(d.push(b.fragmentShader),d.push(b.vertexShader));if(void 0!==b.defines)for(var e in b.defines){d.push(e),d.push(b.defines[e])}for(e=0;e<g.length;e++){d.push(c[g[e]])}d.push(b.onBeforeCompile.toString());d.push(a.gammaOutput);return d.join()};this.acquireProgram=function(d,f,g,r){for(var h,k=0,m=e.length,l;k<m;k++){l=e[k];if(l.code===r){h=l;++h.usedTimes;break}}void 0===h&&(h=new Ag(a,b,r,d,f,g,c),e.push(h));return h};this.releaseProgram=function(a){if(0===--a.usedTimes){var b=e.indexOf(a);e[b]=e[e.length-1];e.pop();a.destroy()}};this.programs=e}function Dg(){var a=new WeakMap;return{get:function get(b){var c=a.get(b);void 0===c&&(c={},a.set(b,c));return c},remove:function remove(b){a.delete(b)},update:function update(b,c,d){a.get(b)[c]=d},dispose:function dispose(){a=new WeakMap}}}function Eg(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program&&b.program&&a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function Fg(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function Gg(){var a=[],b=0,c=[],d=[];return{opaque:c,transparent:d,init:function init(){b=0;c.length=0;d.length=0},push:function push(e,f,g,h,k){var m=a[b];void 0===m?(m={id:e.id,object:e,geometry:f,material:g,program:g.program,renderOrder:e.renderOrder,z:h,group:k},a[b]=m):(m.id=e.id,m.object=e,m.geometry=f,m.material=g,m.program=g.program,m.renderOrder=e.renderOrder,m.z=h,m.group=k);(!0===g.transparent?d:c).push(m);b++},sort:function sort(){1<c.length&&c.sort(Eg);1<d.length&&d.sort(Fg)}}}function Hg(){var a={};return{get:function get(b,c){b=b.id+","+c.id;c=a[b];void 0===c&&(c=new Gg,a[b]=c);return c},dispose:function dispose(){a={}}}}function Ig(){var a={};return{get:function get(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case"DirectionalLight":var c={direction:new p,color:new G,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new A};break;case"SpotLight":c={position:new p,direction:new p,color:new G,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new A};break;case"PointLight":c={position:new p,color:new G,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new A,shadowCameraNear:1,shadowCameraFar:1E3};break;case"HemisphereLight":c={direction:new p,skyColor:new G,groundColor:new G};break;case"RectAreaLight":c={color:new G,position:new p,halfWidth:new p,halfHeight:new p};}return a[b.id]=c}}}function Jg(){var a=new Ig,b={id:Kg++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},c=new p,d=new P,e=new P;return{setup:function setup(f,g,h){var k=0,m=0,r=0,n=0,q=0,v=0,l=0,u=0;h=h.matrixWorldInverse;for(var y=0,p=f.length;y<p;y++){var w=f[y],D=w.color,J=w.intensity,R=w.distance,X=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)k+=D.r*J,m+=D.g*J,r+=D.b*J;else if(w.isDirectionalLight){var B=a.get(w);B.color.copy(w.color).multiplyScalar(w.intensity);B.direction.setFromMatrixPosition(w.matrixWorld);c.setFromMatrixPosition(w.target.matrixWorld);B.direction.sub(c);B.direction.transformDirection(h);if(B.shadow=w.castShadow)D=w.shadow,B.shadowBias=D.bias,B.shadowRadius=D.radius,B.shadowMapSize=D.mapSize;b.directionalShadowMap[n]=X;b.directionalShadowMatrix[n]=w.shadow.matrix;b.directional[n]=B;n++}else if(w.isSpotLight){B=a.get(w);B.position.setFromMatrixPosition(w.matrixWorld);B.position.applyMatrix4(h);B.color.copy(D).multiplyScalar(J);B.distance=R;B.direction.setFromMatrixPosition(w.matrixWorld);c.setFromMatrixPosition(w.target.matrixWorld);B.direction.sub(c);B.direction.transformDirection(h);B.coneCos=_Mathcos(w.angle);B.penumbraCos=_Mathcos(w.angle*(1-w.penumbra));B.decay=0===w.distance?0:w.decay;if(B.shadow=w.castShadow)D=w.shadow,B.shadowBias=D.bias,B.shadowRadius=D.radius,B.shadowMapSize=D.mapSize;b.spotShadowMap[v]=X;b.spotShadowMatrix[v]=w.shadow.matrix;b.spot[v]=B;v++}else if(w.isRectAreaLight)B=a.get(w),B.color.copy(D).multiplyScalar(J),B.position.setFromMatrixPosition(w.matrixWorld),B.position.applyMatrix4(h),e.identity(),d.copy(w.matrixWorld),d.premultiply(h),e.extractRotation(d),B.halfWidth.set(.5*w.width,0,0),B.halfHeight.set(0,.5*w.height,0),B.halfWidth.applyMatrix4(e),B.halfHeight.applyMatrix4(e),b.rectArea[l]=B,l++;else if(w.isPointLight){B=a.get(w);B.position.setFromMatrixPosition(w.matrixWorld);B.position.applyMatrix4(h);B.color.copy(w.color).multiplyScalar(w.intensity);B.distance=w.distance;B.decay=0===w.distance?0:w.decay;if(B.shadow=w.castShadow)D=w.shadow,B.shadowBias=D.bias,B.shadowRadius=D.radius,B.shadowMapSize=D.mapSize,B.shadowCameraNear=D.camera.near,B.shadowCameraFar=D.camera.far;b.pointShadowMap[q]=X;b.pointShadowMatrix[q]=w.shadow.matrix;b.point[q]=B;q++}else w.isHemisphereLight&&(B=a.get(w),B.direction.setFromMatrixPosition(w.matrixWorld),B.direction.transformDirection(h),B.direction.normalize(),B.skyColor.copy(w.color).multiplyScalar(J),B.groundColor.copy(w.groundColor).multiplyScalar(J),b.hemi[u]=B,u++)}b.ambient[0]=k;b.ambient[1]=m;b.ambient[2]=r;b.directional.length=n;b.spot.length=v;b.rectArea.length=l;b.point.length=q;b.hemi.length=u;b.hash.stateID=b.id;b.hash.directionalLength=n;b.hash.pointLength=q;b.hash.spotLength=v;b.hash.rectAreaLength=l;b.hash.hemiLength=u;b.hash.shadowsLength=g.length},state:b}}function $e(){var a=new Jg,b=[],c=[];return{init:function init(){b.length=0;c.length=0},state:{lightsArray:b,shadowsArray:c,lights:a},setupLights:function setupLights(d){a.setup(b,c,d)},pushLight:function pushLight(a){b.push(a)},pushShadow:function pushShadow(a){c.push(a)}}}function Lg(){var a={};return{get:function get(b,c){if(void 0===a[b.id]){var d=new $e;a[b.id]={};a[b.id][c.id]=d}else void 0===a[b.id][c.id]?(d=new $e,a[b.id][c.id]=d):d=a[b.id][c.id];return d},dispose:function dispose(){a={}}}}function cb(a){L.call(this);this.type="MeshDepthMaterial";this.depthPacking=3200;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.setValues(a)}function db(a){L.call(this);this.type="MeshDistanceMaterial";this.referencePosition=new p;this.nearDistance=1;this.farDistance=1E3;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.lights=this.fog=!1;this.setValues(a)}function af(a,b,c){function d(b,c,d,e,f,g){var h=b.geometry,k=n,m=b.customDepthMaterial;d&&(k=q,m=b.customDistanceMaterial);m?k=m:(m=!1,c.morphTargets&&(h&&h.isBufferGeometry?m=h.morphAttributes&&h.morphAttributes.position&&0<h.morphAttributes.position.length:h&&h.isGeometry&&(m=h.morphTargets&&0<h.morphTargets.length)),b.isSkinnedMesh&&!1===c.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",b),b=b.isSkinnedMesh&&c.skinning,h=0,m&&(h|=1),b&&(h|=2),k=k[h]);a.localClippingEnabled&&!0===c.clipShadows&&0!==c.clippingPlanes.length&&(h=k.uuid,m=c.uuid,b=v[h],void 0===b&&(b={},v[h]=b),h=b[m],void 0===h&&(h=k.clone(),b[m]=h),k=h);k.visible=c.visible;k.wireframe=c.wireframe;k.side=null!=c.shadowSide?c.shadowSide:l[c.side];k.clipShadows=c.clipShadows;k.clippingPlanes=c.clippingPlanes;k.clipIntersection=c.clipIntersection;k.wireframeLinewidth=c.wireframeLinewidth;k.linewidth=c.linewidth;d&&k.isMeshDistanceMaterial&&(k.referencePosition.copy(e),k.nearDistance=f,k.farDistance=g);return k}function e(c,g,h,k){if(!1!==c.visible){if(c.layers.test(g.layers)&&(c.isMesh||c.isLine||c.isPoints)&&c.castShadow&&(!c.frustumCulled||f.intersectsObject(c))){c.modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,c.matrixWorld);var m=b.update(c),n=c.material;if(Array.isArray(n))for(var q=m.groups,v=0,l=q.length;v<l;v++){var t=q[v],u=n[t.materialIndex];u&&u.visible&&(u=d(c,u,k,r,h.near,h.far),a.renderBufferDirect(h,null,m,u,c,t))}else n.visible&&(u=d(c,n,k,r,h.near,h.far),a.renderBufferDirect(h,null,m,u,c,null))}c=c.children;m=0;for(n=c.length;m<n;m++){e(c[m],g,h,k)}}}var f=new rd,g=new P,h=new A,k=new A(c,c),m=new p,r=new p,n=[,,,,],q=[,,,,],v={},l={0:1,1:0,2:2},u=[new p(1,0,0),new p(-1,0,0),new p(0,0,1),new p(0,0,-1),new p(0,1,0),new p(0,-1,0)],y=[new p(0,1,0),new p(0,1,0),new p(0,1,0),new p(0,1,0),new p(0,0,1),new p(0,0,-1)],x=[new Z,new Z,new Z,new Z,new Z,new Z];for(c=0;4!==c;++c){var w=0!==(1&c),D=0!==(2&c),J=new cb({depthPacking:3201,morphTargets:w,skinning:D});n[c]=J;w=new db({morphTargets:w,skinning:D});q[c]=w}var R=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.render=function(b,c,d){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==b.length){var n=a.state;n.disable(a.context.BLEND);n.buffers.color.setClear(1,1,1,1);n.buffers.depth.setTest(!0);n.setScissorTest(!1);for(var q,v=0,l=b.length,t;v<l;v++){t=b[v];q=t.shadow;var X=t&&t.isPointLight;if(void 0===q)console.warn("THREE.WebGLShadowMap:",t,"has no shadow.");else{var w=q.camera;h.copy(q.mapSize);h.min(k);if(X){var p=h.x,B=h.y;x[0].set(2*p,B,p,B);x[1].set(0,B,p,B);x[2].set(3*p,B,p,B);x[3].set(p,B,p,B);x[4].set(3*p,0,p,B);x[5].set(p,0,p,B);h.x*=4;h.y*=2}null===q.map&&(q.map=new ib(h.x,h.y,{minFilter:1003,magFilter:1003,format:1023}),q.map.texture.name=t.name+".shadowMap",w.updateProjectionMatrix());q.isSpotLightShadow&&q.update(t);p=q.map;B=q.matrix;r.setFromMatrixPosition(t.matrixWorld);w.position.copy(r);X?(q=6,B.makeTranslation(-r.x,-r.y,-r.z)):(q=1,m.setFromMatrixPosition(t.target.matrixWorld),w.lookAt(m),w.updateMatrixWorld(),B.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),B.multiply(w.projectionMatrix),B.multiply(w.matrixWorldInverse));a.setRenderTarget(p);a.clear();for(t=0;t<q;t++){X&&(m.copy(w.position),m.add(u[t]),w.up.copy(y[t]),w.lookAt(m),w.updateMatrixWorld(),n.viewport(x[t])),g.multiplyMatrices(w.projectionMatrix,w.matrixWorldInverse),f.setFromMatrix(g),e(c,d,w,X)}}}R.needsUpdate=!1}}}function Mg(a,b,c,d){function e(b,c,d){var e=new Uint8Array(4),f=a.createTexture();a.bindTexture(b,f);a.texParameteri(b,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(b,a.TEXTURE_MAG_FILTER,a.NEAREST);for(b=0;b<d;b++){a.texImage2D(c+b,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,e)}return f}function f(c,e){x[c]=1;0===w[c]&&(a.enableVertexAttribArray(c),w[c]=1);D[c]!==e&&((d.isWebGL2?a:b.get("ANGLE_instanced_arrays"))[d.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](c,e),D[c]=e)}function g(b){!0!==J[b]&&(a.enable(b),J[b]=!0)}function h(b){!1!==J[b]&&(a.disable(b),J[b]=!1)}function k(b,d,e,f,k,m,n,r){if(0===b)B&&(h(a.BLEND),B=!1);else if(B||(g(a.BLEND),B=!0),5!==b){if(b!==Lb||r!==H){if(100!==A||100!==z)a.blendEquation(a.FUNC_ADD),z=A=100;if(r)switch(b){case 1:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.ONE,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA);break;case 4:a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",b);}else switch(b){case 1:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.SRC_ALPHA,a.ONE);break;case 3:a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR);break;case 4:a.blendFunc(a.ZERO,a.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",b);}F=C=Y=Xd=null;Lb=b;H=r}}else{k=k||d;m=m||e;n=n||f;if(d!==A||k!==z)a.blendEquationSeparate(c.convert(d),c.convert(k)),A=d,z=k;if(e!==Xd||f!==Y||m!==C||n!==F)a.blendFuncSeparate(c.convert(e),c.convert(f),c.convert(m),c.convert(n)),Xd=e,Y=f,C=m,F=n;Lb=b;H=null}}function m(b){G!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),G=b)}function r(b){0!==b?(g(a.CULL_FACE),b!==N&&(1===b?a.cullFace(a.BACK):2===b?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):h(a.CULL_FACE);N=b}function n(b,c,d){if(b){if(g(a.POLYGON_OFFSET_FILL),M!==c||L!==d)a.polygonOffset(c,d),M=c,L=d}else h(a.POLYGON_OFFSET_FILL)}function q(b){void 0===b&&(b=a.TEXTURE0+S-1);K!==b&&(a.activeTexture(b),K=b)}var v=new function(){var b=!1,c=new Z,d=null,e=new Z(0,0,0,0);return{setMask:function setMask(c){d===c||b||(a.colorMask(c,c,c,c),d=c)},setLocked:function setLocked(a){b=a},setClear:function setClear(b,d,f,g,h){!0===h&&(b*=g,d*=g,f*=g);c.set(b,d,f,g);!1===e.equals(c)&&(a.clearColor(b,d,f,g),e.copy(c))},reset:function reset(){b=!1;d=null;e.set(-1,0,0,0)}}},l=new function(){var b=!1,c=null,d=null,e=null;return{setTest:function setTest(b){b?g(a.DEPTH_TEST):h(a.DEPTH_TEST)},setMask:function setMask(d){c===d||b||(a.depthMask(d),c=d)},setFunc:function setFunc(b){if(d!==b){if(b)switch(b){case 0:a.depthFunc(a.NEVER);break;case 1:a.depthFunc(a.ALWAYS);break;case 2:a.depthFunc(a.LESS);break;case 3:a.depthFunc(a.LEQUAL);break;case 4:a.depthFunc(a.EQUAL);break;case 5:a.depthFunc(a.GEQUAL);break;case 6:a.depthFunc(a.GREATER);break;case 7:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL);}else a.depthFunc(a.LEQUAL);d=b}},setLocked:function setLocked(a){b=a},setClear:function setClear(b){e!==b&&(a.clearDepth(b),e=b)},reset:function reset(){b=!1;e=d=c=null}}},u=new function(){var b=!1,c=null,d=null,e=null,f=null,k=null,m=null,n=null,r=null;return{setTest:function setTest(b){b?g(a.STENCIL_TEST):h(a.STENCIL_TEST)},setMask:function setMask(d){c===d||b||(a.stencilMask(d),c=d)},setFunc:function setFunc(b,c,g){if(d!==b||e!==c||f!==g)a.stencilFunc(b,c,g),d=b,e=c,f=g},setOp:function setOp(b,c,d){if(k!==b||m!==c||n!==d)a.stencilOp(b,c,d),k=b,m=c,n=d},setLocked:function setLocked(a){b=a},setClear:function setClear(b){r!==b&&(a.clearStencil(b),r=b)},reset:function reset(){b=!1;r=n=m=k=f=e=d=c=null}}},p=a.getParameter(a.MAX_VERTEX_ATTRIBS),x=new Uint8Array(p),w=new Uint8Array(p),D=new Uint8Array(p),J={},R=null,X=null,B=null,Lb=null,A=null,Xd=null,Y=null,z=null,C=null,F=null,H=!1,G=null,N=null,P=null,M=null,L=null,S=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=!1;p=0;p=a.getParameter(a.VERSION);-1!==p.indexOf("WebGL")?(p=parseFloat(/^WebGL ([0-9])/.exec(p)[1]),I=1<=p):-1!==p.indexOf("OpenGL ES")&&(p=parseFloat(/^OpenGL ES ([0-9])/.exec(p)[1]),I=2<=p);var K=null,T={},Q=new Z,O=new Z,U={};U[a.TEXTURE_2D]=e(a.TEXTURE_2D,a.TEXTURE_2D,1);U[a.TEXTURE_CUBE_MAP]=e(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);v.setClear(0,0,0,1);l.setClear(1);u.setClear(0);g(a.DEPTH_TEST);l.setFunc(3);m(!1);r(1);g(a.CULL_FACE);k(0);return{buffers:{color:v,depth:l,stencil:u},initAttributes:function initAttributes(){for(var a=0,b=x.length;a<b;a++){x[a]=0}},enableAttribute:function enableAttribute(a){f(a,0)},enableAttributeAndDivisor:f,disableUnusedAttributes:function disableUnusedAttributes(){for(var b=0,c=w.length;b!==c;++b){w[b]!==x[b]&&(a.disableVertexAttribArray(b),w[b]=0)}},enable:g,disable:h,getCompressedTextureFormats:function getCompressedTextureFormats(){if(null===R&&(R=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")||b.get("WEBGL_compressed_texture_astc")))for(var c=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),d=0;d<c.length;d++){R.push(c[d])}return R},useProgram:function useProgram(b){return X!==b?(a.useProgram(b),X=b,!0):!1},setBlending:k,setMaterial:function setMaterial(b,c){2===b.side?h(a.CULL_FACE):g(a.CULL_FACE);var d=1===b.side;c&&(d=!d);m(d);1===b.blending&&!1===b.transparent?k(0):k(b.blending,b.blendEquation,b.blendSrc,b.blendDst,b.blendEquationAlpha,b.blendSrcAlpha,b.blendDstAlpha,b.premultipliedAlpha);l.setFunc(b.depthFunc);l.setTest(b.depthTest);l.setMask(b.depthWrite);v.setMask(b.colorWrite);n(b.polygonOffset,b.polygonOffsetFactor,b.polygonOffsetUnits)},setFlipSided:m,setCullFace:r,setLineWidth:function setLineWidth(b){b!==P&&(I&&a.lineWidth(b),P=b)},setPolygonOffset:n,setScissorTest:function setScissorTest(b){b?g(a.SCISSOR_TEST):h(a.SCISSOR_TEST)},activeTexture:q,bindTexture:function bindTexture(b,c){null===K&&q();var d=T[K];void 0===d&&(d={type:void 0,texture:void 0},T[K]=d);if(d.type!==b||d.texture!==c)a.bindTexture(b,c||U[b]),d.type=b,d.texture=c},compressedTexImage2D:function compressedTexImage2D(){try{a.compressedTexImage2D.apply(a,arguments)}catch(fa){console.error("THREE.WebGLState:",fa)}},texImage2D:function texImage2D(){try{a.texImage2D.apply(a,arguments)}catch(fa){console.error("THREE.WebGLState:",fa)}},texImage3D:function texImage3D(){try{a.texImage3D.apply(a,arguments)}catch(fa){console.error("THREE.WebGLState:",fa)}},scissor:function scissor(b){!1===Q.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),Q.copy(b))},viewport:function viewport(b){!1===O.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),O.copy(b))},reset:function reset(){for(var b=0;b<w.length;b++){1===w[b]&&(a.disableVertexAttribArray(b),w[b]=0)}J={};K=R=null;T={};N=G=Lb=X=null;v.reset();l.reset();u.reset()}}}function Ng(a,b,c,d,e,f,g){function h(a,b){if(a.width>b||a.height>b){if("data"in a){console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+a.width+"x"+a.height+").");return}b/=_Mathmax(a.width,a.height);var c=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");c.width=_Mathfloor(a.width*b);c.height=_Mathfloor(a.height*b);c.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);console.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+c.width+"x"+c.height);return c}return a}function k(a){return S.isPowerOfTwo(a.width)&&S.isPowerOfTwo(a.height)}function m(a,b){return a.generateMipmaps&&b&&1003!==a.minFilter&&1006!==a.minFilter}function r(b,c,e,f){a.generateMipmap(b);d.get(c).__maxMipLevel=_Mathlog(_Mathmax(e,f))*Math.LOG2E}function n(b,c){if(!e.isWebGL2)return b;if(b===a.RED){if(c===a.FLOAT)return a.R32F;if(c===a.HALF_FLOAT)return a.R16F;if(c===a.UNSIGNED_BYTE)return a.R8}if(b===a.RGB){if(c===a.FLOAT)return a.RGB32F;if(c===a.HALF_FLOAT)return a.RGB16F;if(c===a.UNSIGNED_BYTE)return a.RGB8}if(b===a.RGBA){if(c===a.FLOAT)return a.RGBA32F;if(c===a.HALF_FLOAT)return a.RGBA16F;if(c===a.UNSIGNED_BYTE)return a.RGBA8}return b}function q(b){return 1003===b||1004===b||1005===b?a.NEAREST:a.LINEAR}function v(b){b=b.target;b.removeEventListener("dispose",v);a:{var c=d.get(b);if(b.image&&c.__image__webglTextureCube)a.deleteTexture(c.__image__webglTextureCube);else{if(void 0===c.__webglInit)break a;a.deleteTexture(c.__webglTexture)}d.remove(b)}b.isVideoTexture&&delete J[b.id];g.memory.textures--}function l(b){b=b.target;b.removeEventListener("dispose",l);var c=d.get(b),e=d.get(b.texture);if(b){void 0!==e.__webglTexture&&a.deleteTexture(e.__webglTexture);b.depthTexture&&b.depthTexture.dispose();if(b.isWebGLRenderTargetCube)for(e=0;6>e;e++){a.deleteFramebuffer(c.__webglFramebuffer[e]),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer[e])}else a.deleteFramebuffer(c.__webglFramebuffer),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer);d.remove(b.texture);d.remove(b)}g.memory.textures--}function u(b,e){var f=d.get(b);if(b.isVideoTexture){var h=b.id,k=g.render.frame;J[h]!==k&&(J[h]=k,b.update())}if(0<b.version&&f.__version!==b.version)if(h=b.image,void 0===h)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(!1===h.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{x(f,b,e);return}c.activeTexture(a.TEXTURE0+e);c.bindTexture(a.TEXTURE_2D,f.__webglTexture)}function p(c,g,h){h?(a.texParameteri(c,a.TEXTURE_WRAP_S,f.convert(g.wrapS)),a.texParameteri(c,a.TEXTURE_WRAP_T,f.convert(g.wrapT)),a.texParameteri(c,a.TEXTURE_MAG_FILTER,f.convert(g.magFilter)),a.texParameteri(c,a.TEXTURE_MIN_FILTER,f.convert(g.minFilter))):(a.texParameteri(c,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(c,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),1001===g.wrapS&&1001===g.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(c,a.TEXTURE_MAG_FILTER,q(g.magFilter)),a.texParameteri(c,a.TEXTURE_MIN_FILTER,q(g.minFilter)),1003!==g.minFilter&&1006!==g.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));(h=b.get("EXT_texture_filter_anisotropic"))&&(1015!==g.type||null!==b.get("OES_texture_float_linear"))&&(1016!==g.type||null!==(e.isWebGL2||b.get("OES_texture_half_float_linear")))&&(1<g.anisotropy||d.get(g).__currentAnisotropy)&&(a.texParameterf(c,h.TEXTURE_MAX_ANISOTROPY_EXT,_Mathmin(g.anisotropy,e.getMaxAnisotropy())),d.get(g).__currentAnisotropy=g.anisotropy)}function x(b,d,q){var l=d.isTexture3D?a.TEXTURE_3D:a.TEXTURE_2D;void 0===b.__webglInit&&(b.__webglInit=!0,d.addEventListener("dispose",v),b.__webglTexture=a.createTexture(),g.memory.textures++);c.activeTexture(a.TEXTURE0+q);c.bindTexture(l,b.__webglTexture);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,d.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,d.unpackAlignment);q=h(d.image,e.maxTextureSize);var t=e.isWebGL2?!1:1001!==d.wrapS||1001!==d.wrapT||1003!==d.minFilter&&1006!==d.minFilter;t&&!1===k(q)&&(babelHelpers.instanceof(q,HTMLImageElement)||babelHelpers.instanceof(q,HTMLCanvasElement)||babelHelpers.instanceof(q,ImageBitmap))&&(void 0===R&&(R=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),R.width=S.floorPowerOfTwo(q.width),R.height=S.floorPowerOfTwo(q.height),R.getContext("2d").drawImage(q,0,0,R.width,R.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+q.width+"x"+q.height+"). Resized to "+R.width+"x"+R.height),q=R);t=k(q);var u=f.convert(d.format),w=f.convert(d.type),y=n(u,w);p(l,d,t);var X=d.mipmaps;if(d.isDepthTexture){y=a.DEPTH_COMPONENT;if(1015===d.type){if(!e.isWebGL2)throw Error("Float Depth Texture only supported in WebGL2.0");y=a.DEPTH_COMPONENT32F}else e.isWebGL2&&(y=a.DEPTH_COMPONENT16);1026===d.format&&y===a.DEPTH_COMPONENT&&1012!==d.type&&1014!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),d.type=1012,w=f.convert(d.type));1027===d.format&&(y=a.DEPTH_STENCIL,1020!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),d.type=1020,w=f.convert(d.type)));c.texImage2D(a.TEXTURE_2D,0,y,q.width,q.height,0,u,w,null)}else if(d.isDataTexture){if(0<X.length&&t){for(var B=0,D=X.length;B<D;B++){l=X[B],c.texImage2D(a.TEXTURE_2D,B,y,l.width,l.height,0,u,w,l.data)}d.generateMipmaps=!1;b.__maxMipLevel=X.length-1}else c.texImage2D(a.TEXTURE_2D,0,y,q.width,q.height,0,u,w,q.data),b.__maxMipLevel=0;}else if(d.isCompressedTexture){B=0;for(D=X.length;B<D;B++){l=X[B],1023!==d.format&&1022!==d.format?-1<c.getCompressedTextureFormats().indexOf(u)?c.compressedTexImage2D(a.TEXTURE_2D,B,y,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(a.TEXTURE_2D,B,y,l.width,l.height,0,u,w,l.data)}b.__maxMipLevel=X.length-1}else if(d.isTexture3D)c.texImage3D(a.TEXTURE_3D,0,y,q.width,q.height,q.depth,0,u,w,q.data),b.__maxMipLevel=0;else if(0<X.length&&t){B=0;for(D=X.length;B<D;B++){l=X[B],c.texImage2D(a.TEXTURE_2D,B,y,u,w,l)}d.generateMipmaps=!1;b.__maxMipLevel=X.length-1}else c.texImage2D(a.TEXTURE_2D,0,y,u,w,q),b.__maxMipLevel=0;m(d,t)&&r(a.TEXTURE_2D,d,q.width,q.height);b.__version=d.version;if(d.onUpdate)d.onUpdate(d)}function w(b,e,g,h){var k=f.convert(e.texture.format),m=f.convert(e.texture.type),r=n(k,m);c.texImage2D(h,0,r,e.width,e.height,0,k,m,null);a.bindFramebuffer(a.FRAMEBUFFER,b);a.framebufferTexture2D(a.FRAMEBUFFER,g,h,d.get(e.texture).__webglTexture,0);a.bindFramebuffer(a.FRAMEBUFFER,null)}function D(b,c){a.bindRenderbuffer(a.RENDERBUFFER,b);c.depthBuffer&&!c.stencilBuffer?(a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,c.width,c.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,b)):c.depthBuffer&&c.stencilBuffer?(a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,c.width,c.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b)):a.renderbufferStorage(a.RENDERBUFFER,a.RGBA4,c.width,c.height);a.bindRenderbuffer(a.RENDERBUFFER,null)}var J={},R;this.setTexture2D=u;this.setTexture3D=function(b,e){var f=d.get(b);0<b.version&&f.__version!==b.version?x(f,b,e):(c.activeTexture(a.TEXTURE0+e),c.bindTexture(a.TEXTURE_3D,f.__webglTexture))};this.setTextureCube=function(b,q){var l=d.get(b);if(6===b.image.length)if(0<b.version&&l.__version!==b.version){l.__image__webglTextureCube||(b.addEventListener("dispose",v),l.__image__webglTextureCube=a.createTexture(),g.memory.textures++);c.activeTexture(a.TEXTURE0+q);c.bindTexture(a.TEXTURE_CUBE_MAP,l.__image__webglTextureCube);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,b.flipY);q=b&&b.isCompressedTexture;for(var t=b.image[0]&&b.image[0].isDataTexture,u=[],w=0;6>w;w++){u[w]=q||t?t?b.image[w].image:b.image[w]:h(b.image[w],e.maxCubemapSize)}var y=u[0],D=k(y),R=f.convert(b.format),X=f.convert(b.type),B=n(R,X);p(a.TEXTURE_CUBE_MAP,b,D);for(w=0;6>w;w++){if(q)for(var x,J=u[w].mipmaps,A=0,z=J.length;A<z;A++){x=J[A],1023!==b.format&&1022!==b.format?-1<c.getCompressedTextureFormats().indexOf(R)?c.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+w,A,B,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+w,A,B,x.width,x.height,0,R,X,x.data)}else t?c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+w,0,B,u[w].width,u[w].height,0,R,X,u[w].data):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+w,0,B,R,X,u[w])}l.__maxMipLevel=q?J.length-1:0;m(b,D)&&r(a.TEXTURE_CUBE_MAP,b,y.width,y.height);l.__version=b.version;if(b.onUpdate)b.onUpdate(b)}else c.activeTexture(a.TEXTURE0+q),c.bindTexture(a.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)};this.setTextureCubeDynamic=function(b,e){c.activeTexture(a.TEXTURE0+e);c.bindTexture(a.TEXTURE_CUBE_MAP,d.get(b).__webglTexture)};this.setupRenderTarget=function(b){var e=d.get(b),f=d.get(b.texture);b.addEventListener("dispose",l);f.__webglTexture=a.createTexture();g.memory.textures++;var h=!0===b.isWebGLRenderTargetCube,n=k(b);if(h){e.__webglFramebuffer=[];for(var q=0;6>q;q++){e.__webglFramebuffer[q]=a.createFramebuffer()}}else e.__webglFramebuffer=a.createFramebuffer();if(h){c.bindTexture(a.TEXTURE_CUBE_MAP,f.__webglTexture);p(a.TEXTURE_CUBE_MAP,b.texture,n);for(q=0;6>q;q++){w(e.__webglFramebuffer[q],b,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+q)}m(b.texture,n)&&r(a.TEXTURE_CUBE_MAP,b.texture,b.width,b.height);c.bindTexture(a.TEXTURE_CUBE_MAP,null)}else c.bindTexture(a.TEXTURE_2D,f.__webglTexture),p(a.TEXTURE_2D,b.texture,n),w(e.__webglFramebuffer,b,a.COLOR_ATTACHMENT0,a.TEXTURE_2D),m(b.texture,n)&&r(a.TEXTURE_2D,b.texture,b.width,b.height),c.bindTexture(a.TEXTURE_2D,null);if(b.depthBuffer){e=d.get(b);f=!0===b.isWebGLRenderTargetCube;if(b.depthTexture){if(f)throw Error("target.depthTexture not supported in Cube render targets");if(b&&b.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported");a.bindFramebuffer(a.FRAMEBUFFER,e.__webglFramebuffer);if(!b.depthTexture||!b.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");d.get(b.depthTexture).__webglTexture&&b.depthTexture.image.width===b.width&&b.depthTexture.image.height===b.height||(b.depthTexture.image.width=b.width,b.depthTexture.image.height=b.height,b.depthTexture.needsUpdate=!0);u(b.depthTexture,0);e=d.get(b.depthTexture).__webglTexture;if(1026===b.depthTexture.format)a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,e,0);else if(1027===b.depthTexture.format)a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,e,0);else throw Error("Unknown depthTexture format")}else if(f)for(e.__webglDepthbuffer=[],f=0;6>f;f++){a.bindFramebuffer(a.FRAMEBUFFER,e.__webglFramebuffer[f]),e.__webglDepthbuffer[f]=a.createRenderbuffer(),D(e.__webglDepthbuffer[f],b)}else a.bindFramebuffer(a.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=a.createRenderbuffer(),D(e.__webglDepthbuffer,b);a.bindFramebuffer(a.FRAMEBUFFER,null)}};this.updateRenderTargetMipmap=function(b){var e=b.texture,f=k(b);if(m(e,f)){f=b.isWebGLRenderTargetCube?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D;var g=d.get(e).__webglTexture;c.bindTexture(f,g);r(f,e,b.width,b.height);c.bindTexture(f,null)}}}function bf(a,b,c){return{convert:function convert(d){if(1E3===d)return a.REPEAT;if(1001===d)return a.CLAMP_TO_EDGE;if(1002===d)return a.MIRRORED_REPEAT;if(1003===d)return a.NEAREST;if(1004===d)return a.NEAREST_MIPMAP_NEAREST;if(1005===d)return a.NEAREST_MIPMAP_LINEAR;if(1006===d)return a.LINEAR;if(1007===d)return a.LINEAR_MIPMAP_NEAREST;if(1008===d)return a.LINEAR_MIPMAP_LINEAR;if(1009===d)return a.UNSIGNED_BYTE;if(1017===d)return a.UNSIGNED_SHORT_4_4_4_4;if(1018===d)return a.UNSIGNED_SHORT_5_5_5_1;if(1019===d)return a.UNSIGNED_SHORT_5_6_5;if(1010===d)return a.BYTE;if(1011===d)return a.SHORT;if(1012===d)return a.UNSIGNED_SHORT;if(1013===d)return a.INT;if(1014===d)return a.UNSIGNED_INT;if(1015===d)return a.FLOAT;if(1016===d){if(c.isWebGL2)return a.HALF_FLOAT;var e=b.get("OES_texture_half_float");if(null!==e)return e.HALF_FLOAT_OES}if(1021===d)return a.ALPHA;if(1022===d)return a.RGB;if(1023===d)return a.RGBA;if(1024===d)return a.LUMINANCE;if(1025===d)return a.LUMINANCE_ALPHA;if(1026===d)return a.DEPTH_COMPONENT;if(1027===d)return a.DEPTH_STENCIL;if(1028===d)return a.RED;if(100===d)return a.FUNC_ADD;if(101===d)return a.FUNC_SUBTRACT;if(102===d)return a.FUNC_REVERSE_SUBTRACT;if(200===d)return a.ZERO;if(201===d)return a.ONE;if(202===d)return a.SRC_COLOR;if(203===d)return a.ONE_MINUS_SRC_COLOR;if(204===d)return a.SRC_ALPHA;if(205===d)return a.ONE_MINUS_SRC_ALPHA;if(206===d)return a.DST_ALPHA;if(207===d)return a.ONE_MINUS_DST_ALPHA;if(208===d)return a.DST_COLOR;if(209===d)return a.ONE_MINUS_DST_COLOR;if(210===d)return a.SRC_ALPHA_SATURATE;if(33776===d||33777===d||33778===d||33779===d)if(e=b.get("WEBGL_compressed_texture_s3tc"),null!==e){if(33776===d)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===d)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===d)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===d)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===d||35841===d||35842===d||35843===d)if(e=b.get("WEBGL_compressed_texture_pvrtc"),null!==e){if(35840===d)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===d)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===d)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===d)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===d&&(e=b.get("WEBGL_compressed_texture_etc1"),null!==e))return e.COMPRESSED_RGB_ETC1_WEBGL;if(37808===d||37809===d||37810===d||37811===d||37812===d||37813===d||37814===d||37815===d||37816===d||37817===d||37818===d||37819===d||37820===d||37821===d)if(e=b.get("WEBGL_compressed_texture_astc"),null!==e)return d;if(103===d||104===d){if(c.isWebGL2){if(103===d)return a.MIN;if(104===d)return a.MAX}e=b.get("EXT_blend_minmax");if(null!==e){if(103===d)return e.MIN_EXT;if(104===d)return e.MAX_EXT}}if(1020===d){if(c.isWebGL2)return a.UNSIGNED_INT_24_8;e=b.get("WEBGL_depth_texture");if(null!==e)return e.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Ob(){C.call(this);this.type="Group"}function Ra(){C.call(this);this.type="Camera";this.matrixWorldInverse=new P;this.projectionMatrix=new P;this.projectionMatrixInverse=new P}function V(a,b,c,d){Ra.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}function Cc(a){V.call(this);this.cameras=a||[]}function cf(a){function b(){return null!==e&&!0===e.isPresenting}function c(){if(b()){var c=e.getEyeParameters("left"),f=c.renderWidth;c=c.renderHeight;w=a.getPixelRatio();x=a.getSize();a.setDrawingBufferSize(2*f,c,1);J.start()}else d.enabled&&a.setDrawingBufferSize(x.width,x.height,w),J.stop()}var d=this,e=null,f=null,g=null,h=[],k=new P,m=new P,r="stage";"undefined"!==typeof window&&"VRFrameData"in window&&(f=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",c,!1));var n=new P,q=new ja,v=new p,l=new V;l.bounds=new Z(0,0,.5,1);l.layers.enable(1);var u=new V;u.bounds=new Z(.5,0,.5,1);u.layers.enable(2);var y=new Cc([l,u]);y.layers.enable(1);y.layers.enable(2);var x,w,D=[];this.enabled=!1;this.getController=function(a){var b=h[a];void 0===b&&(b=new Ob,b.matrixAutoUpdate=!1,b.visible=!1,h[a]=b);return b};this.getDevice=function(){return e};this.setDevice=function(a){void 0!==a&&(e=a);J.setContext(a)};this.setFrameOfReferenceType=function(a){r=a};this.setPoseTarget=function(a){void 0!==a&&(g=a)};this.getCamera=function(a){var b="stage"===r?1.6:0;if(null===e)return a.position.set(0,b,0),a;e.depthNear=a.near;e.depthFar=a.far;e.getFrameData(f);if("stage"===r){var c=e.stageParameters;c?k.fromArray(c.sittingToStandingTransform):k.makeTranslation(0,b,0)}b=f.pose;c=null!==g?g:a;c.matrix.copy(k);c.matrix.decompose(c.position,c.quaternion,c.scale);null!==b.orientation&&(q.fromArray(b.orientation),c.quaternion.multiply(q));null!==b.position&&(q.setFromRotationMatrix(k),v.fromArray(b.position),v.applyQuaternion(q),c.position.add(v));c.updateMatrixWorld();if(!1===e.isPresenting)return a;l.near=a.near;u.near=a.near;l.far=a.far;u.far=a.far;y.matrixWorld.copy(a.matrixWorld);y.matrixWorldInverse.copy(a.matrixWorldInverse);l.matrixWorldInverse.fromArray(f.leftViewMatrix);u.matrixWorldInverse.fromArray(f.rightViewMatrix);m.getInverse(k);"stage"===r&&(l.matrixWorldInverse.multiply(m),u.matrixWorldInverse.multiply(m));a=c.parent;null!==a&&(n.getInverse(a.matrixWorld),l.matrixWorldInverse.multiply(n),u.matrixWorldInverse.multiply(n));l.matrixWorld.getInverse(l.matrixWorldInverse);u.matrixWorld.getInverse(u.matrixWorldInverse);l.projectionMatrix.fromArray(f.leftProjectionMatrix);u.projectionMatrix.fromArray(f.rightProjectionMatrix);y.projectionMatrix.copy(l.projectionMatrix);a=e.getLayers();a.length&&(a=a[0],null!==a.leftBounds&&4===a.leftBounds.length&&l.bounds.fromArray(a.leftBounds),null!==a.rightBounds&&4===a.rightBounds.length&&u.bounds.fromArray(a.rightBounds));a:for(a=0;a<h.length;a++){b=h[a];b:{c=a;for(var d=navigator.getGamepads&&navigator.getGamepads(),t=0,w=0,p=d.length,x;t<p;t++){x=d[t];if(x&&("Daydream Controller"===x.id||"Gear VR Controller"===x.id||"Oculus Go Controller"===x.id||"OpenVR Gamepad"===x.id||x.id.startsWith("Oculus Touch")||x.id.startsWith("Spatial Controller"))){if(w===c){c=x;break b}w++}}c=void 0}if(void 0!==c&&void 0!==c.pose){if(null===c.pose)break a;d=c.pose;!1===d.hasPosition&&b.position.set(.2,-.6,-.05);null!==d.position&&b.position.fromArray(d.position);null!==d.orientation&&b.quaternion.fromArray(d.orientation);b.matrix.compose(b.position,b.quaternion,b.scale);b.matrix.premultiply(k);b.matrix.decompose(b.position,b.quaternion,b.scale);b.matrixWorldNeedsUpdate=!0;b.visible=!0;d="Daydream Controller"===c.id?0:1;D[a]!==c.buttons[d].pressed&&(D[a]=c.buttons[d].pressed,!0===D[a]?b.dispatchEvent({type:"selectstart"}):(b.dispatchEvent({type:"selectend"}),b.dispatchEvent({type:"select"})))}else b.visible=!1}return y};this.getStandingMatrix=function(){return k};this.isPresenting=b;var J=new Vd;this.setAnimationLoop=function(a){J.setAnimationLoop(a)};this.submitFrame=function(){b()&&e.submitFrame()};this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",c)}}function Og(a){function b(){return null!==h&&null!==k}function c(a){var b=n[q.indexOf(a.inputSource)];b&&b.dispatchEvent({type:a.type})}function d(){a.setFramebuffer(null);x.stop()}function e(a,b){null===b?a.matrixWorld.copy(a.matrix):a.matrixWorld.multiplyMatrices(b.matrixWorld,a.matrix);a.matrixWorldInverse.getInverse(a.matrixWorld)}var f=a.context,g=null,h=null,k=null,m="stage",r=null,n=[],q=[],l=new V;l.layers.enable(1);l.viewport=new Z;var t=new V;t.layers.enable(2);t.viewport=new Z;var u=new Cc([l,t]);u.layers.enable(1);u.layers.enable(2);this.enabled=!1;this.getController=function(a){var b=n[a];void 0===b&&(b=new Ob,b.matrixAutoUpdate=!1,b.visible=!1,n[a]=b);return b};this.getDevice=function(){return g};this.setDevice=function(a){void 0!==a&&(g=a);babelHelpers.instanceof(a,XRDevice)&&f.setCompatibleXRDevice(a)};this.setFrameOfReferenceType=function(a){m=a};this.setSession=function(b){h=b;null!==h&&(h.addEventListener("select",c),h.addEventListener("selectstart",c),h.addEventListener("selectend",c),h.addEventListener("end",d),h.baseLayer=new XRWebGLLayer(h,f),h.requestFrameOfReference(m).then(function(b){k=b;a.setFramebuffer(h.baseLayer.framebuffer);x.setContext(h);x.start()}),q=h.getInputSources(),h.addEventListener("inputsourceschange",function(){q=h.getInputSources();console.log(q)}))};this.getCamera=function(a){if(b()){var c=a.parent,d=u.cameras;e(u,c);for(var f=0;f<d.length;f++){e(d[f],c)}a.matrixWorld.copy(u.matrixWorld);a=a.children;f=0;for(c=a.length;f<c;f++){a[f].updateMatrixWorld(!0)}return u}return a};this.isPresenting=b;var p=null,x=new Vd;x.setAnimationLoop(function(a,b){r=b.getDevicePose(k);if(null!==r)for(var c=h.baseLayer,d=b.views,e=0;e<d.length;e++){var f=d[e],g=c.getViewport(f),m=r.getViewMatrix(f),l=u.cameras[e];l.matrix.fromArray(m).getInverse(l.matrix);l.projectionMatrix.fromArray(f.projectionMatrix);l.viewport.set(g.x,g.y,g.width,g.height);0===e&&(u.matrix.copy(l.matrix),u.projectionMatrix.copy(l.projectionMatrix))}for(e=0;e<n.length;e++){c=n[e];if(d=q[e])if(d=b.getInputPose(d,k),null!==d){"targetRay"in d?c.matrix.elements=d.targetRay.transformMatrix:"pointerMatrix"in d&&(c.matrix.elements=d.pointerMatrix);c.matrix.decompose(c.position,c.rotation,c.scale);c.visible=!0;continue}c.visible=!1}p&&p(a)});this.setAnimationLoop=function(a){p=a};this.dispose=function(){};this.getStandingMatrix=function(){console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed.");return new THREE.Matrix4};this.submitFrame=function(){}}function ae(a){var b;function c(){ka=new Qf(E);xa=new Of(E,ka,a);xa.isWebGL2||(ka.get("WEBGL_depth_texture"),ka.get("OES_texture_float"),ka.get("OES_texture_half_float"),ka.get("OES_texture_half_float_linear"),ka.get("OES_standard_derivatives"),ka.get("OES_element_index_uint"),ka.get("ANGLE_instanced_arrays"));ka.get("OES_texture_float_linear");ia=new bf(E,ka,xa);ba=new Mg(E,ka,ia,xa);ba.scissor(Bc.copy(ja).multiplyScalar(U));ba.viewport(W.copy(fa).multiplyScalar(U));da=new Tf(E);Da=new Dg;ha=new Ng(E,ka,ba,Da,xa,ia,da);ra=new Hf(E);ta=new Rf(E,ra,da);oa=new Wf(ta,da);ya=new Vf(E);na=new Cg(Y,ka,xa);ua=new Hg;pa=new Lg;ma=new Mf(Y,ba,oa,A);za=new Nf(E,ka,da,xa);Ba=new Sf(E,ka,da,xa);da.programs=na.programs;Y.context=E;Y.capabilities=xa;Y.extensions=ka;Y.properties=Da;Y.renderLists=ua;Y.state=ba;Y.info=da}function d(a){a.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");G=!0}function e(){console.log("THREE.WebGLRenderer: Context Restored.");G=!1;c()}function f(a){a=a.target;a.removeEventListener("dispose",f);g(a);Da.remove(a)}function g(a){var b=Da.get(a).program;a.program=void 0;void 0!==b&&na.releaseProgram(b)}function h(a,b){a.render(function(a){Y.renderBufferImmediate(a,b)})}function k(a,b,c){if(!1!==a.visible){if(a.layers.test(b.layers))if(a.isLight)F.pushLight(a),a.castShadow&&F.pushShadow(a);else if(a.isSprite){if(!a.frustumCulled||qa.intersectsSprite(a)){c&&eb.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Ac);var d=oa.update(a),e=a.material;C.push(a,d,e,eb.z,null)}}else if(a.isImmediateRenderObject)c&&eb.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Ac),C.push(a,null,a.material,eb.z,null);else if(a.isMesh||a.isLine||a.isPoints)if(a.isSkinnedMesh&&a.skeleton.update(),!a.frustumCulled||qa.intersectsObject(a))if(c&&eb.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Ac),d=oa.update(a),e=a.material,Array.isArray(e))for(var f=d.groups,g=0,h=f.length;g<h;g++){var m=f[g],n=e[m.materialIndex];n&&n.visible&&C.push(a,d,n,eb.z,m)}else e.visible&&C.push(a,d,e,eb.z,null);a=a.children;g=0;for(h=a.length;g<h;g++){k(a[g],b,c)}}}function m(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e],h=g.object,k=g.geometry,m=void 0===d?g.material:d;g=g.group;if(c.isArrayCamera){Q=c;for(var n=c.cameras,q=0,l=n.length,v;q<l;q++){v=n[q];if(h.layers.test(v.layers)){if("viewport"in v)ba.viewport(W.copy(v.viewport));else{var t=v.bounds;ba.viewport(W.set(t.x*V,t.y*O,t.z*V,t.w*O).multiplyScalar(U))}F.setupLights(v);r(h,b,v,k,m,g)}}}else Q=null,r(h,b,c,k,m,g)}}function r(a,c,d,e,f,g){a.onBeforeRender(Y,c,d,e,f,g);F=pa.get(c,Q||d);a.modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,a.matrixWorld);a.normalMatrix.getNormalMatrix(a.modelViewMatrix);if(a.isImmediateRenderObject){ba.setMaterial(f);var k=q(d,c.fog,f,a);K=b=null;sd=!1;h(a,k)}else Y.renderBufferDirect(d,c.fog,e,f,a,g);a.onAfterRender(Y,c,d,e,f,g);F=pa.get(c,Q||d)}function n(a,b,c){var d=Da.get(a),e=F.state.lights,h=d.lightsHash,k=e.state.hash;c=na.getParameters(a,e.state,F.state.shadowsArray,b,aa.numPlanes,aa.numIntersection,c);var m=na.getProgramCode(a,c),n=d.program,r=!0;if(void 0===n)a.addEventListener("dispose",f);else if(n.code!==m)g(a);else{if(h.stateID!==k.stateID||h.directionalLength!==k.directionalLength||h.pointLength!==k.pointLength||h.spotLength!==k.spotLength||h.rectAreaLength!==k.rectAreaLength||h.hemiLength!==k.hemiLength||h.shadowsLength!==k.shadowsLength)h.stateID=k.stateID,h.directionalLength=k.directionalLength,h.pointLength=k.pointLength,h.spotLength=k.spotLength,h.rectAreaLength=k.rectAreaLength,h.hemiLength=k.hemiLength,h.shadowsLength=k.shadowsLength;else if(void 0!==c.shaderID)return;r=!1}r&&(c.shaderID?(m=Qa[c.shaderID],d.shader={name:a.type,uniforms:va.clone(m.uniforms),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader}):d.shader={name:a.type,uniforms:a.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader},a.onBeforeCompile(d.shader,Y),m=na.getProgramCode(a,c),n=na.acquireProgram(a,d.shader,c,m),d.program=n,a.program=n);c=n.getAttributes();if(a.morphTargets)for(m=a.numSupportedMorphTargets=0;m<Y.maxMorphTargets;m++){0<=c["morphTarget"+m]&&a.numSupportedMorphTargets++}if(a.morphNormals)for(m=a.numSupportedMorphNormals=0;m<Y.maxMorphNormals;m++){0<=c["morphNormal"+m]&&a.numSupportedMorphNormals++}c=d.shader.uniforms;if(!a.isShaderMaterial&&!a.isRawShaderMaterial||!0===a.clipping)d.numClippingPlanes=aa.numPlanes,d.numIntersection=aa.numIntersection,c.clippingPlanes=aa.uniform;d.fog=b;void 0===h&&(d.lightsHash=h={});h.stateID=k.stateID;h.directionalLength=k.directionalLength;h.pointLength=k.pointLength;h.spotLength=k.spotLength;h.rectAreaLength=k.rectAreaLength;h.hemiLength=k.hemiLength;h.shadowsLength=k.shadowsLength;a.lights&&(c.ambientLightColor.value=e.state.ambient,c.directionalLights.value=e.state.directional,c.spotLights.value=e.state.spot,c.rectAreaLights.value=e.state.rectArea,c.pointLights.value=e.state.point,c.hemisphereLights.value=e.state.hemi,c.directionalShadowMap.value=e.state.directionalShadowMap,c.directionalShadowMatrix.value=e.state.directionalShadowMatrix,c.spotShadowMap.value=e.state.spotShadowMap,c.spotShadowMatrix.value=e.state.spotShadowMatrix,c.pointShadowMap.value=e.state.pointShadowMap,c.pointShadowMatrix.value=e.state.pointShadowMatrix);a=d.program.getUniforms();a=bb.seqWithValue(a.seq,c);d.uniformsList=a}function q(a,b,c,d){ca=0;var e=Da.get(c),f=e.lightsHash,g=F.state.lights.state.hash;ud&&($d||a!==T)&&aa.setState(c.clippingPlanes,c.clipIntersection,c.clipShadows,a,e,a===T&&c.id===I);!1===c.needsUpdate&&(void 0===e.program?c.needsUpdate=!0:c.fog&&e.fog!==b?c.needsUpdate=!0:!c.lights||f.stateID===g.stateID&&f.directionalLength===g.directionalLength&&f.pointLength===g.pointLength&&f.spotLength===g.spotLength&&f.rectAreaLength===g.rectAreaLength&&f.hemiLength===g.hemiLength&&f.shadowsLength===g.shadowsLength?void 0===e.numClippingPlanes||e.numClippingPlanes===aa.numPlanes&&e.numIntersection===aa.numIntersection||(c.needsUpdate=!0):c.needsUpdate=!0);c.needsUpdate&&(n(c,b,d),c.needsUpdate=!1);var h=!1,k=!1,m=!1;f=e.program;g=f.getUniforms();var r=e.shader.uniforms;ba.useProgram(f.program)&&(m=k=h=!0);c.id!==I&&(I=c.id,k=!0);if(h||T!==a){g.setValue(E,"projectionMatrix",a.projectionMatrix);xa.logarithmicDepthBuffer&&g.setValue(E,"logDepthBufFC",2/(_Mathlog(a.far+1)/_MathLN));T!==a&&(T=a,m=k=!0);if(c.isShaderMaterial||c.isMeshPhongMaterial||c.isMeshStandardMaterial||c.envMap)h=g.map.cameraPosition,void 0!==h&&h.setValue(E,eb.setFromMatrixPosition(a.matrixWorld));(c.isMeshPhongMaterial||c.isMeshLambertMaterial||c.isMeshBasicMaterial||c.isMeshStandardMaterial||c.isShaderMaterial||c.skinning)&&g.setValue(E,"viewMatrix",a.matrixWorldInverse)}if(c.skinning&&(g.setOptional(E,d,"bindMatrix"),g.setOptional(E,d,"bindMatrixInverse"),a=d.skeleton))if(h=a.bones,xa.floatVertexTextures){if(void 0===a.boneTexture){h=_Mathsqrt(4*h.length);h=S.ceilPowerOfTwo(h);h=_Mathmax(h,4);var q=new Float32Array(4*(h*h));q.set(a.boneMatrices);var v=new jb(q,h,h,1023,1015);v.needsUpdate=!0;a.boneMatrices=q;a.boneTexture=v;a.boneTextureSize=h}g.setValue(E,"boneTexture",a.boneTexture);g.setValue(E,"boneTextureSize",a.boneTextureSize)}else g.setOptional(E,a,"boneMatrices");k&&(g.setValue(E,"toneMappingExposure",Y.toneMappingExposure),g.setValue(E,"toneMappingWhitePoint",Y.toneMappingWhitePoint),c.lights&&(k=m,r.ambientLightColor.needsUpdate=k,r.directionalLights.needsUpdate=k,r.pointLights.needsUpdate=k,r.spotLights.needsUpdate=k,r.rectAreaLights.needsUpdate=k,r.hemisphereLights.needsUpdate=k),b&&c.fog&&(r.fogColor.value=b.color,b.isFog?(r.fogNear.value=b.near,r.fogFar.value=b.far):b.isFogExp2&&(r.fogDensity.value=b.density)),c.isMeshBasicMaterial?l(r,c):c.isMeshLambertMaterial?(l(r,c),c.emissiveMap&&(r.emissiveMap.value=c.emissiveMap)):c.isMeshPhongMaterial?(l(r,c),c.isMeshToonMaterial?(t(r,c),c.gradientMap&&(r.gradientMap.value=c.gradientMap)):t(r,c)):c.isMeshStandardMaterial?(l(r,c),c.isMeshPhysicalMaterial?(u(r,c),r.reflectivity.value=c.reflectivity,r.clearCoat.value=c.clearCoat,r.clearCoatRoughness.value=c.clearCoatRoughness):u(r,c)):c.isMeshMatcapMaterial?(l(r,c),c.matcap&&(r.matcap.value=c.matcap),c.bumpMap&&(r.bumpMap.value=c.bumpMap,r.bumpScale.value=c.bumpScale,1===c.side&&(r.bumpScale.value*=-1)),c.normalMap&&(r.normalMap.value=c.normalMap,r.normalScale.value.copy(c.normalScale),1===c.side&&r.normalScale.value.negate()),c.displacementMap&&(r.displacementMap.value=c.displacementMap,r.displacementScale.value=c.displacementScale,r.displacementBias.value=c.displacementBias)):c.isMeshDepthMaterial?(l(r,c),c.displacementMap&&(r.displacementMap.value=c.displacementMap,r.displacementScale.value=c.displacementScale,r.displacementBias.value=c.displacementBias)):c.isMeshDistanceMaterial?(l(r,c),c.displacementMap&&(r.displacementMap.value=c.displacementMap,r.displacementScale.value=c.displacementScale,r.displacementBias.value=c.displacementBias),r.referencePosition.value.copy(c.referencePosition),r.nearDistance.value=c.nearDistance,r.farDistance.value=c.farDistance):c.isMeshNormalMaterial?(l(r,c),c.bumpMap&&(r.bumpMap.value=c.bumpMap,r.bumpScale.value=c.bumpScale,1===c.side&&(r.bumpScale.value*=-1)),c.normalMap&&(r.normalMap.value=c.normalMap,r.normalScale.value.copy(c.normalScale),1===c.side&&r.normalScale.value.negate()),c.displacementMap&&(r.displacementMap.value=c.displacementMap,r.displacementScale.value=c.displacementScale,r.displacementBias.value=c.displacementBias)):c.isLineBasicMaterial?(r.diffuse.value=c.color,r.opacity.value=c.opacity,c.isLineDashedMaterial&&(r.dashSize.value=c.dashSize,r.totalSize.value=c.dashSize+c.gapSize,r.scale.value=c.scale)):c.isPointsMaterial?(r.diffuse.value=c.color,r.opacity.value=c.opacity,r.size.value=c.size*U,r.scale.value=.5*O,r.map.value=c.map,null!==c.map&&(!0===c.map.matrixAutoUpdate&&c.map.updateMatrix(),r.uvTransform.value.copy(c.map.matrix))):c.isSpriteMaterial?(r.diffuse.value=c.color,r.opacity.value=c.opacity,r.rotation.value=c.rotation,r.map.value=c.map,null!==c.map&&(!0===c.map.matrixAutoUpdate&&c.map.updateMatrix(),r.uvTransform.value.copy(c.map.matrix))):c.isShadowMaterial&&(r.color.value=c.color,r.opacity.value=c.opacity),void 0!==r.ltc_1&&(r.ltc_1.value=H.LTC_1),void 0!==r.ltc_2&&(r.ltc_2.value=H.LTC_2),bb.upload(E,e.uniformsList,r,Y));c.isShaderMaterial&&!0===c.uniformsNeedUpdate&&(bb.upload(E,e.uniformsList,r,Y),c.uniformsNeedUpdate=!1);c.isSpriteMaterial&&g.setValue(E,"center",d.center);g.setValue(E,"modelViewMatrix",d.modelViewMatrix);g.setValue(E,"normalMatrix",d.normalMatrix);g.setValue(E,"modelMatrix",d.matrixWorld);return f}function l(a,b){a.opacity.value=b.opacity;b.color&&(a.diffuse.value=b.color);b.emissive&&a.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity);b.map&&(a.map.value=b.map);b.alphaMap&&(a.alphaMap.value=b.alphaMap);b.specularMap&&(a.specularMap.value=b.specularMap);b.envMap&&(a.envMap.value=b.envMap,a.flipEnvMap.value=b.envMap&&b.envMap.isCubeTexture?-1:1,a.reflectivity.value=b.reflectivity,a.refractionRatio.value=b.refractionRatio,a.maxMipLevel.value=Da.get(b.envMap).__maxMipLevel);b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity);b.aoMap&&(a.aoMap.value=b.aoMap,a.aoMapIntensity.value=b.aoMapIntensity);if(b.map)var c=b.map;else b.specularMap?c=b.specularMap:b.displacementMap?c=b.displacementMap:b.normalMap?c=b.normalMap:b.bumpMap?c=b.bumpMap:b.roughnessMap?c=b.roughnessMap:b.metalnessMap?c=b.metalnessMap:b.alphaMap?c=b.alphaMap:b.emissiveMap&&(c=b.emissiveMap);void 0!==c&&(c.isWebGLRenderTarget&&(c=c.texture),!0===c.matrixAutoUpdate&&c.updateMatrix(),a.uvTransform.value.copy(c.matrix))}function t(a,b){a.specular.value=b.specular;a.shininess.value=_Mathmax(b.shininess,1E-4);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale,1===b.side&&(a.bumpScale.value*=-1));b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale),1===b.side&&a.normalScale.value.negate());b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias)}function u(a,b){a.roughness.value=b.roughness;a.metalness.value=b.metalness;b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap);b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale,1===b.side&&(a.bumpScale.value*=-1));b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale),1===b.side&&a.normalScale.value.negate());b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias);b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}console.log("THREE.WebGLRenderer","97dev");a=a||{};var y=void 0!==a.canvas?a.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),x=void 0!==a.context?a.context:null,w=void 0!==a.alpha?a.alpha:!1,D=void 0!==a.depth?a.depth:!0,J=void 0!==a.stencil?a.stencil:!0,R=void 0!==a.antialias?a.antialias:!1,A=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,B=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,z=void 0!==a.powerPreference?a.powerPreference:"default",C=null,F=null;this.domElement=y;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var Y=this,G=!1,N=null,M=null,L=null,I=-1,K=b=null,sd=!1,T=null,Q=null,W=new Z,Bc=new Z,ea=null,ca=0,V=y.width,O=y.height,U=1,fa=new Z(0,0,V,O),ja=new Z(0,0,V,O),sa=!1,qa=new rd,aa=new Pf,ud=!1,$d=!1,Ac=new P,eb=new p;try{w={alpha:w,depth:D,stencil:J,antialias:R,premultipliedAlpha:A,preserveDrawingBuffer:B,powerPreference:z};y.addEventListener("webglcontextlost",d,!1);y.addEventListener("webglcontextrestored",e,!1);var E=x||y.getContext("webgl",w)||y.getContext("experimental-webgl",w);if(null===E){if(null!==y.getContext("webgl"))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.")}void 0===E.getShaderPrecisionFormat&&(E.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Pg){console.error("THREE.WebGLRenderer: "+Pg.message)}var ka,xa,ba,da,Da,ha,ra,ta,oa,na,ua,pa,ma,ya,za,Ba,ia;c();var la="xr"in navigator?new Og(Y):new cf(Y);this.vr=la;var Ca=new af(Y,oa,xa.maxTextureSize);this.shadowMap=Ca;this.getContext=function(){return E};this.getContextAttributes=function(){return E.getContextAttributes()};this.forceContextLoss=function(){var a=ka.get("WEBGL_lose_context");a&&a.loseContext()};this.forceContextRestore=function(){var a=ka.get("WEBGL_lose_context");a&&a.restoreContext()};this.getPixelRatio=function(){return U};this.setPixelRatio=function(a){void 0!==a&&(U=a,this.setSize(V,O,!1))};this.getSize=function(){return{width:V,height:O}};this.setSize=function(a,b,c){la.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(V=a,O=b,y.width=a*U,y.height=b*U,!1!==c&&(y.style.width=a+"px",y.style.height=b+"px"),this.setViewport(0,0,a,b))};this.getDrawingBufferSize=function(){return{width:V*U,height:O*U}};this.setDrawingBufferSize=function(a,b,c){V=a;O=b;U=c;y.width=a*c;y.height=b*c;this.setViewport(0,0,a,b)};this.getCurrentViewport=function(){return W};this.setViewport=function(a,b,c,d){fa.set(a,O-b-d,c,d);ba.viewport(W.copy(fa).multiplyScalar(U))};this.setScissor=function(a,b,c,d){ja.set(a,O-b-d,c,d);ba.scissor(Bc.copy(ja).multiplyScalar(U))};this.setScissorTest=function(a){ba.setScissorTest(sa=a)};this.getClearColor=function(){return ma.getClearColor()};this.setClearColor=function(){ma.setClearColor.apply(ma,arguments)};this.getClearAlpha=function(){return ma.getClearAlpha()};this.setClearAlpha=function(){ma.setClearAlpha.apply(ma,arguments)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=E.COLOR_BUFFER_BIT;if(void 0===b||b)d|=E.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=E.STENCIL_BUFFER_BIT;E.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=function(){y.removeEventListener("webglcontextlost",d,!1);y.removeEventListener("webglcontextrestored",e,!1);ua.dispose();pa.dispose();Da.dispose();oa.dispose();la.dispose();wa.stop()};this.renderBufferImmediate=function(a,b){ba.initAttributes();var c=Da.get(a);a.hasPositions&&!c.position&&(c.position=E.createBuffer());a.hasNormals&&!c.normal&&(c.normal=E.createBuffer());a.hasUvs&&!c.uv&&(c.uv=E.createBuffer());a.hasColors&&!c.color&&(c.color=E.createBuffer());b=b.getAttributes();a.hasPositions&&(E.bindBuffer(E.ARRAY_BUFFER,c.position),E.bufferData(E.ARRAY_BUFFER,a.positionArray,E.DYNAMIC_DRAW),ba.enableAttribute(b.position),E.vertexAttribPointer(b.position,3,E.FLOAT,!1,0,0));a.hasNormals&&(E.bindBuffer(E.ARRAY_BUFFER,c.normal),E.bufferData(E.ARRAY_BUFFER,a.normalArray,E.DYNAMIC_DRAW),ba.enableAttribute(b.normal),E.vertexAttribPointer(b.normal,3,E.FLOAT,!1,0,0));a.hasUvs&&(E.bindBuffer(E.ARRAY_BUFFER,c.uv),E.bufferData(E.ARRAY_BUFFER,a.uvArray,E.DYNAMIC_DRAW),ba.enableAttribute(b.uv),E.vertexAttribPointer(b.uv,2,E.FLOAT,!1,0,0));a.hasColors&&(E.bindBuffer(E.ARRAY_BUFFER,c.color),E.bufferData(E.ARRAY_BUFFER,a.colorArray,E.DYNAMIC_DRAW),ba.enableAttribute(b.color),E.vertexAttribPointer(b.color,3,E.FLOAT,!1,0,0));ba.disableUnusedAttributes();E.drawArrays(E.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,c,d,e,f,g){var h=f.isMesh&&0>f.normalMatrix.determinant();ba.setMaterial(e,h);var k=q(a,c,e,f),m=!1;if(b!==d.id||K!==k.id||sd!==(!0===e.wireframe))b=d.id,K=k.id,sd=!0===e.wireframe,m=!0;f.morphTargetInfluences&&(ya.update(f,d,e,k),m=!0);h=d.index;var r=d.attributes.position;c=1;!0===e.wireframe&&(h=ta.getWireframeAttribute(d),c=2);a=za;if(null!==h){var n=ra.get(h);a=Ba;a.setIndex(n)}if(m){if(d&&d.isInstancedBufferGeometry&!xa.isWebGL2&&null===ka.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{ba.initAttributes();m=d.attributes;k=k.getAttributes();var l=e.defaultAttributeValues;for(B in k){var v=k[B];if(0<=v){var t=m[B];if(void 0!==t){var u=t.normalized,p=t.itemSize,w=ra.get(t);if(void 0!==w){var y=w.buffer,x=w.type;w=w.bytesPerElement;if(t.isInterleavedBufferAttribute){var J=t.data,D=J.stride;t=t.offset;J&&J.isInstancedInterleavedBuffer?(ba.enableAttributeAndDivisor(v,J.meshPerAttribute),void 0===d.maxInstancedCount&&(d.maxInstancedCount=J.meshPerAttribute*J.count)):ba.enableAttribute(v);E.bindBuffer(E.ARRAY_BUFFER,y);E.vertexAttribPointer(v,p,x,u,D*w,t*w)}else t.isInstancedBufferAttribute?(ba.enableAttributeAndDivisor(v,t.meshPerAttribute),void 0===d.maxInstancedCount&&(d.maxInstancedCount=t.meshPerAttribute*t.count)):ba.enableAttribute(v),E.bindBuffer(E.ARRAY_BUFFER,y),E.vertexAttribPointer(v,p,x,u,0,0)}}else if(void 0!==l&&(u=l[B],void 0!==u))switch(u.length){case 2:E.vertexAttrib2fv(v,u);break;case 3:E.vertexAttrib3fv(v,u);break;case 4:E.vertexAttrib4fv(v,u);break;default:E.vertexAttrib1fv(v,u);}}}ba.disableUnusedAttributes()}null!==h&&E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,n.buffer)}n=1/0;null!==h?n=h.count:void 0!==r&&(n=r.count);h=d.drawRange.start*c;r=null!==g?g.start*c:0;var B=_Mathmax(h,r);g=_Mathmax(0,_Mathmin(n,h+d.drawRange.count*c,r+(null!==g?g.count*c:1/0))-1-B+1);if(0!==g){if(f.isMesh){if(!0===e.wireframe)ba.setLineWidth(e.wireframeLinewidth*(null===M?U:1)),a.setMode(E.LINES);else switch(f.drawMode){case 0:a.setMode(E.TRIANGLES);break;case 1:a.setMode(E.TRIANGLE_STRIP);break;case 2:a.setMode(E.TRIANGLE_FAN);}}else f.isLine?(e=e.linewidth,void 0===e&&(e=1),ba.setLineWidth(e*(null===M?U:1)),f.isLineSegments?a.setMode(E.LINES):f.isLineLoop?a.setMode(E.LINE_LOOP):a.setMode(E.LINE_STRIP)):f.isPoints?a.setMode(E.POINTS):f.isSprite&&a.setMode(E.TRIANGLES);d&&d.isInstancedBufferGeometry?0<d.maxInstancedCount&&a.renderInstances(d,B,g):a.render(B,g)}};this.compile=function(a,b){F=pa.get(a,b);F.init();a.traverse(function(a){a.isLight&&(F.pushLight(a),a.castShadow&&F.pushShadow(a))});F.setupLights(b);a.traverse(function(b){if(b.material)if(Array.isArray(b.material))for(var c=0;c<b.material.length;c++){n(b.material[c],a.fog,b)}else n(b.material,a.fog,b)})};var Aa=null,wa=new Vd;wa.setAnimationLoop(function(a){la.isPresenting()||Aa&&Aa(a)});"undefined"!==typeof window&&wa.setContext(window);this.setAnimationLoop=function(a){Aa=a;la.setAnimationLoop(a);wa.start()};this.render=function(a,c,d,e){if(!c||!c.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else if(!G){K=b=null;sd=!1;I=-1;T=null;!0===a.autoUpdate&&a.updateMatrixWorld();null===c.parent&&c.updateMatrixWorld();la.enabled&&(c=la.getCamera(c));F=pa.get(a,c);F.init();a.onBeforeRender(Y,a,c,d);Ac.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);qa.setFromMatrix(Ac);$d=this.localClippingEnabled;ud=aa.init(this.clippingPlanes,$d,c);C=ua.get(a,c);C.init();k(a,c,Y.sortObjects);!0===Y.sortObjects&&C.sort();ud&&aa.beginShadows();Ca.render(F.state.shadowsArray,a,c);F.setupLights(c);ud&&aa.endShadows();this.info.autoReset&&this.info.reset();void 0===d&&(d=null);this.setRenderTarget(d);ma.render(C,a,c,e);e=C.opaque;var f=C.transparent;if(a.overrideMaterial){var g=a.overrideMaterial;e.length&&m(e,a,c,g);f.length&&m(f,a,c,g)}else e.length&&m(e,a,c),f.length&&m(f,a,c);d&&ha.updateRenderTargetMipmap(d);ba.buffers.depth.setTest(!0);ba.buffers.depth.setMask(!0);ba.buffers.color.setMask(!0);ba.setPolygonOffset(!1);a.onAfterRender(Y,a,c);la.enabled&&la.submitFrame();F=C=null}};this.allocTextureUnit=function(){var a=ca;a>=xa.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+a+" texture units while this GPU supports only "+xa.maxTextures);ca+=1;return a};this.setTexture2D=function(){var a=!1;return function(b,c){b&&b.isWebGLRenderTarget&&(a||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);ha.setTexture2D(b,c)}}();this.setTexture3D=function(){return function(a,b){ha.setTexture3D(a,b)}}();this.setTexture=function(){var a=!1;return function(b,c){a||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),a=!0);ha.setTexture2D(b,c)}}();this.setTextureCube=function(){var a=!1;return function(b,c){b&&b.isWebGLRenderTargetCube&&(a||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);b&&b.isCubeTexture||Array.isArray(b.image)&&6===b.image.length?ha.setTextureCube(b,c):ha.setTextureCubeDynamic(b,c)}}();this.setFramebuffer=function(a){N=a};this.getRenderTarget=function(){return M};this.setRenderTarget=function(a){(M=a)&&void 0===Da.get(a).__webglFramebuffer&&ha.setupRenderTarget(a);var b=N,c=!1;a?(b=Da.get(a).__webglFramebuffer,a.isWebGLRenderTargetCube&&(b=b[a.activeCubeFace],c=!0),W.copy(a.viewport),Bc.copy(a.scissor),ea=a.scissorTest):(W.copy(fa).multiplyScalar(U),Bc.copy(ja).multiplyScalar(U),ea=sa);L!==b&&(E.bindFramebuffer(E.FRAMEBUFFER,b),L=b);ba.viewport(W);ba.scissor(Bc);ba.setScissorTest(ea);c&&(c=Da.get(a.texture),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_CUBE_MAP_POSITIVE_X+a.activeCubeFace,c.__webglTexture,a.activeMipMapLevel))};this.readRenderTargetPixels=function(a,b,c,d,e,f){if(a&&a.isWebGLRenderTarget){var g=Da.get(a).__webglFramebuffer;if(g){var h=!1;g!==L&&(E.bindFramebuffer(E.FRAMEBUFFER,g),h=!0);try{var k=a.texture,m=k.format,r=k.type;1023!==m&&ia.convert(m)!==E.getParameter(E.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===r||ia.convert(r)===E.getParameter(E.IMPLEMENTATION_COLOR_READ_TYPE)||1015===r&&(xa.isWebGL2||ka.get("OES_texture_float")||ka.get("WEBGL_color_buffer_float"))||1016===r&&(xa.isWebGL2?ka.get("EXT_color_buffer_float"):ka.get("EXT_color_buffer_half_float"))?E.checkFramebufferStatus(E.FRAMEBUFFER)===E.FRAMEBUFFER_COMPLETE?0<=b&&b<=a.width-d&&0<=c&&c<=a.height-e&&E.readPixels(b,c,d,e,ia.convert(m),ia.convert(r),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{h&&E.bindFramebuffer(E.FRAMEBUFFER,L)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};this.copyFramebufferToTexture=function(a,b,c){var d=b.image.width,e=b.image.height,f=ia.convert(b.format);this.setTexture2D(b,0);E.copyTexImage2D(E.TEXTURE_2D,c||0,f,a.x,a.y,d,e,0)};this.copyTextureToTexture=function(a,b,c,d){var e=b.image.width,f=b.image.height,g=ia.convert(c.format),h=ia.convert(c.type);this.setTexture2D(c,0);b.isDataTexture?E.texSubImage2D(E.TEXTURE_2D,d||0,a.x,a.y,e,f,g,h,b.image.data):E.texSubImage2D(E.TEXTURE_2D,d||0,a.x,a.y,g,h,b.image)}}function Pb(a,b){this.name="";this.color=new G(a);this.density=void 0!==b?b:25e-5}function Qb(a,b,c){this.name="";this.color=new G(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3}function vd(){C.call(this);this.type="Scene";this.overrideMaterial=this.fog=this.background=null;this.autoUpdate=!0}function qb(a,b){this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0}function Dc(a,b,c,d){this.data=a;this.itemSize=b;this.offset=c;this.normalized=!0===d}function fb(a){L.call(this);this.type="SpriteMaterial";this.color=new G(16777215);this.map=null;this.rotation=0;this.sizeAttenuation=!0;this.lights=!1;this.transparent=!0;this.setValues(a)}function Ec(a){C.call(this);this.type="Sprite";if(void 0===Rb){Rb=new F;var b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);b=new qb(b,5);Rb.setIndex([0,1,2,0,2,3]);Rb.addAttribute("position",new Dc(b,3,0,!1));Rb.addAttribute("uv",new Dc(b,2,3,!1))}this.geometry=Rb;this.material=void 0!==a?a:new fb;this.center=new A(.5,.5)}function Fc(){C.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Gc(a,b){a=a||[];this.bones=a.slice(0);this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],a=0,b=this.bones.length;a<b;a++){this.boneInverses.push(new P)}}function wd(){C.call(this);this.type="Bone"}function xd(a,b){ua.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new P;this.bindMatrixInverse=new P;a=this.initBones();a=new Gc(a);this.bind(a,this.matrixWorld);this.normalizeSkinWeights()}function T(a){L.call(this);this.type="LineBasicMaterial";this.color=new G(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;this.setValues(a)}function pa(a,b,c){1===c&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.");C.call(this);this.type="Line";this.geometry=void 0!==a?a:new F;this.material=void 0!==b?b:new T({color:16777215*Math.random()})}function W(a,b){pa.call(this,a,b);this.type="LineSegments"}function yd(a,b){pa.call(this,a,b);this.type="LineLoop"}function Ga(a){L.call(this);this.type="PointsMaterial";this.color=new G(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=this.morphTargets=!1;this.setValues(a)}function Sb(a,b){C.call(this);this.type="Points";this.geometry=void 0!==a?a:new F;this.material=void 0!==b?b:new Ga({color:16777215*Math.random()})}function be(a,b,c,d,e,f,g,h,k){Q.call(this,a,b,c,d,e,f,g,h,k);this.generateMipmaps=!1}function Tb(a,b,c,d,e,f,g,h,k,m,r,n){Q.call(this,null,f,g,h,k,m,d,e,r,n);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}function Hc(a,b,c,d,e,f,g,h,k){Q.call(this,a,b,c,d,e,f,g,h,k);this.needsUpdate=!0}function Ic(a,b,c,d,e,f,g,h,k,m){m=void 0!==m?m:1026;if(1026!==m&&1027!==m)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&1026===m&&(c=1012);void 0===c&&1027===m&&(c=1020);Q.call(this,null,d,e,f,g,h,m,c,k);this.image={width:a,height:b};this.magFilter=void 0!==g?g:1003;this.minFilter=void 0!==h?h:1003;this.generateMipmaps=this.flipY=!1}function Ub(a){F.call(this);this.type="WireframeGeometry";var b=[],c,d,e,f=[0,0],g={},h=["a","b","c"];if(a&&a.isGeometry){var k=a.faces,m=0;for(d=k.length;m<d;m++){var r=k[m];for(c=0;3>c;c++){var n=r[h[c]],q=r[h[(c+1)%3]];f[0]=_Mathmin(n,q);f[1]=_Mathmax(n,q);n=f[0]+","+f[1];void 0===g[n]&&(g[n]={index1:f[0],index2:f[1]})}}for(n in g){m=g[n],h=a.vertices[m.index1],b.push(h.x,h.y,h.z),h=a.vertices[m.index2],b.push(h.x,h.y,h.z)}}else if(a&&a.isBufferGeometry)if(h=new p,null!==a.index){k=a.attributes.position;r=a.index;var l=a.groups;0===l.length&&(l=[{start:0,count:r.count,materialIndex:0}]);a=0;for(e=l.length;a<e;++a){for(m=l[a],c=m.start,d=m.count,m=c,d=c+d;m<d;m+=3){for(c=0;3>c;c++){n=r.getX(m+c),q=r.getX(m+(c+1)%3),f[0]=_Mathmin(n,q),f[1]=_Mathmax(n,q),n=f[0]+","+f[1],void 0===g[n]&&(g[n]={index1:f[0],index2:f[1]})}}}for(n in g){m=g[n],h.fromBufferAttribute(k,m.index1),b.push(h.x,h.y,h.z),h.fromBufferAttribute(k,m.index2),b.push(h.x,h.y,h.z)}}else for(k=a.attributes.position,m=0,d=k.count/3;m<d;m++){for(c=0;3>c;c++){g=3*m+c,h.fromBufferAttribute(k,g),b.push(h.x,h.y,h.z),g=3*m+(c+1)%3,h.fromBufferAttribute(k,g),b.push(h.x,h.y,h.z)}}this.addAttribute("position",new z(b,3))}function Jc(a,b,c){M.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};this.fromBufferGeometry(new Vb(a,b,c));this.mergeVertices()}function Vb(a,b,c){F.call(this);this.type="ParametricBufferGeometry";this.parameters={func:a,slices:b,stacks:c};var d=[],e=[],f=[],g=[],h=new p,k=new p,m=new p,r=new p,n=new p,q,l;3>a.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var t=b+1;for(q=0;q<=c;q++){var u=q/c;for(l=0;l<=b;l++){var y=l/b;a(y,u,k);e.push(k.x,k.y,k.z);0<=y-1E-5?(a(y-1E-5,u,m),r.subVectors(k,m)):(a(y+1E-5,u,m),r.subVectors(m,k));0<=u-1E-5?(a(y,u-1E-5,m),n.subVectors(k,m)):(a(y,u+1E-5,m),n.subVectors(m,k));h.crossVectors(r,n).normalize();f.push(h.x,h.y,h.z);g.push(y,u)}}for(q=0;q<c;q++){for(l=0;l<b;l++){a=q*t+l+1,h=(q+1)*t+l+1,k=(q+1)*t+l,d.push(q*t+l,a,k),d.push(a,h,k)}}this.setIndex(d);this.addAttribute("position",new z(e,3));this.addAttribute("normal",new z(f,3));this.addAttribute("uv",new z(g,2))}function Kc(a,b,c,d){M.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};this.fromBufferGeometry(new ma(a,b,c,d));this.mergeVertices()}function ma(a,b,c,d){function e(a){h.push(a.x,a.y,a.z)}function f(b,c){b*=3;c.x=a[b+0];c.y=a[b+1];c.z=a[b+2]}function g(a,b,c,d){0>d&&1===a.x&&(k[b]=a.x-1);0===c.x&&0===c.z&&(k[b]=d/2/_MathPI+.5)}F.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;var h=[],k=[];(function(a){for(var c=new p,d=new p,g=new p,h=0;h<b.length;h+=3){f(b[h+0],c);f(b[h+1],d);f(b[h+2],g);var k,m,l=c,w=g,D=_Mathpow(2,a),J=[];for(m=0;m<=D;m++){J[m]=[];var R=l.clone().lerp(w,m/D),A=d.clone().lerp(w,m/D),B=D-m;for(k=0;k<=B;k++){J[m][k]=0===k&&m===D?R:R.clone().lerp(A,k/B)}}for(m=0;m<D;m++){for(k=0;k<2*(D-m)-1;k++){l=_Mathfloor(k/2),0===k%2?(e(J[m][l+1]),e(J[m+1][l]),e(J[m][l])):(e(J[m][l+1]),e(J[m+1][l+1]),e(J[m+1][l]))}}}})(d);(function(a){for(var b=new p,c=0;c<h.length;c+=3){b.x=h[c+0],b.y=h[c+1],b.z=h[c+2],b.normalize().multiplyScalar(a),h[c+0]=b.x,h[c+1]=b.y,h[c+2]=b.z}})(c);(function(){for(var a=new p,b=0;b<h.length;b+=3){a.x=h[b+0],a.y=h[b+1],a.z=h[b+2],k.push(_Mathatan(a.z,-a.x)/2/_MathPI+.5,1-(_Mathatan(-a.y,_Mathsqrt(a.x*a.x+a.z*a.z))/_MathPI+.5))}a=new p;b=new p;for(var c=new p,d=new p,e=new A,f=new A,l=new A,y=0,x=0;y<h.length;y+=9,x+=6){a.set(h[y+0],h[y+1],h[y+2]);b.set(h[y+3],h[y+4],h[y+5]);c.set(h[y+6],h[y+7],h[y+8]);e.set(k[x+0],k[x+1]);f.set(k[x+2],k[x+3]);l.set(k[x+4],k[x+5]);d.copy(a).add(b).add(c).divideScalar(3);var w=_Mathatan(d.z,-d.x);g(e,x+0,a,w);g(f,x+2,b,w);g(l,x+4,c,w)}for(a=0;a<k.length;a+=6){b=k[a+0],c=k[a+2],d=k[a+4],e=_Mathmin(b,c,d),.9<_Mathmax(b,c,d)&&.1>e&&(.2>b&&(k[a+0]+=1),.2>c&&(k[a+2]+=1),.2>d&&(k[a+4]+=1))}})();this.addAttribute("position",new z(h,3));this.addAttribute("normal",new z(h.slice(),3));this.addAttribute("uv",new z(k,2));0===d?this.computeVertexNormals():this.normalizeNormals()}function Lc(a,b){M.call(this);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Wb(a,b));this.mergeVertices()}function Wb(a,b){ma.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Mc(a,b){M.call(this);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new rb(a,b));this.mergeVertices()}function rb(a,b){ma.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Nc(a,b){M.call(this);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Xb(a,b));this.mergeVertices()}function Xb(a,b){var c=(1+2.23606797749979)/2;ma.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Oc(a,b){M.call(this);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Yb(a,b));this.mergeVertices()}function Yb(a,b){var c=(1+2.23606797749979)/2,d=1/c;ma.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Pc(a,b,c,d,e,f){M.call(this);this.type="TubeGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};void 0!==f&&console.warn("THREE.TubeGeometry: taper has been removed.");a=new Zb(a,b,c,d,e);this.tangents=a.tangents;this.normals=a.normals;this.binormals=a.binormals;this.fromBufferGeometry(a);this.mergeVertices()}function Zb(a,b,c,d,e){function f(e){r=a.getPointAt(e/b,r);var f=g.normals[e];e=g.binormals[e];for(q=0;q<=d;q++){var m=2*(q/d*_MathPI),n=_Mathsin(m);m=-_Mathcos(m);k.x=m*f.x+n*e.x;k.y=m*f.y+n*e.y;k.z=m*f.z+n*e.z;k.normalize();t.push(k.x,k.y,k.z);h.x=r.x+c*k.x;h.y=r.y+c*k.y;h.z=r.z+c*k.z;l.push(h.x,h.y,h.z)}}F.call(this);this.type="TubeBufferGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};b=b||64;c=c||1;d=d||8;e=e||!1;var g=a.computeFrenetFrames(b,e);this.tangents=g.tangents;this.normals=g.normals;this.binormals=g.binormals;var h=new p,k=new p,m=new A,r=new p,n,q,l=[],t=[],u=[],y=[];for(n=0;n<b;n++){f(n)}f(!1===e?b:0);for(n=0;n<=b;n++){for(q=0;q<=d;q++){m.x=n/b,m.y=q/d,u.push(m.x,m.y)}}(function(){for(q=1;q<=b;q++){for(n=1;n<=d;n++){var a=(d+1)*q+(n-1),c=(d+1)*q+n,e=(d+1)*(q-1)+n;y.push((d+1)*(q-1)+(n-1),a,e);y.push(a,c,e)}}})();this.setIndex(y);this.addAttribute("position",new z(l,3));this.addAttribute("normal",new z(t,3));this.addAttribute("uv",new z(u,2))}function Qc(a,b,c,d,e,f,g){M.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void 0!==g&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new $b(a,b,c,d,e,f));this.mergeVertices()}function $b(a,b,c,d,e,f){function g(a,b,c,d,e){var f=_Mathsin(a);b=c/b*a;c=_Mathcos(b);e.x=.5*(d*(2+c))*_Mathcos(a);e.y=.5*(d*(2+c)*f);e.z=.5*(d*_Mathsin(b))}F.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||1;b=b||.4;c=_Mathfloor(c)||64;d=_Mathfloor(d)||8;e=e||2;f=f||3;var h=[],k=[],m=[],r=[],n,q=new p,l=new p,t=new p,u=new p,y=new p,x=new p,w=new p;for(n=0;n<=c;++n){var D=2*(n/c*e*_MathPI);g(D,e,f,a,t);g(D+.01,e,f,a,u);x.subVectors(u,t);w.addVectors(u,t);y.crossVectors(x,w);w.crossVectors(y,x);y.normalize();w.normalize();for(D=0;D<=d;++D){var J=2*(D/d*_MathPI),R=-b*_Mathcos(J);J=b*_Mathsin(J);q.x=t.x+(R*w.x+J*y.x);q.y=t.y+(R*w.y+J*y.y);q.z=t.z+(R*w.z+J*y.z);k.push(q.x,q.y,q.z);l.subVectors(q,t).normalize();m.push(l.x,l.y,l.z);r.push(n/c);r.push(D/d)}}for(D=1;D<=c;D++){for(n=1;n<=d;n++){a=(d+1)*D+(n-1),b=(d+1)*D+n,e=(d+1)*(D-1)+n,h.push((d+1)*(D-1)+(n-1),a,e),h.push(a,b,e)}}this.setIndex(h);this.addAttribute("position",new z(k,3));this.addAttribute("normal",new z(m,3));this.addAttribute("uv",new z(r,2))}function Rc(a,b,c,d,e){M.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new ac(a,b,c,d,e));this.mergeVertices()}function ac(a,b,c,d,e){F.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||1;b=b||.4;c=_Mathfloor(c)||8;d=_Mathfloor(d)||6;e=e||2*_MathPI;var f=[],g=[],h=[],k=[],m=new p,r=new p,n=new p,q,l;for(q=0;q<=c;q++){for(l=0;l<=d;l++){var t=l/d*e,u=2*(q/c*_MathPI);r.x=(a+b*_Mathcos(u))*_Mathcos(t);r.y=(a+b*_Mathcos(u))*_Mathsin(t);r.z=b*_Mathsin(u);g.push(r.x,r.y,r.z);m.x=a*_Mathcos(t);m.y=a*_Mathsin(t);n.subVectors(r,m).normalize();h.push(n.x,n.y,n.z);k.push(l/d);k.push(q/c)}}for(q=1;q<=c;q++){for(l=1;l<=d;l++){a=(d+1)*(q-1)+l-1,b=(d+1)*(q-1)+l,e=(d+1)*q+l,f.push((d+1)*q+l-1,a,e),f.push(a,b,e)}}this.setIndex(f);this.addAttribute("position",new z(g,3));this.addAttribute("normal",new z(h,3));this.addAttribute("uv",new z(k,2))}function df(a,b,c,d,e){for(var f,g=0,h=b,k=c-d;h<c;h+=d){g+=(a[k]-a[h])*(a[h+1]+a[k+1]),k=h}if(e===0<g)for(e=b;e<c;e+=d){f=ef(e,a[e],a[e+1],f)}else for(e=c-d;e>=b;e-=d){f=ef(e,a[e],a[e+1],f)}f&&sb(f,f.next)&&(Sc(f),f=f.next);return f}function Tc(a,b){if(!a)return a;b||(b=a);do{var c=!1;if(a.steiner||!sb(a,a.next)&&0!==na(a.prev,a,a.next))a=a.next;else{Sc(a);a=b=a.prev;if(a===a.next)break;c=!0}}while(c||a!==b);return b}function Uc(a,b,c,d,e,f,g){if(a){if(!g&&f){var h=a,k=h;do{null===k.z&&(k.z=ce(k.x,k.y,d,e,f)),k.prevZ=k.prev,k=k.nextZ=k.next}while(k!==h);k.prevZ.nextZ=null;k.prevZ=null;h=k;var m,r,n,l,v=1;do{k=h;var t=h=null;for(r=0;k;){r++;var u=k;for(m=n=0;m<v&&(n++,u=u.nextZ,u);m++){}for(l=v;0<n||0<l&&u;){0!==n&&(0===l||!u||k.z<=u.z)?(m=k,k=k.nextZ,n--):(m=u,u=u.nextZ,l--),t?t.nextZ=m:h=m,m.prevZ=t,t=m}k=u}t.nextZ=null;v*=2}while(1<r)}for(h=a;a.prev!==a.next;){k=a.prev;u=a.next;if(f)a:{t=a;l=d;var p=e,x=f;r=t.prev;n=t;v=t.next;if(0<=na(r,n,v))t=!1;else{var w=r.x>n.x?r.x>v.x?r.x:v.x:n.x>v.x?n.x:v.x,D=r.y>n.y?r.y>v.y?r.y:v.y:n.y>v.y?n.y:v.y;m=ce(r.x<n.x?r.x<v.x?r.x:v.x:n.x<v.x?n.x:v.x,r.y<n.y?r.y<v.y?r.y:v.y:n.y<v.y?n.y:v.y,l,p,x);l=ce(w,D,l,p,x);for(p=t.nextZ;p&&p.z<=l;){if(p!==t.prev&&p!==t.next&&zd(r.x,r.y,n.x,n.y,v.x,v.y,p.x,p.y)&&0<=na(p.prev,p,p.next)){t=!1;break a}p=p.nextZ}for(p=t.prevZ;p&&p.z>=m;){if(p!==t.prev&&p!==t.next&&zd(r.x,r.y,n.x,n.y,v.x,v.y,p.x,p.y)&&0<=na(p.prev,p,p.next)){t=!1;break a}p=p.prevZ}t=!0}}else a:if(t=a,r=t.prev,n=t,v=t.next,0<=na(r,n,v))t=!1;else{for(m=t.next.next;m!==t.prev;){if(zd(r.x,r.y,n.x,n.y,v.x,v.y,m.x,m.y)&&0<=na(m.prev,m,m.next)){t=!1;break a}m=m.next}t=!0}if(t)b.push(k.i/c),b.push(a.i/c),b.push(u.i/c),Sc(a),h=a=u.next;else if(a=u,a===h){if(!g)Uc(Tc(a),b,c,d,e,f,1);else if(1===g){g=b;h=c;k=a;do{u=k.prev,t=k.next.next,!sb(u,t)&&ff(u,k,k.next,t)&&Vc(u,t)&&Vc(t,u)&&(g.push(u.i/h),g.push(k.i/h),g.push(t.i/h),Sc(k),Sc(k.next),k=a=t),k=k.next}while(k!==a);a=k;Uc(a,b,c,d,e,f,2)}else if(2===g)a:{g=a;do{for(h=g.next.next;h!==g.prev;){if(k=g.i!==h.i){k=g;u=h;if(t=k.next.i!==u.i&&k.prev.i!==u.i){b:{t=k;do{if(t.i!==k.i&&t.next.i!==k.i&&t.i!==u.i&&t.next.i!==u.i&&ff(t,t.next,k,u)){t=!0;break b}t=t.next}while(t!==k);t=!1}t=!t}if(t=t&&Vc(k,u)&&Vc(u,k)){t=k;r=!1;n=(k.x+u.x)/2;u=(k.y+u.y)/2;do{t.y>u!==t.next.y>u&&t.next.y!==t.y&&n<(t.next.x-t.x)*(u-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==k);t=r}k=t}if(k){a=gf(g,h);g=Tc(g,g.next);a=Tc(a,a.next);Uc(g,b,c,d,e,f);Uc(a,b,c,d,e,f);break a}h=h.next}g=g.next}while(g!==a)}break}}}}function Qg(a,b){return a.x-b.x}function Rg(a,b){var c=b,d=a.x,e=a.y,f=-Infinity;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var g=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(g<=d&&g>f){f=g;if(g===d){if(e===c.y)return c;if(e===c.next.y)return c.next}var h=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!h)return null;if(d===f)return h.prev;b=h;g=h.x;var k=h.y,m=1/0;for(c=h.next;c!==b;){if(d>=c.x&&c.x>=g&&d!==c.x&&zd(e<k?d:f,e,g,k,e<k?f:d,e,c.x,c.y)){var r=_Mathabs(e-c.y)/(d-c.x);(r<m||r===m&&c.x>h.x)&&Vc(c,a)&&(h=c,m=r)}c=c.next}return h}function ce(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=16711935&(a|a<<8);a=252645135&(a|a<<4);a=858993459&(a|a<<2);b=16711935&(b|b<<8);b=252645135&(b|b<<4);b=858993459&(b|b<<2);return 1431655765&(a|a<<1)|(1431655765&(b|b<<1))<<1}function Sg(a){var b=a,c=a;do{b.x<c.x&&(c=b),b=b.next}while(b!==a);return c}function zd(a,b,c,d,e,f,g,h){return 0<=(e-g)*(b-h)-(a-g)*(f-h)&&0<=(a-g)*(d-h)-(c-g)*(b-h)&&0<=(c-g)*(f-h)-(e-g)*(d-h)}function na(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function sb(a,b){return a.x===b.x&&a.y===b.y}function ff(a,b,c,d){return sb(a,b)&&sb(c,d)||sb(a,d)&&sb(c,b)?!0:0<na(a,b,c)!==0<na(a,b,d)&&0<na(c,d,a)!==0<na(c,d,b)}function Vc(a,b){return 0>na(a.prev,a,a.next)?0<=na(a,b,a.next)&&0<=na(a,a.prev,b):0>na(a,b,a.prev)||0>na(a,a.next,b)}function gf(a,b){var c=new de(a.i,a.x,a.y),d=new de(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function ef(a,b,c,d){a=new de(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function Sc(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function de(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function hf(a){var b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function jf(a,b){for(var c=0;c<b.length;c++){a.push(b[c].x),a.push(b[c].y)}}function tb(a,b){M.call(this);this.type="ExtrudeGeometry";this.parameters={shapes:a,options:b};this.fromBufferGeometry(new Sa(a,b));this.mergeVertices()}function Sa(a,b){function c(a){function c(a,b,c){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function g(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=c.x-a.x,g=c.y-a.y,h=d*d+e*e;if(_Mathabs(d*g-e*f)>_NumberEPSILON){var k=_Mathsqrt(h),m=_Mathsqrt(f*f+g*g);h=b.x-e/k;b=b.y+d/k;g=((c.x-g/m-h)*g-(c.y+f/m-b)*f)/(d*g-e*f);f=h+d*g-a.x;d=b+e*g-a.y;e=f*f+d*d;if(2>=e)return new A(f,d);e=_Mathsqrt(e/2)}else a=!1,d>_NumberEPSILON?f>_NumberEPSILON&&(a=!0):d<-_NumberEPSILON?f<-_NumberEPSILON&&(a=!0):_Mathsign(e)===_Mathsign(g)&&(a=!0),a?(f=-e,e=_Mathsqrt(h)):(f=d,d=e,e=_Mathsqrt(h/2));return new A(f/e,d/e)}function h(a,b){for(O=a.length;0<=--O;){var c=O,f=O-1;0>f&&(f=a.length-1);var g,h=w+2*B;for(g=0;g<h;g++){var k=W*g,m=W*(g+1),r=b+f+k,n=b+f+m;m=b+c+m;t(b+c+k);t(r);t(m);t(r);t(n);t(m);k=e.length/3;k=C.generateSideWallUV(d,e,k-6,k-3,k-2,k-1);u(k[0]);u(k[1]);u(k[3]);u(k[1]);u(k[2]);u(k[3])}}}function k(a,b,c){y.push(a);y.push(b);y.push(c)}function l(a,b,c){t(a);t(b);t(c);a=e.length/3;a=C.generateTopUV(d,e,a-3,a-2,a-1);u(a[0]);u(a[1]);u(a[2])}function t(a){e.push(y[3*a]);e.push(y[3*a+1]);e.push(y[3*a+2])}function u(a){f.push(a.x);f.push(a.y)}var y=[],x=void 0!==b.curveSegments?b.curveSegments:12,w=void 0!==b.steps?b.steps:1,D=void 0!==b.depth?b.depth:100,J=void 0!==b.bevelEnabled?b.bevelEnabled:!0,R=void 0!==b.bevelThickness?b.bevelThickness:6,X=void 0!==b.bevelSize?b.bevelSize:R-2,B=void 0!==b.bevelSegments?b.bevelSegments:3,z=b.extrudePath,C=void 0!==b.UVGenerator?b.UVGenerator:Tg;void 0!==b.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),D=b.amount);var F=!1;if(z){var Y=z.getSpacedPoints(w);F=!0;J=!1;var G=z.computeFrenetFrames(w,!1),H=new p,N=new p,M=new p}J||(X=R=B=0);var P;x=a.extractPoints(x);a=x.shape;var L=x.holes;if(!Za.isClockWise(a)){a=a.reverse();var I=0;for(P=L.length;I<P;I++){var K=L[I];Za.isClockWise(K)&&(L[I]=K.reverse())}}var S=Za.triangulateShape(a,L),T=a;I=0;for(P=L.length;I<P;I++){K=L[I],a=a.concat(K)}var Q,W=a.length,V,Z=S.length;x=[];var O=0,U=T.length,fa=U-1;for(Q=O+1;O<U;O++,fa++,Q++){fa===U&&(fa=0),Q===U&&(Q=0),x[O]=g(T[O],T[fa],T[Q])}z=[];var ea=x.concat();I=0;for(P=L.length;I<P;I++){K=L[I];var ca=[];O=0;U=K.length;fa=U-1;for(Q=O+1;O<U;O++,fa++,Q++){fa===U&&(fa=0),Q===U&&(Q=0),ca[O]=g(K[O],K[fa],K[Q])}z.push(ca);ea=ea.concat(ca)}for(fa=0;fa<B;fa++){U=fa/B;var da=R*_Mathcos(U*_MathPI/2);Q=X*_Mathsin(U*_MathPI/2);O=0;for(U=T.length;O<U;O++){var aa=c(T[O],x[O],Q);k(aa.x,aa.y,-da)}I=0;for(P=L.length;I<P;I++){for(K=L[I],ca=z[I],O=0,U=K.length;O<U;O++){aa=c(K[O],ca[O],Q),k(aa.x,aa.y,-da)}}}Q=X;for(O=0;O<W;O++){aa=J?c(a[O],ea[O],Q):a[O],F?(N.copy(G.normals[0]).multiplyScalar(aa.x),H.copy(G.binormals[0]).multiplyScalar(aa.y),M.copy(Y[0]).add(N).add(H),k(M.x,M.y,M.z)):k(aa.x,aa.y,0)}for(U=1;U<=w;U++){for(O=0;O<W;O++){aa=J?c(a[O],ea[O],Q):a[O],F?(N.copy(G.normals[U]).multiplyScalar(aa.x),H.copy(G.binormals[U]).multiplyScalar(aa.y),M.copy(Y[U]).add(N).add(H),k(M.x,M.y,M.z)):k(aa.x,aa.y,D/w*U)}}for(fa=B-1;0<=fa;fa--){U=fa/B;da=R*_Mathcos(U*_MathPI/2);Q=X*_Mathsin(U*_MathPI/2);O=0;for(U=T.length;O<U;O++){aa=c(T[O],x[O],Q),k(aa.x,aa.y,D+da)}I=0;for(P=L.length;I<P;I++){for(K=L[I],ca=z[I],O=0,U=K.length;O<U;O++){aa=c(K[O],ca[O],Q),F?k(aa.x,aa.y+Y[w-1].y,Y[w-1].x+da):k(aa.x,aa.y,D+da)}}}(function(){var a=e.length/3;if(J){var b=0*W;for(O=0;O<Z;O++){V=S[O],l(V[2]+b,V[1]+b,V[0]+b)}b=W*(w+2*B);for(O=0;O<Z;O++){V=S[O],l(V[0]+b,V[1]+b,V[2]+b)}}else{for(O=0;O<Z;O++){V=S[O],l(V[2],V[1],V[0])}for(O=0;O<Z;O++){V=S[O],l(V[0]+W*w,V[1]+W*w,V[2]+W*w)}}d.addGroup(a,e.length/3-a,0)})();(function(){var a=e.length/3,b=0;h(T,b);b+=T.length;I=0;for(P=L.length;I<P;I++){K=L[I],h(K,b),b+=K.length}d.addGroup(a,e.length/3-a,1)})()}F.call(this);this.type="ExtrudeBufferGeometry";this.parameters={shapes:a,options:b};a=Array.isArray(a)?a:[a];for(var d=this,e=[],f=[],g=0,h=a.length;g<h;g++){c(a[g])}this.addAttribute("position",new z(e,3));this.addAttribute("uv",new z(f,2));this.computeVertexNormals()}function kf(a,b,c){c.shapes=[];if(Array.isArray(a))for(var d=0,e=a.length;d<e;d++){c.shapes.push(a[d].uuid)}else c.shapes.push(a.uuid);void 0!==b.extrudePath&&(c.options.extrudePath=b.extrudePath.toJSON());return c}function Wc(a,b){M.call(this);this.type="TextGeometry";this.parameters={text:a,parameters:b};this.fromBufferGeometry(new bc(a,b));this.mergeVertices()}function bc(a,b){b=b||{};var c=b.font;if(!c||!c.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new M;a=c.generateShapes(a,b.size);b.depth=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);Sa.call(this,a,b);this.type="TextBufferGeometry"}function Xc(a,b,c,d,e,f,g){M.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new ub(a,b,c,d,e,f,g));this.mergeVertices()}function ub(a,b,c,d,e,f,g){F.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||1;b=_Mathmax(3,_Mathfloor(b)||8);c=_Mathmax(2,_Mathfloor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*_MathPI;f=void 0!==f?f:0;g=void 0!==g?g:_MathPI;var h=f+g,k,m,r=0,n=[],l=new p,v=new p,t=[],u=[],y=[],x=[];for(m=0;m<=c;m++){var w=[],D=m/c;for(k=0;k<=b;k++){var J=k/b;l.x=-a*_Mathcos(d+J*e)*_Mathsin(f+D*g);l.y=a*_Mathcos(f+D*g);l.z=a*_Mathsin(d+J*e)*_Mathsin(f+D*g);u.push(l.x,l.y,l.z);v.set(l.x,l.y,l.z).normalize();y.push(v.x,v.y,v.z);x.push(J,1-D);w.push(r++)}n.push(w)}for(m=0;m<c;m++){for(k=0;k<b;k++){a=n[m][k+1],d=n[m][k],e=n[m+1][k],g=n[m+1][k+1],(0!==m||0<f)&&t.push(a,d,g),(m!==c-1||h<_MathPI)&&t.push(d,e,g)}}this.setIndex(t);this.addAttribute("position",new z(u,3));this.addAttribute("normal",new z(y,3));this.addAttribute("uv",new z(x,2))}function Yc(a,b,c,d,e,f){M.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new cc(a,b,c,d,e,f));this.mergeVertices()}function cc(a,b,c,d,e,f){F.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||.5;b=b||1;e=void 0!==e?e:0;f=void 0!==f?f:2*_MathPI;c=void 0!==c?_Mathmax(3,c):8;d=void 0!==d?_Mathmax(1,d):1;var g=[],h=[],k=[],m=[],r=a,n=(b-a)/d,l=new p,v=new A,t,u;for(t=0;t<=d;t++){for(u=0;u<=c;u++){a=e+u/c*f,l.x=r*_Mathcos(a),l.y=r*_Mathsin(a),h.push(l.x,l.y,l.z),k.push(0,0,1),v.x=(l.x/b+1)/2,v.y=(l.y/b+1)/2,m.push(v.x,v.y)}r+=n}for(t=0;t<d;t++){for(b=t*(c+1),u=0;u<c;u++){a=u+b,e=a+c+1,f=a+c+2,r=a+1,g.push(a,e,r),g.push(e,f,r)}}this.setIndex(g);this.addAttribute("position",new z(h,3));this.addAttribute("normal",new z(k,3));this.addAttribute("uv",new z(m,2))}function Zc(a,b,c,d){M.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new dc(a,b,c,d));this.mergeVertices()}function dc(a,b,c,d){F.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=_Mathfloor(b)||12;c=c||0;d=d||2*_MathPI;d=S.clamp(d,0,2*_MathPI);var e=[],f=[],g=[],h=1/b,k=new p,m=new A,r;for(r=0;r<=b;r++){var n=c+r*h*d,l=_Mathsin(n),v=_Mathcos(n);for(n=0;n<=a.length-1;n++){k.x=a[n].x*l,k.y=a[n].y,k.z=a[n].x*v,f.push(k.x,k.y,k.z),m.x=r/b,m.y=n/(a.length-1),g.push(m.x,m.y)}}for(r=0;r<b;r++){for(n=0;n<a.length-1;n++){c=n+r*a.length,h=c+a.length,k=c+a.length+1,m=c+1,e.push(c,h,m),e.push(h,k,m)}}this.setIndex(e);this.addAttribute("position",new z(f,3));this.addAttribute("uv",new z(g,2));this.computeVertexNormals();if(d===2*_MathPI)for(d=this.attributes.normal.array,e=new p,f=new p,g=new p,c=3*(b*a.length),n=r=0;r<a.length;r++,n+=3){e.x=d[n+0],e.y=d[n+1],e.z=d[n+2],f.x=d[c+n+0],f.y=d[c+n+1],f.z=d[c+n+2],g.addVectors(e,f).normalize(),d[n+0]=d[c+n+0]=g.x,d[n+1]=d[c+n+1]=g.y,d[n+2]=d[c+n+2]=g.z}}function vb(a,b){M.call(this);this.type="ShapeGeometry";"object"===babelHelpers.typeof(b)&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),b=b.curveSegments);this.parameters={shapes:a,curveSegments:b};this.fromBufferGeometry(new wb(a,b));this.mergeVertices()}function wb(a,b){function c(a){var c,h=e.length/3;a=a.extractPoints(b);var m=a.shape,r=a.holes;if(!1===Za.isClockWise(m))for(m=m.reverse(),a=0,c=r.length;a<c;a++){var l=r[a];!0===Za.isClockWise(l)&&(r[a]=l.reverse())}var p=Za.triangulateShape(m,r);a=0;for(c=r.length;a<c;a++){l=r[a],m=m.concat(l)}a=0;for(c=m.length;a<c;a++){l=m[a],e.push(l.x,l.y,0),f.push(0,0,1),g.push(l.x,l.y)}a=0;for(c=p.length;a<c;a++){m=p[a],d.push(m[0]+h,m[1]+h,m[2]+h),k+=3}}F.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:a,curveSegments:b};b=b||12;var d=[],e=[],f=[],g=[],h=0,k=0;if(!1===Array.isArray(a))c(a);else for(var m=0;m<a.length;m++){c(a[m]),this.addGroup(h,k,m),h+=k,k=0}this.setIndex(d);this.addAttribute("position",new z(e,3));this.addAttribute("normal",new z(f,3));this.addAttribute("uv",new z(g,2))}function lf(a,b){b.shapes=[];if(Array.isArray(a))for(var c=0,d=a.length;c<d;c++){b.shapes.push(a[c].uuid)}else b.shapes.push(a.uuid);return b}function ec(a,b){F.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:b};var c=[];b=_Mathcos(S.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},f=["a","b","c"];if(a.isBufferGeometry){var g=new M;g.fromBufferGeometry(a)}else g=a.clone();g.mergeVertices();g.computeFaceNormals();a=g.vertices;g=g.faces;for(var h=0,k=g.length;h<k;h++){for(var m=g[h],r=0;3>r;r++){var n=m[f[r]],l=m[f[(r+1)%3]];d[0]=_Mathmin(n,l);d[1]=_Mathmax(n,l);n=d[0]+","+d[1];void 0===e[n]?e[n]={index1:d[0],index2:d[1],face1:h,face2:void 0}:e[n].face2=h}}for(n in e){if(d=e[n],void 0===d.face2||g[d.face1].normal.dot(g[d.face2].normal)<=b)f=a[d.index1],c.push(f.x,f.y,f.z),f=a[d.index2],c.push(f.x,f.y,f.z)}this.addAttribute("position",new z(c,3))}function xb(a,b,c,d,e,f,g,h){M.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new $a(a,b,c,d,e,f,g,h));this.mergeVertices()}function $a(a,b,c,d,e,f,g,h){function k(c){var e,f=new A,k=new p,q=0,u=!0===c?a:b,w=!0===c?1:-1,z=t;for(e=1;e<=d;e++){n.push(0,y*w,0),l.push(0,w,0),v.push(.5,.5),t++}var F=t;for(e=0;e<=d;e++){var C=e/d*h+g,I=_Mathcos(C);C=_Mathsin(C);k.x=u*C;k.y=y*w;k.z=u*I;n.push(k.x,k.y,k.z);l.push(0,w,0);f.x=.5*I+.5;f.y=.5*C*w+.5;v.push(f.x,f.y);t++}for(e=0;e<d;e++){f=z+e,k=F+e,!0===c?r.push(k,k+1,f):r.push(k+1,k,f),q+=3}m.addGroup(x,q,!0===c?1:2);x+=q}F.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};var m=this;a=void 0!==a?a:1;b=void 0!==b?b:1;c=c||1;d=_Mathfloor(d)||8;e=_Mathfloor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==h?h:2*_MathPI;var r=[],n=[],l=[],v=[],t=0,u=[],y=c/2,x=0;(function(){var f,k,q=new p,R=new p,A=0,B=(b-a)/c;for(k=0;k<=e;k++){var z=[],C=k/e,F=C*(b-a)+a;for(f=0;f<=d;f++){var I=f/d,G=I*h+g,H=_Mathsin(G);G=_Mathcos(G);R.x=F*H;R.y=-C*c+y;R.z=F*G;n.push(R.x,R.y,R.z);q.set(H,B,G).normalize();l.push(q.x,q.y,q.z);v.push(I,1-C);z.push(t++)}u.push(z)}for(f=0;f<d;f++){for(k=0;k<e;k++){q=u[k+1][f],R=u[k+1][f+1],B=u[k][f+1],r.push(u[k][f],q,B),r.push(q,R,B),A+=6}}m.addGroup(x,A,0);x+=A})();!1===f&&(0<a&&k(!0),0<b&&k(!1));this.setIndex(r);this.addAttribute("position",new z(n,3));this.addAttribute("normal",new z(l,3));this.addAttribute("uv",new z(v,2))}function $c(a,b,c,d,e,f,g){xb.call(this,0,a,b,c,d,e,f,g);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function ad(a,b,c,d,e,f,g){$a.call(this,0,a,b,c,d,e,f,g);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function bd(a,b,c,d){M.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new fc(a,b,c,d));this.mergeVertices()}function fc(a,b,c,d){F.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||1;b=void 0!==b?_Mathmax(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*_MathPI;var e=[],f=[],g=[],h=[],k,m=new p,r=new A;f.push(0,0,0);g.push(0,0,1);h.push(.5,.5);var n=0;for(k=3;n<=b;n++,k+=3){var l=c+n/b*d;m.x=a*_Mathcos(l);m.y=a*_Mathsin(l);f.push(m.x,m.y,m.z);g.push(0,0,1);r.x=(f[k]/a+1)/2;r.y=(f[k+1]/a+1)/2;h.push(r.x,r.y)}for(k=1;k<=b;k++){e.push(k,k+1,0)}this.setIndex(e);this.addAttribute("position",new z(f,3));this.addAttribute("normal",new z(g,3));this.addAttribute("uv",new z(h,2))}function yb(a){L.call(this);this.type="ShadowMaterial";this.color=new G(0);this.transparent=!0;this.setValues(a)}function gc(a){la.call(this,a);this.type="RawShaderMaterial"}function Ta(a){L.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new G(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new G(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new A(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function zb(a){Ta.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoatRoughness=this.clearCoat=0;this.setValues(a)}function Ha(a){L.call(this);this.type="MeshPhongMaterial";this.color=new G(16777215);this.specular=new G(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new G(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new A(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Ab(a){Ha.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(a)}function Bb(a){L.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new A(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1;this.setValues(a)}function Cb(a){L.call(this);this.type="MeshLambertMaterial";this.color=new G(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new G(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Db(a){L.call(this);this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new G(16777215);this.bumpMap=this.map=this.matcap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new A(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.lights=this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a);if(null===this.matcap){a=document.createElement("canvas");a.width=1;a.height=1;var b=a.getContext("2d");b.fillStyle="#fff";b.fillRect(0,0,1,1);this.matcap=new THREE.CanvasTexture(a)}}function Eb(a){T.call(this);this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}function ee(a,b,c){var d=this,e=!1,f=0,g=0,h;this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(a){g++;if(!1===e&&void 0!==d.onStart)d.onStart(a,f,g);e=!0};this.itemEnd=function(a){f++;if(void 0!==d.onProgress)d.onProgress(a,f,g);if(f===g&&(e=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(a){if(void 0!==d.onError)d.onError(a)};this.resolveURL=function(a){return h?h(a):a};this.setURLModifier=function(a){h=a;return this}}function Ia(a){this.manager=void 0!==a?a:ya}function mf(a){this.manager=void 0!==a?a:ya;this._parser=null}function fe(a){this.manager=void 0!==a?a:ya;this._parser=null}function cd(a){this.manager=void 0!==a?a:ya}function ge(a){this.manager=void 0!==a?a:ya}function Ad(a){this.manager=void 0!==a?a:ya}function N(){this.type="Curve";this.arcLengthDivisions=200}function Ca(a,b,c,d,e,f,g,h){N.call(this);this.type="EllipseCurve";this.aX=a||0;this.aY=b||0;this.xRadius=c||1;this.yRadius=d||1;this.aStartAngle=e||0;this.aEndAngle=f||2*_MathPI;this.aClockwise=g||!1;this.aRotation=h||0}function hc(a,b,c,d,e,f){Ca.call(this,a,b,c,c,d,e,f);this.type="ArcCurve"}function he(){var a=0,b=0,c=0,d=0;return{initCatmullRom:function initCatmullRom(e,f,g,h,k){e=k*(g-e);h=k*(h-f);a=f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},initNonuniformCatmullRom:function initNonuniformCatmullRom(e,f,g,h,k,m,r){e=((f-e)/k-(g-e)/(k+m)+(g-f)/m)*m;h=((g-f)/m-(h-f)/(m+r)+(h-g)/r)*m;a=f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},calc:function calc(e){var f=e*e;return a+b*e+c*f+d*f*e}}}function ha(a,b,c,d){N.call(this);this.type="CatmullRomCurve3";this.points=a||[];this.closed=b||!1;this.curveType=c||"centripetal";this.tension=d||.5}function nf(a,b,c,d,e){b=.5*(d-b);e=.5*(e-c);var f=a*a;return(2*c-2*d+b+e)*a*f+(-3*c+3*d-2*b-e)*f+b*a+c}function dd(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d}function ed(a,b,c,d,e){var f=1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*a*a*d+a*a*a*e}function Ja(a,b,c,d){N.call(this);this.type="CubicBezierCurve";this.v0=a||new A;this.v1=b||new A;this.v2=c||new A;this.v3=d||new A}function Ua(a,b,c,d){N.call(this);this.type="CubicBezierCurve3";this.v0=a||new p;this.v1=b||new p;this.v2=c||new p;this.v3=d||new p}function za(a,b){N.call(this);this.type="LineCurve";this.v1=a||new A;this.v2=b||new A}function Ka(a,b){N.call(this);this.type="LineCurve3";this.v1=a||new p;this.v2=b||new p}function La(a,b,c){N.call(this);this.type="QuadraticBezierCurve";this.v0=a||new A;this.v1=b||new A;this.v2=c||new A}function Va(a,b,c){N.call(this);this.type="QuadraticBezierCurve3";this.v0=a||new p;this.v1=b||new p;this.v2=c||new p}function Ma(a){N.call(this);this.type="SplineCurve";this.points=a||[]}function ab(){N.call(this);this.type="CurvePath";this.curves=[];this.autoClose=!1}function Na(a){ab.call(this);this.type="Path";this.currentPoint=new A;a&&this.setFromPoints(a)}function gb(a){Na.call(this,a);this.uuid=S.generateUUID();this.type="Shape";this.holes=[]}function ca(a,b){C.call(this);this.type="Light";this.color=new G(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0}function Bd(a,b,c){ca.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(C.DefaultUp);this.updateMatrix();this.groundColor=new G(b)}function Fb(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new A(512,512);this.map=null;this.matrix=new P}function Cd(){Fb.call(this,new V(50,1,.5,500))}function Dd(a,b,c,d,e,f){ca.call(this,a,b);this.type="SpotLight";this.position.copy(C.DefaultUp);this.updateMatrix();this.target=new C;Object.defineProperty(this,"power",{get:function get(){return this.intensity*_MathPI},set:function set(a){this.intensity=a/_MathPI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:_MathPI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new Cd}function Ed(a,b,c,d){ca.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function get(){return 4*this.intensity*_MathPI},set:function set(a){this.intensity=a/(4*_MathPI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new Fb(new V(90,1,.5,500))}function fd(a,b,c,d,e,f){Ra.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()}function Fd(){Fb.call(this,new fd(-5,5,5,-5,.5,500))}function Gd(a,b){ca.call(this,a,b);this.type="DirectionalLight";this.position.copy(C.DefaultUp);this.updateMatrix();this.target=new C;this.shadow=new Fd}function Hd(a,b){ca.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0}function Id(a,b,c,d){ca.call(this,a,b);this.type="RectAreaLight";this.width=void 0!==c?c:10;this.height=void 0!==d?d:10}function Aa(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c}function Jd(a,b,c,d){Aa.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function gd(a,b,c,d){Aa.call(this,a,b,c,d)}function Kd(a,b,c,d){Aa.call(this,a,b,c,d)}function qa(a,b,c,d){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=ra.convertArray(b,this.TimeBufferType);this.values=ra.convertArray(c,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation)}function Ld(a,b,c){qa.call(this,a,b,c)}function Md(a,b,c,d){qa.call(this,a,b,c,d)}function ic(a,b,c,d){qa.call(this,a,b,c,d)}function Nd(a,b,c,d){Aa.call(this,a,b,c,d)}function hd(a,b,c,d){qa.call(this,a,b,c,d)}function Od(a,b,c,d){qa.call(this,a,b,c,d)}function jc(a,b,c,d){qa.call(this,a,b,c,d)}function Ea(a,b,c){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.uuid=S.generateUUID();0>this.duration&&this.resetDuration()}function Ug(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ic;case"vector":case"vector2":case"vector3":case"vector4":return jc;case"color":return Md;case"quaternion":return hd;case"bool":case"boolean":return Ld;case"string":return Od;}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}function Vg(a){if(void 0===a.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var b=Ug(a.type);if(void 0===a.times){var c=[],d=[];ra.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)}function Pd(a){this.manager=void 0!==a?a:ya;this.textures={}}function ie(a){this.manager=void 0!==a?a:ya}function kc(){}function je(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),a=void 0);this.manager=void 0!==a?a:ya;this.withCredentials=!1}function of(a){this.manager=void 0!==a?a:ya;this.texturePath=""}function ke(a){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.manager=void 0!==a?a:ya;this.options=void 0}function le(){this.type="ShapePath";this.color=new G;this.subPaths=[];this.currentPath=null}function me(a){this.type="Font";this.data=a}function pf(a){this.manager=void 0!==a?a:ya}function ne(a){this.manager=void 0!==a?a:ya}function qf(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new V;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new V;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1}function id(a,b,c){C.call(this);this.type="CubeCamera";var d=new V(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new p(1,0,0));this.add(d);var e=new V(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new p(-1,0,0));this.add(e);var f=new V(90,1,a,b);f.up.set(0,0,1);f.lookAt(new p(0,1,0));this.add(f);var g=new V(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new p(0,-1,0));this.add(g);var h=new V(90,1,a,b);h.up.set(0,-1,0);h.lookAt(new p(0,0,1));this.add(h);var k=new V(90,1,a,b);k.up.set(0,-1,0);k.lookAt(new p(0,0,-1));this.add(k);this.renderTarget=new Jb(c,c,{format:1022,magFilter:1006,minFilter:1006});this.renderTarget.texture.name="CubeCamera";this.update=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=this.renderTarget,m=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,h,c);c.texture.generateMipmaps=m;c.activeCubeFace=5;a.render(b,k,c);a.setRenderTarget(null)};this.clear=function(a,b,c,d){for(var e=this.renderTarget,f=0;6>f;f++){e.activeCubeFace=f,a.setRenderTarget(e),a.clear(b,c,d)}a.setRenderTarget(null)}}function oe(){C.call(this);this.type="AudioListener";this.context=pe.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null}function lc(a){C.call(this);this.type="Audio";this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.loop=!1;this.offset=this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]}function qe(a){lc.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)}function re(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}function se(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case"quaternion":b=this._slerp;break;case"string":case"bool":a=Array;b=this._select;break;default:b=this._lerp;}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0}function rf(a,b,c){c=c||ta.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)}function ta(a,b,c){this.path=b;this.parsedPath=c||ta.parseTrackName(b);this.node=ta.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a}function sf(){this.uuid=S.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var a={};this._indicesByUUID=a;for(var b=0,c=arguments.length;b!==c;++b){a[arguments[b].uuid]=b}this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}function tf(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:2400,endingEnd:2400},e=0,f;e!==b;++e){f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=1/0;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function te(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}function Qd(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a}function ue(){F.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0}function ve(a,b,c){qb.call(this,a,b);this.meshPerAttribute=c||1}function we(a,b,c,d){"number"===typeof c&&(d=c,c=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));I.call(this,a,b,c);this.meshPerAttribute=d||1}function uf(a,b,c,d){this.ray=new pb(a,b);this.near=c||0;this.far=d||1/0;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function get(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}function vf(a,b){return a.distance-b.distance}function xe(a,b,c,d){if(!1!==a.visible&&(a.raycast(b,c),!0===d)){a=a.children;d=0;for(var e=a.length;d<e;d++){xe(a[d],b,c,!0)}}}function wf(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}function xf(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this}function yf(a,b,c){this.radius=void 0!==a?a:1;this.theta=void 0!==b?b:0;this.y=void 0!==c?c:0;return this}function ye(a,b){this.min=void 0!==a?a:new A(1/0,1/0);this.max=void 0!==b?b:new A(-Infinity,-Infinity)}function ze(a,b){this.start=void 0!==a?a:new p;this.end=void 0!==b?b:new p}function jd(a){C.call(this);this.material=a;this.render=function(){}}function kd(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;(c=this.object.geometry)&&c.isGeometry?b=3*c.faces.length:c&&c.isBufferGeometry&&(b=c.attributes.normal.count);c=new F;b=new z(6*b,3);c.addAttribute("position",b);W.call(this,c,new T({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function mc(a,b){C.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;a=new F;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var c=0,d=1;32>c;c++,d++){var e=2*(c/32*_MathPI),f=2*(d/32*_MathPI);b.push(_Mathcos(e),_Mathsin(e),1,_Mathcos(f),_Mathsin(f),1)}a.addAttribute("position",new z(b,3));b=new T({fog:!1});this.cone=new W(a,b);this.add(this.cone);this.update()}function zf(a){var b=[];a&&a.isBone&&b.push(a);for(var c=0;c<a.children.length;c++){b.push.apply(b,zf(a.children[c]))}return b}function nc(a){for(var b=zf(a),c=new F,d=[],e=[],f=new G(0,0,1),g=new G(0,1,0),h=0,k;h<b.length;h++){k=b[h];k.parent&&k.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),e.push(f.r,f.g,f.b),e.push(g.r,g.g,g.b))}c.addAttribute("position",new z(d,3));c.addAttribute("color",new z(e,3));d=new T({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});W.call(this,c,d);this.root=a;this.bones=b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}function oc(a,b,c){this.light=a;this.light.updateMatrixWorld();this.color=c;a=new ub(b,4,2);b=new wa({wireframe:!0,fog:!1});ua.call(this,a,b);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}function pc(a,b){C.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;a=new T({fog:!1});b=new F;b.addAttribute("position",new I(new Float32Array(15),3));this.line=new pa(b,a);this.add(this.line);this.update()}function qc(a,b,c){C.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;a=new rb(b);a.rotateY(.5*_MathPI);this.material=new wa({wireframe:!0,fog:!1});void 0===this.color&&(this.material.vertexColors=2);b=a.getAttribute("position");b=new Float32Array(3*b.count);a.addAttribute("color",new I(b,3));this.add(new ua(a,this.material));this.update()}function ld(a,b,c,d){a=a||10;b=b||10;c=new G(void 0!==c?c:4473924);d=new G(void 0!==d?d:8947848);var e=b/2,f=a/b,g=a/2;a=[];for(var h=[],k=0,m=0,r=-g;k<=b;k++,r+=f){a.push(-g,0,r,g,0,r);a.push(r,0,-g,r,0,g);var n=k===e?c:d;n.toArray(h,m);m+=3;n.toArray(h,m);m+=3;n.toArray(h,m);m+=3;n.toArray(h,m);m+=3}b=new F;b.addAttribute("position",new z(a,3));b.addAttribute("color",new z(h,3));c=new T({vertexColors:2});W.call(this,b,c)}function Rd(a,b,c,d,e,f){a=a||10;b=b||16;c=c||8;d=d||64;e=new G(void 0!==e?e:4473924);f=new G(void 0!==f?f:8947848);var g=[],h=[],k;for(k=0;k<=b;k++){var m=2*(k/b)*_MathPI,r=_Mathsin(m)*a;m=_Mathcos(m)*a;g.push(0,0,0);g.push(r,0,m);var n=1&k?e:f;h.push(n.r,n.g,n.b);h.push(n.r,n.g,n.b)}for(k=0;k<=c;k++){n=1&k?e:f;var l=a-a/c*k;for(b=0;b<d;b++){m=2*(b/d)*_MathPI,r=_Mathsin(m)*l,m=_Mathcos(m)*l,g.push(r,0,m),h.push(n.r,n.g,n.b),m=2*((b+1)/d)*_MathPI,r=_Mathsin(m)*l,m=_Mathcos(m)*l,g.push(r,0,m),h.push(n.r,n.g,n.b)}}a=new F;a.addAttribute("position",new z(g,3));a.addAttribute("color",new z(h,3));g=new T({vertexColors:2});W.call(this,a,g)}function md(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;(c=this.object.geometry)&&c.isGeometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new F;b=new z(6*b,3);c.addAttribute("position",b);W.call(this,c,new T({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function rc(a,b,c){C.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;void 0===b&&(b=1);a=new F;a.addAttribute("position",new z([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new T({fog:!1});this.lightPlane=new pa(a,b);this.add(this.lightPlane);a=new F;a.addAttribute("position",new z([0,0,0,0,0,1],3));this.targetLine=new pa(a,b);this.add(this.targetLine);this.update()}function nd(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){f.push(0,0,0);g.push(b.r,b.g,b.b);void 0===h[a]&&(h[a]=[]);h[a].push(f.length/3-1)}var d=new F,e=new T({color:16777215,vertexColors:1}),f=[],g=[],h={},k=new G(16755200),m=new G(16711680),r=new G(43775),n=new G(16777215),l=new G(3355443);b("n1","n2",k);b("n2","n4",k);b("n4","n3",k);b("n3","n1",k);b("f1","f2",k);b("f2","f4",k);b("f4","f3",k);b("f3","f1",k);b("n1","f1",k);b("n2","f2",k);b("n3","f3",k);b("n4","f4",k);b("p","n1",m);b("p","n2",m);b("p","n3",m);b("p","n4",m);b("u1","u2",r);b("u2","u3",r);b("u3","u1",r);b("c","t",n);b("p","c",l);b("cn1","cn2",l);b("cn3","cn4",l);b("cf1","cf2",l);b("cf3","cf4",l);d.addAttribute("position",new z(f,3));d.addAttribute("color",new z(g,3));W.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=h;this.update()}function Gb(a,b){this.object=a;void 0===b&&(b=16776960);a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var c=new Float32Array(24),d=new F;d.setIndex(new I(a,1));d.addAttribute("position",new I(c,3));W.call(this,d,new T({color:b}));this.matrixAutoUpdate=!1;this.update()}function od(a,b){this.type="Box3Helper";this.box=a;a=void 0!==b?b:16776960;b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var c=new F;c.setIndex(new I(b,1));c.addAttribute("position",new z([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));W.call(this,c,new T({color:a}));this.geometry.computeBoundingSphere()}function pd(a,b,c){this.type="PlaneHelper";this.plane=a;this.size=void 0===b?1:b;a=void 0!==c?c:16776960;b=new F;b.addAttribute("position",new z([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3));b.computeBoundingSphere();pa.call(this,b,new T({color:a}));b=new F;b.addAttribute("position",new z([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3));b.computeBoundingSphere();this.add(new ua(b,new wa({color:a,opacity:.2,transparent:!0,depthWrite:!1})))}function Hb(a,b,c,d,e,f){C.call(this);void 0===d&&(d=16776960);void 0===c&&(c=1);void 0===e&&(e=.2*c);void 0===f&&(f=.2*e);void 0===Sd&&(Sd=new F,Sd.addAttribute("position",new z([0,0,0,0,1,0],3)),Ae=new $a(0,.5,1,5,1),Ae.translate(0,-.5,0));this.position.copy(b);this.line=new pa(Sd,new T({color:d}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new ua(Ae,new wa({color:d}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(c,e,f)}function qd(a){a=a||1;var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new F;a.addAttribute("position",new z(b,3));a.addAttribute("color",new z([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));b=new T({vertexColors:2});W.call(this,a,b)}function Af(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ha.call(this,a);this.type="catmullrom";this.closed=!0}function Bf(a){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ha.call(this,a);this.type="catmullrom"}function Be(a){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");ha.call(this,a);this.type="catmullrom"}void 0===_NumberEPSILON&&(_NumberEPSILON=2.220446049250313e-16);void 0===_NumberisInteger&&(_NumberisInteger=function(a){return"number"===typeof a&&isFinite(a)&&_Mathfloor(a)===a});void 0===_Mathsign&&(_Mathsign=function(a){return 0>a?-1:0<a?1:+a});!1==="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function get(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&function(){Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1,d;c<arguments.length;c++){d=arguments[c];if(void 0!==d&&null!==d)for(var e in d){Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}}return b}}();Object.assign(ia.prototype,{addEventListener:function addEventListener(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function hasEventListener(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)},removeEventListener:function removeEventListener(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function dispatchEvent(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;b=b.slice(0);for(var c=0,d=b.length;c<d;c++){b[c].call(this,a)}}}}});var S={DEG2RAD:_MathPI/180,RAD2DEG:180/_MathPI,generateUUID:function(){for(var a=[],b=0;256>b;b++){a[b]=(16>b?"0":"")+b.toString(16)}return function(){var b=0|4294967295*Math.random(),d=0|4294967295*Math.random(),e=0|4294967295*Math.random(),f=0|4294967295*Math.random();return(a[255&b]+a[255&b>>8]+a[255&b>>16]+a[255&b>>24]+"-"+a[255&d]+a[255&d>>8]+"-"+a[64|15&d>>16]+a[255&d>>24]+"-"+a[128|63&e]+a[255&e>>8]+"-"+a[255&e>>16]+a[255&e>>24]+a[255&f]+a[255&f>>8]+a[255&f>>16]+a[255&f>>24]).toUpperCase()}}(),clamp:function clamp(a,b,c){return _Mathmax(b,_Mathmin(c,a))},euclideanModulo:function euclideanModulo(a,b){return(a%b+b)%b},mapLinear:function mapLinear(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},lerp:function lerp(a,b,c){return(1-c)*a+c*b},smoothstep:function smoothstep(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function smootherstep(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function randInt(a,b){return a+_Mathfloor(Math.random()*(b-a+1))},randFloat:function randFloat(a,b){return a+Math.random()*(b-a)},randFloatSpread:function randFloatSpread(a){return a*(.5-Math.random())},degToRad:function degToRad(a){return a*S.DEG2RAD},radToDeg:function radToDeg(a){return a*S.RAD2DEG},isPowerOfTwo:function isPowerOfTwo(a){return 0===(a&a-1)&&0!==a},ceilPowerOfTwo:function ceilPowerOfTwo(a){return _Mathpow(2,_Mathceil(_Mathlog(a)/_MathLN))},floorPowerOfTwo:function floorPowerOfTwo(a){return _Mathpow(2,_Mathfloor(_Mathlog(a)/_MathLN))}};Object.defineProperties(A.prototype,{width:{get:function get(){return this.x},set:function set(a){this.x=a}},height:{get:function get(){return this.y},set:function set(a){this.y=a}}});Object.assign(A.prototype,{isVector2:!0,set:function set(a,b){this.x=a;this.y=b;return this},setScalar:function setScalar(a){this.y=this.x=a;return this},setX:function setX(a){this.x=a;return this},setY:function setY(a){this.y=a;return this},setComponent:function setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function clone(){return new this.constructor(this.x,this.y)},copy:function copy(a){this.x=a.x;this.y=a.y;return this},add:function add(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function addScalar(a){this.x+=a;this.y+=a;return this},addVectors:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addScaledVector:function addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function sub(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function subScalar(a){this.x-=a;this.y-=a;return this},subVectors:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function multiply(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function multiplyScalar(a){this.x*=a;this.y*=a;return this},divide:function divide(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function divideScalar(a){return this.multiplyScalar(1/a)},applyMatrix3:function applyMatrix3(a){var b=this.x,c=this.y;a=a.elements;this.x=a[0]*b+a[3]*c+a[6];this.y=a[1]*b+a[4]*c+a[7];return this},min:function min(a){this.x=_Mathmin(this.x,a.x);this.y=_Mathmin(this.y,a.y);return this},max:function max(a){this.x=_Mathmax(this.x,a.x);this.y=_Mathmax(this.y,a.y);return this},clamp:function clamp(a,b){this.x=_Mathmax(a.x,_Mathmin(b.x,this.x));this.y=_Mathmax(a.y,_Mathmin(b.y,this.y));return this},clampScalar:function(){var a=new A,b=new A;return function(c,d){a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function clampLength(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(_Mathmax(a,_Mathmin(b,c)))},floor:function floor(){this.x=_Mathfloor(this.x);this.y=_Mathfloor(this.y);return this},ceil:function ceil(){this.x=_Mathceil(this.x);this.y=_Mathceil(this.y);return this},round:function round(){this.x=_Mathround(this.x);this.y=_Mathround(this.y);return this},roundToZero:function roundToZero(){this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x);this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y);return this},negate:function negate(){this.x=-this.x;this.y=-this.y;return this},dot:function dot(a){return this.x*a.x+this.y*a.y},cross:function cross(a){return this.x*a.y-this.y*a.x},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)},normalize:function normalize(){return this.divideScalar(this.length()||1)},angle:function angle(){var a=_Mathatan(this.y,this.x);0>a&&(a+=2*_MathPI);return a},distanceTo:function distanceTo(a){return _Mathsqrt(this.distanceToSquared(a))},distanceToSquared:function distanceToSquared(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},manhattanDistanceTo:function manhattanDistanceTo(a){return _Mathabs(this.x-a.x)+_Mathabs(this.y-a.y)},setLength:function setLength(a){return this.normalize().multiplyScalar(a)},lerp:function lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function lerpVectors(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function equals(a){return a.x===this.x&&a.y===this.y},fromArray:function fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromBufferAttribute:function fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);return this},rotateAround:function rotateAround(a,b){var c=_Mathcos(b);b=_Mathsin(b);var d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}});Object.assign(P.prototype,{isMatrix4:!0,set:function set(a,b,c,d,e,f,g,h,k,m,r,n,l,v,t,p){var q=this.elements;q[0]=a;q[4]=b;q[8]=c;q[12]=d;q[1]=e;q[5]=f;q[9]=g;q[13]=h;q[2]=k;q[6]=m;q[10]=r;q[14]=n;q[3]=l;q[7]=v;q[11]=t;q[15]=p;return this},identity:function identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function clone(){return new P().fromArray(this.elements)},copy:function copy(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this},copyPosition:function copyPosition(a){var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractBasis:function extractBasis(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this},makeBasis:function makeBasis(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a=new p;return function(b){var c=this.elements,d=b.elements,e=1/a.setFromMatrixColumn(b,0).length(),f=1/a.setFromMatrixColumn(b,1).length();b=1/a.setFromMatrixColumn(b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[3]=0;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[7]=0;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return this}}(),makeRotationFromEuler:function makeRotationFromEuler(a){a&&a.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var b=this.elements,c=a.x,d=a.y,e=a.z,f=_Mathcos(c);c=_Mathsin(c);var g=_Mathcos(d);d=_Mathsin(d);var h=_Mathcos(e);e=_Mathsin(e);if("XYZ"===a.order){a=f*h;var k=f*e,m=c*h,r=c*e;b[0]=g*h;b[4]=-g*e;b[8]=d;b[1]=k+m*d;b[5]=a-r*d;b[9]=-c*g;b[2]=r-a*d;b[6]=m+k*d;b[10]=f*g}else"YXZ"===a.order?(a=g*h,k=g*e,m=d*h,r=d*e,b[0]=a+r*c,b[4]=m*c-k,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=k*c-m,b[6]=r+a*c,b[10]=f*g):"ZXY"===a.order?(a=g*h,k=g*e,m=d*h,r=d*e,b[0]=a-r*c,b[4]=-f*e,b[8]=m+k*c,b[1]=k+m*c,b[5]=f*h,b[9]=r-a*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(a=f*h,k=f*e,m=c*h,r=c*e,b[0]=g*h,b[4]=m*d-k,b[8]=a*d+r,b[1]=g*e,b[5]=r*d+a,b[9]=k*d-m,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(a=f*g,k=f*d,m=c*g,r=c*d,b[0]=g*h,b[4]=r-a*e,b[8]=m*e+k,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=k*e+m,b[10]=a-r*e):"XZY"===a.order&&(a=f*g,k=f*d,m=c*g,r=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=a*e+r,b[5]=f*h,b[9]=k*e-m,b[2]=m*e-k,b[6]=c*h,b[10]=r*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},makeRotationFromQuaternion:function(){var a=new p(0,0,0),b=new p(1,1,1);return function(c){return this.compose(a,c,b)}}(),lookAt:function(){var a=new p,b=new p,c=new p;return function(d,e,f){var g=this.elements;c.subVectors(d,e);0===c.lengthSq()&&(c.z=1);c.normalize();a.crossVectors(f,c);0===a.lengthSq()&&(1===_Mathabs(f.z)?c.x+=1E-4:c.z+=1E-4,c.normalize(),a.crossVectors(f,c));a.normalize();b.crossVectors(c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function multiply(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},premultiply:function premultiply(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function multiplyMatrices(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];var e=c[4],f=c[8],g=c[12],h=c[1],k=c[5],m=c[9],r=c[13],n=c[2],l=c[6],v=c[10],t=c[14],p=c[3],y=c[7],x=c[11];c=c[15];var w=d[0],D=d[4],J=d[8],R=d[12],A=d[1],B=d[5],z=d[9],C=d[13],F=d[2],I=d[6],G=d[10],H=d[14],L=d[3],M=d[7],K=d[11];d=d[15];b[0]=a*w+e*A+f*F+g*L;b[4]=a*D+e*B+f*I+g*M;b[8]=a*J+e*z+f*G+g*K;b[12]=a*R+e*C+f*H+g*d;b[1]=h*w+k*A+m*F+r*L;b[5]=h*D+k*B+m*I+r*M;b[9]=h*J+k*z+m*G+r*K;b[13]=h*R+k*C+m*H+r*d;b[2]=n*w+l*A+v*F+t*L;b[6]=n*D+l*B+v*I+t*M;b[10]=n*J+l*z+v*G+t*K;b[14]=n*R+l*C+v*H+t*d;b[3]=p*w+y*A+x*F+c*L;b[7]=p*D+y*B+x*I+c*M;b[11]=p*J+y*z+x*G+c*K;b[15]=p*R+y*C+x*H+c*d;return this},multiplyScalar:function multiplyScalar(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},applyToBufferAttribute:function(){var a=new p;return function(b){for(var c=0,d=b.count;c<d;c++){a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(c,a.x,a.y,a.z)}return b}}(),determinant:function determinant(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],k=a[13],m=a[2],r=a[6],l=a[10],q=a[14];return a[3]*(+e*h*r-d*k*r-e*g*l+c*k*l+d*g*q-c*h*q)+a[7]*(+b*h*q-b*k*l+e*f*l-d*f*q+d*k*m-e*h*m)+a[11]*(+b*k*r-b*g*q-e*f*r+c*f*q+e*g*m-c*k*m)+a[15]*(-d*g*m-b*h*r+b*g*l+d*f*r-c*f*l+c*h*m)},transpose:function transpose(){var a=this.elements,b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},setPosition:function setPosition(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function getInverse(a,b){var c=this.elements,d=a.elements;a=d[0];var e=d[1],f=d[2],g=d[3],h=d[4],k=d[5],m=d[6],l=d[7],n=d[8],q=d[9],v=d[10],t=d[11],p=d[12],y=d[13],x=d[14];d=d[15];var w=q*x*l-y*v*l+y*m*t-k*x*t-q*m*d+k*v*d,D=p*v*l-n*x*l-p*m*t+h*x*t+n*m*d-h*v*d,J=n*y*l-p*q*l+p*k*t-h*y*t-n*k*d+h*q*d,A=p*q*m-n*y*m-p*k*v+h*y*v+n*k*x-h*q*x,z=a*w+e*D+f*J+g*A;if(0===z){if(!0===b)throw Error("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");console.warn("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");return this.identity()}b=1/z;c[0]=w*b;c[1]=(y*v*g-q*x*g-y*f*t+e*x*t+q*f*d-e*v*d)*b;c[2]=(k*x*g-y*m*g+y*f*l-e*x*l-k*f*d+e*m*d)*b;c[3]=(q*m*g-k*v*g-q*f*l+e*v*l+k*f*t-e*m*t)*b;c[4]=D*b;c[5]=(n*x*g-p*v*g+p*f*t-a*x*t-n*f*d+a*v*d)*b;c[6]=(p*m*g-h*x*g-p*f*l+a*x*l+h*f*d-a*m*d)*b;c[7]=(h*v*g-n*m*g+n*f*l-a*v*l-h*f*t+a*m*t)*b;c[8]=J*b;c[9]=(p*q*g-n*y*g-p*e*t+a*y*t+n*e*d-a*q*d)*b;c[10]=(h*y*g-p*k*g+p*e*l-a*y*l-h*e*d+a*k*d)*b;c[11]=(n*k*g-h*q*g-n*e*l+a*q*l+h*e*t-a*k*t)*b;c[12]=A*b;c[13]=(n*y*f-p*q*f+p*e*v-a*y*v-n*e*x+a*q*x)*b;c[14]=(p*k*f-h*y*f-p*e*m+a*y*m+h*e*x-a*k*x)*b;c[15]=(h*q*f-n*k*f+n*e*m-a*q*m-h*e*v+a*k*v)*b;return this},scale:function scale(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},getMaxScaleOnAxis:function getMaxScaleOnAxis(){var a=this.elements;return _Mathsqrt(_Mathmax(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))},makeTranslation:function makeTranslation(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this},makeRotationX:function makeRotationX(a){var b=_Mathcos(a);a=_Mathsin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},makeRotationY:function makeRotationY(a){var b=_Mathcos(a);a=_Mathsin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this},makeRotationZ:function makeRotationZ(a){var b=_Mathcos(a);a=_Mathsin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function makeRotationAxis(a,b){var c=_Mathcos(b);b=_Mathsin(b);var d=1-c,e=a.x,f=a.y;a=a.z;var g=d*e,h=d*f;this.set(g*e+c,g*f-b*a,g*a+b*f,0,g*f+b*a,h*f+c,h*a-b*e,0,g*a-b*f,h*a+b*e,d*a*a+c,0,0,0,0,1);return this},makeScale:function makeScale(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},makeShear:function makeShear(a,b,c){this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1);return this},compose:function compose(a,b,c){var d=this.elements,e=b._x,f=b._y,g=b._z,h=b._w,k=e+e,m=f+f,l=g+g;b=e*k;var n=e*m;e*=l;var q=f*m;f*=l;g*=l;k*=h;m*=h;h*=l;l=c.x;var v=c.y;c=c.z;d[0]=(1-(q+g))*l;d[1]=(n+h)*l;d[2]=(e-m)*l;d[3]=0;d[4]=(n-h)*v;d[5]=(1-(b+g))*v;d[6]=(f+k)*v;d[7]=0;d[8]=(e+m)*c;d[9]=(f-k)*c;d[10]=(1-(b+q))*c;d[11]=0;d[12]=a.x;d[13]=a.y;d[14]=a.z;d[15]=1;return this},decompose:function(){var a=new p,b=new P;return function(c,d,e){var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),k=a.set(f[8],f[9],f[10]).length();0>this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.copy(this);c=1/g;f=1/h;var m=1/k;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=m;b.elements[9]*=m;b.elements[10]*=m;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=k;return this}}(),makePerspective:function makePerspective(a,b,c,d,e,f){void 0===f&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var g=this.elements;g[0]=2*e/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*e/(c-d);g[9]=(c+d)/(c-d);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;g[11]=-1;g[15]=0;return this},makeOrthographic:function makeOrthographic(a,b,c,d,e,f){var g=this.elements,h=1/(b-a),k=1/(c-d),m=1/(f-e);g[0]=2*h;g[4]=0;g[8]=0;g[12]=-((b+a)*h);g[1]=0;g[5]=2*k;g[9]=0;g[13]=-((c+d)*k);g[2]=0;g[6]=0;g[10]=-2*m;g[14]=-((f+e)*m);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},equals:function equals(a){var b=this.elements;a=a.elements;for(var c=0;16>c;c++){if(b[c]!==a[c])return!1}return!0},fromArray:function fromArray(a,b){void 0===b&&(b=0);for(var c=0;16>c;c++){this.elements[c]=a[c+b]}return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}});Object.assign(ja,{slerp:function slerp(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function slerpFlat(a,b,c,d,e,f,g){var h=c[d+0],k=c[d+1],m=c[d+2];c=c[d+3];d=e[f+0];var l=e[f+1],n=e[f+2];e=e[f+3];if(c!==e||h!==d||k!==l||m!==n){f=1-g;var q=h*d+k*l+m*n+c*e,v=0<=q?1:-1,p=1-q*q;p>_NumberEPSILON&&(p=_Mathsqrt(p),q=_Mathatan(p,q*v),f=_Mathsin(f*q)/p,g=_Mathsin(g*q)/p);v*=g;h=h*f+d*v;k=k*f+l*v;m=m*f+n*v;c=c*f+e*v;f===1-g&&(g=1/_Mathsqrt(h*h+k*k+m*m+c*c),h*=g,k*=g,m*=g,c*=g)}a[b]=h;a[b+1]=k;a[b+2]=m;a[b+3]=c}});Object.defineProperties(ja.prototype,{x:{get:function get(){return this._x},set:function set(a){this._x=a;this.onChangeCallback()}},y:{get:function get(){return this._y},set:function set(a){this._y=a;this.onChangeCallback()}},z:{get:function get(){return this._z},set:function set(a){this._z=a;this.onChangeCallback()}},w:{get:function get(){return this._w},set:function set(a){this._w=a;this.onChangeCallback()}}});Object.assign(ja.prototype,{isQuaternion:!0,set:function set(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function clone(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function copy(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromEuler:function setFromEuler(a,b){if(!a||!a.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=a._x,d=a._y,e=a._z;a=a.order;var f=_Mathcos,g=_Mathsin,h=f(c/2),k=f(d/2);f=f(e/2);c=g(c/2);d=g(d/2);e=g(e/2);"XYZ"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f-c*d*e):"YXZ"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f+c*d*e):"ZXY"===a?(this._x=c*k*f-h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f-c*d*e):"ZYX"===a?(this._x=c*k*f-h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f+c*d*e):"YZX"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f-c*d*e):"XZY"===a&&(this._x=c*k*f-h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f+c*d*e);if(!1!==b)this.onChangeCallback();return this},setFromAxisAngle:function setFromAxisAngle(a,b){b/=2;var c=_Mathsin(b);this._x=a.x*c;this._y=a.y*c;this._z=a.z*c;this._w=_Mathcos(b);this.onChangeCallback();return this},setFromRotationMatrix:function setFromRotationMatrix(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],k=b[6];b=b[10];var m=c+f+b;0<m?(c=.5/_Mathsqrt(m+1),this._w=.25/c,this._x=(k-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*_Mathsqrt(1+c-f-b),this._w=(k-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*_Mathsqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(g+k)/c):(c=2*_Mathsqrt(1+b-c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+k)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a=new p,b;return function(c,d){void 0===a&&(a=new p);b=c.dot(d)+1;1E-6>b?(b=0,_Mathabs(c.x)>_Mathabs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):a.crossVectors(c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;return this.normalize()}}(),angleTo:function angleTo(a){return 2*_Mathacos(_Mathabs(S.clamp(this.dot(a),-1,1)))},rotateTowards:function rotateTowards(a,b){var c=this.angleTo(a);if(0===c)return this;this.slerp(a,_Mathmin(1,b/c));return this},inverse:function inverse(){return this.conjugate()},conjugate:function conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function length(){return _Mathsqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function normalize(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function multiply(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},premultiply:function premultiply(a){return this.multiplyQuaternions(a,this)},multiplyQuaternions:function multiplyQuaternions(a,b){var c=a._x,d=a._y,e=a._z;a=a._w;var f=b._x,g=b._y,h=b._z;b=b._w;this._x=c*b+a*f+d*h-e*g;this._y=d*b+a*g+e*f-c*h;this._z=e*b+a*h+c*g-d*f;this._w=a*b-c*f-d*g-e*h;this.onChangeCallback();return this},slerp:function slerp(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;a=1-g*g;if(a<=_NumberEPSILON)return g=1-b,this._w=g*f+b*this._w,this._x=g*c+b*this._x,this._y=g*d+b*this._y,this._z=g*e+b*this._z,this.normalize();a=_Mathsqrt(a);var h=_Mathatan(a,g);g=_Mathsin((1-b)*h)/a;b=_Mathsin(b*h)/a;this._w=f*g+this._w*b;this._x=c*g+this._x*b;this._y=d*g+this._y*b;this._z=e*g+this._z*b;this.onChangeCallback();return this},equals:function equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function fromArray(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function onChange(a){this.onChangeCallback=a;return this},onChangeCallback:function onChangeCallback(){}});Object.assign(p.prototype,{isVector3:!0,set:function set(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function setScalar(a){this.z=this.y=this.x=a;return this},setX:function setX(a){this.x=a;return this},setY:function setY(a){this.y=a;return this},setZ:function setZ(a){this.z=a;return this},setComponent:function setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function clone(){return new this.constructor(this.x,this.y,this.z)},copy:function copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function add(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function addScalar(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function sub(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function subScalar(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function multiply(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this},multiplyVectors:function multiplyVectors(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a=new ja;return function(b){b&&b.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");return this.applyQuaternion(a.setFromEuler(b))}}(),applyAxisAngle:function(){var a=new ja;return function(b,c){return this.applyQuaternion(a.setFromAxisAngle(b,c))}}(),applyMatrix3:function applyMatrix3(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this},applyMatrix4:function applyMatrix4(a){var b=this.x,c=this.y,d=this.z;a=a.elements;var e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this},applyQuaternion:function applyQuaternion(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z;a=a.w;var h=a*b+f*d-g*c,k=a*c+g*b-e*d,m=a*d+e*c-f*b;b=-e*b-f*c-g*d;this.x=h*a+b*-e+k*-g-m*-f;this.y=k*a+b*-f+m*-e-h*-g;this.z=m*a+b*-g+h*-f-k*-e;return this},project:function project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)},unproject:function(){var a=new P;return function(b){return this.applyMatrix4(a.getInverse(b.projectionMatrix)).applyMatrix4(b.matrixWorld)}}(),transformDirection:function transformDirection(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;return this.normalize()},divide:function divide(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function divideScalar(a){return this.multiplyScalar(1/a)},min:function min(a){this.x=_Mathmin(this.x,a.x);this.y=_Mathmin(this.y,a.y);this.z=_Mathmin(this.z,a.z);return this},max:function max(a){this.x=_Mathmax(this.x,a.x);this.y=_Mathmax(this.y,a.y);this.z=_Mathmax(this.z,a.z);return this},clamp:function clamp(a,b){this.x=_Mathmax(a.x,_Mathmin(b.x,this.x));this.y=_Mathmax(a.y,_Mathmin(b.y,this.y));this.z=_Mathmax(a.z,_Mathmin(b.z,this.z));return this},clampScalar:function(){var a=new p,b=new p;return function(c,d){a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function clampLength(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(_Mathmax(a,_Mathmin(b,c)))},floor:function floor(){this.x=_Mathfloor(this.x);this.y=_Mathfloor(this.y);this.z=_Mathfloor(this.z);return this},ceil:function ceil(){this.x=_Mathceil(this.x);this.y=_Mathceil(this.y);this.z=_Mathceil(this.z);return this},round:function round(){this.x=_Mathround(this.x);this.y=_Mathround(this.y);this.z=_Mathround(this.z);return this},roundToZero:function roundToZero(){this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x);this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y);this.z=0>this.z?_Mathceil(this.z):_Mathfloor(this.z);return this},negate:function negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function dot(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)+_Mathabs(this.z)},normalize:function normalize(){return this.divideScalar(this.length()||1)},setLength:function setLength(a){return this.normalize().multiplyScalar(a)},lerp:function lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function lerpVectors(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function cross(a,b){return void 0!==b?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b)):this.crossVectors(this,a)},crossVectors:function crossVectors(a,b){var c=a.x,d=a.y;a=a.z;var e=b.x,f=b.y;b=b.z;this.x=d*b-a*f;this.y=a*e-c*b;this.z=c*f-d*e;return this},projectOnVector:function projectOnVector(a){var b=a.dot(this)/a.lengthSq();return this.copy(a).multiplyScalar(b)},projectOnPlane:function(){var a=new p;return function(b){a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a=new p;return function(b){return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function angleTo(a){a=this.dot(a)/_Mathsqrt(this.lengthSq()*a.lengthSq());return _Mathacos(S.clamp(a,-1,1))},distanceTo:function distanceTo(a){return _Mathsqrt(this.distanceToSquared(a))},distanceToSquared:function distanceToSquared(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},manhattanDistanceTo:function manhattanDistanceTo(a){return _Mathabs(this.x-a.x)+_Mathabs(this.y-a.y)+_Mathabs(this.z-a.z)},setFromSpherical:function setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)},setFromSphericalCoords:function setFromSphericalCoords(a,b,c){var d=_Mathsin(b)*a;this.x=d*_Mathsin(c);this.y=_Mathcos(b)*a;this.z=d*_Mathcos(c);return this},setFromCylindrical:function setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)},setFromCylindricalCoords:function setFromCylindricalCoords(a,b,c){this.x=a*_Mathsin(b);this.y=c;this.z=a*_Mathcos(b);return this},setFromMatrixPosition:function setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this},setFromMatrixScale:function setFromMatrixScale(a){var b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this},setFromMatrixColumn:function setFromMatrixColumn(a,b){return this.fromArray(a.elements,4*b)},equals:function equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromBufferAttribute:function fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}});Object.assign(oa.prototype,{isMatrix3:!0,set:function set(a,b,c,d,e,f,g,h,k){var m=this.elements;m[0]=a;m[1]=d;m[2]=g;m[3]=b;m[4]=e;m[5]=h;m[6]=c;m[7]=f;m[8]=k;return this},identity:function identity(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function clone(){return new this.constructor().fromArray(this.elements)},copy:function copy(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this},setFromMatrix4:function setFromMatrix4(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this},applyToBufferAttribute:function(){var a=new p;return function(b){for(var c=0,d=b.count;c<d;c++){a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix3(this),b.setXYZ(c,a.x,a.y,a.z)}return b}}(),multiply:function multiply(a){return this.multiplyMatrices(this,a)},premultiply:function premultiply(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function multiplyMatrices(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];var e=c[3],f=c[6],g=c[1],h=c[4],k=c[7],m=c[2],l=c[5];c=c[8];var n=d[0],q=d[3],p=d[6],t=d[1],u=d[4],y=d[7],x=d[2],w=d[5];d=d[8];b[0]=a*n+e*t+f*x;b[3]=a*q+e*u+f*w;b[6]=a*p+e*y+f*d;b[1]=g*n+h*t+k*x;b[4]=g*q+h*u+k*w;b[7]=g*p+h*y+k*d;b[2]=m*n+l*t+c*x;b[5]=m*q+l*u+c*w;b[8]=m*p+l*y+c*d;return this},multiplyScalar:function multiplyScalar(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function determinant(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],k=a[7];a=a[8];return b*f*a-b*g*k-c*e*a+c*g*h+d*e*k-d*f*h},getInverse:function getInverse(a,b){a&&a.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var c=a.elements;a=this.elements;var d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],k=c[5],m=c[6],l=c[7];c=c[8];var n=c*h-k*l,q=k*m-c*g,p=l*g-h*m,t=d*n+e*q+f*p;if(0===t){if(!0===b)throw Error("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");console.warn("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");return this.identity()}b=1/t;a[0]=n*b;a[1]=(f*l-c*e)*b;a[2]=(k*e-f*h)*b;a[3]=q*b;a[4]=(c*d-f*m)*b;a[5]=(f*g-k*d)*b;a[6]=p*b;a[7]=(e*m-l*d)*b;a[8]=(h*d-e*g)*b;return this},transpose:function transpose(){var a=this.elements,b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},getNormalMatrix:function getNormalMatrix(a){return this.setFromMatrix4(a).getInverse(this).transpose()},transposeIntoArray:function transposeIntoArray(a){var b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},setUvTransform:function setUvTransform(a,b,c,d,e,f,g){var h=_Mathcos(e);e=_Mathsin(e);this.set(c*h,c*e,-c*(h*f+e*g)+f+a,-d*e,d*h,-d*(-e*f+h*g)+g+b,0,0,1)},scale:function scale(a,b){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=b;c[4]*=b;c[7]*=b;return this},rotate:function rotate(a){var b=_Mathcos(a);a=_Mathsin(a);var c=this.elements,d=c[0],e=c[3],f=c[6],g=c[1],h=c[4],k=c[7];c[0]=b*d+a*g;c[3]=b*e+a*h;c[6]=b*f+a*k;c[1]=-a*d+b*g;c[4]=-a*e+b*h;c[7]=-a*f+b*k;return this},translate:function translate(a,b){var c=this.elements;c[0]+=a*c[2];c[3]+=a*c[5];c[6]+=a*c[8];c[1]+=b*c[2];c[4]+=b*c[5];c[7]+=b*c[8];return this},equals:function equals(a){var b=this.elements;a=a.elements;for(var c=0;9>c;c++){if(b[c]!==a[c])return!1}return!0},fromArray:function fromArray(a,b){void 0===b&&(b=0);for(var c=0;9>c;c++){this.elements[c]=a[c+b]}return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}});var hb={getDataURL:function getDataURL(a){if(babelHelpers.instanceof(a,HTMLCanvasElement))var b=a;else{b=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");b.width=a.width;b.height=a.height;var c=b.getContext("2d");babelHelpers.instanceof(a,ImageData)?c.putImageData(a,0,0):c.drawImage(a,0,0,a.width,a.height)}return 2048<b.width||2048<b.height?b.toDataURL("image/jpeg",.6):b.toDataURL("image/png")}},Gf=0;Q.DEFAULT_IMAGE=void 0;Q.DEFAULT_MAPPING=300;Q.prototype=Object.assign(Object.create(ia.prototype),{constructor:Q,isTexture:!0,updateMatrix:function updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.name=a.name;this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function toJSON(a){var b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];var c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var d=this.image;void 0===d.uuid&&(d.uuid=S.generateUUID());if(!b&&void 0===a.images[d.uuid]){if(Array.isArray(d)){for(var e=[],f=0,g=d.length;f<g;f++){e.push(hb.getDataURL(d[f]))}}else e=hb.getDataURL(d);a.images[d.uuid]={uuid:d.uuid,url:e}}c.image=d.uuid}b||(a.textures[this.uuid]=c);return c},dispose:function dispose(){this.dispatchEvent({type:"dispose"})},transformUv:function transformUv(a){if(300!==this.mapping)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=_Mathfloor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===_Mathabs(_Mathfloor(a.x)%2)?_Mathceil(a.x)-a.x:a.x-_Mathfloor(a.x);}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=_Mathfloor(a.y);break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===_Mathabs(_Mathfloor(a.y)%2)?_Mathceil(a.y)-a.y:a.y-_Mathfloor(a.y);}this.flipY&&(a.y=1-a.y);return a}});Object.defineProperty(Q.prototype,"needsUpdate",{set:function set(a){!0===a&&this.version++}});Object.assign(Z.prototype,{isVector4:!0,set:function set(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function setScalar(a){this.w=this.z=this.y=this.x=a;return this},setX:function setX(a){this.x=a;return this},setY:function setY(a){this.y=a;return this},setZ:function setZ(a){this.z=a;return this},setW:function setW(a){this.w=a;return this},setComponent:function setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function clone(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function add(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function addScalar(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function sub(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function subScalar(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this},applyMatrix4:function applyMatrix4(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function divideScalar(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function setAxisAngleFromQuaternion(a){this.w=2*_Mathacos(a.w);var b=_Mathsqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function setAxisAngleFromRotationMatrix(a){a=a.elements;var b=a[0],c=a[4],d=a[8],e=a[1],f=a[5],g=a[9],h=a[2],k=a[6],m=a[10];if(.01>_Mathabs(c-e)&&.01>_Mathabs(d-h)&&.01>_Mathabs(g-k)){if(.1>_Mathabs(c+e)&&.1>_Mathabs(d+h)&&.1>_Mathabs(g+k)&&.1>_Mathabs(b+f+m-3))return this.set(1,0,0,0),this;a=_MathPI;b=(b+1)/2;f=(f+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+h)/4;g=(g+k)/4;b>f&&b>m?.01>b?(k=0,c=h=.707106781):(k=_Mathsqrt(b),h=c/k,c=d/k):f>m?.01>f?(k=.707106781,h=0,c=.707106781):(h=_Mathsqrt(f),k=c/h,c=g/h):.01>m?(h=k=.707106781,c=0):(c=_Mathsqrt(m),k=d/c,h=g/c);this.set(k,h,c,a);return this}a=_Mathsqrt((k-g)*(k-g)+(d-h)*(d-h)+(e-c)*(e-c));.001>_Mathabs(a)&&(a=1);this.x=(k-g)/a;this.y=(d-h)/a;this.z=(e-c)/a;this.w=_Mathacos((b+f+m-1)/2);return this},min:function min(a){this.x=_Mathmin(this.x,a.x);this.y=_Mathmin(this.y,a.y);this.z=_Mathmin(this.z,a.z);this.w=_Mathmin(this.w,a.w);return this},max:function max(a){this.x=_Mathmax(this.x,a.x);this.y=_Mathmax(this.y,a.y);this.z=_Mathmax(this.z,a.z);this.w=_Mathmax(this.w,a.w);return this},clamp:function clamp(a,b){this.x=_Mathmax(a.x,_Mathmin(b.x,this.x));this.y=_Mathmax(a.y,_Mathmin(b.y,this.y));this.z=_Mathmax(a.z,_Mathmin(b.z,this.z));this.w=_Mathmax(a.w,_Mathmin(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new Z,b=new Z);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),clampLength:function clampLength(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(_Mathmax(a,_Mathmin(b,c)))},floor:function floor(){this.x=_Mathfloor(this.x);this.y=_Mathfloor(this.y);this.z=_Mathfloor(this.z);this.w=_Mathfloor(this.w);return this},ceil:function ceil(){this.x=_Mathceil(this.x);this.y=_Mathceil(this.y);this.z=_Mathceil(this.z);this.w=_Mathceil(this.w);return this},round:function round(){this.x=_Mathround(this.x);this.y=_Mathround(this.y);this.z=_Mathround(this.z);this.w=_Mathround(this.w);return this},roundToZero:function roundToZero(){this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x);this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y);this.z=0>this.z?_Mathceil(this.z):_Mathfloor(this.z);this.w=0>this.w?_Mathceil(this.w):_Mathfloor(this.w);return this},negate:function negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)+_Mathabs(this.z)+_Mathabs(this.w)},normalize:function normalize(){return this.divideScalar(this.length()||1)},setLength:function setLength(a){return this.normalize().multiplyScalar(a)},lerp:function lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function lerpVectors(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromBufferAttribute:function fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}});ib.prototype=Object.assign(Object.create(ia.prototype),{constructor:ib,isWebGLRenderTarget:!0,setSize:function setSize(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function dispose(){this.dispatchEvent({type:"dispose"})}});Jb.prototype=Object.create(ib.prototype);Jb.prototype.constructor=Jb;Jb.prototype.isWebGLRenderTargetCube=!0;jb.prototype=Object.create(Q.prototype);jb.prototype.constructor=jb;jb.prototype.isDataTexture=!0;Object.assign(Wa.prototype,{isBox3:!0,set:function set(a,b){this.min.copy(a);this.max.copy(b);return this},setFromArray:function setFromArray(a){for(var b=1/0,c=1/0,d=1/0,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.length;h<k;h+=3){var m=a[h],l=a[h+1],n=a[h+2];m<b&&(b=m);l<c&&(c=l);n<d&&(d=n);m>e&&(e=m);l>f&&(f=l);n>g&&(g=n)}this.min.set(b,c,d);this.max.set(e,f,g);return this},setFromBufferAttribute:function setFromBufferAttribute(a){for(var b=1/0,c=1/0,d=1/0,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.count;h<k;h++){var m=a.getX(h),l=a.getY(h),n=a.getZ(h);m<b&&(b=m);l<c&&(c=l);n<d&&(d=n);m>e&&(e=m);l>f&&(f=l);n>g&&(g=n)}this.min.set(b,c,d);this.max.set(e,f,g);return this},setFromPoints:function setFromPoints(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++){this.expandByPoint(a[b])}return this},setFromCenterAndSize:function(){var a=new p;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),setFromObject:function setFromObject(a){this.makeEmpty();return this.expandByObject(a)},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function makeEmpty(){this.min.x=this.min.y=this.min.z=1/0;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function getCenter(a){void 0===a&&(console.warn("THREE.Box3: .getCenter() target is now required"),a=new p);return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function getSize(a){void 0===a&&(console.warn("THREE.Box3: .getSize() target is now required"),a=new p);return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)},expandByPoint:function expandByPoint(a){this.min.min(a);this.max.max(a);return this},expandByVector:function expandByVector(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this},expandByObject:function(){function a(a){var f=a.geometry;if(void 0!==f)if(f.isGeometry)for(f=f.vertices,c=0,d=f.length;c<d;c++){e.copy(f[c]),e.applyMatrix4(a.matrixWorld),b.expandByPoint(e)}else if(f.isBufferGeometry&&(f=f.attributes.position,void 0!==f))for(c=0,d=f.count;c<d;c++){e.fromBufferAttribute(f,c).applyMatrix4(a.matrixWorld),b.expandByPoint(e)}}var b,c,d,e=new p;return function(c){b=this;c.updateMatrixWorld(!0);c.traverse(a);return this}}(),containsPoint:function containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getParameter:function getParameter(a,b){void 0===b&&(console.warn("THREE.Box3: .getParameter() target is now required"),b=new p);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a=new p;return function(b){this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function intersectsPlane(a){if(0<a.normal.x){var b=a.normal.x*this.min.x,c=a.normal.x*this.max.x}else b=a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=-a.constant&&c>=-a.constant},intersectsTriangle:function(){function a(a){var e,f=0;for(e=a.length-3;f<=e;f+=3){h.fromArray(a,f);var g=m.x*_Mathabs(h.x)+m.y*_Mathabs(h.y)+m.z*_Mathabs(h.z),k=b.dot(h),l=c.dot(h),n=d.dot(h);if(_Mathmax(-_Mathmax(k,l,n),_Mathmin(k,l,n))>g)return!1}return!0}var b=new p,c=new p,d=new p,e=new p,f=new p,g=new p,h=new p,k=new p,m=new p,l=new p;return function(h){if(this.isEmpty())return!1;this.getCenter(k);m.subVectors(this.max,k);b.subVectors(h.a,k);c.subVectors(h.b,k);d.subVectors(h.c,k);e.subVectors(c,b);f.subVectors(d,c);g.subVectors(b,d);h=[0,-e.z,e.y,0,-f.z,f.y,0,-g.z,g.y,e.z,0,-e.x,f.z,0,-f.x,g.z,0,-g.x,-e.y,e.x,0,-f.y,f.x,0,-g.y,g.x,0];if(!a(h))return!1;h=[1,0,0,0,1,0,0,0,1];if(!a(h))return!1;l.crossVectors(e,f);h=[l.x,l.y,l.z];return a(h)}}(),clampPoint:function clampPoint(a,b){void 0===b&&(console.warn("THREE.Box3: .clampPoint() target is now required"),b=new p);return b.copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new p;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=new p;return function(b){void 0===b&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),b=new Fa);this.getCenter(b.center);b.radius=.5*this.getSize(a).length();return b}}(),intersect:function intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function union(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new p,new p,new p,new p,new p,new p,new p,new p];return function(b){if(this.isEmpty())return this;a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),translate:function translate(a){this.min.add(a);this.max.add(a);return this},equals:function equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});Object.assign(Fa.prototype,{set:function set(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new Wa;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).getCenter(d);for(var e=c=0,f=b.length;e<f;e++){c=_Mathmax(c,d.distanceToSquared(b[e]))}this.radius=_Mathsqrt(c);return this}}(),clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function empty(){return 0>=this.radius},containsPoint:function containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function distanceToPoint(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function intersectsSphere(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function intersectsBox(a){return a.intersectsSphere(this)},intersectsPlane:function intersectsPlane(a){return _Mathabs(a.distanceToPoint(this.center))<=this.radius},clampPoint:function clampPoint(a,b){var c=this.center.distanceToSquared(a);void 0===b&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),b=new p);b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b},getBoundingBox:function getBoundingBox(a){void 0===a&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),a=new Wa);a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function applyMatrix4(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function translate(a){this.center.add(a);return this},equals:function equals(a){return a.center.equals(this.center)&&a.radius===this.radius}});Object.assign(Pa.prototype,{set:function set(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function setComponents(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this},setFromNormalAndCoplanarPoint:function setFromNormalAndCoplanarPoint(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new p,b=new p;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.setFromNormalAndCoplanarPoint(d,c);return this}}(),clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function normalize(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function negate(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function distanceToPoint(a){return this.normal.dot(a)+this.constant},distanceToSphere:function distanceToSphere(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function projectPoint(a,b){void 0===b&&(console.warn("THREE.Plane: .projectPoint() target is now required"),b=new p);return b.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)},intersectLine:function(){var a=new p;return function(b,c){void 0===c&&(console.warn("THREE.Plane: .intersectLine() target is now required"),c=new p);var d=b.delta(a),e=this.normal.dot(d);if(0===e){if(0===this.distanceToPoint(b.start))return c.copy(b.start)}else if(e=-(b.start.dot(this.normal)+this.constant)/e,!(0>e||1<e))return c.copy(d).multiplyScalar(e).add(b.start)}}(),intersectsLine:function intersectsLine(a){var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b},intersectsBox:function intersectsBox(a){return a.intersectsPlane(this)},intersectsSphere:function intersectsSphere(a){return a.intersectsPlane(this)},coplanarPoint:function coplanarPoint(a){void 0===a&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),a=new p);return a.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new p,b=new oa;return function(c,d){d=d||b.getNormalMatrix(c);c=this.coplanarPoint(a).applyMatrix4(c);d=this.normal.applyMatrix3(d).normalize();this.constant=-c.dot(d);return this}}(),translate:function translate(a){this.constant-=a.dot(this.normal);return this},equals:function equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}});Object.assign(rd.prototype,{set:function set(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){for(var b=this.planes,c=0;6>c;c++){b[c].copy(a.planes[c])}return this},setFromMatrix:function setFromMatrix(a){var b=this.planes,c=a.elements;a=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],k=c[6],m=c[7],l=c[8],n=c[9],q=c[10],p=c[11],t=c[12],u=c[13],y=c[14];c=c[15];b[0].setComponents(f-a,m-g,p-l,c-t).normalize();b[1].setComponents(f+a,m+g,p+l,c+t).normalize();b[2].setComponents(f+d,m+h,p+n,c+u).normalize();b[3].setComponents(f-d,m-h,p-n,c-u).normalize();b[4].setComponents(f-e,m-k,p-q,c-y).normalize();b[5].setComponents(f+e,m+k,p+q,c+y).normalize();return this},intersectsObject:function(){var a=new Fa;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new Fa;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function intersectsSphere(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++){if(b[d].distanceToPoint(c)<a)return!1}return!0},intersectsBox:function(){var a=new p;return function(b){for(var c=this.planes,d=0,e;6>d;d++){e=c[d];a.x=0<e.normal.x?b.max.x:b.min.x;a.y=0<e.normal.y?b.max.y:b.min.y;a.z=0<e.normal.z?b.max.z:b.min.z;if(0>e.distanceToPoint(a))return!1}return!0}}(),containsPoint:function containsPoint(a){for(var b=this.planes,c=0;6>c;c++){if(0>b[c].distanceToPoint(a))return!1}return!0}});var K={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif\n",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif\n",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n}\n",background_vert:"varying vec2 vUv;\nvoid main() {\n\tvUv = uv;\n\tgl_Position = vec4( position, 1.0 );\n\tgl_Position.z = 1.0;\n}\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\tvec4 matcapColor = texture2D( matcap, uv );\n\tmatcapColor = matcapTexelToLinear( matcapColor );\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n"},va={merge:function merge(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d){b[e]=d[e]}}return b},clone:function clone(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return b}},Wg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(G.prototype,{isColor:!0,r:1,g:1,b:1,set:function set(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setScalar:function setScalar(a){this.b=this.g=this.r=a;return this},setHex:function setHex(a){a=_Mathfloor(a);this.r=(255&a>>16)/255;this.g=(255&a>>8)/255;this.b=(255&a)/255;return this},setRGB:function setRGB(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSL:function(){function a(a,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(c-a)*d:.5>d?c:d<2/3?a+6*(c-a)*(2/3-d):a}return function(b,c,d){b=S.euclideanModulo(b,1);c=S.clamp(c,0,1);d=S.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),setStyle:function setStyle(a){function b(b){void 0!==b&&1>parseFloat(b)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=c[2];switch(c[1]){case"rgb":case"rgba":if(c=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=_Mathmin(255,parseInt(c[1],10))/255,this.g=_Mathmin(255,parseInt(c[2],10))/255,this.b=_Mathmin(255,parseInt(c[3],10))/255,b(c[5]),this;if(c=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=_Mathmin(100,parseInt(c[1],10))/100,this.g=_Mathmin(100,parseInt(c[2],10))/100,this.b=_Mathmin(100,parseInt(c[3],10))/100,b(c[5]),this;break;case"hsl":case"hsla":if(c=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){d=parseFloat(c[1])/360;var e=parseInt(c[2],10)/100,f=parseInt(c[3],10)/100;b(c[5]);return this.setHSL(d,e,f)}}}else if(c=/^#([A-Fa-f0-9]+)$/.exec(a)){c=c[1];d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}a&&0<a.length&&(c=Wg[a],void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+a));return this},clone:function clone(){return new this.constructor(this.r,this.g,this.b)},copy:function copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function copyGammaToLinear(a,b){void 0===b&&(b=2);this.r=_Mathpow(a.r,b);this.g=_Mathpow(a.g,b);this.b=_Mathpow(a.b,b);return this},copyLinearToGamma:function copyLinearToGamma(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=_Mathpow(a.r,b);this.g=_Mathpow(a.g,b);this.b=_Mathpow(a.b,b);return this},convertGammaToLinear:function convertGammaToLinear(a){this.copyGammaToLinear(this,a);return this},convertLinearToGamma:function convertLinearToGamma(a){this.copyLinearToGamma(this,a);return this},copySRGBToLinear:function(){function a(a){return .04045>a?.0773993808*a:_Mathpow(.9478672986*a+.0521327014,2.4)}return function(b){this.r=a(b.r);this.g=a(b.g);this.b=a(b.b);return this}}(),copyLinearToSRGB:function(){function a(a){return .0031308>a?12.92*a:1.055*_Mathpow(a,.41666)-.055}return function(b){this.r=a(b.r);this.g=a(b.g);this.b=a(b.b);return this}}(),convertSRGBToLinear:function convertSRGBToLinear(){this.copySRGBToLinear(this);return this},convertLinearToSRGB:function convertLinearToSRGB(){this.copyLinearToSRGB(this);return this},getHex:function getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function getHSL(a){void 0===a&&(console.warn("THREE.Color: .getHSL() target is now required"),a={h:0,s:0,l:0});var b=this.r,c=this.g,d=this.b,e=_Mathmax(b,c,d),f=_Mathmin(b,c,d),g,h=(f+e)/2;if(f===e)f=g=0;else{var k=e-f;f=.5>=h?k/(e+f):k/(2-e-f);switch(e){case b:g=(c-d)/k+(c<d?6:0);break;case c:g=(d-b)/k+2;break;case d:g=(b-c)/k+4;}g/=6}a.h=g;a.s=f;a.l=h;return a},getStyle:function getStyle(){return"rgb("+(0|255*this.r)+","+(0|255*this.g)+","+(0|255*this.b)+")"},offsetHSL:function(){var a={};return function(b,c,d){this.getHSL(a);a.h+=b;a.s+=c;a.l+=d;this.setHSL(a.h,a.s,a.l);return this}}(),add:function add(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function addColors(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function addScalar(a){this.r+=a;this.g+=a;this.b+=a;return this},sub:function sub(a){this.r=_Mathmax(0,this.r-a.r);this.g=_Mathmax(0,this.g-a.g);this.b=_Mathmax(0,this.b-a.b);return this},multiply:function multiply(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function multiplyScalar(a){this.r*=a;this.g*=a;this.b*=a;return this},lerp:function lerp(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},lerpHSL:function(){var a={h:0,s:0,l:0},b={h:0,s:0,l:0};return function(c,d){this.getHSL(a);c.getHSL(b);c=S.lerp(a.h,b.h,d);var e=S.lerp(a.s,b.s,d);d=S.lerp(a.l,b.l,d);this.setHSL(c,e,d);return this}}(),equals:function equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function fromArray(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a},toJSON:function toJSON(){return this.getHex()}});var H={common:{diffuse:{value:new G(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new oa},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new A(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new G(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new G(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new oa}},sprite:{diffuse:{value:new G(15658734)},opacity:{value:1},center:{value:new A(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new oa}}},Qa={basic:{uniforms:va.merge([H.common,H.specularmap,H.envmap,H.aomap,H.lightmap,H.fog]),vertexShader:K.meshbasic_vert,fragmentShader:K.meshbasic_frag},lambert:{uniforms:va.merge([H.common,H.specularmap,H.envmap,H.aomap,H.lightmap,H.emissivemap,H.fog,H.lights,{emissive:{value:new G(0)}}]),vertexShader:K.meshlambert_vert,fragmentShader:K.meshlambert_frag},phong:{uniforms:va.merge([H.common,H.specularmap,H.envmap,H.aomap,H.lightmap,H.emissivemap,H.bumpmap,H.normalmap,H.displacementmap,H.gradientmap,H.fog,H.lights,{emissive:{value:new G(0)},specular:{value:new G(1118481)},shininess:{value:30}}]),vertexShader:K.meshphong_vert,fragmentShader:K.meshphong_frag},standard:{uniforms:va.merge([H.common,H.envmap,H.aomap,H.lightmap,H.emissivemap,H.bumpmap,H.normalmap,H.displacementmap,H.roughnessmap,H.metalnessmap,H.fog,H.lights,{emissive:{value:new G(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:K.meshphysical_vert,fragmentShader:K.meshphysical_frag},matcap:{uniforms:va.merge([H.common,H.bumpmap,H.normalmap,H.displacementmap,H.fog,{matcap:{value:null}}]),vertexShader:K.meshmatcap_vert,fragmentShader:K.meshmatcap_frag},points:{uniforms:va.merge([H.points,H.fog]),vertexShader:K.points_vert,fragmentShader:K.points_frag},dashed:{uniforms:va.merge([H.common,H.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:K.linedashed_vert,fragmentShader:K.linedashed_frag},depth:{uniforms:va.merge([H.common,H.displacementmap]),vertexShader:K.depth_vert,fragmentShader:K.depth_frag},normal:{uniforms:va.merge([H.common,H.bumpmap,H.normalmap,H.displacementmap,{opacity:{value:1}}]),vertexShader:K.normal_vert,fragmentShader:K.normal_frag},sprite:{uniforms:va.merge([H.sprite,H.fog]),vertexShader:K.sprite_vert,fragmentShader:K.sprite_frag},background:{uniforms:{t2D:{value:null}},vertexShader:K.background_vert,fragmentShader:K.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:K.cube_vert,fragmentShader:K.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:K.equirect_vert,fragmentShader:K.equirect_frag},distanceRGBA:{uniforms:va.merge([H.common,H.displacementmap,{referencePosition:{value:new p},nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:K.distanceRGBA_vert,fragmentShader:K.distanceRGBA_frag},shadow:{uniforms:va.merge([H.lights,H.fog,{color:{value:new G(0)},opacity:{value:1}}]),vertexShader:K.shadow_vert,fragmentShader:K.shadow_frag}};Qa.physical={uniforms:va.merge([Qa.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:K.meshphysical_vert,fragmentShader:K.meshphysical_frag};Object.assign(Xa.prototype,{clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++){this.vertexNormals[b]=a.vertexNormals[b].clone()}b=0;for(c=a.vertexColors.length;b<c;b++){this.vertexColors[b]=a.vertexColors[b].clone()}return this}});kb.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");kb.DefaultOrder="XYZ";Object.defineProperties(kb.prototype,{x:{get:function get(){return this._x},set:function set(a){this._x=a;this.onChangeCallback()}},y:{get:function get(){return this._y},set:function set(a){this._y=a;this.onChangeCallback()}},z:{get:function get(){return this._z},set:function set(a){this._z=a;this.onChangeCallback()}},order:{get:function get(){return this._order},set:function set(a){this._order=a;this.onChangeCallback()}}});Object.assign(kb.prototype,{isEuler:!0,set:function set(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function clone(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function copy(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function setFromRotationMatrix(a,b,c){var _Mathasin=Math.asin,d=S.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],k=e[5],m=e[9],l=e[2],n=e[6];e=e[10];b=b||this._order;"XYZ"===b?(this._y=_Mathasin(d(g,-1,1)),.99999>_Mathabs(g)?(this._x=_Mathatan(-m,e),this._z=_Mathatan(-f,a)):(this._x=_Mathatan(n,k),this._z=0)):"YXZ"===b?(this._x=_Mathasin(-d(m,-1,1)),.99999>_Mathabs(m)?(this._y=_Mathatan(g,e),this._z=_Mathatan(h,k)):(this._y=_Mathatan(-l,a),this._z=0)):"ZXY"===b?(this._x=_Mathasin(d(n,-1,1)),.99999>_Mathabs(n)?(this._y=_Mathatan(-l,e),this._z=_Mathatan(-f,k)):(this._y=0,this._z=_Mathatan(h,a))):"ZYX"===b?(this._y=_Mathasin(-d(l,-1,1)),.99999>_Mathabs(l)?(this._x=_Mathatan(n,e),this._z=_Mathatan(h,a)):(this._x=0,this._z=_Mathatan(-f,k))):"YZX"===b?(this._z=_Mathasin(d(h,-1,1)),.99999>_Mathabs(h)?(this._x=_Mathatan(-m,k),this._y=_Mathatan(-l,a)):(this._x=0,this._y=_Mathatan(g,e))):"XZY"===b?(this._z=_Mathasin(-d(f,-1,1)),.99999>_Mathabs(f)?(this._x=_Mathatan(n,k),this._y=_Mathatan(g,a)):(this._x=_Mathatan(-m,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a=new P;return function(b,c,d){a.makeRotationFromQuaternion(b);return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function setFromVector3(a,b){return this.set(a.x,a.y,a.z,b||this._order)},reorder:function(){var a=new ja;return function(b){a.setFromEuler(this);return this.setFromQuaternion(a,b)}}(),equals:function equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function fromArray(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function toVector3(a){return a?a.set(this._x,this._y,this._z):new p(this._x,this._y,this._z)},onChange:function onChange(a){this.onChangeCallback=a;return this},onChangeCallback:function onChangeCallback(){}});Object.assign(Wd.prototype,{set:function set(a){this.mask=0|1<<a},enable:function enable(a){this.mask=0|(this.mask|1<<a)},toggle:function toggle(a){this.mask^=0|1<<a},disable:function disable(a){this.mask&=~(0|1<<a)},test:function test(a){return 0!==(this.mask&a.mask)}});var If=0;C.DefaultUp=new p(0,1,0);C.DefaultMatrixAutoUpdate=!0;C.prototype=Object.assign(Object.create(ia.prototype),{constructor:C,isObject3D:!0,onBeforeRender:function onBeforeRender(){},onAfterRender:function onAfterRender(){},applyMatrix:function applyMatrix(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function applyQuaternion(a){this.quaternion.premultiply(a);return this},setRotationFromAxisAngle:function setRotationFromAxisAngle(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function setRotationFromEuler(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function setRotationFromQuaternion(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new ja;return function(b,c){a.setFromAxisAngle(b,c);this.quaternion.multiply(a);return this}}(),rotateOnWorldAxis:function(){var a=new ja;return function(b,c){a.setFromAxisAngle(b,c);this.quaternion.premultiply(a);return this}}(),rotateX:function(){var a=new p(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new p(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new p(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new p;return function(b,c){a.copy(b).applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(c));return this}}(),translateX:function(){var a=new p(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new p(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new p(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function localToWorld(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new P;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),lookAt:function(){var a=new ja,b=new P,c=new p,d=new p;return function(e,f,g){e.isVector3?c.copy(e):c.set(e,f,g);e=this.parent;this.updateWorldMatrix(!0,!1);d.setFromMatrixPosition(this.matrixWorld);this.isCamera?b.lookAt(d,c,this.up):b.lookAt(c,d,this.up);this.quaternion.setFromRotationMatrix(b);e&&(b.extractRotation(e.matrixWorld),a.setFromRotationMatrix(b),this.quaternion.premultiply(a.inverse()))}}(),add:function add(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++){this.add(arguments[b])}return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function remove(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++){this.remove(arguments[b])}return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(b,1));return this},getObjectById:function getObjectById(a){return this.getObjectByProperty("id",a)},getObjectByName:function getObjectByName(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function getObjectByProperty(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length,e;c<d;c++){e=this.children[c].getObjectByProperty(a,b);if(void 0!==e)return e}},getWorldPosition:function getWorldPosition(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),a=new p);this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=new p,b=new p;return function(c){void 0===c&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),c=new ja);this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldScale:function(){var a=new p,b=new ja;return function(c){void 0===c&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),c=new p);this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function getWorldDirection(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),a=new p);this.updateMatrixWorld(!0);var b=this.matrixWorld.elements;return a.set(b[8],b[9],b[10]).normalize()},raycast:function raycast(){},traverse:function traverse(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++){b[c].traverse(a)}},traverseVisible:function traverseVisible(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++){b[c].traverseVisible(a)}}},traverseAncestors:function traverseAncestors(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function updateMatrixWorld(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=this.children,c=0,d=b.length;c<d;c++){b[c].updateMatrixWorld(a)}},updateWorldMatrix:function updateWorldMatrix(a,b){var c=this.parent;!0===a&&null!==c&&c.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(!0===b)for(a=this.children,b=0,c=a.length;b<c;b++){a[b].updateWorldMatrix(!1,!0)}},toJSON:function toJSON(a){function b(b,c){void 0===b[c.uuid]&&(b[c.uuid]=c.toJSON(a));return c.uuid}function c(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var d=void 0===a||"string"===typeof a,e={};d&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var f={uuid:this.uuid,type:this.type};""!==this.name&&(f.name=this.name);!0===this.castShadow&&(f.castShadow=!0);!0===this.receiveShadow&&(f.receiveShadow=!0);!1===this.visible&&(f.visible=!1);!1===this.frustumCulled&&(f.frustumCulled=!1);0!==this.renderOrder&&(f.renderOrder=this.renderOrder);"{}"!==JSON.stringify(this.userData)&&(f.userData=this.userData);f.layers=this.layers.mask;f.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(f.matrixAutoUpdate=!1);if(this.isMesh||this.isLine||this.isPoints){f.geometry=b(a.geometries,this.geometry);var g=this.geometry.parameters;if(void 0!==g&&void 0!==g.shapes)if(g=g.shapes,Array.isArray(g))for(var h=0,k=g.length;h<k;h++){b(a.shapes,g[h])}else b(a.shapes,g)}if(void 0!==this.material)if(Array.isArray(this.material)){g=[];h=0;for(k=this.material.length;h<k;h++){g.push(b(a.materials,this.material[h]))}f.material=g}else f.material=b(a.materials,this.material);if(0<this.children.length)for(f.children=[],h=0;h<this.children.length;h++){f.children.push(this.children[h].toJSON(a).object)}if(d){d=c(a.geometries);h=c(a.materials);k=c(a.textures);var m=c(a.images);g=c(a.shapes);0<d.length&&(e.geometries=d);0<h.length&&(e.materials=h);0<k.length&&(e.textures=k);0<m.length&&(e.images=m);0<g.length&&(e.shapes=g)}e.object=f;return e},clone:function clone(a){return new this.constructor().copy(this,a)},copy:function copy(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++){this.add(a.children[b].clone())}return this}});var Jf=0;M.prototype=Object.assign(Object.create(ia.prototype),{constructor:M,isGeometry:!0,applyMatrix:function applyMatrix(a){for(var b=new oa().getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++){this.vertices[c].applyMatrix4(a)}c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++){a.vertexNormals[e].applyMatrix3(b).normalize()}}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(){var a=new P;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new P;return function(b){a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new P;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new P;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new P;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new C;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function fromBufferGeometry(a){function b(a,b,d,e){var f=void 0!==g?[l[a].clone(),l[b].clone(),l[d].clone()]:[],r=void 0!==h?[c.colors[a].clone(),c.colors[b].clone(),c.colors[d].clone()]:[];e=new Xa(a,b,d,f,r,e);c.faces.push(e);void 0!==k&&c.faceVertexUvs[0].push([n[a].clone(),n[b].clone(),n[d].clone()]);void 0!==m&&c.faceVertexUvs[1].push([q[a].clone(),q[b].clone(),q[d].clone()])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,f=e.position.array,g=void 0!==e.normal?e.normal.array:void 0,h=void 0!==e.color?e.color.array:void 0,k=void 0!==e.uv?e.uv.array:void 0,m=void 0!==e.uv2?e.uv2.array:void 0;void 0!==m&&(this.faceVertexUvs[1]=[]);for(var l=[],n=[],q=[],v=e=0;e<f.length;e+=3,v+=2){c.vertices.push(new p(f[e],f[e+1],f[e+2])),void 0!==g&&l.push(new p(g[e],g[e+1],g[e+2])),void 0!==h&&c.colors.push(new G(h[e],h[e+1],h[e+2])),void 0!==k&&n.push(new A(k[v],k[v+1])),void 0!==m&&q.push(new A(m[v],m[v+1]))}var t=a.groups;if(0<t.length)for(e=0;e<t.length;e++){f=t[e];var u=f.start,y=f.count;v=u;for(u+=y;v<u;v+=3){void 0!==d?b(d[v],d[v+1],d[v+2],f.materialIndex):b(v,v+1,v+2,f.materialIndex)}}else if(void 0!==d)for(e=0;e<d.length;e+=3){b(d[e],d[e+1],d[e+2])}else for(e=0;e<f.length/3;e+=3){b(e,e+1,e+2)}this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){var a=new p;return function(){this.computeBoundingBox();this.boundingBox.getCenter(a).negate();this.translate(a.x,a.y,a.z);return this}}(),normalize:function normalize(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius;b=0===b?1:1/b;var c=new P;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applyMatrix(c);return this},computeFaceNormals:function computeFaceNormals(){for(var a=new p,b=new p,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function computeVertexNormals(a){void 0===a&&(a=!0);var b,c=Array(this.vertices.length),d=0;for(b=this.vertices.length;d<b;d++){c[d]=new p}if(a){var e=new p,f=new p;a=0;for(d=this.faces.length;a<d;a++){b=this.faces[a];var g=this.vertices[b.a],h=this.vertices[b.b],k=this.vertices[b.c];e.subVectors(k,h);f.subVectors(g,h);e.cross(f);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(this.computeFaceNormals(),a=0,d=this.faces.length;a<d;a++){b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),c[b.c].add(b.normal)}d=0;for(b=this.vertices.length;d<b;d++){c[d].normalize()}a=0;for(d=this.faces.length;a<d;a++){b=this.faces[a],g=b.vertexNormals,3===g.length?(g[0].copy(c[b.a]),g[1].copy(c[b.b]),g[2].copy(c[b.c])):(g[0]=c[b.a].clone(),g[1]=c[b.b].clone(),g[2]=c[b.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function computeFlatVertexNormals(){var a;this.computeFaceNormals();var b=0;for(a=this.faces.length;b<a;b++){var c=this.faces[b],d=c.vertexNormals;3===d.length?(d[0].copy(c.normal),d[1].copy(c.normal),d[2].copy(c.normal)):(d[0]=c.normal.clone(),d[1]=c.normal.clone(),d[2]=c.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function computeMorphNormals(){var a,b,c=0;for(b=this.faces.length;c<b;c++){var d=this.faces[c];d.__originalFaceNormal?d.__originalFaceNormal.copy(d.normal):d.__originalFaceNormal=d.normal.clone();d.__originalVertexNormals||(d.__originalVertexNormals=[]);var e=0;for(a=d.vertexNormals.length;e<a;e++){d.__originalVertexNormals[e]?d.__originalVertexNormals[e].copy(d.vertexNormals[e]):d.__originalVertexNormals[e]=d.vertexNormals[e].clone()}}var f=new M;f.faces=this.faces;e=0;for(a=this.morphTargets.length;e<a;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];d=this.morphNormals[e].faceNormals;var g=this.morphNormals[e].vertexNormals;c=0;for(b=this.faces.length;c<b;c++){var h=new p,k={a:new p,b:new p,c:new p};d.push(h);g.push(k)}}g=this.morphNormals[e];f.vertices=this.morphTargets[e].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(b=this.faces.length;c<b;c++){d=this.faces[c],h=g.faceNormals[c],k=g.vertexNormals[c],h.copy(d.normal),k.a.copy(d.vertexNormals[0]),k.b.copy(d.vertexNormals[1]),k.c.copy(d.vertexNormals[2])}}c=0;for(b=this.faces.length;c<b;c++){d=this.faces[c],d.normal=d.__originalFaceNormal,d.vertexNormals=d.__originalVertexNormals}},computeBoundingBox:function computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Wa);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Fa);this.boundingSphere.setFromPoints(this.vertices)},merge:function merge(a,b,c){if(a&&a.isGeometry){var d,e=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,k=a.faces,m=this.faceVertexUvs[0],l=a.faceVertexUvs[0],n=this.colors,q=a.colors;void 0===c&&(c=0);void 0!==b&&(d=new oa().getNormalMatrix(b));a=0;for(var p=g.length,t;a<p;a++){t=g[a].clone();void 0!==b&&t.applyMatrix4(b);f.push(t)}a=0;for(p=q.length;a<p;a++){n.push(q[a].clone())}a=0;for(p=k.length;a<p;a++){g=k[a];var u=g.vertexNormals;q=g.vertexColors;n=new Xa(g.a+e,g.b+e,g.c+e);n.normal.copy(g.normal);void 0!==d&&n.normal.applyMatrix3(d).normalize();b=0;for(f=u.length;b<f;b++){t=u[b].clone(),void 0!==d&&t.applyMatrix3(d).normalize(),n.vertexNormals.push(t)}n.color.copy(g.color);b=0;for(f=q.length;b<f;b++){t=q[b],n.vertexColors.push(t.clone())}n.materialIndex=g.materialIndex+c;h.push(n)}a=0;for(p=l.length;a<p;a++){if(c=l[a],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++){d.push(c[b].clone())}m.push(d)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",a)},mergeMesh:function mergeMesh(a){a&&a.isMesh?(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a)},mergeVertices:function mergeVertices(){var a={},b=[],c=[],d=10000,e,f=0;for(e=this.vertices.length;f<e;f++){var g=this.vertices[f];g=_Mathround(g.x*d)+"_"+_Mathround(g.y*d)+"_"+_Mathround(g.z*d);void 0===a[g]?(a[g]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[g]]}a=[];f=0;for(e=this.faces.length;f<e;f++){for(d=this.faces[f],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],g=0;3>g;g++){if(d[g]===d[(g+1)%3]){a.push(f);break}}}for(f=a.length-1;0<=f;f--){for(d=a[f],this.faces.splice(d,1),c=0,e=this.faceVertexUvs.length;c<e;c++){this.faceVertexUvs[c].splice(d,1)}}f=this.vertices.length-b.length;this.vertices=b;return f},setFromPoints:function setFromPoints(a){this.vertices=[];for(var b=0,c=a.length,d;b<c;b++){d=a[b];this.vertices.push(new p(d.x,d.y,d.z||0))}return this},sortFacesByMaterialIndex:function sortFacesByMaterialIndex(){for(var a=this.faces,b=a.length,c=0;c<b;c++){a[c]._id=c}a.sort(function(a,b){return a.materialIndex-b.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var h=a[c]._id;f&&f.push(d[h]);g&&g.push(e[h])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=g)},toJSON:function toJSON(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==m[b])return m[b];m[b]=k.length/3;k.push(a.x,a.y,a.z);return m[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==n[b])return n[b];n[b]=l.length;l.push(a.getHex());return n[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==p[b])return p[b];p[b]=q.length/2;q.push(a.x,a.y);return p[b]}var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"},uuid:this.uuid,type:this.type};""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f){void 0!==f[g]&&(e[g]=f[g])}return e}f=[];for(g=0;g<this.vertices.length;g++){var h=this.vertices[g];f.push(h.x,h.y,h.z)}h=[];var k=[],m={},l=[],n={},q=[],p={};for(g=0;g<this.faces.length;g++){var t=this.faces[g],u=void 0!==this.faceVertexUvs[0][g],y=0<t.normal.length(),x=0<t.vertexNormals.length,w=1!==t.color.r||1!==t.color.g||1!==t.color.b,D=0<t.vertexColors.length,J=0;J=a(J,0,0);J=a(J,1,!0);J=a(J,2,!1);J=a(J,3,u);J=a(J,4,y);J=a(J,5,x);J=a(J,6,w);J=a(J,7,D);h.push(J);h.push(t.a,t.b,t.c);h.push(t.materialIndex);u&&(u=this.faceVertexUvs[0][g],h.push(d(u[0]),d(u[1]),d(u[2])));y&&h.push(b(t.normal));x&&(y=t.vertexNormals,h.push(b(y[0]),b(y[1]),b(y[2])));w&&h.push(c(t.color));D&&(t=t.vertexColors,h.push(c(t[0]),c(t[1]),c(t[2])))}e.data={};e.data.vertices=f;e.data.normals=k;0<l.length&&(e.data.colors=l);0<q.length&&(e.data.uvs=[q]);e.data.faces=h;return e},clone:function clone(){return new M().copy(this)},copy:function copy(a){var b,c,d;this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var e=a.vertices,f=0;for(b=e.length;f<b;f++){this.vertices.push(e[f].clone())}e=a.colors;f=0;for(b=e.length;f<b;f++){this.colors.push(e[f].clone())}e=a.faces;f=0;for(b=e.length;f<b;f++){this.faces.push(e[f].clone())}f=0;for(b=a.faceVertexUvs.length;f<b;f++){var g=a.faceVertexUvs[f];void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);e=0;for(c=g.length;e<c;e++){var h=g[e],k=[],m=0;for(d=h.length;m<d;m++){k.push(h[m].clone())}this.faceVertexUvs[f].push(k)}}m=a.morphTargets;f=0;for(b=m.length;f<b;f++){d={};d.name=m[f].name;if(void 0!==m[f].vertices)for(d.vertices=[],e=0,c=m[f].vertices.length;e<c;e++){d.vertices.push(m[f].vertices[e].clone())}if(void 0!==m[f].normals)for(d.normals=[],e=0,c=m[f].normals.length;e<c;e++){d.normals.push(m[f].normals[e].clone())}this.morphTargets.push(d)}m=a.morphNormals;f=0;for(b=m.length;f<b;f++){d={};if(void 0!==m[f].vertexNormals)for(d.vertexNormals=[],e=0,c=m[f].vertexNormals.length;e<c;e++){g=m[f].vertexNormals[e],h={},h.a=g.a.clone(),h.b=g.b.clone(),h.c=g.c.clone(),d.vertexNormals.push(h)}if(void 0!==m[f].faceNormals)for(d.faceNormals=[],e=0,c=m[f].faceNormals.length;e<c;e++){d.faceNormals.push(m[f].faceNormals[e].clone())}this.morphNormals.push(d)}e=a.skinWeights;f=0;for(b=e.length;f<b;f++){this.skinWeights.push(e[f].clone())}e=a.skinIndices;f=0;for(b=e.length;f<b;f++){this.skinIndices.push(e[f].clone())}e=a.lineDistances;f=0;for(b=e.length;f<b;f++){this.lineDistances.push(e[f])}f=a.boundingBox;null!==f&&(this.boundingBox=f.clone());f=a.boundingSphere;null!==f&&(this.boundingSphere=f.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=a.lineDistancesNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function dispose(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(I.prototype,"needsUpdate",{set:function set(a){!0===a&&this.version++}});Object.assign(I.prototype,{isBufferAttribute:!0,onUploadCallback:function onUploadCallback(){},setArray:function setArray(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.itemSize:0;this.array=a;return this},setDynamic:function setDynamic(a){this.dynamic=a;return this},copy:function copy(a){this.name=a.name;this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.dynamic=a.dynamic;return this},copyAt:function copyAt(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++){this.array[a+d]=b.array[c+d]}return this},copyArray:function copyArray(a){this.array.set(a);return this},copyColorsArray:function copyColorsArray(a){for(var b=this.array,c=0,d=0,e=a.length,f;d<e;d++){f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),f=new G);b[c++]=f.r;b[c++]=f.g;b[c++]=f.b}return this},copyVector2sArray:function copyVector2sArray(a){for(var b=this.array,c=0,d=0,e=a.length,f;d<e;d++){f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",d),f=new A);b[c++]=f.x;b[c++]=f.y}return this},copyVector3sArray:function copyVector3sArray(a){for(var b=this.array,c=0,d=0,e=a.length,f;d<e;d++){f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),f=new p);b[c++]=f.x;b[c++]=f.y;b[c++]=f.z}return this},copyVector4sArray:function copyVector4sArray(a){for(var b=this.array,c=0,d=0,e=a.length,f;d<e;d++){f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),f=new Z);b[c++]=f.x;b[c++]=f.y;b[c++]=f.z;b[c++]=f.w}return this},set:function set(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function getX(a){return this.array[a*this.itemSize]},setX:function setX(a,b){this.array[a*this.itemSize]=b;return this},getY:function getY(a){return this.array[a*this.itemSize+1]},setY:function setY(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function getZ(a){return this.array[a*this.itemSize+2]},setZ:function setZ(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function getW(a){return this.array[a*this.itemSize+3]},setW:function setW(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function setXY(a,b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function setXYZ(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function setXYZW(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},onUpload:function onUpload(a){this.onUploadCallback=a;return this},clone:function clone(){return new this.constructor(this.array,this.itemSize).copy(this)}});sc.prototype=Object.create(I.prototype);sc.prototype.constructor=sc;tc.prototype=Object.create(I.prototype);tc.prototype.constructor=tc;uc.prototype=Object.create(I.prototype);uc.prototype.constructor=uc;vc.prototype=Object.create(I.prototype);vc.prototype.constructor=vc;lb.prototype=Object.create(I.prototype);lb.prototype.constructor=lb;wc.prototype=Object.create(I.prototype);wc.prototype.constructor=wc;mb.prototype=Object.create(I.prototype);mb.prototype.constructor=mb;z.prototype=Object.create(I.prototype);z.prototype.constructor=z;xc.prototype=Object.create(I.prototype);xc.prototype.constructor=xc;Object.assign(Ge.prototype,{computeGroups:function computeGroups(a){var b=[],c;a=a.faces;for(var d=0,e;d<a.length;d++){e=a[d];if(e.materialIndex!==c){c=e.materialIndex;void 0!==f&&(f.count=3*d-f.start,b.push(f));var f={start:3*d,materialIndex:c}}}void 0!==f&&(f.count=3*d-f.start,b.push(f));this.groups=b},fromGeometry:function fromGeometry(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,f=d[1]&&0<d[1].length,g=a.morphTargets,h=g.length;if(0<h){for(var k=[],m=0;m<h;m++){k[m]={name:g[m].name,data:[]}}this.morphTargets.position=k}var l=a.morphNormals,n=l.length;if(0<n){var q=[];for(m=0;m<n;m++){q[m]={name:l[m].name,data:[]}}this.morphTargets.normal=q}var p=a.skinIndices,t=a.skinWeights,u=p.length===c.length,y=t.length===c.length;0<c.length&&0===b.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(m=0;m<b.length;m++){var x=b[m];this.vertices.push(c[x.a],c[x.b],c[x.c]);var w=x.vertexNormals;3===w.length?this.normals.push(w[0],w[1],w[2]):(w=x.normal,this.normals.push(w,w,w));w=x.vertexColors;3===w.length?this.colors.push(w[0],w[1],w[2]):(w=x.color,this.colors.push(w,w,w));!0===e&&(w=d[0][m],void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",m),this.uvs.push(new A,new A,new A)));!0===f&&(w=d[1][m],void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new A,new A,new A)));for(w=0;w<h;w++){var D=g[w].vertices;k[w].data.push(D[x.a],D[x.b],D[x.c])}for(w=0;w<n;w++){D=l[w].vertexNormals[m],q[w].data.push(D.a,D.b,D.c)}u&&this.skinIndices.push(p[x.a],p[x.b],p[x.c]);y&&this.skinWeights.push(t[x.a],t[x.b],t[x.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this}});var Kf=1;F.prototype=Object.assign(Object.create(ia.prototype),{constructor:F,isBufferGeometry:!0,getIndex:function getIndex(){return this.index},setIndex:function setIndex(a){Array.isArray(a)?this.index=new(65535<He(a)?mb:lb)(a,1):this.index=a},addAttribute:function addAttribute(a,b,c){if(!(b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute))return console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new I(b,c));if("index"===a)return console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b),this;this.attributes[a]=b;return this},getAttribute:function getAttribute(a){return this.attributes[a]},removeAttribute:function removeAttribute(a){delete this.attributes[a];return this},addGroup:function addGroup(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function clearGroups(){this.groups=[]},setDrawRange:function setDrawRange(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function applyMatrix(a){var b=this.attributes.position;void 0!==b&&(a.applyToBufferAttribute(b),b.needsUpdate=!0);b=this.attributes.normal;void 0!==b&&(new oa().getNormalMatrix(a).applyToBufferAttribute(b),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a=new P;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new P;return function(b){a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new P;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new P;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new P;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new C;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){var a=new p;return function(){this.computeBoundingBox();this.boundingBox.getCenter(a).negate();this.translate(a.x,a.y,a.z);return this}}(),setFromObject:function setFromObject(a){var b=a.geometry;if(a.isPoints||a.isLine){a=new z(3*b.vertices.length,3);var c=new z(3*b.colors.length,3);this.addAttribute("position",a.copyVector3sArray(b.vertices));this.addAttribute("color",c.copyColorsArray(b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new z(b.lineDistances.length,1),this.addAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},setFromPoints:function setFromPoints(a){for(var b=[],c=0,d=a.length,e;c<d;c++){e=a[c];b.push(e.x,e.y,e.z||0)}this.addAttribute("position",new z(b,3));return this},updateFromObject:function updateFromObject(a){var b=a.geometry;if(a.isMesh){var c=b.__directGeometry;!0===b.elementsNeedUpdate&&(c=void 0,b.elementsNeedUpdate=!1);if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(c.copyVector3sArray(b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(c.copyVector3sArray(b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(c.copyColorsArray(b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(c.copyVector2sArray(b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(c.copyArray(b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function fromGeometry(a){a.__directGeometry=new Ge().fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function fromDirectGeometry(a){var b=new Float32Array(3*a.vertices.length);this.addAttribute("position",new I(b,3).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.addAttribute("normal",new I(b,3).copyVector3sArray(a.normals)));0<a.colors.length&&(b=new Float32Array(3*a.colors.length),this.addAttribute("color",new I(b,3).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.addAttribute("uv",new I(b,2).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.addAttribute("uv2",new I(b,2).copyVector2sArray(a.uvs2)));this.groups=a.groups;for(var c in a.morphTargets){b=[];for(var d=a.morphTargets[c],e=0,f=d.length;e<f;e++){var g=d[e],h=new z(3*g.data.length,3);h.name=g.name;b.push(h.copyVector3sArray(g.data))}this.morphAttributes[c]=b}0<a.skinIndices.length&&(c=new z(4*a.skinIndices.length,4),this.addAttribute("skinIndex",c.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(c=new z(4*a.skinWeights.length,4),this.addAttribute("skinWeight",c.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Wa);var a=this.attributes.position;void 0!==a?this.boundingBox.setFromBufferAttribute(a):this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error("THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.",this)},computeBoundingSphere:function(){var a=new Wa,b=new p;return function(){null===this.boundingSphere&&(this.boundingSphere=new Fa);var c=this.attributes.position;if(c){var d=this.boundingSphere.center;a.setFromBufferAttribute(c);a.getCenter(d);for(var e=0,f=0,g=c.count;f<g;f++){b.x=c.getX(f),b.y=c.getY(f),b.z=c.getZ(f),e=_Mathmax(e,d.distanceToSquared(b))}this.boundingSphere.radius=_Mathsqrt(e);isNaN(this.boundingSphere.radius)&&console.error("THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.",this)}}}(),computeFaceNormals:function computeFaceNormals(){},computeVertexNormals:function computeVertexNormals(){var a=this.index,b=this.attributes;if(b.position){var c=b.position.array;if(void 0===b.normal)this.addAttribute("normal",new I(new Float32Array(c.length),3));else for(var d=b.normal.array,e=0,f=d.length;e<f;e++){d[e]=0}d=b.normal.array;var g=new p,h=new p,k=new p,m=new p,l=new p;if(a){var n=a.array;e=0;for(f=a.count;e<f;e+=3){a=3*n[e+0];var q=3*n[e+1],v=3*n[e+2];g.fromArray(c,a);h.fromArray(c,q);k.fromArray(c,v);m.subVectors(k,h);l.subVectors(g,h);m.cross(l);d[a]+=m.x;d[a+1]+=m.y;d[a+2]+=m.z;d[q]+=m.x;d[q+1]+=m.y;d[q+2]+=m.z;d[v]+=m.x;d[v+1]+=m.y;d[v+2]+=m.z}}else for(e=0,f=c.length;e<f;e+=9){g.fromArray(c,e),h.fromArray(c,e+3),k.fromArray(c,e+6),m.subVectors(k,h),l.subVectors(g,h),m.cross(l),d[e]=m.x,d[e+1]=m.y,d[e+2]=m.z,d[e+3]=m.x,d[e+4]=m.y,d[e+5]=m.z,d[e+6]=m.x,d[e+7]=m.y,d[e+8]=m.z}this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function merge(a,b){if(a&&a.isBufferGeometry){void 0===b&&(b=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var c=this.attributes,d;for(d in c){if(void 0!==a.attributes[d]){var e=c[d].array,f=a.attributes[d],g=f.array,h=0;for(f=f.itemSize*b;h<g.length;h++,f++){e[f]=g[h]}}}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a)},normalizeNormals:function(){var a=new p;return function(){for(var b=this.attributes.normal,c=0,d=b.count;c<d;c++){a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.normalize(),b.setXYZ(c,a.x,a.y,a.z)}}}(),toNonIndexed:function toNonIndexed(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var a=new F,b=this.index.array,c=this.attributes,d;for(d in c){var e=c[d],f=e.array,g=e.itemSize,h=new f.constructor(b.length*g),k=0;e=0;for(var m=b.length,l;e<m;e++){l=b[e]*g;for(var n=0;n<g;n++){h[k++]=f[l++]}}a.addAttribute(d,new I(h,g))}b=this.groups;e=0;for(m=b.length;e<m;e++){c=b[e],a.addGroup(c.start,c.count,c.materialIndex)}return a},toJSON:function toJSON(){var a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"},uuid:this.uuid,type:this.type};""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var b=this.parameters;for(e in b){void 0!==b[e]&&(a[e]=b[e])}return a}a.data={attributes:{}};var c=this.index;null!==c&&(b=Array.prototype.slice.call(c.array),a.data.index={type:c.array.constructor.name,array:b});c=this.attributes;for(e in c){var d=c[e];b=Array.prototype.slice.call(d.array);a.data.attributes[e]={itemSize:d.itemSize,type:d.array.constructor.name,array:b,normalized:d.normalized}}var e=this.groups;0<e.length&&(a.data.groups=JSON.parse(JSON.stringify(e)));e=this.boundingSphere;null!==e&&(a.data.boundingSphere={center:e.center.toArray(),radius:e.radius});return a},clone:function clone(){return new F().copy(this)},copy:function copy(a){var b;this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone());c=a.attributes;for(g in c){this.addAttribute(g,c[g].clone())}var d=a.morphAttributes;for(g in d){var e=[],f=d[g];c=0;for(b=f.length;c<b;c++){e.push(f[c].clone())}this.morphAttributes[g]=e}var g=a.groups;c=0;for(b=g.length;c<b;c++){d=g[c],this.addGroup(d.start,d.count,d.materialIndex)}g=a.boundingBox;null!==g&&(this.boundingBox=g.clone());g=a.boundingSphere;null!==g&&(this.boundingSphere=g.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this},dispose:function dispose(){this.dispatchEvent({type:"dispose"})}});Kb.prototype=Object.create(M.prototype);Kb.prototype.constructor=Kb;nb.prototype=Object.create(F.prototype);nb.prototype.constructor=nb;yc.prototype=Object.create(M.prototype);yc.prototype.constructor=yc;ob.prototype=Object.create(F.prototype);ob.prototype.constructor=ob;var Lf=0;L.prototype=Object.assign(Object.create(ia.prototype),{constructor:L,isMaterial:!0,onBeforeCompile:function onBeforeCompile(){},setValues:function setValues(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0===c)console.warn("THREE.Material: '"+b+"' parameter is undefined.");else if("shading"===b)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===c?!0:!1;else{var d=this[b];void 0===d?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]="overdraw"===b?+c:c}}},toJSON:function toJSON(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a||"string"===typeof a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"},uuid:this.uuid,type:this.type};""!==this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex());1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);void 0!==this.clearCoat&&(d.clearCoat=this.clearCoat);void 0!==this.clearCoatRoughness&&(d.clearCoatRoughness=this.clearCoatRoughness);this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid);this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(a).uuid,d.aoMapIntensity=this.aoMapIntensity);this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity,void 0!==this.combine&&(d.combine=this.combine),void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity));this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);1!==this.blending&&(d.blending=this.blending);!0===this.flatShading&&(d.flatShading=this.flatShading);0!==this.side&&(d.side=this.side);0!==this.vertexColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);d.depthFunc=this.depthFunc;d.depthTest=this.depthTest;d.depthWrite=this.depthWrite;0!==this.rotation&&(d.rotation=this.rotation);!0===this.polygonOffset&&(d.polygonOffset=!0);0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits);1!==this.linewidth&&(d.linewidth=this.linewidth);void 0!==this.dashSize&&(d.dashSize=this.dashSize);void 0!==this.gapSize&&(d.gapSize=this.gapSize);void 0!==this.scale&&(d.scale=this.scale);!0===this.dithering&&(d.dithering=!0);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin);!0===this.morphTargets&&(d.morphTargets=!0);!0===this.skinning&&(d.skinning=!0);!1===this.visible&&(d.visible=!1);"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.flatShading=a.flatShading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.userData=JSON.parse(JSON.stringify(a.userData));this.clipShadows=a.clipShadows;this.clipIntersection=a.clipIntersection;var b=a.clippingPlanes,c=null;if(null!==b){var d=b.length;c=Array(d);for(var e=0;e!==d;++e){c[e]=b[e].clone()}}this.clippingPlanes=c;this.shadowSide=a.shadowSide;return this},dispose:function dispose(){this.dispatchEvent({type:"dispose"})}});la.prototype=Object.create(L.prototype);la.prototype.constructor=la;la.prototype.isShaderMaterial=!0;la.prototype.copy=function(a){L.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=va.clone(a.uniforms);this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};la.prototype.toJSON=function(a){var b=L.prototype.toJSON.call(this,a);b.uniforms={};for(var c in this.uniforms){var d=this.uniforms[c].value;b.uniforms[c]=d.isTexture?{type:"t",value:d.toJSON(a).uuid}:d.isColor?{type:"c",value:d.getHex()}:d.isVector2?{type:"v2",value:d.toArray()}:d.isVector3?{type:"v3",value:d.toArray()}:d.isVector4?{type:"v4",value:d.toArray()}:d.isMatrix4?{type:"m4",value:d.toArray()}:{value:d}}0<Object.keys(this.defines).length&&(b.defines=this.defines);b.vertexShader=this.vertexShader;b.fragmentShader=this.fragmentShader;return b};Object.assign(pb.prototype,{set:function set(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function at(a,b){void 0===b&&(console.warn("THREE.Ray: .at() target is now required"),b=new p);return b.copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function lookAt(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new p;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function closestPointToPoint(a,b){void 0===b&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),b=new p);b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function distanceToPoint(a){return _Mathsqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new p;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new p,b=new p,c=new p;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var h=.5*d.distanceTo(e),k=-this.direction.dot(b),m=c.dot(this.direction),l=-c.dot(b),n=c.lengthSq(),q=_Mathabs(1-k*k);if(0<q){d=k*l-m;e=k*m-l;var p=h*q;0<=d?e>=-p?e<=p?(h=1/q,d*=h,e*=h,k=d*(d+k*e+2*m)+e*(k*d+e+2*l)+n):(e=h,d=_Mathmax(0,-(k*e+m)),k=-d*d+e*(e+2*l)+n):(e=-h,d=_Mathmax(0,-(k*e+m)),k=-d*d+e*(e+2*l)+n):e<=-p?(d=_Mathmax(0,-(-k*h+m)),e=0<d?-h:_Mathmin(_Mathmax(-h,-l),h),k=-d*d+e*(e+2*l)+n):e<=p?(d=0,e=_Mathmin(_Mathmax(-h,-l),h),k=e*(e+2*l)+n):(d=_Mathmax(0,-(k*h+m)),e=0<d?h:_Mathmin(_Mathmax(-h,-l),h),k=-d*d+e*(e+2*l)+n)}else e=0<k?-h:h,d=_Mathmax(0,-(k*e+m)),k=-d*d+e*(e+2*l)+n;f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return k}}(),intersectSphere:function(){var a=new p;return function(b,c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d;b=b.radius*b.radius;if(e>b)return null;b=_Mathsqrt(b-e);e=d-b;d+=b;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius},distanceToPlane:function distanceToPlane(a){var b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null},intersectPlane:function intersectPlane(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)},intersectsPlane:function intersectsPlane(a){var b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectBox:function intersectBox(a,b){var c=1/this.direction.x,d=1/this.direction.y,e=1/this.direction.z,f=this.origin;if(0<=c){var g=(a.min.x-f.x)*c;c*=a.max.x-f.x}else g=(a.max.x-f.x)*c,c*=a.min.x-f.x;if(0<=d){var h=(a.min.y-f.y)*d;d*=a.max.y-f.y}else h=(a.max.y-f.y)*d,d*=a.min.y-f.y;if(g>d||h>c)return null;if(h>g||g!==g)g=h;if(d<c||c!==c)c=d;0<=e?(h=(a.min.z-f.z)*e,a=(a.max.z-f.z)*e):(h=(a.max.z-f.z)*e,a=(a.min.z-f.z)*e);if(g>a||h>c)return null;if(h>g||g!==g)g=h;if(a<c||c!==c)c=a;return 0>c?null:this.at(0<=g?g:c,b)},intersectsBox:function(){var a=new p;return function(b){return null!==this.intersectBox(b,a)}}(),intersectTriangle:function(){var a=new p,b=new p,c=new p,d=new p;return function(e,f,g,h,k){b.subVectors(f,e);c.subVectors(g,e);d.crossVectors(b,c);f=this.direction.dot(d);if(0<f){if(h)return null;h=1}else if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(c.crossVectors(a,c));if(0>e)return null;g=h*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,k)}}(),applyMatrix4:function applyMatrix4(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this},equals:function equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}});Object.assign(da,{getNormal:function(){var a=new p;return function(b,c,d,e){void 0===e&&(console.warn("THREE.Triangle: .getNormal() target is now required"),e=new p);e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/_Mathsqrt(b)):e.set(0,0,0)}}(),getBarycoord:function(){var a=new p,b=new p,c=new p;return function(d,e,f,g,h){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var k=b.dot(b);g=b.dot(c);var m=d*k-e*e;void 0===h&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),h=new p);if(0===m)return h.set(-2,-1,-1);m=1/m;k=(k*f-e*g)*m;d=(d*g-e*f)*m;return h.set(1-k-d,d,k)}}(),containsPoint:function(){var a=new p;return function(b,c,d,e){da.getBarycoord(b,c,d,e,a);return 0<=a.x&&0<=a.y&&1>=a.x+a.y}}(),getUV:function(){var a=new p;return function(b,c,d,e,f,g,h,k){this.getBarycoord(b,c,d,e,a);k.set(0,0);k.addScaledVector(f,a.x);k.addScaledVector(g,a.y);k.addScaledVector(h,a.z);return k}}()});Object.assign(da.prototype,{set:function set(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function setFromPointsAndIndices(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},getArea:function(){var a=new p,b=new p;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return .5*a.cross(b).length()}}(),getMidpoint:function getMidpoint(a){void 0===a&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),a=new p);return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function getNormal(a){return da.getNormal(this.a,this.b,this.c,a)},getPlane:function getPlane(a){void 0===a&&(console.warn("THREE.Triangle: .getPlane() target is now required"),a=new p);return a.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function getBarycoord(a,b){return da.getBarycoord(a,this.a,this.b,this.c,b)},containsPoint:function containsPoint(a){return da.containsPoint(a,this.a,this.b,this.c)},getUV:function getUV(a,b,c,d,e){return da.getUV(a,this.a,this.b,this.c,b,c,d,e)},intersectsBox:function intersectsBox(a){return a.intersectsTriangle(this)},closestPointToPoint:function(){var a=new p,b=new p,c=new p,d=new p,e=new p,f=new p;return function(g,h){void 0===h&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),h=new p);var k=this.a,m=this.b,l=this.c;a.subVectors(m,k);b.subVectors(l,k);d.subVectors(g,k);var n=a.dot(d),q=b.dot(d);if(0>=n&&0>=q)return h.copy(k);e.subVectors(g,m);var v=a.dot(e),t=b.dot(e);if(0<=v&&t<=v)return h.copy(m);var u=n*t-v*q;if(0>=u&&0<=n&&0>=v)return m=n/(n-v),h.copy(k).addScaledVector(a,m);f.subVectors(g,l);g=a.dot(f);var y=b.dot(f);if(0<=y&&g<=y)return h.copy(l);n=g*q-n*y;if(0>=n&&0<=q&&0>=y)return u=q/(q-y),h.copy(k).addScaledVector(b,u);q=v*y-g*t;if(0>=q&&0<=t-v&&0<=g-y)return c.subVectors(l,m),u=(t-v)/(t-v+(g-y)),h.copy(m).addScaledVector(c,u);l=1/(q+n+u);m=n*l;u*=l;return h.copy(k).addScaledVector(a,m).addScaledVector(b,u)}}(),equals:function equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}});wa.prototype=Object.create(L.prototype);wa.prototype.constructor=wa;wa.prototype.isMeshBasicMaterial=!0;wa.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};ua.prototype=Object.assign(Object.create(C.prototype),{constructor:ua,isMesh:!0,setDrawMode:function setDrawMode(a){this.drawMode=a},copy:function copy(a){C.prototype.copy.call(this,a);this.drawMode=a.drawMode;void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));return this},updateMorphTargets:function updateMorphTargets(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length){var c=a[b[0]];if(void 0!==c)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=c.length;a<b;a++){var d=c[a].name||a+"";this.morphTargetInfluences.push(0);this.morphTargetDictionary[d]=a}}}else if(c=a.morphTargets,void 0!==c&&0<c.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=c.length;a<b;a++){d=c[a].name||a+"",this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=a}},raycast:function(){function a(a,b,c,d,e,f,g,h){if(null===(1===b.side?d.intersectTriangle(g,f,e,!0,h):d.intersectTriangle(e,f,g,2!==b.side,h)))return null;u.copy(h);u.applyMatrix4(a.matrixWorld);b=c.ray.origin.distanceTo(u);return b<c.near||b>c.far?null:{distance:b,point:u.clone(),object:a}}function b(b,c,d,e,k,m,l,r,p){f.fromBufferAttribute(k,l);g.fromBufferAttribute(k,r);h.fromBufferAttribute(k,p);if(b=a(b,c,d,e,f,g,h,t))m&&(n.fromBufferAttribute(m,l),q.fromBufferAttribute(m,r),v.fromBufferAttribute(m,p),b.uv=da.getUV(t,f,g,h,n,q,v,new A)),m=new Xa(l,r,p),da.getNormal(f,g,h,m.normal),b.face=m;return b}var c=new P,d=new pb,e=new Fa,f=new p,g=new p,h=new p,k=new p,m=new p,l=new p,n=new A,q=new A,v=new A,t=new p,u=new p;return function(r,p){var u=this.geometry,y=this.material,x=this.matrixWorld;if(void 0!==y&&(null===u.boundingSphere&&u.computeBoundingSphere(),e.copy(u.boundingSphere),e.applyMatrix4(x),!1!==r.ray.intersectsSphere(e)&&(c.getInverse(x),d.copy(r.ray).applyMatrix4(c),null===u.boundingBox||!1!==d.intersectsBox(u.boundingBox))))if(u.isBufferGeometry){var z=u.index,C=u.attributes.position,B=u.attributes.uv,F=u.groups;u=u.drawRange;var I;if(null!==z){if(Array.isArray(y)){var G=0;for(I=F.length;G<I;G++){var H=F[G],L=y[H.materialIndex];x=_Mathmax(H.start,u.start);var M=_Mathmin(H.start+H.count,u.start+u.count);for(H=x;H<M;H+=3){x=z.getX(H);var K=z.getX(H+1),N=z.getX(H+2);if(x=b(this,L,r,d,C,B,x,K,N))x.faceIndex=_Mathfloor(H/3),p.push(x)}}}else for(x=_Mathmax(0,u.start),M=_Mathmin(z.count,u.start+u.count),G=x,I=M;G<I;G+=3){if(x=z.getX(G),K=z.getX(G+1),N=z.getX(G+2),x=b(this,y,r,d,C,B,x,K,N))x.faceIndex=_Mathfloor(G/3),p.push(x)}}else if(void 0!==C)if(Array.isArray(y))for(G=0,I=F.length;G<I;G++){for(H=F[G],L=y[H.materialIndex],x=_Mathmax(H.start,u.start),M=_Mathmin(H.start+H.count,u.start+u.count),H=x;H<M;H+=3){if(x=H,K=H+1,N=H+2,x=b(this,L,r,d,C,B,x,K,N))x.faceIndex=_Mathfloor(H/3),p.push(x)}}else for(x=_Mathmax(0,u.start),M=_Mathmin(C.count,u.start+u.count),G=x,I=M;G<I;G+=3){if(x=G,K=G+1,N=G+2,x=b(this,y,r,d,C,B,x,K,N))x.faceIndex=_Mathfloor(G/3),p.push(x)}}else if(u.isGeometry)for(C=Array.isArray(y),B=u.vertices,F=u.faces,x=u.faceVertexUvs[0],0<x.length&&(z=x),H=0,M=F.length;H<M;H++){if(K=F[H],x=C?y[K.materialIndex]:y,void 0!==x){G=B[K.a];I=B[K.b];L=B[K.c];if(!0===x.morphTargets){N=u.morphTargets;var P=this.morphTargetInfluences;f.set(0,0,0);g.set(0,0,0);h.set(0,0,0);for(var Q=0,S=N.length,T;Q<S;Q++){T=P[Q];if(0!==T){var V=N[Q].vertices;f.addScaledVector(k.subVectors(V[K.a],G),T);g.addScaledVector(m.subVectors(V[K.b],I),T);h.addScaledVector(l.subVectors(V[K.c],L),T)}}f.add(G);g.add(I);h.add(L);G=f;I=g;L=h}if(x=a(this,x,r,d,G,I,L,t))z&&z[H]&&(N=z[H],n.copy(N[0]),q.copy(N[1]),v.copy(N[2]),x.uv=da.getUV(t,G,I,L,n,q,v,new A)),x.face=K,x.faceIndex=H,p.push(x)}}}}(),clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}});Ya.prototype=Object.create(Q.prototype);Ya.prototype.constructor=Ya;Ya.prototype.isCubeTexture=!0;Object.defineProperty(Ya.prototype,"images",{get:function get(){return this.image},set:function set(a){this.image=a}});Mb.prototype=Object.create(Q.prototype);Mb.prototype.constructor=Mb;Mb.prototype.isTexture3D=!0;var Oe=new Q,gg=new Mb,Pe=new Ya,Ie=[],Ke=[],Ne=new Float32Array(16),Me=new Float32Array(9),Le=new Float32Array(4);Te.prototype.updateCache=function(a){var b=this.cache;babelHelpers.instanceof(a,Float32Array)&&b.length!==a.length&&(this.cache=new Float32Array(a.length));sa(b,a)};Ue.prototype.setValue=function(a,b,c){for(var d=this.seq,e=0,f=d.length,g;e!==f;++e){g=d[e];g.setValue(a,b[g.id],c)}};var Yd=/([\w\d_]+)(\])?(\[|\.)?/g;bb.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};bb.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};bb.upload=function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}};bb.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length,f;d!==e;++d){f=a[d];f.id in b&&c.push(f)}return c};var Bg=0,Kg=0;cb.prototype=Object.create(L.prototype);cb.prototype.constructor=cb;cb.prototype.isMeshDepthMaterial=!0;cb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};db.prototype=Object.create(L.prototype);db.prototype.constructor=db;db.prototype.isMeshDistanceMaterial=!0;db.prototype.copy=function(a){L.prototype.copy.call(this,a);this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=a.farDistance;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this};Ob.prototype=Object.assign(Object.create(C.prototype),{constructor:Ob,isGroup:!0});Ra.prototype=Object.assign(Object.create(C.prototype),{constructor:Ra,isCamera:!0,copy:function copy(a,b){C.prototype.copy.call(this,a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);return this},getWorldDirection:function getWorldDirection(a){void 0===a&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),a=new p);this.updateMatrixWorld(!0);var b=this.matrixWorld.elements;return a.set(-b[8],-b[9],-b[10]).normalize()},updateMatrixWorld:function updateMatrixWorld(a){C.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function clone(){return new this.constructor().copy(this)}});V.prototype=Object.assign(Object.create(Ra.prototype),{constructor:V,isPerspectiveCamera:!0,copy:function copy(a,b){Ra.prototype.copy.call(this,a,b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function setFocalLength(a){a=.5*this.getFilmHeight()/a;this.fov=2*S.RAD2DEG*_Mathatan2(a);this.updateProjectionMatrix()},getFocalLength:function getFocalLength(){var a=_Mathtan(.5*S.DEG2RAD*this.fov);return .5*this.getFilmHeight()/a},getEffectiveFOV:function getEffectiveFOV(){return 2*S.RAD2DEG*_Mathatan2(_Mathtan(.5*S.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function getFilmWidth(){return this.filmGauge*_Mathmin(this.aspect,1)},getFilmHeight:function getFilmHeight(){return this.filmGauge/_Mathmax(this.aspect,1)},setViewOffset:function setViewOffset(a,b,c,d,e,f){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=f;this.updateProjectionMatrix()},clearViewOffset:function clearViewOffset(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function updateProjectionMatrix(){var a=this.near,b=a*_Mathtan(.5*S.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==this.view&&this.view.enabled){var g=f.fullWidth,h=f.fullHeight;e+=f.offsetX*d/g;b-=f.offsetY*c/h;d*=f.width/g;c*=f.height/h}f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function toJSON(a){a=C.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});Cc.prototype=Object.assign(Object.create(V.prototype),{constructor:Cc,isArrayCamera:!0});Pb.prototype.isFogExp2=!0;Pb.prototype.clone=function(){return new Pb(this.color,this.density)};Pb.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};Qb.prototype.isFog=!0;Qb.prototype.clone=function(){return new Qb(this.color,this.near,this.far)};Qb.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};vd.prototype=Object.assign(Object.create(C.prototype),{constructor:vd,copy:function copy(a,b){C.prototype.copy.call(this,a,b);null!==a.background&&(this.background=a.background.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this},toJSON:function toJSON(a){var b=C.prototype.toJSON.call(this,a);null!==this.background&&(b.object.background=this.background.toJSON(a));null!==this.fog&&(b.object.fog=this.fog.toJSON());return b}});Object.defineProperty(qb.prototype,"needsUpdate",{set:function set(a){!0===a&&this.version++}});Object.assign(qb.prototype,{isInterleavedBuffer:!0,onUploadCallback:function onUploadCallback(){},setArray:function setArray(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.stride:0;this.array=a;return this},setDynamic:function setDynamic(a){this.dynamic=a;return this},copy:function copy(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function copyAt(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++){this.array[a+d]=b.array[c+d]}return this},set:function set(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function clone(){return new this.constructor().copy(this)},onUpload:function onUpload(a){this.onUploadCallback=a;return this}});Object.defineProperties(Dc.prototype,{count:{get:function get(){return this.data.count}},array:{get:function get(){return this.data.array}}});Object.assign(Dc.prototype,{isInterleavedBufferAttribute:!0,setX:function setX(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function setY(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function setZ(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function setW(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function getX(a){return this.data.array[a*this.data.stride+this.offset]},getY:function getY(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function getZ(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function getW(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function setXY(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function setXYZ(a,b,c,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function setXYZW(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}});fb.prototype=Object.create(L.prototype);fb.prototype.constructor=fb;fb.prototype.isSpriteMaterial=!0;fb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;return this};var Rb;Ec.prototype=Object.assign(Object.create(C.prototype),{constructor:Ec,isSprite:!0,raycast:function(){function a(a,b,c,d,h,k){e.subVectors(a,c).addScalar(.5).multiply(d);void 0!==h?(f.x=k*e.x-h*e.y,f.y=h*e.x+k*e.y):f.copy(e);a.copy(b);a.x+=f.x;a.y+=f.y;a.applyMatrix4(g)}var b=new p,c=new p,d=new p,e=new A,f=new A,g=new P,h=new p,k=new p,m=new p,l=new A,n=new A,q=new A;return function(e,f){c.setFromMatrixScale(this.matrixWorld);g.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld);d.setFromMatrixPosition(this.modelViewMatrix);var r=this.material.rotation;if(0!==r){var p=_Mathcos(r),t=_Mathsin(r)}r=this.center;a(h.set(-.5,-.5,0),d,r,c,t,p);a(k.set(.5,-.5,0),d,r,c,t,p);a(m.set(.5,.5,0),d,r,c,t,p);l.set(0,0);n.set(1,0);q.set(1,1);var v=e.ray.intersectTriangle(h,k,m,!1,b);if(null===v&&(a(k.set(-.5,.5,0),d,r,c,t,p),n.set(0,1),v=e.ray.intersectTriangle(h,m,k,!1,b),null===v))return;t=e.ray.origin.distanceTo(b);t<e.near||t>e.far||f.push({distance:t,point:b.clone(),uv:da.getUV(b,h,k,m,l,n,q,new A),face:null,object:this})}}(),clone:function clone(){return new this.constructor(this.material).copy(this)},copy:function copy(a){C.prototype.copy.call(this,a);void 0!==a.center&&this.center.copy(a.center);return this}});Fc.prototype=Object.assign(Object.create(C.prototype),{constructor:Fc,copy:function copy(a){C.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length,d;b<c;b++){d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function addLevel(a,b){void 0===b&&(b=0);b=_Mathabs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++){}c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function getObjectForDistance(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++){}return b[c-1].object},raycast:function(){var a=new p;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,c)}}(),update:function(){var a=new p,b=new p;return function(c){var d=this.levels;if(1<d.length){a.setFromMatrixPosition(c.matrixWorld);b.setFromMatrixPosition(this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,f=d.length;e<f;e++){if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break}for(;e<f;e++){d[e].object.visible=!1}}}}(),toJSON:function toJSON(a){a=C.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length,e;c<d;c++){e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});Object.assign(Gc.prototype,{calculateInverses:function calculateInverses(){this.boneInverses=[];for(var a=0,b=this.bones.length,c;a<b;a++){c=new P;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function pose(){var a,b,c=0;for(b=this.bones.length;c<b;c++){(a=this.bones[c])&&a.matrixWorld.getInverse(this.boneInverses[c])}c=0;for(b=this.bones.length;c<b;c++){if(a=this.bones[c])a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)}},update:function(){var a=new P,b=new P;return function(){for(var c=this.bones,d=this.boneInverses,e=this.boneMatrices,f=this.boneTexture,g=0,h=c.length;g<h;g++){a.multiplyMatrices(c[g]?c[g].matrixWorld:b,d[g]),a.toArray(e,16*g)}void 0!==f&&(f.needsUpdate=!0)}}(),clone:function clone(){return new Gc(this.bones,this.boneInverses)},getBoneByName:function getBoneByName(a){for(var b=0,c=this.bones.length,d;b<c;b++){d=this.bones[b];if(d.name===a)return d}}});wd.prototype=Object.assign(Object.create(C.prototype),{constructor:wd,isBone:!0});xd.prototype=Object.assign(Object.create(ua.prototype),{constructor:xd,isSkinnedMesh:!0,initBones:function initBones(){var a=[],b;if(this.geometry&&void 0!==this.geometry.bones){var c=0;for(b=this.geometry.bones.length;c<b;c++){var d=this.geometry.bones[c],e=new wd;a.push(e);e.name=d.name;e.position.fromArray(d.pos);e.quaternion.fromArray(d.rotq);void 0!==d.scl&&e.scale.fromArray(d.scl)}c=0;for(b=this.geometry.bones.length;c<b;c++){d=this.geometry.bones[c],-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[c]):this.add(a[c])}}this.updateMatrixWorld(!0);return a},bind:function bind(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function pose(){this.skeleton.pose()},normalizeSkinWeights:function normalizeSkinWeights(){var a;if(this.geometry&&this.geometry.isGeometry)for(a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a],c=1/b.manhattanLength();1/0!==c?b.multiplyScalar(c):b.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){b=new Z;var d=this.geometry.attributes.skinWeight;for(a=0;a<d.count;a++){b.x=d.getX(a),b.y=d.getY(a),b.z=d.getZ(a),b.w=d.getW(a),c=1/b.manhattanLength(),1/0!==c?b.multiplyScalar(c):b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)}}},updateMatrixWorld:function updateMatrixWorld(a){ua.prototype.updateMatrixWorld.call(this,a);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}});T.prototype=Object.create(L.prototype);T.prototype.constructor=T;T.prototype.isLineBasicMaterial=!0;T.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};pa.prototype=Object.assign(Object.create(C.prototype),{constructor:pa,isLine:!0,computeLineDistances:function(){var a=new p,b=new p;return function(){var c=this.geometry;if(c.isBufferGeometry){if(null===c.index){for(var d=c.attributes.position,e=[0],f=1,g=d.count;f<g;f++){a.fromBufferAttribute(d,f-1),b.fromBufferAttribute(d,f),e[f]=e[f-1],e[f]+=a.distanceTo(b)}c.addAttribute("lineDistance",new z(e,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");}else if(c.isGeometry)for(d=c.vertices,e=c.lineDistances,e[0]=0,f=1,g=d.length;f<g;f++){e[f]=e[f-1],e[f]+=d[f-1].distanceTo(d[f])}return this}}(),raycast:function(){var a=new P,b=new pb,c=new Fa;return function(d,e){var f=d.linePrecision,g=this.geometry,h=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(h);c.radius+=f;if(!1!==d.ray.intersectsSphere(c)){a.getInverse(h);b.copy(d.ray).applyMatrix4(a);f/=(this.scale.x+this.scale.y+this.scale.z)/3;f*=f;var k=new p,m=new p;h=new p;var l=new p,n=this&&this.isLineSegments?2:1;if(g.isBufferGeometry){var q=g.index,v=g.attributes.position.array;if(null!==q){q=q.array;g=0;for(var t=q.length-1,u;g<t;g+=n){u=q[g+1];k.fromArray(v,3*q[g]);m.fromArray(v,3*u);u=b.distanceSqToSegment(k,m,l,h);u>f||(l.applyMatrix4(this.matrixWorld),u=d.ray.origin.distanceTo(l),u<d.near||u>d.far||e.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}else for(g=0,t=v.length/3-1;g<t;g+=n){k.fromArray(v,3*g),m.fromArray(v,3*g+3),u=b.distanceSqToSegment(k,m,l,h),u>f||(l.applyMatrix4(this.matrixWorld),u=d.ray.origin.distanceTo(l),u<d.near||u>d.far||e.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}else if(g.isGeometry)for(k=g.vertices,m=k.length,g=0;g<m-1;g+=n){u=b.distanceSqToSegment(k[g],k[g+1],l,h),u>f||(l.applyMatrix4(this.matrixWorld),u=d.ray.origin.distanceTo(l),u<d.near||u>d.far||e.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}}}(),clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}});W.prototype=Object.assign(Object.create(pa.prototype),{constructor:W,isLineSegments:!0,computeLineDistances:function(){var a=new p,b=new p;return function(){var c=this.geometry;if(c.isBufferGeometry){if(null===c.index){for(var d=c.attributes.position,e=[],f=0,g=d.count;f<g;f+=2){a.fromBufferAttribute(d,f),b.fromBufferAttribute(d,f+1),e[f]=0===f?0:e[f-1],e[f+1]=e[f]+a.distanceTo(b)}c.addAttribute("lineDistance",new z(e,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");}else if(c.isGeometry)for(d=c.vertices,e=c.lineDistances,f=0,g=d.length;f<g;f+=2){a.copy(d[f]),b.copy(d[f+1]),e[f]=0===f?0:e[f-1],e[f+1]=e[f]+a.distanceTo(b)}return this}}()});yd.prototype=Object.assign(Object.create(pa.prototype),{constructor:yd,isLineLoop:!0});Ga.prototype=Object.create(L.prototype);Ga.prototype.constructor=Ga;Ga.prototype.isPointsMaterial=!0;Ga.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.morphTargets=a.morphTargets;return this};Sb.prototype=Object.assign(Object.create(C.prototype),{constructor:Sb,isPoints:!0,raycast:function(){var a=new P,b=new pb,c=new Fa;return function(d,e){function f(a,c){var f=b.distanceSqToPoint(a);f<l&&(b.closestPointToPoint(a,n),n.applyMatrix4(k),a=d.ray.origin.distanceTo(n),a<d.near||a>d.far||e.push({distance:a,distanceToRay:_Mathsqrt(f),point:n.clone(),index:c,face:null,object:g}))}var g=this,h=this.geometry,k=this.matrixWorld,m=d.params.Points.threshold;null===h.boundingSphere&&h.computeBoundingSphere();c.copy(h.boundingSphere);c.applyMatrix4(k);c.radius+=m;if(!1!==d.ray.intersectsSphere(c)){a.getInverse(k);b.copy(d.ray).applyMatrix4(a);m/=(this.scale.x+this.scale.y+this.scale.z)/3;var l=m*m;m=new p;var n=new p;if(h.isBufferGeometry){var q=h.index;h=h.attributes.position.array;if(null!==q){var v=q.array;q=0;for(var t=v.length,u;q<t;q++){u=v[q];m.fromArray(h,3*u);f(m,u)}}else for(q=0,v=h.length/3;q<v;q++){m.fromArray(h,3*q),f(m,q)}}else for(m=h.vertices,q=0,v=m.length;q<v;q++){f(m[q],q)}}}}(),clone:function clone(){return new this.constructor(this.geometry,this.material).copy(this)}});be.prototype=Object.assign(Object.create(Q.prototype),{constructor:be,isVideoTexture:!0,update:function update(){var a=this.image;a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});Tb.prototype=Object.create(Q.prototype);Tb.prototype.constructor=Tb;Tb.prototype.isCompressedTexture=!0;Hc.prototype=Object.create(Q.prototype);Hc.prototype.constructor=Hc;Hc.prototype.isCanvasTexture=!0;Ic.prototype=Object.create(Q.prototype);Ic.prototype.constructor=Ic;Ic.prototype.isDepthTexture=!0;Ub.prototype=Object.create(F.prototype);Ub.prototype.constructor=Ub;Jc.prototype=Object.create(M.prototype);Jc.prototype.constructor=Jc;Vb.prototype=Object.create(F.prototype);Vb.prototype.constructor=Vb;Kc.prototype=Object.create(M.prototype);Kc.prototype.constructor=Kc;ma.prototype=Object.create(F.prototype);ma.prototype.constructor=ma;Lc.prototype=Object.create(M.prototype);Lc.prototype.constructor=Lc;Wb.prototype=Object.create(ma.prototype);Wb.prototype.constructor=Wb;Mc.prototype=Object.create(M.prototype);Mc.prototype.constructor=Mc;rb.prototype=Object.create(ma.prototype);rb.prototype.constructor=rb;Nc.prototype=Object.create(M.prototype);Nc.prototype.constructor=Nc;Xb.prototype=Object.create(ma.prototype);Xb.prototype.constructor=Xb;Oc.prototype=Object.create(M.prototype);Oc.prototype.constructor=Oc;Yb.prototype=Object.create(ma.prototype);Yb.prototype.constructor=Yb;Pc.prototype=Object.create(M.prototype);Pc.prototype.constructor=Pc;Zb.prototype=Object.create(F.prototype);Zb.prototype.constructor=Zb;Qc.prototype=Object.create(M.prototype);Qc.prototype.constructor=Qc;$b.prototype=Object.create(F.prototype);$b.prototype.constructor=$b;Rc.prototype=Object.create(M.prototype);Rc.prototype.constructor=Rc;ac.prototype=Object.create(F.prototype);ac.prototype.constructor=ac;var Xg={triangulate:function triangulate(a,b,c){c=c||2;var d=b&&b.length,e=d?b[0]*c:a.length,f=df(a,0,e,c,!0),g=[];if(!f)return g;var h;if(d){var k=c;d=[];var m,l=0;for(m=b.length;l<m;l++){var n=b[l]*k,q=l<m-1?b[l+1]*k:a.length;n=df(a,n,q,k,!1);n===n.next&&(n.steiner=!0);d.push(Sg(n))}d.sort(Qg);for(l=0;l<d.length;l++){b=d[l];k=f;if(k=Rg(b,k))b=gf(k,b),Tc(b,b.next);f=Tc(f,f.next)}}if(a.length>80*c){var p=h=a[0],t=d=a[1];for(k=c;k<e;k+=c){l=a[k],b=a[k+1],l<p&&(p=l),b<t&&(t=b),l>h&&(h=l),b>d&&(d=b)}h=_Mathmax(h-p,d-t);h=0!==h?1/h:0}Uc(f,g,c,p,t,h);return g}},Za={area:function area(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++){c+=a[d].x*a[e].y-a[e].x*a[d].y}return .5*c},isClockWise:function isClockWise(a){return 0>Za.area(a)},triangulateShape:function triangulateShape(a,b){var c=[],d=[],e=[];hf(a);jf(c,a);var f=a.length;b.forEach(hf);for(a=0;a<b.length;a++){d.push(f),f+=b[a].length,jf(c,b[a])}b=Xg.triangulate(c,d);for(a=0;a<b.length;a+=3){e.push(b.slice(a,a+3))}return e}};tb.prototype=Object.create(M.prototype);tb.prototype.constructor=tb;tb.prototype.toJSON=function(){var a=M.prototype.toJSON.call(this);return kf(this.parameters.shapes,this.parameters.options,a)};Sa.prototype=Object.create(F.prototype);Sa.prototype.constructor=Sa;Sa.prototype.toJSON=function(){var a=F.prototype.toJSON.call(this);return kf(this.parameters.shapes,this.parameters.options,a)};var Tg={generateTopUV:function generateTopUV(a,b,c,d,e){a=b[3*d];d=b[3*d+1];var f=b[3*e];e=b[3*e+1];return[new A(b[3*c],b[3*c+1]),new A(a,d),new A(f,e)]},generateSideWallUV:function generateSideWallUV(a,b,c,d,e,f){a=b[3*c];var g=b[3*c+1];c=b[3*c+2];var h=b[3*d],k=b[3*d+1];d=b[3*d+2];var m=b[3*e],l=b[3*e+1];e=b[3*e+2];var n=b[3*f],q=b[3*f+1];b=b[3*f+2];return .01>_Mathabs(g-k)?[new A(a,1-c),new A(h,1-d),new A(m,1-e),new A(n,1-b)]:[new A(g,1-c),new A(k,1-d),new A(l,1-e),new A(q,1-b)]}};Wc.prototype=Object.create(M.prototype);Wc.prototype.constructor=Wc;bc.prototype=Object.create(Sa.prototype);bc.prototype.constructor=bc;Xc.prototype=Object.create(M.prototype);Xc.prototype.constructor=Xc;ub.prototype=Object.create(F.prototype);ub.prototype.constructor=ub;Yc.prototype=Object.create(M.prototype);Yc.prototype.constructor=Yc;cc.prototype=Object.create(F.prototype);cc.prototype.constructor=cc;Zc.prototype=Object.create(M.prototype);Zc.prototype.constructor=Zc;dc.prototype=Object.create(F.prototype);dc.prototype.constructor=dc;vb.prototype=Object.create(M.prototype);vb.prototype.constructor=vb;vb.prototype.toJSON=function(){var a=M.prototype.toJSON.call(this);return lf(this.parameters.shapes,a)};wb.prototype=Object.create(F.prototype);wb.prototype.constructor=wb;wb.prototype.toJSON=function(){var a=F.prototype.toJSON.call(this);return lf(this.parameters.shapes,a)};ec.prototype=Object.create(F.prototype);ec.prototype.constructor=ec;xb.prototype=Object.create(M.prototype);xb.prototype.constructor=xb;$a.prototype=Object.create(F.prototype);$a.prototype.constructor=$a;$c.prototype=Object.create(xb.prototype);$c.prototype.constructor=$c;ad.prototype=Object.create($a.prototype);ad.prototype.constructor=ad;bd.prototype=Object.create(M.prototype);bd.prototype.constructor=bd;fc.prototype=Object.create(F.prototype);fc.prototype.constructor=fc;var Ba=Object.freeze({WireframeGeometry:Ub,ParametricGeometry:Jc,ParametricBufferGeometry:Vb,TetrahedronGeometry:Lc,TetrahedronBufferGeometry:Wb,OctahedronGeometry:Mc,OctahedronBufferGeometry:rb,IcosahedronGeometry:Nc,IcosahedronBufferGeometry:Xb,DodecahedronGeometry:Oc,DodecahedronBufferGeometry:Yb,PolyhedronGeometry:Kc,PolyhedronBufferGeometry:ma,TubeGeometry:Pc,TubeBufferGeometry:Zb,TorusKnotGeometry:Qc,TorusKnotBufferGeometry:$b,TorusGeometry:Rc,TorusBufferGeometry:ac,TextGeometry:Wc,TextBufferGeometry:bc,SphereGeometry:Xc,SphereBufferGeometry:ub,RingGeometry:Yc,RingBufferGeometry:cc,PlaneGeometry:yc,PlaneBufferGeometry:ob,LatheGeometry:Zc,LatheBufferGeometry:dc,ShapeGeometry:vb,ShapeBufferGeometry:wb,ExtrudeGeometry:tb,ExtrudeBufferGeometry:Sa,EdgesGeometry:ec,ConeGeometry:$c,ConeBufferGeometry:ad,CylinderGeometry:xb,CylinderBufferGeometry:$a,CircleGeometry:bd,CircleBufferGeometry:fc,BoxGeometry:Kb,BoxBufferGeometry:nb});yb.prototype=Object.create(L.prototype);yb.prototype.constructor=yb;yb.prototype.isShadowMaterial=!0;yb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);return this};gc.prototype=Object.create(la.prototype);gc.prototype.constructor=gc;gc.prototype.isRawShaderMaterial=!0;Ta.prototype=Object.create(L.prototype);Ta.prototype.constructor=Ta;Ta.prototype.isMeshStandardMaterial=!0;Ta.prototype.copy=function(a){L.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};zb.prototype=Object.create(Ta.prototype);zb.prototype.constructor=zb;zb.prototype.isMeshPhysicalMaterial=!0;zb.prototype.copy=function(a){Ta.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;this.clearCoat=a.clearCoat;this.clearCoatRoughness=a.clearCoatRoughness;return this};Ha.prototype=Object.create(L.prototype);Ha.prototype.constructor=Ha;Ha.prototype.isMeshPhongMaterial=!0;Ha.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Ab.prototype=Object.create(Ha.prototype);Ab.prototype.constructor=Ab;Ab.prototype.isMeshToonMaterial=!0;Ab.prototype.copy=function(a){Ha.prototype.copy.call(this,a);this.gradientMap=a.gradientMap;return this};Bb.prototype=Object.create(L.prototype);Bb.prototype.constructor=Bb;Bb.prototype.isMeshNormalMaterial=!0;Bb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Cb.prototype=Object.create(L.prototype);Cb.prototype.constructor=Cb;Cb.prototype.isMeshLambertMaterial=!0;Cb.prototype.copy=function(a){L.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Db.prototype=Object.create(L.prototype);Db.prototype.constructor=Db;Db.prototype.isMeshMatcapMaterial=!0;Db.prototype.copy=function(a){L.prototype.copy.call(this,a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Eb.prototype=Object.create(T.prototype);Eb.prototype.constructor=Eb;Eb.prototype.isLineDashedMaterial=!0;Eb.prototype.copy=function(a){T.prototype.copy.call(this,a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};var Yg=Object.freeze({ShadowMaterial:yb,SpriteMaterial:fb,RawShaderMaterial:gc,ShaderMaterial:la,PointsMaterial:Ga,MeshPhysicalMaterial:zb,MeshStandardMaterial:Ta,MeshPhongMaterial:Ha,MeshToonMaterial:Ab,MeshNormalMaterial:Bb,MeshLambertMaterial:Cb,MeshDepthMaterial:cb,MeshDistanceMaterial:db,MeshBasicMaterial:wa,MeshMatcapMaterial:Db,LineDashedMaterial:Eb,LineBasicMaterial:T,Material:L}),Ib={enabled:!1,files:{},add:function add(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function get(a){if(!1!==this.enabled)return this.files[a]},remove:function remove(a){delete this.files[a]},clear:function clear(){this.files={}}},ya=new ee,Oa={};Object.assign(Ia.prototype,{load:function load(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,f=Ib.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;if(void 0!==Oa[a])Oa[a].push({onLoad:b,onProgress:c,onError:d});else{var g=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(g){c=g[1];var h=!!g[2];g=g[3];g=window.decodeURIComponent(g);h&&(g=window.atob(g));try{var k=(this.responseType||"").toLowerCase();switch(k){case"arraybuffer":case"blob":var m=new Uint8Array(g.length);for(h=0;h<g.length;h++){m[h]=g.charCodeAt(h)}var l="blob"===k?new Blob([m.buffer],{type:c}):m.buffer;break;case"document":l=new DOMParser().parseFromString(g,c);break;case"json":l=JSON.parse(g);break;default:l=g;}window.setTimeout(function(){b&&b(l);e.manager.itemEnd(a)},0)}catch(q){window.setTimeout(function(){d&&d(q);e.manager.itemEnd(a);e.manager.itemError(a)},0)}}else{Oa[a]=[];Oa[a].push({onLoad:b,onProgress:c,onError:d});var n=new XMLHttpRequest;n.open("GET",a,!0);n.addEventListener("load",function(b){var c=this.response;Ib.add(a,c);var d=Oa[a];delete Oa[a];if(200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var f=0,g=d.length,h;f<g;f++){h=d[f];if(h.onLoad)h.onLoad(c)}e.manager.itemEnd(a)}else{f=0;for(g=d.length;f<g;f++){if(h=d[f],h.onError)h.onError(b)}e.manager.itemEnd(a);e.manager.itemError(a)}},!1);n.addEventListener("progress",function(b){for(var c=Oa[a],d=0,e=c.length,f;d<e;d++){f=c[d];if(f.onProgress)f.onProgress(b)}},!1);n.addEventListener("error",function(b){var c=Oa[a];delete Oa[a];for(var d=0,f=c.length,g;d<f;d++){g=c[d];if(g.onError)g.onError(b)}e.manager.itemEnd(a);e.manager.itemError(a)},!1);n.addEventListener("abort",function(b){var c=Oa[a];delete Oa[a];for(var d=0,f=c.length,g;d<f;d++){g=c[d];if(g.onError)g.onError(b)}e.manager.itemEnd(a);e.manager.itemError(a)},!1);void 0!==this.responseType&&(n.responseType=this.responseType);void 0!==this.withCredentials&&(n.withCredentials=this.withCredentials);n.overrideMimeType&&n.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(h in this.requestHeader){n.setRequestHeader(h,this.requestHeader[h])}n.send(null)}e.manager.itemStart(a);return n}},setPath:function setPath(a){this.path=a;return this},setResponseType:function setResponseType(a){this.responseType=a;return this},setWithCredentials:function setWithCredentials(a){this.withCredentials=a;return this},setMimeType:function setMimeType(a){this.mimeType=a;return this},setRequestHeader:function setRequestHeader(a){this.requestHeader=a;return this}});Object.assign(mf.prototype,{load:function load(a,b,c,d){function e(e){k.load(a[e],function(a){a=f._parser(a,!0);g[e]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};m+=1;6===m&&(1===a.mipmapCount&&(h.minFilter=1006),h.format=a.format,h.needsUpdate=!0,b&&b(h))},c,d)}var f=this,g=[],h=new Tb;h.image=g;var k=new Ia(this.manager);k.setPath(this.path);k.setResponseType("arraybuffer");if(Array.isArray(a))for(var m=0,l=0,n=a.length;l<n;++l){e(l)}else k.load(a,function(a){a=f._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){g[d]={mipmaps:[]};for(var e=0;e<a.mipmapCount;e++){g[d].mipmaps.push(a.mipmaps[d*a.mipmapCount+e]),g[d].format=a.format,g[d].width=a.width,g[d].height=a.height}}else h.image.width=a.width,h.image.height=a.height,h.mipmaps=a.mipmaps;1===a.mipmapCount&&(h.minFilter=1006);h.format=a.format;h.needsUpdate=!0;b&&b(h)},c,d);return h},setPath:function setPath(a){this.path=a;return this}});Object.assign(fe.prototype,{load:function load(a,b,c,d){var e=this,f=new jb,g=new Ia(this.manager);g.setResponseType("arraybuffer");g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:1001,f.wrapT=void 0!==a.wrapT?a.wrapT:1001,f.magFilter=void 0!==a.magFilter?a.magFilter:1006,f.minFilter=void 0!==a.minFilter?a.minFilter:1008,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=1006),f.needsUpdate=!0,b&&b(f,a)},c,d);return f}});Object.assign(cd.prototype,{crossOrigin:"anonymous",load:function load(a,b,c,d){function e(){k.removeEventListener("load",e,!1);k.removeEventListener("error",f,!1);Ib.add(a,this);b&&b(this);g.manager.itemEnd(a)}function f(b){k.removeEventListener("load",e,!1);k.removeEventListener("error",f,!1);d&&d(b);g.manager.itemEnd(a);g.manager.itemError(a)}void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var g=this,h=Ib.get(a);if(void 0!==h)return g.manager.itemStart(a),setTimeout(function(){b&&b(h);g.manager.itemEnd(a)},0),h;var k=document.createElementNS("http://www.w3.org/1999/xhtml","img");k.addEventListener("load",e,!1);k.addEventListener("error",f,!1);"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(k.crossOrigin=this.crossOrigin);g.manager.itemStart(a);k.src=a;return k},setCrossOrigin:function setCrossOrigin(a){this.crossOrigin=a;return this},setPath:function setPath(a){this.path=a;return this}});Object.assign(ge.prototype,{crossOrigin:"anonymous",load:function load(a,b,c,d){function e(c){g.load(a[c],function(a){f.images[c]=a;h++;6===h&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new Ya,g=new cd(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);var h=0;for(c=0;c<a.length;++c){e(c)}return f},setCrossOrigin:function setCrossOrigin(a){this.crossOrigin=a;return this},setPath:function setPath(a){this.path=a;return this}});Object.assign(Ad.prototype,{crossOrigin:"anonymous",load:function load(a,b,c,d){var e=new Q,f=new cd(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);f.load(a,function(c){e.image=c;c=0<a.search(/\.jpe?g$/i)||0===a.search(/^data:image\/jpeg/);e.format=c?1022:1023;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function setCrossOrigin(a){this.crossOrigin=a;return this},setPath:function setPath(a){this.path=a;return this}});Object.assign(N.prototype,{getPoint:function getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function getPointAt(a,b){a=this.getUtoTmapping(a);return this.getPoint(a,b)},getPoints:function getPoints(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++){b.push(this.getPoint(c/a))}return b},getSpacedPoints:function getSpacedPoints(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++){b.push(this.getPointAt(c/a))}return b},getLength:function getLength(){var a=this.getLengths();return a[a.length-1]},getLengths:function getLengths(a){void 0===a&&(a=this.arcLengthDivisions);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],c=this.getPoint(0),d,e=0;b.push(0);for(d=1;d<=a;d++){var f=this.getPoint(d/a);e+=f.distanceTo(c);b.push(e);c=f}return this.cacheArcLengths=b},updateArcLengths:function updateArcLengths(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function getUtoTmapping(a,b){var c=this.getLengths(),d=c.length;b=b?b:a*c[d-1];for(var e=0,f=d-1,g;e<=f;){if(a=_Mathfloor(e+(f-e)/2),g=c[a]-b,0>g)e=a+1;else if(0<g)f=a-1;else{f=a;break}}a=f;if(c[a]===b)return a/(d-1);e=c[a];return(a+(b-e)/(c[a+1]-e))/(d-1)},getTangent:function getTangent(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()},getTangentAt:function getTangentAt(a){a=this.getUtoTmapping(a);return this.getTangent(a)},computeFrenetFrames:function computeFrenetFrames(a,b){var c=new p,d=[],e=[],f=[],g=new p,h=new P,k;for(k=0;k<=a;k++){var m=k/a;d[k]=this.getTangentAt(m);d[k].normalize()}e[0]=new p;f[0]=new p;k=Number.MAX_VALUE;m=_Mathabs(d[0].x);var l=_Mathabs(d[0].y),n=_Mathabs(d[0].z);m<=k&&(k=m,c.set(1,0,0));l<=k&&(k=l,c.set(0,1,0));n<=k&&c.set(0,0,1);g.crossVectors(d[0],c).normalize();e[0].crossVectors(d[0],g);f[0].crossVectors(d[0],e[0]);for(k=1;k<=a;k++){e[k]=e[k-1].clone(),f[k]=f[k-1].clone(),g.crossVectors(d[k-1],d[k]),g.length()>_NumberEPSILON&&(g.normalize(),c=_Mathacos(S.clamp(d[k-1].dot(d[k]),-1,1)),e[k].applyMatrix4(h.makeRotationAxis(g,c))),f[k].crossVectors(d[k],e[k])}if(!0===b)for(c=_Mathacos(S.clamp(e[0].dot(e[a]),-1,1)),c/=a,0<d[0].dot(g.crossVectors(e[0],e[a]))&&(c=-c),k=1;k<=a;k++){e[k].applyMatrix4(h.makeRotationAxis(d[k],c*k)),f[k].crossVectors(d[k],e[k])}return{tangents:d,normals:e,binormals:f}},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.arcLengthDivisions=a.arcLengthDivisions;return this},toJSON:function toJSON(){var a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"},arcLengthDivisions:this.arcLengthDivisions,type:this.type};return a},fromJSON:function fromJSON(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}});Ca.prototype=Object.create(N.prototype);Ca.prototype.constructor=Ca;Ca.prototype.isEllipseCurve=!0;Ca.prototype.getPoint=function(a,b){b=b||new A;for(var c=2*_MathPI,d=this.aEndAngle-this.aStartAngle,e=_Mathabs(d)<_NumberEPSILON;0>d;){d+=c}for(;d>c;){d-=c}d<_NumberEPSILON&&(d=e?0:c);!0!==this.aClockwise||e||(d=d===c?-c:d-c);c=this.aStartAngle+a*d;a=this.aX+this.xRadius*_Mathcos(c);var f=this.aY+this.yRadius*_Mathsin(c);0!==this.aRotation&&(c=_Mathcos(this.aRotation),d=_Mathsin(this.aRotation),e=a-this.aX,f-=this.aY,a=e*c-f*d+this.aX,f=e*d+f*c+this.aY);return b.set(a,f)};Ca.prototype.copy=function(a){N.prototype.copy.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};Ca.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a};Ca.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};hc.prototype=Object.create(Ca.prototype);hc.prototype.constructor=hc;hc.prototype.isArcCurve=!0;var Td=new p,Ce=new he,De=new he,Ee=new he;ha.prototype=Object.create(N.prototype);ha.prototype.constructor=ha;ha.prototype.isCatmullRomCurve3=!0;ha.prototype.getPoint=function(a,b){b=b||new p;var c=this.points,d=c.length;a*=d-(this.closed?0:1);var e=_Mathfloor(a);a-=e;this.closed?e+=0<e?0:(_Mathfloor(_Mathabs(e)/d)+1)*d:0===a&&e===d-1&&(e=d-2,a=1);if(this.closed||0<e)var f=c[(e-1)%d];else Td.subVectors(c[0],c[1]).add(c[0]),f=Td;var g=c[e%d],h=c[(e+1)%d];this.closed||e+2<d?c=c[(e+2)%d]:(Td.subVectors(c[d-1],c[d-2]).add(c[d-1]),c=Td);if("centripetal"===this.curveType||"chordal"===this.curveType){var k="chordal"===this.curveType?.5:.25;d=_Mathpow(f.distanceToSquared(g),k);e=_Mathpow(g.distanceToSquared(h),k);k=_Mathpow(h.distanceToSquared(c),k);1E-4>e&&(e=1);1E-4>d&&(d=e);1E-4>k&&(k=e);Ce.initNonuniformCatmullRom(f.x,g.x,h.x,c.x,d,e,k);De.initNonuniformCatmullRom(f.y,g.y,h.y,c.y,d,e,k);Ee.initNonuniformCatmullRom(f.z,g.z,h.z,c.z,d,e,k)}else"catmullrom"===this.curveType&&(Ce.initCatmullRom(f.x,g.x,h.x,c.x,this.tension),De.initCatmullRom(f.y,g.y,h.y,c.y,this.tension),Ee.initCatmullRom(f.z,g.z,h.z,c.z,this.tension));b.set(Ce.calc(a),De.calc(a),Ee.calc(a));return b};ha.prototype.copy=function(a){N.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){this.points.push(a.points[b].clone())}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};ha.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++){a.points.push(this.points[b].toArray())}a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a};ha.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length,d;b<c;b++){d=a.points[b];this.points.push(new p().fromArray(d))}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};Ja.prototype=Object.create(N.prototype);Ja.prototype.constructor=Ja;Ja.prototype.isCubicBezierCurve=!0;Ja.prototype.getPoint=function(a,b){b=b||new A;var c=this.v0,d=this.v1,e=this.v2,f=this.v3;b.set(ed(a,c.x,d.x,e.x,f.x),ed(a,c.y,d.y,e.y,f.y));return b};Ja.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};Ja.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};Ja.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};Ua.prototype=Object.create(N.prototype);Ua.prototype.constructor=Ua;Ua.prototype.isCubicBezierCurve3=!0;Ua.prototype.getPoint=function(a,b){b=b||new p;var c=this.v0,d=this.v1,e=this.v2,f=this.v3;b.set(ed(a,c.x,d.x,e.x,f.x),ed(a,c.y,d.y,e.y,f.y),ed(a,c.z,d.z,e.z,f.z));return b};Ua.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};Ua.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};Ua.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};za.prototype=Object.create(N.prototype);za.prototype.constructor=za;za.prototype.isLineCurve=!0;za.prototype.getPoint=function(a,b){b=b||new A;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};za.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};za.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};za.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};za.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};za.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Ka.prototype=Object.create(N.prototype);Ka.prototype.constructor=Ka;Ka.prototype.isLineCurve3=!0;Ka.prototype.getPoint=function(a,b){b=b||new p;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};Ka.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};Ka.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Ka.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Ka.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};La.prototype=Object.create(N.prototype);La.prototype.constructor=La;La.prototype.isQuadraticBezierCurve=!0;La.prototype.getPoint=function(a,b){b=b||new A;var c=this.v0,d=this.v1,e=this.v2;b.set(dd(a,c.x,d.x,e.x),dd(a,c.y,d.y,e.y));return b};La.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};La.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};La.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Va.prototype=Object.create(N.prototype);Va.prototype.constructor=Va;Va.prototype.isQuadraticBezierCurve3=!0;Va.prototype.getPoint=function(a,b){b=b||new p;var c=this.v0,d=this.v1,e=this.v2;b.set(dd(a,c.x,d.x,e.x),dd(a,c.y,d.y,e.y),dd(a,c.z,d.z,e.z));return b};Va.prototype.copy=function(a){N.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Va.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Va.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Ma.prototype=Object.create(N.prototype);Ma.prototype.constructor=Ma;Ma.prototype.isSplineCurve=!0;Ma.prototype.getPoint=function(a,b){b=b||new A;var c=this.points,d=(c.length-1)*a;a=_Mathfloor(d);d-=a;var e=c[0===a?a:a-1],f=c[a],g=c[a>c.length-2?c.length-1:a+1];c=c[a>c.length-3?c.length-1:a+2];b.set(nf(d,e.x,f.x,g.x,c.x),nf(d,e.y,f.y,g.y,c.y));return b};Ma.prototype.copy=function(a){N.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){this.points.push(a.points[b].clone())}return this};Ma.prototype.toJSON=function(){var a=N.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++){a.points.push(this.points[b].toArray())}return a};Ma.prototype.fromJSON=function(a){N.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length,d;b<c;b++){d=a.points[b];this.points.push(new A().fromArray(d))}return this};var Cf=Object.freeze({ArcCurve:hc,CatmullRomCurve3:ha,CubicBezierCurve:Ja,CubicBezierCurve3:Ua,EllipseCurve:Ca,LineCurve:za,LineCurve3:Ka,QuadraticBezierCurve:La,QuadraticBezierCurve3:Va,SplineCurve:Ma});ab.prototype=Object.assign(Object.create(N.prototype),{constructor:ab,add:function add(a){this.curves.push(a)},closePath:function closePath(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new za(b,a))},getPoint:function getPoint(a){var b=a*this.getLength(),c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],c=a.getLength(),a.getPointAt(0===c?0:1-b/c);a++}return null},getLength:function getLength(){var a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function updateArcLengths(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()},getCurveLengths:function getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++){b+=this.curves[c].getLength(),a.push(b)}return this.cacheLengths=a},getSpacedPoints:function getSpacedPoints(a){void 0===a&&(a=40);for(var b=[],c=0;c<=a;c++){b.push(this.getPoint(c/a))}this.autoClose&&b.push(b[0]);return b},getPoints:function getPoints(a){a=a||12;for(var b=[],c,d=0,e=this.curves,f;d<e.length;d++){f=e[d];f=f.getPoints(f&&f.isEllipseCurve?2*a:f&&(f.isLineCurve||f.isLineCurve3)?1:f&&f.isSplineCurve?a*f.points.length:a);for(var g=0,h;g<f.length;g++){h=f[g];c&&c.equals(h)||(b.push(h),c=h)}}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b},copy:function copy(a){N.prototype.copy.call(this,a);this.curves=[];for(var b=0,c=a.curves.length;b<c;b++){this.curves.push(a.curves[b].clone())}this.autoClose=a.autoClose;return this},toJSON:function toJSON(){var a=N.prototype.toJSON.call(this);a.autoClose=this.autoClose;a.curves=[];for(var b=0,c=this.curves.length;b<c;b++){a.curves.push(this.curves[b].toJSON())}return a},fromJSON:function fromJSON(a){N.prototype.fromJSON.call(this,a);this.autoClose=a.autoClose;this.curves=[];for(var b=0,c=a.curves.length,d;b<c;b++){d=a.curves[b];this.curves.push(new Cf[d.type]().fromJSON(d))}return this}});Na.prototype=Object.assign(Object.create(ab.prototype),{constructor:Na,setFromPoints:function setFromPoints(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++){this.lineTo(a[b].x,a[b].y)}},moveTo:function moveTo(a,b){this.currentPoint.set(a,b)},lineTo:function lineTo(a,b){var c=new za(this.currentPoint.clone(),new A(a,b));this.curves.push(c);this.currentPoint.set(a,b)},quadraticCurveTo:function quadraticCurveTo(a,b,c,d){a=new La(this.currentPoint.clone(),new A(a,b),new A(c,d));this.curves.push(a);this.currentPoint.set(c,d)},bezierCurveTo:function bezierCurveTo(a,b,c,d,e,f){a=new Ja(this.currentPoint.clone(),new A(a,b),new A(c,d),new A(e,f));this.curves.push(a);this.currentPoint.set(e,f)},splineThru:function splineThru(a){var b=[this.currentPoint.clone()].concat(a);b=new Ma(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1])},arc:function arc(a,b,c,d,e,f){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,f)},absarc:function absarc(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function ellipse(a,b,c,d,e,f,g,h){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,f,g,h)},absellipse:function absellipse(a,b,c,d,e,f,g,h){a=new Ca(a,b,c,d,e,f,g,h);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a)},copy:function copy(a){ab.prototype.copy.call(this,a);this.currentPoint.copy(a.currentPoint);return this},toJSON:function toJSON(){var a=ab.prototype.toJSON.call(this);a.currentPoint=this.currentPoint.toArray();return a},fromJSON:function fromJSON(a){ab.prototype.fromJSON.call(this,a);this.currentPoint.fromArray(a.currentPoint);return this}});gb.prototype=Object.assign(Object.create(Na.prototype),{constructor:gb,getPointsHoles:function getPointsHoles(a){for(var b=[],c=0,d=this.holes.length;c<d;c++){b[c]=this.holes[c].getPoints(a)}return b},extractPoints:function extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},copy:function copy(a){Na.prototype.copy.call(this,a);this.holes=[];for(var b=0,c=a.holes.length;b<c;b++){this.holes.push(a.holes[b].clone())}return this},toJSON:function toJSON(){var a=Na.prototype.toJSON.call(this);a.uuid=this.uuid;a.holes=[];for(var b=0,c=this.holes.length;b<c;b++){a.holes.push(this.holes[b].toJSON())}return a},fromJSON:function fromJSON(a){Na.prototype.fromJSON.call(this,a);this.uuid=a.uuid;this.holes=[];for(var b=0,c=a.holes.length,d;b<c;b++){d=a.holes[b];this.holes.push(new Na().fromJSON(d))}return this}});ca.prototype=Object.assign(Object.create(C.prototype),{constructor:ca,isLight:!0,copy:function copy(a){C.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function toJSON(a){a=C.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}});Bd.prototype=Object.assign(Object.create(ca.prototype),{constructor:Bd,isHemisphereLight:!0,copy:function copy(a){ca.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});Object.assign(Fb.prototype,{copy:function copy(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function clone(){return new this.constructor().copy(this)},toJSON:function toJSON(){var a={};0!==this.bias&&(a.bias=this.bias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}});Cd.prototype=Object.assign(Object.create(Fb.prototype),{constructor:Cd,isSpotLightShadow:!0,update:function update(a){var b=this.camera,c=2*S.RAD2DEG*a.angle,d=this.mapSize.width/this.mapSize.height;a=a.distance||b.far;if(c!==b.fov||d!==b.aspect||a!==b.far)b.fov=c,b.aspect=d,b.far=a,b.updateProjectionMatrix()}});Dd.prototype=Object.assign(Object.create(ca.prototype),{constructor:Dd,isSpotLight:!0,copy:function copy(a){ca.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Ed.prototype=Object.assign(Object.create(ca.prototype),{constructor:Ed,isPointLight:!0,copy:function copy(a){ca.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});fd.prototype=Object.assign(Object.create(Ra.prototype),{constructor:fd,isOrthographicCamera:!0,copy:function copy(a,b){Ra.prototype.copy.call(this,a,b);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this},setViewOffset:function setViewOffset(a,b,c,d,e,f){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=f;this.updateProjectionMatrix()},clearViewOffset:function clearViewOffset(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function updateProjectionMatrix(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a;c+=a;a=d+b;b=d-b;if(null!==this.view&&this.view.enabled){c=this.zoom/(this.view.width/this.view.fullWidth);b=this.zoom/(this.view.height/this.view.fullHeight);var f=(this.right-this.left)/this.view.width;d=(this.top-this.bottom)/this.view.height;e+=this.view.offsetX/c*f;c=e+this.view.width/c*f;a-=this.view.offsetY/b*d;b=a-this.view.height/b*d}this.projectionMatrix.makeOrthographic(e,c,a,b,this.near,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function toJSON(a){a=C.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}});Fd.prototype=Object.assign(Object.create(Fb.prototype),{constructor:Fd});Gd.prototype=Object.assign(Object.create(ca.prototype),{constructor:Gd,isDirectionalLight:!0,copy:function copy(a){ca.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Hd.prototype=Object.assign(Object.create(ca.prototype),{constructor:Hd,isAmbientLight:!0});Id.prototype=Object.assign(Object.create(ca.prototype),{constructor:Id,isRectAreaLight:!0,copy:function copy(a){ca.prototype.copy.call(this,a);this.width=a.width;this.height=a.height;return this},toJSON:function toJSON(a){a=ca.prototype.toJSON.call(this,a);a.object.width=this.width;a.object.height=this.height;return a}});var ra={arraySlice:function arraySlice(a,b,c){return ra.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function convertArray(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function isTypedArray(a){return ArrayBuffer.isView(a)&&!babelHelpers.instanceof(a,DataView)},getKeyframeOrder:function getKeyframeOrder(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d){c[d]=d}c.sort(function(b,c){return a[b]-a[c]});return c},sortedArray:function sortedArray(a,b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f){for(var h=c[f]*b,k=0;k!==b;++k){e[g++]=a[h+k]}}return e},flattenJSON:function flattenJSON(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];){f=a[e++]}if(void 0!==f){var g=f[d];if(void 0!==g)if(Array.isArray(g)){do{g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++]}while(void 0!==f)}else if(void 0!==g.toArray){do{g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++]}while(void 0!==f)}else{do{g=f[d],void 0!==g&&(b.push(f.time),c.push(g)),f=a[e++]}while(void 0!==f)}}}};Object.assign(Aa.prototype,{evaluate:function evaluate(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;c=0}}for(;c<d;){e=c+d>>>1,a<b[e]?d=e:c=e+1}d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function getSettings_(){return this.settings||this.DefaultSettings_},copySampleValue_:function copySampleValue_(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e){b[e]=c[a+e]}return b},interpolate_:function interpolate_(){throw Error("call to abstract method")},intervalChanged_:function intervalChanged_(){}});Object.assign(Aa.prototype,{beforeStart_:Aa.prototype.copySampleValue_,afterEnd_:Aa.prototype.copySampleValue_});Jd.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Jd,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function intervalChanged_(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(void 0===g)switch(this.getSettings_().endingStart){case 2401:e=a;g=2*b-c;break;case 2402:e=d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c;}if(void 0===h)switch(this.getSettings_().endingEnd){case 2401:f=a;h=2*c-b;break;case 2402:f=1;h=c+d[1]-d[0];break;default:f=a-1,h=b;}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=a/(h-c);this._offsetPrev=e*d;this._offsetNext=f*d},interpolate_:function interpolate_(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g,k=this._offsetPrev,m=this._offsetNext,l=this._weightPrev,n=this._weightNext,q=(c-b)/(d-b);c=q*q;d=c*q;b=-l*d+2*l*c-l*q;l=(1+l)*d+(-1.5-2*l)*c+(-.5+l)*q+1;q=(-1-n)*d+(1.5+n)*c+.5*q;n=n*d-n*c;for(c=0;c!==g;++c){e[c]=b*f[k+c]+l*f[h+c]+q*f[a+c]+n*f[m+c]}return e}});gd.prototype=Object.assign(Object.create(Aa.prototype),{constructor:gd,interpolate_:function interpolate_(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g;b=(c-b)/(d-b);c=1-b;for(d=0;d!==g;++d){e[d]=f[h+d]*c+f[a+d]*b}return e}});Kd.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Kd,interpolate_:function interpolate_(a){return this.copySampleValue_(a-1)}});Object.assign(qa,{toJSON:function toJSON(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:ra.convertArray(a.times,Array),values:ra.convertArray(a.values,Array)};var c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b}});Object.assign(qa.prototype,{constructor:qa,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function InterpolantFactoryMethodDiscrete(a){return new Kd(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function InterpolantFactoryMethodLinear(a){return new gd(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function InterpolantFactoryMethodSmooth(a){return new Jd(this.times,this.values,this.getValueSize(),a)},setInterpolation:function setInterpolation(a){switch(a){case 2300:var b=this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth;}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn("THREE.KeyframeTrack:",b);return this}this.createInterpolant=b;return this},getInterpolation:function getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302;}},getValueSize:function getValueSize(){return this.values.length/this.times.length},shift:function shift(a){if(0!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c){b[c]+=a}return this},scale:function scale(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c){b[c]*=a}return this},trim:function trim(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;){++e}for(;-1!==f&&c[f]>b;){--f}++f;if(0!==e||f!==d)e>=f&&(f=_Mathmax(f,1),e=f-1),a=this.getValueSize(),this.times=ra.arraySlice(c,e,f),this.values=ra.arraySlice(this.values,e*a,f*a);return this},validate:function validate(){var a=!0,b=this.getValueSize();0!==b-_Mathfloor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);var c=this.times;b=this.values;var d=c.length;0===d&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);for(var e=null,f=0,g;f!==d;f++){g=c[f];if("number"===typeof g&&isNaN(g)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("THREE.KeyframeTrack: Out of order keys.",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&ra.isTypedArray(b))for(f=0,c=b.length;f!==c;++f){if(d=b[f],isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,f,d);a=!1;break}}return a},optimize:function optimize(){for(var a=this.times,b=this.values,c=this.getValueSize(),d=2302===this.getInterpolation(),e=1,f=a.length-1,g=1;g<f;++g){var h=!1,k=a[g];if(k!==a[g+1]&&(1!==g||k!==k[0]))if(d)h=!0;else{var m=g*c,l=m-c,n=m+c;for(k=0;k!==c;++k){var q=b[m+k];if(q!==b[l+k]||q!==b[n+k]){h=!0;break}}}if(h){if(g!==e)for(a[e]=a[g],h=g*c,m=e*c,k=0;k!==c;++k){b[m+k]=b[h+k]}++e}}if(0<f){a[e]=a[f];h=f*c;m=e*c;for(k=0;k!==c;++k){b[m+k]=b[h+k]}++e}e!==a.length&&(this.times=ra.arraySlice(a,0,e),this.values=ra.arraySlice(b,0,e*c));return this}});Ld.prototype=Object.assign(Object.create(qa.prototype),{constructor:Ld,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Md.prototype=Object.assign(Object.create(qa.prototype),{constructor:Md,ValueTypeName:"color"});ic.prototype=Object.assign(Object.create(qa.prototype),{constructor:ic,ValueTypeName:"number"});Nd.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Nd,interpolate_:function interpolate_(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4){ja.slerpFlat(e,0,f,a-g,f,a,b)}return e}});hd.prototype=Object.assign(Object.create(qa.prototype),{constructor:hd,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function InterpolantFactoryMethodLinear(a){return new Nd(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0});Od.prototype=Object.assign(Object.create(qa.prototype),{constructor:Od,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});jc.prototype=Object.assign(Object.create(qa.prototype),{constructor:jc,ValueTypeName:"vector"});Object.assign(Ea,{parse:function parse(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e){b.push(Vg(c[e]).scale(d))}return new Ea(a.name,a.duration,b)},toJSON:function toJSON(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid};for(var d=0,e=c.length;d!==e;++d){b.push(qa.toJSON(c[d]))}return a},CreateFromMorphTargetSequence:function CreateFromMorphTargetSequence(a,b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var h=[],k=[];h.push((g+e-1)%e,g,(g+1)%e);k.push(0,1,0);var m=ra.getKeyframeOrder(h);h=ra.sortedArray(h,1,m);k=ra.sortedArray(k,1,m);d||0!==h[0]||(h.push(e),k.push(k[0]));f.push(new ic(".morphTargetInfluences["+b[g].name+"]",h,k).scale(1/c))}return new Ea(a,-1,f)},findByName:function findByName(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++){if(c[a].name===b)return c[a]}return null},CreateClipsFromMorphTargetSequences:function CreateClipsFromMorphTargetSequences(a,b,c){for(var d={},e=/^([\w-]*?)([\d]+)$/,f=0,g=a.length;f<g;f++){var h=a[f],k=h.name.match(e);if(k&&1<k.length){var m=k[1];(k=d[m])||(d[m]=k=[]);k.push(h)}}a=[];for(m in d){a.push(Ea.CreateFromMorphTargetSequence(m,d[m],b,c))}return a},parseAnimation:function parseAnimation(a,b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var c=function(a,b,_c,d,e){if(0!==_c.length){var f=[],g=[];ra.flattenJSON(_c,f,g,d);0!==f.length&&e.push(new a(b,f,g))}},d=[],e=a.name||"default",f=a.length||-1,g=a.fps||30;a=a.hierarchy||[];for(var h=0,k;h<a.length;h++){k=a[h].keys;if(k&&0!==k.length)if(k[0].morphTargets){f={};for(var m=0;m<k.length;m++){if(k[m].morphTargets)for(var l=0;l<k[m].morphTargets.length;l++){f[k[m].morphTargets[l]]=-1}}for(var n in f){var q=[],p=[];for(l=0;l!==k[m].morphTargets.length;++l){var t=k[m];q.push(t.time);p.push(t.morphTarget===n?1:0)}d.push(new ic(".morphTargetInfluence["+n+"]",q,p))}f=f.length*(g||1)}else m=".bones["+b[h].name+"]",c(jc,m+".position",k,"pos",d),c(hd,m+".quaternion",k,"rot",d),c(jc,m+".scale",k,"scl",d)}return 0===d.length?null:new Ea(e,f,d)}});Object.assign(Ea.prototype,{resetDuration:function resetDuration(){for(var a=0,b=0,c=this.tracks.length,d;b!==c;++b){d=this.tracks[b];a=_Mathmax(a,d.times[d.times.length-1])}this.duration=a;return this},trim:function trim(){for(var a=0;a<this.tracks.length;a++){this.tracks[a].trim(0,this.duration)}return this},validate:function validate(){for(var a=!0,b=0;b<this.tracks.length;b++){a=a&&this.tracks[b].validate()}return a},optimize:function optimize(){for(var a=0;a<this.tracks.length;a++){this.tracks[a].optimize()}return this}});Object.assign(Pd.prototype,{load:function load(a,b,c,d){var e=this;new Ia(e.manager).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},setTextures:function setTextures(a){this.textures=a},parse:function parse(a){function b(a){void 0===c[a]&&console.warn("THREE.MaterialLoader: Undefined texture",a);return c[a]}var c=this.textures,d=new Yg[a.type];void 0!==a.uuid&&(d.uuid=a.uuid);void 0!==a.name&&(d.name=a.name);void 0!==a.color&&d.color.setHex(a.color);void 0!==a.roughness&&(d.roughness=a.roughness);void 0!==a.metalness&&(d.metalness=a.metalness);void 0!==a.emissive&&d.emissive.setHex(a.emissive);void 0!==a.specular&&d.specular.setHex(a.specular);void 0!==a.shininess&&(d.shininess=a.shininess);void 0!==a.clearCoat&&(d.clearCoat=a.clearCoat);void 0!==a.clearCoatRoughness&&(d.clearCoatRoughness=a.clearCoatRoughness);void 0!==a.vertexColors&&(d.vertexColors=a.vertexColors);void 0!==a.fog&&(d.fog=a.fog);void 0!==a.flatShading&&(d.flatShading=a.flatShading);void 0!==a.blending&&(d.blending=a.blending);void 0!==a.combine&&(d.combine=a.combine);void 0!==a.side&&(d.side=a.side);void 0!==a.opacity&&(d.opacity=a.opacity);void 0!==a.transparent&&(d.transparent=a.transparent);void 0!==a.alphaTest&&(d.alphaTest=a.alphaTest);void 0!==a.depthTest&&(d.depthTest=a.depthTest);void 0!==a.depthWrite&&(d.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(d.colorWrite=a.colorWrite);void 0!==a.wireframe&&(d.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(d.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(d.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(d.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(d.rotation=a.rotation);1!==a.linewidth&&(d.linewidth=a.linewidth);void 0!==a.dashSize&&(d.dashSize=a.dashSize);void 0!==a.gapSize&&(d.gapSize=a.gapSize);void 0!==a.scale&&(d.scale=a.scale);void 0!==a.polygonOffset&&(d.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(d.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(d.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.skinning&&(d.skinning=a.skinning);void 0!==a.morphTargets&&(d.morphTargets=a.morphTargets);void 0!==a.dithering&&(d.dithering=a.dithering);void 0!==a.visible&&(d.visible=a.visible);void 0!==a.userData&&(d.userData=a.userData);if(void 0!==a.uniforms)for(var e in a.uniforms){var f=a.uniforms[e];d.uniforms[e]={};switch(f.type){case"t":d.uniforms[e].value=b(f.value);break;case"c":d.uniforms[e].value=new G().setHex(f.value);break;case"v2":d.uniforms[e].value=new A().fromArray(f.value);break;case"v3":d.uniforms[e].value=new p().fromArray(f.value);break;case"v4":d.uniforms[e].value=new Z().fromArray(f.value);break;case"m4":d.uniforms[e].value=new P().fromArray(f.value);break;default:d.uniforms[e].value=f.value;}}void 0!==a.defines&&(d.defines=a.defines);void 0!==a.vertexShader&&(d.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(d.fragmentShader=a.fragmentShader);void 0!==a.shading&&(d.flatShading=1===a.shading);void 0!==a.size&&(d.size=a.size);void 0!==a.sizeAttenuation&&(d.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(d.map=b(a.map));void 0!==a.alphaMap&&(d.alphaMap=b(a.alphaMap),d.transparent=!0);void 0!==a.bumpMap&&(d.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(d.bumpScale=a.bumpScale);void 0!==a.normalMap&&(d.normalMap=b(a.normalMap));void 0!==a.normalMapType&&(d.normalMapType=a.normalMapType);void 0!==a.normalScale&&(e=a.normalScale,!1===Array.isArray(e)&&(e=[e,e]),d.normalScale=new A().fromArray(e));void 0!==a.displacementMap&&(d.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(d.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(d.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(d.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(d.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&(d.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(d.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(d.specularMap=b(a.specularMap));void 0!==a.envMap&&(d.envMap=b(a.envMap));void 0!==a.envMapIntensity&&(d.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(d.reflectivity=a.reflectivity);void 0!==a.lightMap&&(d.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(d.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(d.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(d.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(d.gradientMap=b(a.gradientMap));return d}});Object.assign(ie.prototype,{load:function load(a,b,c,d){var e=this;new Ia(e.manager).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function parse(a){var b=new F,c=a.data.index;void 0!==c&&(c=new Df[c.type](c.array),b.setIndex(new I(c,1)));var d=a.data.attributes;for(f in d){var e=d[f];c=new Df[e.type](e.array);b.addAttribute(f,new I(c,e.itemSize,e.normalized))}var f=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==f)for(c=0,d=f.length;c!==d;++c){e=f[c],b.addGroup(e.start,e.count,e.materialIndex)}a=a.data.boundingSphere;void 0!==a&&(f=new p,void 0!==a.center&&f.fromArray(a.center),b.boundingSphere=new Fa(f,a.radius));return b}});var Df={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};kc.Handlers={handlers:[],add:function add(a,b){this.handlers.push(a,b)},get:function get(a){for(var b=this.handlers,c=0,d=b.length,e;c<d;c+=2){e=b[c+1];if(b[c].test(a))return e}return null}};Object.assign(kc.prototype,{crossOrigin:"anonymous",onLoadStart:function onLoadStart(){},onLoadProgress:function onLoadProgress(){},onLoadComplete:function onLoadComplete(){},initMaterials:function initMaterials(a,b,c){for(var d=[],e=0;e<a.length;++e){d[e]=this.createMaterial(a[e],b,c)}return d},createMaterial:function(){var a={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},b=new G,c=new Ad,d=new Pd;return function(e,f,g){function h(a,b,d,e,h){a=f+a;var m=kc.Handlers.get(a);null!==m?a=m.load(a):(c.setCrossOrigin(g),a=c.load(a));void 0!==b&&(a.repeat.fromArray(b),1!==b[0]&&(a.wrapS=1E3),1!==b[1]&&(a.wrapT=1E3));void 0!==d&&a.offset.fromArray(d);void 0!==e&&("repeat"===e[0]&&(a.wrapS=1E3),"mirror"===e[0]&&(a.wrapS=1002),"repeat"===e[1]&&(a.wrapT=1E3),"mirror"===e[1]&&(a.wrapT=1002));void 0!==h&&(a.anisotropy=h);b=S.generateUUID();k[b]=a;return b}var k={},m={uuid:S.generateUUID(),type:"MeshLambertMaterial"},l;for(l in e){var n=e[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":m.name=n;break;case"blending":m.blending=a[n];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":m.color=b.fromArray(n).getHex();break;case"colorSpecular":m.specular=b.fromArray(n).getHex();break;case"colorEmissive":m.emissive=b.fromArray(n).getHex();break;case"specularCoef":m.shininess=n;break;case"shading":"basic"===n.toLowerCase()&&(m.type="MeshBasicMaterial");"phong"===n.toLowerCase()&&(m.type="MeshPhongMaterial");"standard"===n.toLowerCase()&&(m.type="MeshStandardMaterial");break;case"mapDiffuse":m.map=h(n,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":m.emissiveMap=h(n,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":m.lightMap=h(n,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":m.aoMap=h(n,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":m.bumpMap=h(n,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":m.bumpScale=n;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":m.normalMap=h(n,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":m.normalScale=n;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":m.specularMap=h(n,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":m.metalnessMap=h(n,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":m.roughnessMap=h(n,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":m.alphaMap=h(n,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":m.side=1;break;case"doubleSided":m.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");m.opacity=n;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":m[l]=n;break;case"vertexColors":!0===n&&(m.vertexColors=2);"face"===n&&(m.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,n);}}"MeshBasicMaterial"===m.type&&delete m.emissive;"MeshPhongMaterial"!==m.type&&delete m.specular;1>m.opacity&&(m.transparent=!0);d.setTextures(k);return d.parse(m)}}()});var Fe={decodeText:function decodeText(a){if("undefined"!==typeof TextDecoder)return new TextDecoder().decode(a);for(var b="",c=0,d=a.length;c<d;c++){b+=String.fromCharCode(a[c])}return decodeURIComponent(escape(b))},extractUrlBase:function extractUrlBase(a){var b=a.lastIndexOf("/");return-1===b?"./":a.substr(0,b+1)}};Object.assign(je.prototype,{crossOrigin:"anonymous",load:function load(a,b,c,d){var e=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:Fe.extractUrlBase(a),g=new Ia(this.manager);g.setWithCredentials(this.withCredentials);g.load(a,function(c){c=JSON.parse(c);var d=c.metadata;if(void 0!==d&&(d=d.type,void 0!==d&&"object"===d.toLowerCase())){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}c=e.parse(c,f);b(c.geometry,c.materials)},c,d)},setCrossOrigin:function setCrossOrigin(a){this.crossOrigin=a;return this},setTexturePath:function setTexturePath(a){this.texturePath=a;return this},parse:function(){return function(a,b){void 0!==a.data&&(a=a.data);a.scale=void 0!==a.scale?1/a.scale:1;var c=new M,d=a,e,f,g,h=d.faces,k=d.vertices,m=d.normals,l=d.colors,n=d.scale,q=0;if(void 0!==d.uvs){for(e=0;e<d.uvs.length;e++){d.uvs[e].length&&q++}for(e=0;e<q;e++){c.faceVertexUvs[e]=[]}}var v=0;for(g=k.length;v<g;){e=new p,e.x=k[v++]*n,e.y=k[v++]*n,e.z=k[v++]*n,c.vertices.push(e)}v=0;for(g=h.length;v<g;){k=h[v++];var t=1&k,u=2&k;e=8&k;var y=16&k,x=32&k;n=64&k;k&=128;if(t){t=new Xa;t.a=h[v];t.b=h[v+1];t.c=h[v+3];var w=new Xa;w.a=h[v+1];w.b=h[v+2];w.c=h[v+3];v+=4;u&&(u=h[v++],t.materialIndex=u,w.materialIndex=u);u=c.faces.length;if(e)for(e=0;e<q;e++){var D=d.uvs[e];c.faceVertexUvs[e][u]=[];c.faceVertexUvs[e][u+1]=[];for(f=0;4>f;f++){var z=h[v++],C=D[2*z];z=D[2*z+1];C=new A(C,z);2!==f&&c.faceVertexUvs[e][u].push(C);0!==f&&c.faceVertexUvs[e][u+1].push(C)}}y&&(y=3*h[v++],t.normal.set(m[y++],m[y++],m[y]),w.normal.copy(t.normal));if(x)for(e=0;4>e;e++){y=3*h[v++],x=new p(m[y++],m[y++],m[y]),2!==e&&t.vertexNormals.push(x),0!==e&&w.vertexNormals.push(x)}n&&(n=h[v++],n=l[n],t.color.setHex(n),w.color.setHex(n));if(k)for(e=0;4>e;e++){n=h[v++],n=l[n],2!==e&&t.vertexColors.push(new G(n)),0!==e&&w.vertexColors.push(new G(n))}c.faces.push(t);c.faces.push(w)}else{t=new Xa;t.a=h[v++];t.b=h[v++];t.c=h[v++];u&&(u=h[v++],t.materialIndex=u);u=c.faces.length;if(e)for(e=0;e<q;e++){for(D=d.uvs[e],c.faceVertexUvs[e][u]=[],f=0;3>f;f++){z=h[v++],C=D[2*z],z=D[2*z+1],C=new A(C,z),c.faceVertexUvs[e][u].push(C)}}y&&(y=3*h[v++],t.normal.set(m[y++],m[y++],m[y]));if(x)for(e=0;3>e;e++){y=3*h[v++],x=new p(m[y++],m[y++],m[y]),t.vertexNormals.push(x)}n&&(n=h[v++],t.color.setHex(l[n]));if(k)for(e=0;3>e;e++){n=h[v++],t.vertexColors.push(new G(l[n]))}c.faces.push(t)}}d=a;v=void 0!==d.influencesPerVertex?d.influencesPerVertex:2;if(d.skinWeights)for(g=0,h=d.skinWeights.length;g<h;g+=v){c.skinWeights.push(new Z(d.skinWeights[g],1<v?d.skinWeights[g+1]:0,2<v?d.skinWeights[g+2]:0,3<v?d.skinWeights[g+3]:0))}if(d.skinIndices)for(g=0,h=d.skinIndices.length;g<h;g+=v){c.skinIndices.push(new Z(d.skinIndices[g],1<v?d.skinIndices[g+1]:0,2<v?d.skinIndices[g+2]:0,3<v?d.skinIndices[g+3]:0))}c.bones=d.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.");g=a;h=g.scale;if(void 0!==g.morphTargets)for(d=0,v=g.morphTargets.length;d<v;d++){for(c.morphTargets[d]={},c.morphTargets[d].name=g.morphTargets[d].name,c.morphTargets[d].vertices=[],m=c.morphTargets[d].vertices,l=g.morphTargets[d].vertices,q=0,k=l.length;q<k;q+=3){n=new p,n.x=l[q]*h,n.y=l[q+1]*h,n.z=l[q+2]*h,m.push(n)}}if(void 0!==g.morphColors&&0<g.morphColors.length)for(console.warn("THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors."),h=c.faces,g=g.morphColors[0].colors,d=0,v=h.length;d<v;d++){h[d].color.fromArray(g,3*d)}g=a;d=[];v=[];void 0!==g.animation&&v.push(g.animation);void 0!==g.animations&&(g.animations.length?v=v.concat(g.animations):v.push(g.animations));for(g=0;g<v.length;g++){(h=Ea.parseAnimation(v[g],c.bones))&&d.push(h)}c.morphTargets&&(v=Ea.CreateClipsFromMorphTargetSequences(c.morphTargets,10),d=d.concat(v));0<d.length&&(c.animations=d);c.computeFaceNormals();c.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:c};a=kc.prototype.initMaterials(a.materials,b,this.crossOrigin);return{geometry:c,materials:a}}}()});Object.assign(of.prototype,{crossOrigin:"anonymous",load:function load(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;new Ia(e.manager).load(a,function(c){var f=null;try{f=JSON.parse(c)}catch(h){void 0!==d&&d(h);console.error("THREE:ObjectLoader: Can't parse "+a+".",h.message);return}c=f.metadata;void 0===c||void 0===c.type||"geometry"===c.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+a+". Use THREE.JSONLoader instead."):e.parse(f,b)},c,d)},setTexturePath:function setTexturePath(a){this.texturePath=a;return this},setCrossOrigin:function setCrossOrigin(a){this.crossOrigin=a;return this},parse:function parse(a,b){var c=this.parseShape(a.shapes);c=this.parseGeometries(a.geometries,c);var d=this.parseImages(a.images,function(){void 0!==b&&b(e)});d=this.parseTextures(a.textures,d);d=this.parseMaterials(a.materials,d);var e=this.parseObject(a.object,c,d);a.animations&&(e.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseShape:function parseShape(a){var b={};if(void 0!==a)for(var c=0,d=a.length,e;c<d;c++){e=new gb().fromJSON(a[c]);b[e.uuid]=e}return b},parseGeometries:function parseGeometries(a,b){var c={};if(void 0!==a)for(var d=new je,e=new ie,f=0,g=a.length,h;f<g;f++){h=a[f];switch(h.type){case"PlaneGeometry":case"PlaneBufferGeometry":var k=new Ba[h.type](h.width,h.height,h.widthSegments,h.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":k=new Ba[h.type](h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":k=new Ba[h.type](h.radius,h.segments,h.thetaStart,h.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":k=new Ba[h.type](h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":k=new Ba[h.type](h.radius,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":k=new Ba[h.type](h.radius,h.widthSegments,h.heightSegments,h.phiStart,h.phiLength,h.thetaStart,h.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":k=new Ba[h.type](h.radius,h.detail);break;case"RingGeometry":case"RingBufferGeometry":k=new Ba[h.type](h.innerRadius,h.outerRadius,h.thetaSegments,h.phiSegments,h.thetaStart,h.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":k=new Ba[h.type](h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":k=new Ba[h.type](h.radius,h.tube,h.tubularSegments,h.radialSegments,h.p,h.q);break;case"LatheGeometry":case"LatheBufferGeometry":k=new Ba[h.type](h.points,h.segments,h.phiStart,h.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":k=new Ba[h.type](h.vertices,h.indices,h.radius,h.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":k=[];for(var m=0,l=h.shapes.length,n;m<l;m++){n=b[h.shapes[m]];k.push(n)}k=new Ba[h.type](k,h.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":k=[];m=0;for(l=h.shapes.length;m<l;m++){n=b[h.shapes[m]],k.push(n)}m=h.options.extrudePath;void 0!==m&&(h.options.extrudePath=new Cf[m.type]().fromJSON(m));k=new Ba[h.type](k,h.options);break;case"BufferGeometry":k=e.parse(h);break;case"Geometry":k=d.parse(h,this.texturePath).geometry;break;default:console.warn("THREE.ObjectLoader: Unsupported geometry type \""+h.type+"\"");continue;}k.uuid=h.uuid;void 0!==h.name&&(k.name=h.name);!0===k.isBufferGeometry&&void 0!==h.userData&&(k.userData=h.userData);c[h.uuid]=k}return c},parseMaterials:function parseMaterials(a,b){var c={};if(void 0!==a){var d=new Pd;d.setTextures(b);b=0;for(var e=a.length,f;b<e;b++){f=a[b];if("MultiMaterial"===f.type){for(var g=[],h=0;h<f.materials.length;h++){g.push(d.parse(f.materials[h]))}c[f.uuid]=g}else c[f.uuid]=d.parse(f)}}return c},parseAnimations:function parseAnimations(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=Ea.parse(d);void 0!==d.uuid&&(e.uuid=d.uuid);b.push(e)}return b},parseImages:function parseImages(a,b){function c(a){d.manager.itemStart(a);return f.load(a,function(){d.manager.itemEnd(a)},void 0,function(){d.manager.itemEnd(a);d.manager.itemError(a)})}var d=this,e={};if(void 0!==a&&0<a.length){b=new ee(b);var f=new cd(b);f.setCrossOrigin(this.crossOrigin);b=0;for(var g=a.length;b<g;b++){var h=a[b],k=h.url;if(Array.isArray(k)){e[h.uuid]=[];for(var m=0,l=k.length,n;m<l;m++){n=k[m];n=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:d.texturePath+n;e[h.uuid].push(c(n))}}else n=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url)?h.url:d.texturePath+h.url,e[h.uuid]=c(n)}}return e},parseTextures:function parseTextures(a,b){function c(a,b){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a);return b[a]}var d={};if(void 0!==a)for(var e=0,f=a.length,g;e<f;e++){g=a[e];void 0===g.image&&console.warn("THREE.ObjectLoader: No \"image\" specified for",g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var h=Array.isArray(b[g.image])?new Ya(b[g.image]):new Q(b[g.image]);h.needsUpdate=!0;h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);void 0!==g.mapping&&(h.mapping=c(g.mapping,Zg));void 0!==g.offset&&h.offset.fromArray(g.offset);void 0!==g.repeat&&h.repeat.fromArray(g.repeat);void 0!==g.center&&h.center.fromArray(g.center);void 0!==g.rotation&&(h.rotation=g.rotation);void 0!==g.wrap&&(h.wrapS=c(g.wrap[0],Ef),h.wrapT=c(g.wrap[1],Ef));void 0!==g.format&&(h.format=g.format);void 0!==g.minFilter&&(h.minFilter=c(g.minFilter,Ff));void 0!==g.magFilter&&(h.magFilter=c(g.magFilter,Ff));void 0!==g.anisotropy&&(h.anisotropy=g.anisotropy);void 0!==g.flipY&&(h.flipY=g.flipY);d[g.uuid]=h}return d},parseObject:function parseObject(a,b,c){function d(a){void 0===b[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return b[a]}function e(a){if(void 0!==a){if(Array.isArray(a)){for(var b=[],d=0,e=a.length,f;d<e;d++){f=a[d];void 0===c[f]&&console.warn("THREE.ObjectLoader: Undefined material",f);b.push(c[f])}return b}void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined material",a);return c[a]}}switch(a.type){case"Scene":var f=new vd;void 0!==a.background&&_NumberisInteger(a.background)&&(f.background=new G(a.background));void 0!==a.fog&&("Fog"===a.fog.type?f.fog=new Qb(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(f.fog=new Pb(a.fog.color,a.fog.density)));break;case"PerspectiveCamera":f=new V(a.fov,a.aspect,a.near,a.far);void 0!==a.focus&&(f.focus=a.focus);void 0!==a.zoom&&(f.zoom=a.zoom);void 0!==a.filmGauge&&(f.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(f.filmOffset=a.filmOffset);void 0!==a.view&&(f.view=Object.assign({},a.view));break;case"OrthographicCamera":f=new fd(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(f.zoom=a.zoom);void 0!==a.view&&(f.view=Object.assign({},a.view));break;case"AmbientLight":f=new Hd(a.color,a.intensity);break;case"DirectionalLight":f=new Gd(a.color,a.intensity);break;case"PointLight":f=new Ed(a.color,a.intensity,a.distance,a.decay);break;case"RectAreaLight":f=new Id(a.color,a.intensity,a.width,a.height);break;case"SpotLight":f=new Dd(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case"HemisphereLight":f=new Bd(a.color,a.groundColor,a.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":f=d(a.geometry);var g=e(a.material);f=f.bones&&0<f.bones.length?new xd(f,g):new ua(f,g);break;case"LOD":f=new Fc;break;case"Line":f=new pa(d(a.geometry),e(a.material),a.mode);break;case"LineLoop":f=new yd(d(a.geometry),e(a.material));break;case"LineSegments":f=new W(d(a.geometry),e(a.material));break;case"PointCloud":case"Points":f=new Sb(d(a.geometry),e(a.material));break;case"Sprite":f=new Ec(e(a.material));break;case"Group":f=new Ob;break;default:f=new C;}f.uuid=a.uuid;void 0!==a.name&&(f.name=a.name);void 0!==a.matrix?(f.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(f.matrixAutoUpdate=a.matrixAutoUpdate),f.matrixAutoUpdate&&f.matrix.decompose(f.position,f.quaternion,f.scale)):(void 0!==a.position&&f.position.fromArray(a.position),void 0!==a.rotation&&f.rotation.fromArray(a.rotation),void 0!==a.quaternion&&f.quaternion.fromArray(a.quaternion),void 0!==a.scale&&f.scale.fromArray(a.scale));void 0!==a.castShadow&&(f.castShadow=a.castShadow);void 0!==a.receiveShadow&&(f.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&(f.shadow.bias=a.shadow.bias),void 0!==a.shadow.radius&&(f.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&f.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(f.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(f.visible=a.visible);void 0!==a.frustumCulled&&(f.frustumCulled=a.frustumCulled);void 0!==a.renderOrder&&(f.renderOrder=a.renderOrder);void 0!==a.userData&&(f.userData=a.userData);void 0!==a.layers&&(f.layers.mask=a.layers);if(void 0!==a.children){g=a.children;for(var h=0;h<g.length;h++){f.add(this.parseObject(g[h],b,c))}}if("LOD"===a.type)for(a=a.levels,g=0;g<a.length;g++){h=a[g];var k=f.getObjectByProperty("uuid",h.object);void 0!==k&&f.addLevel(k,h.distance)}return f}});var Zg={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Ef={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Ff={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};ke.prototype={constructor:ke,setOptions:function setOptions(a){this.options=a;return this},load:function load(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,f=Ib.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;fetch(a).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,e.options)}).then(function(c){Ib.add(a,c);b&&b(c);e.manager.itemEnd(a)}).catch(function(b){d&&d(b);e.manager.itemEnd(a);e.manager.itemError(a)})},setCrossOrigin:function setCrossOrigin(){return this},setPath:function setPath(a){this.path=a;return this}};Object.assign(le.prototype,{moveTo:function moveTo(a,b){this.currentPath=new Na;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b)},lineTo:function lineTo(a,b){this.currentPath.lineTo(a,b)},quadraticCurveTo:function quadraticCurveTo(a,b,c,d){this.currentPath.quadraticCurveTo(a,b,c,d)},bezierCurveTo:function bezierCurveTo(a,b,c,d,e,f){this.currentPath.bezierCurveTo(a,b,c,d,e,f)},splineThru:function splineThru(a){this.currentPath.splineThru(a)},toShapes:function toShapes(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new gb;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],k=h.x-g.x,m=h.y-g.y;if(_Mathabs(m)>_NumberEPSILON){if(0>m&&(g=b[f],k=-k,h=b[e],m=-m),!(a.y<g.y||a.y>h.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=m*(a.x-g.x)-k*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x))return!0}return d}var e=Za.isClockWise,f=this.subPaths;if(0===f.length)return[];if(!0===b)return c(f);b=[];if(1===f.length){var g=f[0],h=new gb;h.curves=g.curves;b.push(h);return b}var k=!e(f[0].getPoints());k=a?!k:k;h=[];var m=[],l=[],n=0;m[n]=void 0;l[n]=[];for(var p=0,v=f.length;p<v;p++){g=f[p];var t=g.getPoints(),u=e(t);(u=a?!u:u)?(!k&&m[n]&&n++,m[n]={s:new gb,p:t},m[n].s.curves=g.curves,k&&n++,l[n]=[]):l[n].push({h:g,p:t[0]})}if(!m[0])return c(f);if(1<m.length){p=!1;a=[];e=0;for(f=m.length;e<f;e++){h[e]=[]}e=0;for(f=m.length;e<f;e++){for(g=l[e],u=0;u<g.length;u++){k=g[u];n=!0;for(t=0;t<m.length;t++){d(k.p,m[t].p)&&(e!==t&&a.push({froms:e,tos:t,hole:u}),n?(n=!1,h[t].push(k)):p=!0)}n&&h[e].push(k)}}0<a.length&&(p||(l=h))}p=0;for(e=m.length;p<e;p++){for(h=m[p].s,b.push(h),a=l[p],f=0,g=a.length;f<g;f++){h.holes.push(a[f].h)}}return b}});Object.assign(me.prototype,{isFont:!0,generateShapes:function generateShapes(a,b){void 0===b&&(b=100);var c=[],d=b;b=this.data;var e=Array.from?Array.from(a):(a+"").split("");d/=b.resolution;var f=(b.boundingBox.yMax-b.boundingBox.yMin+b.underlineThickness)*d;a=[];for(var g=0,h=0,k=0,m;k<e.length;k++){m=e[k];if("\n"===m)g=0,h-=f;else{var l=d,n=g,p=h;if(m=b.glyphs[m]||b.glyphs["?"]){var v=new le;if(m.o)for(var t=m._cachedOutline||(m._cachedOutline=m.o.split(" ")),u=0,y=t.length;u<y;){switch(t[u++]){case"m":var x=t[u++]*l+n,w=t[u++]*l+p;v.moveTo(x,w);break;case"l":x=t[u++]*l+n;w=t[u++]*l+p;v.lineTo(x,w);break;case"q":var z=t[u++]*l+n,A=t[u++]*l+p,C=t[u++]*l+n,F=t[u++]*l+p;v.quadraticCurveTo(C,F,z,A);break;case"b":z=t[u++]*l+n,A=t[u++]*l+p,C=t[u++]*l+n,F=t[u++]*l+p,x=t[u++]*l+n,w=t[u++]*l+p,v.bezierCurveTo(C,F,x,w,z,A);}}l={offsetX:m.ha*l,path:v}}else l=void 0;g+=l.offsetX;a.push(l.path)}}b=0;for(e=a.length;b<e;b++){Array.prototype.push.apply(c,a[b].toShapes())}return c}});Object.assign(pf.prototype,{load:function load(a,b,c,d){var e=this,f=new Ia(this.manager);f.setPath(this.path);f.load(a,function(a){try{var c=JSON.parse(a)}catch(k){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),c=JSON.parse(a.substring(65,a.length-2))}a=e.parse(c);b&&b(a)},c,d)},parse:function parse(a){return new me(a)},setPath:function setPath(a){this.path=a;return this}});var Ud,pe={getContext:function getContext(){void 0===Ud&&(Ud=new(window.AudioContext||window.webkitAudioContext));return Ud},setContext:function setContext(a){Ud=a}};Object.assign(ne.prototype,{load:function load(a,b,c,d){var e=new Ia(this.manager);e.setResponseType("arraybuffer");e.load(a,function(a){a=a.slice(0);pe.getContext().decodeAudioData(a,function(a){b(a)})},c,d)}});Object.assign(qf.prototype,{update:function(){var a,b,c,d,e,f,g,h,k=new P,m=new P;return function(l){if(a!==this||b!==l.focus||c!==l.fov||d!==l.aspect*this.aspect||e!==l.near||f!==l.far||g!==l.zoom||h!==this.eyeSep){a=this;b=l.focus;c=l.fov;d=l.aspect*this.aspect;e=l.near;f=l.far;g=l.zoom;var n=l.projectionMatrix.clone();h=this.eyeSep/2;var p=h*e/b,r=e*_Mathtan(.5*(S.DEG2RAD*c))/g;m.elements[12]=-h;k.elements[12]=h;var t=-r*d+p,u=r*d+p;n.elements[0]=2*e/(u-t);n.elements[8]=(u+t)/(u-t);this.cameraL.projectionMatrix.copy(n);t=-r*d-p;u=r*d-p;n.elements[0]=2*e/(u-t);n.elements[8]=(u+t)/(u-t);this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(m);this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(k)}}()});id.prototype=Object.create(C.prototype);id.prototype.constructor=id;oe.prototype=Object.assign(Object.create(C.prototype),{constructor:oe,getInput:function getInput(){return this.gain},removeFilter:function removeFilter(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this},getFilter:function getFilter(){return this.filter},setFilter:function setFilter(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this},getMasterVolume:function getMasterVolume(){return this.gain.gain.value},setMasterVolume:function setMasterVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this},updateMatrixWorld:function(){var a=new p,b=new ja,c=new p,d=new p;return function(e){C.prototype.updateMatrixWorld.call(this,e);e=this.context.listener;var f=this.up;this.matrixWorld.decompose(a,b,c);d.set(0,0,-1).applyQuaternion(b);e.positionX?(e.positionX.setValueAtTime(a.x,this.context.currentTime),e.positionY.setValueAtTime(a.y,this.context.currentTime),e.positionZ.setValueAtTime(a.z,this.context.currentTime),e.forwardX.setValueAtTime(d.x,this.context.currentTime),e.forwardY.setValueAtTime(d.y,this.context.currentTime),e.forwardZ.setValueAtTime(d.z,this.context.currentTime),e.upX.setValueAtTime(f.x,this.context.currentTime),e.upY.setValueAtTime(f.y,this.context.currentTime),e.upZ.setValueAtTime(f.z,this.context.currentTime)):(e.setPosition(a.x,a.y,a.z),e.setOrientation(d.x,d.y,d.z,f.x,f.y,f.z))}}()});lc.prototype=Object.assign(Object.create(C.prototype),{constructor:lc,getOutput:function getOutput(){return this.gain},setNodeSource:function setNodeSource(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setMediaElementSource:function setMediaElementSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this},setBuffer:function setBuffer(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function play(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else{var a=this.context.createBufferSource();a.buffer=this.buffer;a.loop=this.loop;a.onended=this.onEnded.bind(this);a.playbackRate.setValueAtTime(this.playbackRate,this.startTime);this.startTime=this.context.currentTime;a.start(this.startTime,this.offset);this.isPlaying=!0;this.source=a;return this.connect()}},pause:function pause(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function stop(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++){this.filters[a-1].connect(this.filters[a])}this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function disconnect(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++){this.filters[a-1].disconnect(this.filters[a])}this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function getFilters(){return this.filters},setFilters:function setFilters(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function getFilter(){return this.getFilters()[0]},setFilter:function setFilter(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function setPlaybackRate(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this},getPlaybackRate:function getPlaybackRate(){return this.playbackRate},onEnded:function onEnded(){this.isPlaying=!1},getLoop:function getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function setLoop(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function getVolume(){return this.gain.gain.value},setVolume:function setVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}});qe.prototype=Object.assign(Object.create(lc.prototype),{constructor:qe,getOutput:function getOutput(){return this.panner},getRefDistance:function getRefDistance(){return this.panner.refDistance},setRefDistance:function setRefDistance(a){this.panner.refDistance=a;return this},getRolloffFactor:function getRolloffFactor(){return this.panner.rolloffFactor},setRolloffFactor:function setRolloffFactor(a){this.panner.rolloffFactor=a;return this},getDistanceModel:function getDistanceModel(){return this.panner.distanceModel},setDistanceModel:function setDistanceModel(a){this.panner.distanceModel=a;return this},getMaxDistance:function getMaxDistance(){return this.panner.maxDistance},setMaxDistance:function setMaxDistance(a){this.panner.maxDistance=a;return this},setDirectionalCone:function setDirectionalCone(a,b,c){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=b;this.panner.coneOuterGain=c;return this},updateMatrixWorld:function(){var a=new p,b=new ja,c=new p,d=new p;return function(e){C.prototype.updateMatrixWorld.call(this,e);e=this.panner;this.matrixWorld.decompose(a,b,c);d.set(0,0,1).applyQuaternion(b);e.setPosition(a.x,a.y,a.z);e.setOrientation(d.x,d.y,d.z)}}()});Object.assign(re.prototype,{getFrequencyData:function getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function getAverageFrequency(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++){a+=b[c]}return a/b.length}});Object.assign(se.prototype,{accumulate:function accumulate(a,b){var c=this.buffer,d=this.valueSize;a=a*d+d;var e=this.cumulativeWeight;if(0===e){for(e=0;e!==d;++e){c[a+e]=c[e]}e=b}else e+=b,this._mixBufferRegion(c,a,0,b/e,d);this.cumulativeWeight=e},apply:function apply(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);d=b;for(;d!==b+b;++d){if(c[d]!==c[d+b]){e.setValue(c,a);break}}},saveOriginalState:function saveOriginalState(){var a=this.buffer,b=this.valueSize,c=3*b;this.binding.getValue(a,c);for(var d=b;d!==c;++d){a[d]=a[c+d%b]}this.cumulativeWeight=0},restoreOriginalState:function restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function _select(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d){a[b+d]=a[c+d]}},_slerp:function _slerp(a,b,c,d){ja.slerpFlat(a,b,a,b,a,c,d)},_lerp:function _lerp(a,b,c,d,e){for(var g=0,h;g!==e;++g){h=b+g;a[h]=a[h]*(1-d)+a[c+g]*d}}});Object.assign(rf.prototype,{getValue:function getValue(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function setValue(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d){c[d].setValue(a,b)}},bind:function bind(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b){a[b].bind()}},unbind:function unbind(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b){a[b].unbind()}}});Object.assign(ta,{Composite:rf,create:function create(a,b,c){return a&&a.isAnimationObjectGroup?new ta.Composite(a,b,c):new ta(a,b,c)},sanitizeNodeName:function(){var a=/[\[\]\.:\/]/g;return function(b){return b.replace(/\s/g,"_").replace(a,"")}}(),parseTrackName:function(){var a="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",b=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]");a=/(WCOD+)?/.source.replace("WCOD",a);var c=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),d=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),e=new RegExp("^"+b+a+c+d+"$"),f=["material","materials","bones"];return function(a){var b=e.exec(a);if(!b)throw Error("PropertyBinding: Cannot parse trackName: "+a);b={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};var c=b.nodeName&&b.nodeName.lastIndexOf(".");if(void 0!==c&&-1!==c){var d=b.nodeName.substring(c+1);-1!==f.indexOf(d)&&(b.nodeName=b.nodeName.substring(0,c),b.objectName=d)}if(null===b.propertyName||0===b.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return b}}(),findNode:function findNode(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=a.skeleton.getBoneByName(b);if(void 0!==c)return c}if(a.children){var d=function(a){for(var c=0,e;c<a.length;c++){e=a[c];if(e.name===b||e.uuid===b||(e=d(e.children)))return e}return null};if(a=d(a.children))return a}return null}});Object.assign(ta.prototype,{_getValue_unavailable:function _getValue_unavailable(){},_setValue_unavailable:function _setValue_unavailable(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d){a[b++]=c[d]}},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.targetObject[this.propertyName]=a[b]},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d){c[d]=a[b++]}},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d){c[d]=a[b++]}this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d){c[d]=a[b++]}this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function getValue(a,b){this.bind();this.getValue(a,b)},setValue:function setValue(a,b){this.bind();this.setValue(a,b)},bind:function bind(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=ta.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var f=b.objectIndex;switch(c){case"materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case"bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++){if(a[c].name===f){f=c;break}}break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[c];}if(void 0!==f){if(void 0===a[f]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[f]}}f=a[d];if(void 0===f)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a);else{b=this.Versioning.None;this.targetObject=a;void 0!==a.needsUpdate?b=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(a.geometry.isBufferGeometry){if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(c=0;c<this.node.geometry.morphAttributes.position.length;c++){if(a.geometry.morphAttributes.position[c].name===e){e=c;break}}}else{if(!a.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++){if(a.geometry.morphTargets[c].name===e){e=c;break}}}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else void 0!==f.fromArray&&void 0!==f.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=f):Array.isArray(f)?(c=this.BindingType.EntireArray,this.resolvedProperty=f):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function unbind(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});Object.assign(ta.prototype,{_getValue_unbound:ta.prototype.getValue,_setValue_unbound:ta.prototype.setValue});Object.assign(sf.prototype,{isAnimationObjectGroup:!0,add:function add(){for(var a=this._objects,b=a.length,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._paths,f=this._parsedPaths,g=this._bindings,h=g.length,k=void 0,l=0,p=arguments.length;l!==p;++l){var n=arguments[l],q=n.uuid,v=d[q];if(void 0===v){v=b++;d[q]=v;a.push(n);q=0;for(var t=h;q!==t;++q){g[q].push(new ta(n,e[q],f[q]))}}else if(v<c){k=a[v];var u=--c;t=a[u];d[t.uuid]=v;a[v]=t;d[q]=u;a[u]=n;q=0;for(t=h;q!==t;++q){var y=g[q],x=y[v];y[v]=y[u];void 0===x&&(x=new ta(n,e[q],f[q]));y[u]=x}}else a[v]!==k&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function remove(){for(var a=this._objects,b=this.nCachedObjects_,c=this._indicesByUUID,d=this._bindings,e=d.length,f=0,g=arguments.length;f!==g;++f){var h=arguments[f],k=h.uuid,l=c[k];if(void 0!==l&&l>=b){var p=b++,n=a[p];c[n.uuid]=l;a[l]=n;c[k]=p;a[p]=h;h=0;for(k=e;h!==k;++h){n=d[h];var q=n[l];n[l]=n[p];n[p]=q}}}this.nCachedObjects_=b},uncache:function uncache(){for(var a=this._objects,b=a.length,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,h=arguments.length;g!==h;++g){var k=arguments[g].uuid,l=d[k];if(void 0!==l)if(delete d[k],l<c){k=--c;var p=a[k],n=--b,q=a[n];d[p.uuid]=l;a[l]=p;d[q.uuid]=k;a[k]=q;a.pop();p=0;for(q=f;p!==q;++p){var v=e[p],t=v[n];v[l]=v[k];v[k]=t;v.pop()}}else for(n=--b,q=a[n],d[q.uuid]=l,a[l]=q,a.pop(),p=0,q=f;p!==q;++p){v=e[p],v[l]=v[n],v.pop()}}this.nCachedObjects_=c},subscribe_:function subscribe_(a,b){var c=this._bindingsIndicesByPath,d=c[a],e=this._bindings;if(void 0!==d)return e[d];var f=this._paths,g=this._parsedPaths,h=this._objects,k=this.nCachedObjects_,l=Array(h.length);d=e.length;c[a]=d;f.push(a);g.push(b);e.push(l);c=k;for(d=h.length;c!==d;++c){l[c]=new ta(h[c],a,b)}return l},unsubscribe_:function unsubscribe_(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c;f[c]=h;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}});Object.assign(tf.prototype,{play:function play(){this._mixer._activateAction(this);return this},stop:function stop(){this._mixer._deactivateAction(this);return this.reset()},reset:function reset(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function isScheduled(){return this._mixer._isActiveAction(this)},startAt:function startAt(a){this._startTime=a;return this},setLoop:function setLoop(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function setEffectiveWeight(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()},getEffectiveWeight:function getEffectiveWeight(){return this._effectiveWeight},fadeIn:function fadeIn(a){return this._scheduleFading(a,0,1)},fadeOut:function fadeOut(a){return this._scheduleFading(a,1,0)},crossFadeFrom:function crossFadeFrom(a,b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;var d=a._clip.duration,e=c/d;a.warp(1,d/c,b);this.warp(e,1,b)}return this},crossFadeTo:function crossFadeTo(a,b,c){return a.crossFadeFrom(this,b,c)},stopFading:function stopFading(){var a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},setEffectiveTimeScale:function setEffectiveTimeScale(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()},getEffectiveTimeScale:function getEffectiveTimeScale(){return this._effectiveTimeScale},setDuration:function setDuration(a){this.timeScale=this._clip.duration/a;return this.stopWarping()},syncWith:function syncWith(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()},halt:function halt(a){return this.warp(this._effectiveTimeScale,0,a)},warp:function warp(a,b,c){var d=this._mixer,e=d.time,f=this._timeScaleInterpolant,g=this.timeScale;null===f&&(this._timeScaleInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;d[1]=e+c;f[0]=a/g;f[1]=b/g;return this},stopWarping:function stopWarping(){var a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},getMixer:function getMixer(){return this._mixer},getClip:function getClip(){return this._clip},getRoot:function getRoot(){return this._localRoot||this._mixer._root},_update:function _update(a,b,c,d){if(this.enabled){var e=this._startTime;if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a){b=this._interpolants;e=this._propertyBindings;for(var f=0,g=b.length;f!==g;++f){b[f].evaluate(c),e[f].accumulate(d,a)}}}else this._updateWeight(a)},_updateWeight:function _updateWeight(a){var b=0;if(this.enabled){b=this.weight;var c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b},_updateTimeScale:function _updateTimeScale(a){var b=0;if(!this.paused){b=this.timeScale;var c=this._timeScaleInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b},_updateTime:function _updateTime(a){var b=this.time+a,c=this._clip.duration,d=this.loop,e=this._loopCount,f=2202===d;if(0===a)return-1===e?b:f&&1===(1&e)?c-b:b;if(2200===d)a:{if(-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1)),b>=c)b=c;else if(0>b)b=0;else break a;this.clampWhenFinished?this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{-1===e&&(0<=a?(e=0,this._setEndings(!0,0===this.repetitions,f)):this._setEndings(0===this.repetitions,!0,f));if(b>=c||0>b){d=_Mathfloor(b/c);b-=c*d;e+=_Mathabs(d);var g=this.repetitions-e;0>=g?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,b=0<a?c:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===g?(a=0>a,this._setEndings(a,!a,f)):this._setEndings(!1,!1,f),this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:d}))}if(f&&1===(1&e))return this.time=b,c-b}return this.time=b},_setEndings:function _setEndings(a,b,c){var d=this._interpolantSettings;c?(d.endingStart=2401,d.endingEnd=2401):(d.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,d.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function _scheduleFading(a,b,c){var d=this._mixer,e=d.time,f=this._weightInterpolant;null===f&&(this._weightInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;f[0]=b;d[1]=e+a;f[1]=c;return this}});te.prototype=Object.assign(Object.create(ia.prototype),{constructor:te,_bindAction:function _bindAction(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings;a=a._interpolants;var g=c.uuid,h=this._bindingsByRootAndName,k=h[g];void 0===k&&(k={},h[g]=k);for(h=0;h!==e;++h){var l=d[h],p=l.name,n=k[p];if(void 0===n){n=f[h];if(void 0!==n){null===n._cacheIndex&&(++n.referenceCount,this._addInactiveBinding(n,g,p));continue}n=new se(ta.create(c,p,b&&b._propertyBindings[h].binding.parsedPath),l.ValueTypeName,l.getValueSize());++n.referenceCount;this._addInactiveBinding(n,g,p)}f[h]=n;a[h].resultBuffer=n.buffer}},_activateAction:function _activateAction(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];0===e.useCount++&&(this._lendBinding(e),e.saveOriginalState())}this._lendAction(a)}},_deactivateAction:function _deactivateAction(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length,e;c!==d;++c){e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function _initMemoryManager(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function _isActiveAction(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function _addInactiveAction(a,b,c){var d=this._actions,e=this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);f.actionByRoot[c]=a},_removeInactiveAction:function _removeInactiveAction(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;b=a._clip.uuid;c=this._actionsByClip;d=c[b];var e=d.knownActions,f=e[e.length-1],g=a._byClipCacheIndex;f._byClipCacheIndex=g;e[g]=f;e.pop();a._byClipCacheIndex=null;delete d.actionByRoot[(a._localRoot||this._root).uuid];0===e.length&&delete c[b];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function _removeInactiveBindingsForAction(a){a=a._propertyBindings;for(var b=0,c=a.length,d;b!==c;++b){d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function _lendAction(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function _takeBackAction(a){var b=this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function _addInactiveBinding(a,b,c){var d=this._bindingsByRootAndName,e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function _removeInactiveBinding(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid;c=c.path;var e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var h in f){break a}delete e[d]}},_lendBinding:function _lendBinding(a){var b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function _takeBackBinding(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function _lendControlInterpolant(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new gd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c);return c},_takeBackControlInterpolant:function _takeBackControlInterpolant(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function clipAction(a,b){var c=b||this._root,d=c.uuid;c="string"===typeof a?Ea.findByName(c,a):a;a=null!==c?c.uuid:a;var e=this._actionsByClip[a],f=null;if(void 0!==e){f=e.actionByRoot[d];if(void 0!==f)return f;f=e.knownActions[0];null===c&&(c=f._clip)}if(null===c)return null;b=new tf(this,c,b);this._bindAction(b,f);this._addInactiveAction(b,a,d);return b},existingAction:function existingAction(a,b){var c=b||this._root;b=c.uuid;c="string"===typeof a?Ea.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function stopAllAction(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e){a[e].reset()}for(e=0;e!==d;++e){c[e].useCount=0}return this},update:function update(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=_Mathsign(a),f=this._accuIndex^=1,g=0;g!==c;++g){b[g]._update(d,a,e,f)}a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g){a[g].apply(f)}return this},getRoot:function getRoot(){return this._root},uncacheClip:function uncacheClip(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){d=d.knownActions;for(var e=0,f=d.length,g;e!==f;++e){g=d[e];this._deactivateAction(g);var h=g._cacheIndex,k=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;k._cacheIndex=h;b[h]=k;b.pop();this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function uncacheRoot(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d){a=d[e],a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function uncacheAction(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});Qd.prototype.clone=function(){return new Qd(void 0===this.value.clone?this.value:this.value.clone())};ue.prototype=Object.assign(Object.create(F.prototype),{constructor:ue,isInstancedBufferGeometry:!0,copy:function copy(a){F.prototype.copy.call(this,a);this.maxInstancedCount=a.maxInstancedCount;return this},clone:function clone(){return new this.constructor().copy(this)}});ve.prototype=Object.assign(Object.create(qb.prototype),{constructor:ve,isInstancedInterleavedBuffer:!0,copy:function copy(a){qb.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});we.prototype=Object.assign(Object.create(I.prototype),{constructor:we,isInstancedBufferAttribute:!0,copy:function copy(a){I.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});Object.assign(uf.prototype,{linePrecision:1,set:function set(a,b){this.ray.set(a,b)},setFromCamera:function setFromCamera(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize()):b&&b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function intersectObject(a,b,c){c=c||[];xe(a,this,c,b);c.sort(vf);return c},intersectObjects:function intersectObjects(a,b,c){c=c||[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),c;for(var d=0,e=a.length;d<e;d++){xe(a[d],this,c,b)}c.sort(vf);return c}});Object.assign(wf.prototype,{start:function start(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now();this.elapsedTime=0;this.running=!0},stop:function stop(){this.getElapsedTime();this.autoStart=this.running=!1},getElapsedTime:function getElapsedTime(){this.getDelta();return this.elapsedTime},getDelta:function getDelta(){var a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var b=("undefined"===typeof performance?Date:performance).now();a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}});Object.assign(xf.prototype,{set:function set(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this},makeSafe:function makeSafe(){this.phi=_Mathmax(1E-6,_Mathmin(_MathPI-1E-6,this.phi));return this},setFromVector3:function setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)},setFromCartesianCoords:function setFromCartesianCoords(a,b,c){this.radius=_Mathsqrt(a*a+b*b+c*c);0===this.radius?this.phi=this.theta=0:(this.theta=_Mathatan(a,c),this.phi=_Mathacos(S.clamp(b/this.radius,-1,1)));return this}});Object.assign(yf.prototype,{set:function set(a,b,c){this.radius=a;this.theta=b;this.y=c;return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this},setFromVector3:function setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)},setFromCartesianCoords:function setFromCartesianCoords(a,b,c){this.radius=_Mathsqrt(a*a+c*c);this.theta=_Mathatan(a,c);this.y=b;return this}});Object.assign(ye.prototype,{set:function set(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function setFromPoints(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++){this.expandByPoint(a[b])}return this},setFromCenterAndSize:function(){var a=new A;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function makeEmpty(){this.min.x=this.min.y=1/0;this.max.x=this.max.y=-Infinity;return this},isEmpty:function isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function getCenter(a){void 0===a&&(console.warn("THREE.Box2: .getCenter() target is now required"),a=new A);return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function getSize(a){void 0===a&&(console.warn("THREE.Box2: .getSize() target is now required"),a=new A);return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)},expandByPoint:function expandByPoint(a){this.min.min(a);this.max.max(a);return this},expandByVector:function expandByVector(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y},getParameter:function getParameter(a,b){void 0===b&&(console.warn("THREE.Box2: .getParameter() target is now required"),b=new A);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0},clampPoint:function clampPoint(a,b){void 0===b&&(console.warn("THREE.Box2: .clampPoint() target is now required"),b=new A);return b.copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new A;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function intersect(a){this.min.max(a.min);this.max.min(a.max);return this},union:function union(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function translate(a){this.min.add(a);this.max.add(a);return this},equals:function equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});Object.assign(ze.prototype,{set:function set(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(a){this.start.copy(a.start);this.end.copy(a.end);return this},getCenter:function getCenter(a){void 0===a&&(console.warn("THREE.Line3: .getCenter() target is now required"),a=new p);return a.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function delta(a){void 0===a&&(console.warn("THREE.Line3: .delta() target is now required"),a=new p);return a.subVectors(this.end,this.start)},distanceSq:function distanceSq(){return this.start.distanceToSquared(this.end)},distance:function distance(){return this.start.distanceTo(this.end)},at:function at(a,b){void 0===b&&(console.warn("THREE.Line3: .at() target is now required"),b=new p);return this.delta(b).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new p,b=new p;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);c=b.dot(b);c=b.dot(a)/c;d&&(c=S.clamp(c,0,1));return c}}(),closestPointToPoint:function closestPointToPoint(a,b,c){a=this.closestPointToPointParameter(a,b);void 0===c&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),c=new p);return this.delta(c).multiplyScalar(a).add(this.start)},applyMatrix4:function applyMatrix4(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this},equals:function equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}});jd.prototype=Object.create(C.prototype);jd.prototype.constructor=jd;jd.prototype.isImmediateRenderObject=!0;kd.prototype=Object.create(W.prototype);kd.prototype.constructor=kd;kd.prototype.update=function(){var a=new p,b=new p,c=new oa;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position,g=this.object.geometry;if(g&&g.isGeometry)for(var h=g.vertices,k=g.faces,l=g=0,p=k.length;l<p;l++){for(var n=k[l],q=0,v=n.vertexNormals.length,t;q<v;q++){t=n.vertexNormals[q];a.copy(h[n[d[q]]]).applyMatrix4(e);b.copy(t).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);f.setXYZ(g,a.x,a.y,a.z);g+=1;f.setXYZ(g,b.x,b.y,b.z);g+=1}}else if(g&&g.isBufferGeometry)for(d=g.attributes.position,h=g.attributes.normal,q=g=0,v=d.count;q<v;q++){a.set(d.getX(q),d.getY(q),d.getZ(q)).applyMatrix4(e),b.set(h.getX(q),h.getY(q),h.getZ(q)),b.applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(g,a.x,a.y,a.z),g+=1,f.setXYZ(g,b.x,b.y,b.z),g+=1}f.needsUpdate=!0}}();mc.prototype=Object.create(C.prototype);mc.prototype.constructor=mc;mc.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};mc.prototype.update=function(){var a=new p,b=new p;return function(){this.light.updateMatrixWorld();var c=this.light.distance?this.light.distance:1E3,d=c*_Mathtan(this.light.angle);this.cone.scale.set(d,d,c);a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}();nc.prototype=Object.create(W.prototype);nc.prototype.constructor=nc;nc.prototype.updateMatrixWorld=function(){var a=new p,b=new P,c=new P;return function(d){var e=this.bones,f=this.geometry,g=f.getAttribute("position");c.getInverse(this.root.matrixWorld);for(var h=0,k=0,l;h<e.length;h++){l=e[h];l.parent&&l.parent.isBone&&(b.multiplyMatrices(c,l.matrixWorld),a.setFromMatrixPosition(b),g.setXYZ(k,a.x,a.y,a.z),b.multiplyMatrices(c,l.parent.matrixWorld),a.setFromMatrixPosition(b),g.setXYZ(k+1,a.x,a.y,a.z),k+=2)}f.getAttribute("position").needsUpdate=!0;C.prototype.updateMatrixWorld.call(this,d)}}();oc.prototype=Object.create(ua.prototype);oc.prototype.constructor=oc;oc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};oc.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};pc.prototype=Object.create(C.prototype);pc.prototype.constructor=pc;pc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};pc.prototype.update=function(){var a=.5*this.light.width,b=.5*this.light.height,c=this.line.geometry.attributes.position,d=c.array;d[0]=a;d[1]=-b;d[2]=0;d[3]=a;d[4]=b;d[5]=0;d[6]=-a;d[7]=b;d[8]=0;d[9]=-a;d[10]=-b;d[11]=0;d[12]=a;d[13]=-b;d[14]=0;c.needsUpdate=!0;void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)};qc.prototype=Object.create(C.prototype);qc.prototype.constructor=qc;qc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};qc.prototype.update=function(){var a=new p,b=new G,c=new G;return function(){var d=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=d.geometry.getAttribute("color");b.copy(this.light.color);c.copy(this.light.groundColor);for(var f=0,g=e.count,h;f<g;f++){h=f<g/2?b:c;e.setXYZ(f,h.r,h.g,h.b)}e.needsUpdate=!0}d.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate())}}();ld.prototype=Object.create(W.prototype);ld.prototype.constructor=ld;Rd.prototype=Object.create(W.prototype);Rd.prototype.constructor=Rd;md.prototype=Object.create(W.prototype);md.prototype.constructor=md;md.prototype.update=function(){var a=new p,b=new p,c=new oa;return function(){this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices;f=f.faces;for(var h=0,k=0,l=f.length;k<l;k++){var p=f[k],n=p.normal;a.copy(g[p.a]).add(g[p.b]).add(g[p.c]).divideScalar(3).applyMatrix4(d);b.copy(n).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(h,a.x,a.y,a.z);h+=1;e.setXYZ(h,b.x,b.y,b.z);h+=1}e.needsUpdate=!0}}();rc.prototype=Object.create(C.prototype);rc.prototype.constructor=rc;rc.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};rc.prototype.update=function(){var a=new p,b=new p,c=new p;return function(){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);c.subVectors(b,a);this.lightPlane.lookAt(c);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(c);this.targetLine.scale.z=c.length()}}();nd.prototype=Object.create(W.prototype);nd.prototype.constructor=nd;nd.prototype.update=function(){function a(a,g,h,k){d.set(g,h,k).unproject(e);a=c[a];if(void 0!==a)for(g=b.getAttribute("position"),h=0,k=a.length;h<k;h++){g.setXYZ(a[h],d.x,d.y,d.z)}}var b,c,d=new p,e=new Ra;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.getAttribute("position").needsUpdate=!0}}();Gb.prototype=Object.create(W.prototype);Gb.prototype.constructor=Gb;Gb.prototype.update=function(){var a=new Wa;return function(b){void 0!==b&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&a.setFromObject(this.object);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();Gb.prototype.setFromObject=function(a){this.object=a;this.update();return this};od.prototype=Object.create(W.prototype);od.prototype.constructor=od;od.prototype.updateMatrixWorld=function(a){var b=this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),C.prototype.updateMatrixWorld.call(this,a))};pd.prototype=Object.create(pa.prototype);pd.prototype.constructor=pd;pd.prototype.updateMatrixWorld=function(a){var b=-this.plane.constant;1e-8>_Mathabs(b)&&(b=1e-8);this.scale.set(.5*this.size,.5*this.size,b);this.children[0].material.side=0>b?1:0;this.lookAt(this.plane.normal);C.prototype.updateMatrixWorld.call(this,a)};var Sd,Ae;Hb.prototype=Object.create(C.prototype);Hb.prototype.constructor=Hb;Hb.prototype.setDirection=function(){var a=new p,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=_Mathacos(c.y),this.quaternion.setFromAxisAngle(a,b))}}();Hb.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,_Mathmax(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};Hb.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};qd.prototype=Object.create(W.prototype);qd.prototype.constructor=qd;N.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(N.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};Object.assign(ab.prototype,{createPointsGeometry:function createPointsGeometry(a){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function createSpacedPointsGeometry(a){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function createGeometry(a){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var b=new M,c=0,d=a.length,e;c<d;c++){e=a[c];b.vertices.push(new p(e.x,e.y,e.z||0))}return b}});Object.assign(Na.prototype,{fromPoints:function fromPoints(a){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints().");this.setFromPoints(a)}});Af.prototype=Object.create(ha.prototype);Bf.prototype=Object.create(ha.prototype);Be.prototype=Object.create(ha.prototype);Object.assign(Be.prototype,{initFromArray:function initFromArray(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function getControlPointsArray(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function reparametrizeByArcLength(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});ld.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};nc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(kc.prototype,{extractUrlBase:function extractUrlBase(a){console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.");return Fe.extractUrlBase(a)}});Object.assign(ye.prototype,{center:function center(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function empty(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function isIntersectionBox(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},size:function size(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");return this.getSize(a)}});Object.assign(Wa.prototype,{center:function center(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function empty(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function isIntersectionBox(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function isIntersectionSphere(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)},size:function size(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});ze.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};Object.assign(S,{random16:function random16(){console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead.");return Math.random()},nearestPowerOfTwo:function nearestPowerOfTwo(a){console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().");return S.floorPowerOfTwo(a)},nextPowerOfTwo:function nextPowerOfTwo(a){console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().");return S.ceilPowerOfTwo(a)}});Object.assign(oa.prototype,{flattenToArrayOffset:function flattenToArrayOffset(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},multiplyVector3:function multiplyVector3(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},multiplyVector3Array:function multiplyVector3Array(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function applyToBuffer(a){console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function applyToVector3Array(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(P.prototype,{extractPosition:function extractPosition(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},flattenToArrayOffset:function flattenToArrayOffset(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new p);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return a.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function setRotationFromQuaternion(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyToArray:function multiplyToArray(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function multiplyVector3(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector4:function multiplyVector4(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function multiplyVector3Array(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function rotateAxis(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function crossVector(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function translate(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function rotateX(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function rotateY(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function rotateZ(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function rotateByAxis(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function applyToBuffer(a){console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function applyToVector3Array(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function makeFrustum(a,b,c,d,e,f){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(a,b,d,c,e,f)}});Pa.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};ja.prototype.multiplyVector3=function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};Object.assign(pb.prototype,{isIntersectionBox:function isIntersectionBox(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function isIntersectionPlane(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function isIntersectionSphere(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});Object.assign(da.prototype,{area:function area(){console.warn("THREE.Triangle: .area() has been renamed to .getArea().");return this.getArea()},barycoordFromPoint:function barycoordFromPoint(a,b){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return this.getBarycoord(a,b)},midpoint:function midpoint(a){console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint().");return this.getMidpoint(a)},normal:function normal(a){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");return this.getNormal(a)},plane:function plane(a){console.warn("THREE.Triangle: .plane() has been renamed to .getPlane().");return this.getPlane(a)}});Object.assign(da,{barycoordFromPoint:function barycoordFromPoint(a,b,c,d,e){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return da.getBarycoord(a,b,c,d,e)},normal:function normal(a,b,c,d){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");return da.getNormal(a,b,c,d)}});Object.assign(gb.prototype,{extractAllPoints:function extractAllPoints(a){console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.");return this.extractPoints(a)},extrude:function extrude(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new tb(this,a)},makeGeometry:function makeGeometry(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new vb(this,a)}});Object.assign(A.prototype,{fromAttribute:function fromAttribute(a,b,c){console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function distanceToManhattan(a){console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function lengthManhattan(){console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(p.prototype,{setEulerFromRotationMatrix:function setEulerFromRotationMatrix(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function setEulerFromQuaternion(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function getPositionFromMatrix(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(a)},getScaleFromMatrix:function getScaleFromMatrix(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function getColumnFromMatrix(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,a)},applyProjection:function applyProjection(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},fromAttribute:function fromAttribute(a,b,c){console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function distanceToManhattan(a){console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function lengthManhattan(){console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(Z.prototype,{fromAttribute:function fromAttribute(a,b,c){console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},lengthManhattan:function lengthManhattan(){console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(M.prototype,{computeTangents:function computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}});Object.assign(C.prototype,{getChildByName:function getChildByName(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function renderDepth(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function translate(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)},getWorldRotation:function getWorldRotation(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}});Object.defineProperties(C.prototype,{eulerOrder:{get:function get(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function set(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function get(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function set(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(Fc.prototype,{objects:{get:function get(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(Gc.prototype,"useVertexTexture",{get:function get(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function set(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Object.defineProperty(N.prototype,"__arcLengthDivisions",{get:function get(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function set(a){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=a}});V.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};Object.defineProperties(ca.prototype,{onlyShadow:{set:function set(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function set(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function set(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function set(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");this.shadow.camera.right=a}},shadowCameraTop:{set:function set(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function set(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function set(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function set(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");this.shadow.camera.far=a}},shadowCameraVisible:{set:function set(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function set(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function set(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function set(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");this.shadow.mapSize.width=a}},shadowMapHeight:{set:function set(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(I.prototype,{length:{get:function get(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}},copyIndicesArray:function copyIndicesArray(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}});Object.assign(F.prototype,{addIndex:function addIndex(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function addDrawCall(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function clearDrawCalls(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function computeTangents(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function computeOffsets(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(F.prototype,{drawcalls:{get:function get(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function get(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});Object.assign(Sa.prototype,{getArrays:function getArrays(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function addShapeList(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function addShape(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Qd.prototype,{dynamic:{set:function set(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function value(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});Object.defineProperties(L.prototype,{wrapAround:{get:function get(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function set(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function get(){console.warn("THREE.Material: .wrapRGB has been removed.");return new G}},shading:{get:function get(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function set(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=1===a}}});Object.defineProperties(Ha.prototype,{metal:{get:function get(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function set(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(la.prototype,{derivatives:{get:function get(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function set(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});Object.assign(ae.prototype,{clearTarget:function clearTarget(a,b,c,d){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.");this.setRenderTarget(a);this.clear(b,c,d)},animate:function animate(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop().");this.setAnimationLoop(a)},getCurrentRenderTarget:function getCurrentRenderTarget(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");return this.getRenderTarget()},getMaxAnisotropy:function getMaxAnisotropy(){console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().");return this.capabilities.getMaxAnisotropy()},getPrecision:function getPrecision(){console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.");return this.capabilities.precision},resetGLState:function resetGLState(){console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset().");return this.state.reset()},supportsFloatTextures:function supportsFloatTextures(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function supportsHalfFloatTextures(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function supportsStandardDerivatives(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function supportsCompressedTextureS3TC(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function supportsCompressedTexturePVRTC(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function supportsBlendMinMax(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function supportsVertexTextures(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");return this.capabilities.vertexTextures},supportsInstancedArrays:function supportsInstancedArrays(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function enableScissorTest(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function initMaterial(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function addPrePlugin(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function addPostPlugin(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function updateShadowMap(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function setFaceCulling(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}});Object.defineProperties(ae.prototype,{shadowMapEnabled:{get:function get(){return this.shadowMap.enabled},set:function set(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function get(){return this.shadowMap.type},set:function set(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function get(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function set(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(af.prototype,{cullFace:{get:function get(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function set(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function get(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function set(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function get(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function set(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(ib.prototype,{wrapS:{get:function get(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function set(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function get(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function set(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=a}},magFilter:{get:function get(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function set(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function get(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function set(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=a}},anisotropy:{get:function get(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function set(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function get(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function set(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=a}},repeat:{get:function get(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function set(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function get(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function set(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function get(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set:function set(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function get(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function set(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});Object.defineProperties(cf.prototype,{standing:{set:function set(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function set(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}});lc.prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var b=this;new ne().load(a,function(a){b.setBuffer(a)});return this};re.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};id.prototype.updateCubeMap=function(a,b){console.warn("THREE.CubeCamera: .updateCubeMap() is now .update().");return this.update(a,b)};hb.crossOrigin=void 0;hb.loadTexture=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new Ad;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};hb.loadTextureCube=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new ge;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};hb.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};hb.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};l.WebGLRenderTargetCube=Jb;l.WebGLRenderTarget=ib;l.WebGLRenderer=ae;l.ShaderLib=Qa;l.UniformsLib=H;l.UniformsUtils=va;l.ShaderChunk=K;l.FogExp2=Pb;l.Fog=Qb;l.Scene=vd;l.Sprite=Ec;l.LOD=Fc;l.SkinnedMesh=xd;l.Skeleton=Gc;l.Bone=wd;l.Mesh=ua;l.LineSegments=W;l.LineLoop=yd;l.Line=pa;l.Points=Sb;l.Group=Ob;l.VideoTexture=be;l.DataTexture=jb;l.Texture3D=Mb;l.CompressedTexture=Tb;l.CubeTexture=Ya;l.CanvasTexture=Hc;l.DepthTexture=Ic;l.Texture=Q;l.CompressedTextureLoader=mf;l.DataTextureLoader=fe;l.CubeTextureLoader=ge;l.TextureLoader=Ad;l.ObjectLoader=of;l.MaterialLoader=Pd;l.BufferGeometryLoader=ie;l.DefaultLoadingManager=ya;l.LoadingManager=ee;l.JSONLoader=je;l.ImageLoader=cd;l.ImageBitmapLoader=ke;l.FontLoader=pf;l.FileLoader=Ia;l.Loader=kc;l.LoaderUtils=Fe;l.Cache=Ib;l.AudioLoader=ne;l.SpotLightShadow=Cd;l.SpotLight=Dd;l.PointLight=Ed;l.RectAreaLight=Id;l.HemisphereLight=Bd;l.DirectionalLightShadow=Fd;l.DirectionalLight=Gd;l.AmbientLight=Hd;l.LightShadow=Fb;l.Light=ca;l.StereoCamera=qf;l.PerspectiveCamera=V;l.OrthographicCamera=fd;l.CubeCamera=id;l.ArrayCamera=Cc;l.Camera=Ra;l.AudioListener=oe;l.PositionalAudio=qe;l.AudioContext=pe;l.AudioAnalyser=re;l.Audio=lc;l.VectorKeyframeTrack=jc;l.StringKeyframeTrack=Od;l.QuaternionKeyframeTrack=hd;l.NumberKeyframeTrack=ic;l.ColorKeyframeTrack=Md;l.BooleanKeyframeTrack=Ld;l.PropertyMixer=se;l.PropertyBinding=ta;l.KeyframeTrack=qa;l.AnimationUtils=ra;l.AnimationObjectGroup=sf;l.AnimationMixer=te;l.AnimationClip=Ea;l.Uniform=Qd;l.InstancedBufferGeometry=ue;l.BufferGeometry=F;l.Geometry=M;l.InterleavedBufferAttribute=Dc;l.InstancedInterleavedBuffer=ve;l.InterleavedBuffer=qb;l.InstancedBufferAttribute=we;l.Face3=Xa;l.Object3D=C;l.Raycaster=uf;l.Layers=Wd;l.EventDispatcher=ia;l.Clock=wf;l.QuaternionLinearInterpolant=Nd;l.LinearInterpolant=gd;l.DiscreteInterpolant=Kd;l.CubicInterpolant=Jd;l.Interpolant=Aa;l.Triangle=da;l.Math=S;l.Spherical=xf;l.Cylindrical=yf;l.Plane=Pa;l.Frustum=rd;l.Sphere=Fa;l.Ray=pb;l.Matrix4=P;l.Matrix3=oa;l.Box3=Wa;l.Box2=ye;l.Line3=ze;l.Euler=kb;l.Vector4=Z;l.Vector3=p;l.Vector2=A;l.Quaternion=ja;l.Color=G;l.ImmediateRenderObject=jd;l.VertexNormalsHelper=kd;l.SpotLightHelper=mc;l.SkeletonHelper=nc;l.PointLightHelper=oc;l.RectAreaLightHelper=pc;l.HemisphereLightHelper=qc;l.GridHelper=ld;l.PolarGridHelper=Rd;l.FaceNormalsHelper=md;l.DirectionalLightHelper=rc;l.CameraHelper=nd;l.BoxHelper=Gb;l.Box3Helper=od;l.PlaneHelper=pd;l.ArrowHelper=Hb;l.AxesHelper=qd;l.Shape=gb;l.Path=Na;l.ShapePath=le;l.Font=me;l.CurvePath=ab;l.Curve=N;l.ImageUtils=hb;l.ShapeUtils=Za;l.WebGLUtils=bf;l.WireframeGeometry=Ub;l.ParametricGeometry=Jc;l.ParametricBufferGeometry=Vb;l.TetrahedronGeometry=Lc;l.TetrahedronBufferGeometry=Wb;l.OctahedronGeometry=Mc;l.OctahedronBufferGeometry=rb;l.IcosahedronGeometry=Nc;l.IcosahedronBufferGeometry=Xb;l.DodecahedronGeometry=Oc;l.DodecahedronBufferGeometry=Yb;l.PolyhedronGeometry=Kc;l.PolyhedronBufferGeometry=ma;l.TubeGeometry=Pc;l.TubeBufferGeometry=Zb;l.TorusKnotGeometry=Qc;l.TorusKnotBufferGeometry=$b;l.TorusGeometry=Rc;l.TorusBufferGeometry=ac;l.TextGeometry=Wc;l.TextBufferGeometry=bc;l.SphereGeometry=Xc;l.SphereBufferGeometry=ub;l.RingGeometry=Yc;l.RingBufferGeometry=cc;l.PlaneGeometry=yc;l.PlaneBufferGeometry=ob;l.LatheGeometry=Zc;l.LatheBufferGeometry=dc;l.ShapeGeometry=vb;l.ShapeBufferGeometry=wb;l.ExtrudeGeometry=tb;l.ExtrudeBufferGeometry=Sa;l.EdgesGeometry=ec;l.ConeGeometry=$c;l.ConeBufferGeometry=ad;l.CylinderGeometry=xb;l.CylinderBufferGeometry=$a;l.CircleGeometry=bd;l.CircleBufferGeometry=fc;l.BoxGeometry=Kb;l.BoxBufferGeometry=nb;l.ShadowMaterial=yb;l.SpriteMaterial=fb;l.RawShaderMaterial=gc;l.ShaderMaterial=la;l.PointsMaterial=Ga;l.MeshPhysicalMaterial=zb;l.MeshStandardMaterial=Ta;l.MeshPhongMaterial=Ha;l.MeshToonMaterial=Ab;l.MeshNormalMaterial=Bb;l.MeshLambertMaterial=Cb;l.MeshDepthMaterial=cb;l.MeshDistanceMaterial=db;l.MeshBasicMaterial=wa;l.MeshMatcapMaterial=Db;l.LineDashedMaterial=Eb;l.LineBasicMaterial=T;l.Material=L;l.Float64BufferAttribute=xc;l.Float32BufferAttribute=z;l.Uint32BufferAttribute=mb;l.Int32BufferAttribute=wc;l.Uint16BufferAttribute=lb;l.Int16BufferAttribute=vc;l.Uint8ClampedBufferAttribute=uc;l.Uint8BufferAttribute=tc;l.Int8BufferAttribute=sc;l.BufferAttribute=I;l.ArcCurve=hc;l.CatmullRomCurve3=ha;l.CubicBezierCurve=Ja;l.CubicBezierCurve3=Ua;l.EllipseCurve=Ca;l.LineCurve=za;l.LineCurve3=Ka;l.QuadraticBezierCurve=La;l.QuadraticBezierCurve3=Va;l.SplineCurve=Ma;l.REVISION="97dev";l.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};l.CullFaceNone=0;l.CullFaceBack=1;l.CullFaceFront=2;l.CullFaceFrontBack=3;l.FrontFaceDirectionCW=0;l.FrontFaceDirectionCCW=1;l.BasicShadowMap=0;l.PCFShadowMap=1;l.PCFSoftShadowMap=2;l.FrontSide=0;l.BackSide=1;l.DoubleSide=2;l.FlatShading=1;l.SmoothShading=2;l.NoColors=0;l.FaceColors=1;l.VertexColors=2;l.NoBlending=0;l.NormalBlending=1;l.AdditiveBlending=2;l.SubtractiveBlending=3;l.MultiplyBlending=4;l.CustomBlending=5;l.AddEquation=100;l.SubtractEquation=101;l.ReverseSubtractEquation=102;l.MinEquation=103;l.MaxEquation=104;l.ZeroFactor=200;l.OneFactor=201;l.SrcColorFactor=202;l.OneMinusSrcColorFactor=203;l.SrcAlphaFactor=204;l.OneMinusSrcAlphaFactor=205;l.DstAlphaFactor=206;l.OneMinusDstAlphaFactor=207;l.DstColorFactor=208;l.OneMinusDstColorFactor=209;l.SrcAlphaSaturateFactor=210;l.NeverDepth=0;l.AlwaysDepth=1;l.LessDepth=2;l.LessEqualDepth=3;l.EqualDepth=4;l.GreaterEqualDepth=5;l.GreaterDepth=6;l.NotEqualDepth=7;l.MultiplyOperation=0;l.MixOperation=1;l.AddOperation=2;l.NoToneMapping=0;l.LinearToneMapping=1;l.ReinhardToneMapping=2;l.Uncharted2ToneMapping=3;l.CineonToneMapping=4;l.UVMapping=300;l.CubeReflectionMapping=301;l.CubeRefractionMapping=302;l.EquirectangularReflectionMapping=303;l.EquirectangularRefractionMapping=304;l.SphericalReflectionMapping=305;l.CubeUVReflectionMapping=306;l.CubeUVRefractionMapping=307;l.RepeatWrapping=1E3;l.ClampToEdgeWrapping=1001;l.MirroredRepeatWrapping=1002;l.NearestFilter=1003;l.NearestMipMapNearestFilter=1004;l.NearestMipMapLinearFilter=1005;l.LinearFilter=1006;l.LinearMipMapNearestFilter=1007;l.LinearMipMapLinearFilter=1008;l.UnsignedByteType=1009;l.ByteType=1010;l.ShortType=1011;l.UnsignedShortType=1012;l.IntType=1013;l.UnsignedIntType=1014;l.FloatType=1015;l.HalfFloatType=1016;l.UnsignedShort4444Type=1017;l.UnsignedShort5551Type=1018;l.UnsignedShort565Type=1019;l.UnsignedInt248Type=1020;l.AlphaFormat=1021;l.RGBFormat=1022;l.RGBAFormat=1023;l.LuminanceFormat=1024;l.LuminanceAlphaFormat=1025;l.RGBEFormat=1023;l.DepthFormat=1026;l.DepthStencilFormat=1027;l.RedFormat=1028;l.RGB_S3TC_DXT1_Format=33776;l.RGBA_S3TC_DXT1_Format=33777;l.RGBA_S3TC_DXT3_Format=33778;l.RGBA_S3TC_DXT5_Format=33779;l.RGB_PVRTC_4BPPV1_Format=35840;l.RGB_PVRTC_2BPPV1_Format=35841;l.RGBA_PVRTC_4BPPV1_Format=35842;l.RGBA_PVRTC_2BPPV1_Format=35843;l.RGB_ETC1_Format=36196;l.RGBA_ASTC_4x4_Format=37808;l.RGBA_ASTC_5x4_Format=37809;l.RGBA_ASTC_5x5_Format=37810;l.RGBA_ASTC_6x5_Format=37811;l.RGBA_ASTC_6x6_Format=37812;l.RGBA_ASTC_8x5_Format=37813;l.RGBA_ASTC_8x6_Format=37814;l.RGBA_ASTC_8x8_Format=37815;l.RGBA_ASTC_10x5_Format=37816;l.RGBA_ASTC_10x6_Format=37817;l.RGBA_ASTC_10x8_Format=37818;l.RGBA_ASTC_10x10_Format=37819;l.RGBA_ASTC_12x10_Format=37820;l.RGBA_ASTC_12x12_Format=37821;l.LoopOnce=2200;l.LoopRepeat=2201;l.LoopPingPong=2202;l.InterpolateDiscrete=2300;l.InterpolateLinear=2301;l.InterpolateSmooth=2302;l.ZeroCurvatureEnding=2400;l.ZeroSlopeEnding=2401;l.WrapAroundEnding=2402;l.TrianglesDrawMode=0;l.TriangleStripDrawMode=1;l.TriangleFanDrawMode=2;l.LinearEncoding=3E3;l.sRGBEncoding=3001;l.GammaEncoding=3007;l.RGBEEncoding=3002;l.LogLuvEncoding=3003;l.RGBM7Encoding=3004;l.RGBM16Encoding=3005;l.RGBDEncoding=3006;l.BasicDepthPacking=3200;l.RGBADepthPacking=3201;l.TangentSpaceNormalMap=0;l.ObjectSpaceNormalMap=1;l.CubeGeometry=Kb;l.Face4=function(a,b,c,d,e,f,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new Xa(a,b,c,e,f,g)};l.LineStrip=0;l.LinePieces=1;l.MeshFaceMaterial=function(a){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return a};l.MultiMaterial=function(a){void 0===a&&(a=[]);console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");a.isMultiMaterial=!0;a.materials=a;a.clone=function(){return a.slice()};return a};l.PointCloud=function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new Sb(a,b)};l.Particle=function(a){console.warn("THREE.Particle has been renamed to THREE.Sprite.");return new Ec(a)};l.ParticleSystem=function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new Sb(a,b)};l.PointCloudMaterial=function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new Ga(a)};l.ParticleBasicMaterial=function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Ga(a)};l.ParticleSystemMaterial=function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new Ga(a)};l.Vertex=function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new p(a,b,c)};l.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return new I(a,b).setDynamic(!0)};l.Int8Attribute=function(a,b){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new sc(a,b)};l.Uint8Attribute=function(a,b){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new tc(a,b)};l.Uint8ClampedAttribute=function(a,b){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new uc(a,b)};l.Int16Attribute=function(a,b){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new vc(a,b)};l.Uint16Attribute=function(a,b){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");return new lb(a,b)};l.Int32Attribute=function(a,b){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new wc(a,b)};l.Uint32Attribute=function(a,b){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new mb(a,b)};l.Float32Attribute=function(a,b){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new z(a,b)};l.Float64Attribute=function(a,b){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new xc(a,b)};l.ClosedSplineCurve3=Af;l.SplineCurve3=Bf;l.Spline=Be;l.AxisHelper=function(a){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");return new qd(a)};l.BoundingBoxHelper=function(a,b){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new Gb(a,b)};l.EdgesHelper=function(a,b){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new W(new ec(a.geometry),new T({color:void 0!==b?b:16777215}))};l.WireframeHelper=function(a,b){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new W(new Ub(a.geometry),new T({color:void 0!==b?b:16777215}))};l.XHRLoader=function(a){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new Ia(a)};l.BinaryTextureLoader=function(a){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new fe(a)};l.GeometryUtils={merge:function merge(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b.isMesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function center(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};l.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};l.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};l.SceneUtils={createMultiMaterialObject:function createMultiMaterialObject(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function detach(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function attach(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};l.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")};Object.defineProperty(l,"__esModule",{value:!0})});</script><script>THREE.STLLoader=function(manager){this.manager=manager!==void 0?manager:THREE.DefaultLoadingManager};THREE.STLLoader.prototype={constructor:THREE.STLLoader,load:function load(url,onLoad,onProgress,onError){var scope=this,loader=new THREE.FileLoader(scope.manager);loader.setResponseType("arraybuffer");loader.load(url,function(text){try{onLoad(scope.parse(text))}catch(exception){if(onError){onError(exception)}}},onProgress,onError)},parse:function parse(data){function matchDataViewAt(query,reader,offset){for(var i=0,il=query.length;i<il;i++){if(query[i]!==reader.getUint8(offset+i,!1))return!1}return!0}var binData=function(buffer){if("string"===typeof buffer){for(var array_buffer=new Uint8Array(buffer.length),i=0;i<buffer.length;i++){array_buffer[i]=255&buffer.charCodeAt(i)}return array_buffer.buffer||array_buffer}else{return buffer}}(data);return function(data){var expect,face_size,n_faces,reader;reader=new DataView(data);face_size=3*(32/8)+3*(3*(32/8))+16/8;n_faces=reader.getUint32(80,!0);expect=80+32/8+n_faces*face_size;if(expect===reader.byteLength){return!0}for(var solid=[115,111,108,105,100],off=0;5>off;off++){if(matchDataViewAt(solid,reader,off))return!1}return!0}(binData)?function(data){for(var reader=new DataView(data),faces=reader.getUint32(80,!0),r,g,b,hasColors=!1,colors,defaultR,defaultG,defaultB,alpha,index=0;index<80-10;index++){if(1129270351==reader.getUint32(index,!1)&&82==reader.getUint8(index+4)&&61==reader.getUint8(index+5)){hasColors=!0;colors=[];defaultR=reader.getUint8(index+6)/255;defaultG=reader.getUint8(index+7)/255;defaultB=reader.getUint8(index+8)/255;alpha=reader.getUint8(index+9)/255}}for(var geometry=new THREE.BufferGeometry,vertices=[],normals=[],face=0;face<faces;face++){var start=84+face*(4*12+2),normalX=reader.getFloat32(start,!0),normalY=reader.getFloat32(start+4,!0),normalZ=reader.getFloat32(start+8,!0);if(hasColors){var packedColor=reader.getUint16(start+48,!0);if(0===(32768&packedColor)){r=(31&packedColor)/31;g=(31&packedColor>>5)/31;b=(31&packedColor>>10)/31}else{r=defaultR;g=defaultG;b=defaultB}}for(var i=1,vertexstart;3>=i;i++){vertexstart=start+12*i;vertices.push(reader.getFloat32(vertexstart,!0));vertices.push(reader.getFloat32(vertexstart+4,!0));vertices.push(reader.getFloat32(vertexstart+8,!0));normals.push(normalX,normalY,normalZ);if(hasColors){colors.push(r,g,b)}}}geometry.addAttribute("position",new THREE.BufferAttribute(new Float32Array(vertices),3));geometry.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(normals),3));if(hasColors){geometry.addAttribute("color",new THREE.BufferAttribute(new Float32Array(colors),3));geometry.hasColors=!0;geometry.alpha=alpha}return geometry}(binData):function(data){var geometry=new THREE.BufferGeometry,patternFace=/facet([\s\S]*?)endfacet/g,faceCounter=0,patternFloat=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,patternVertex=new RegExp("vertex"+patternFloat+patternFloat+patternFloat,"g"),patternNormal=new RegExp("normal"+patternFloat+patternFloat+patternFloat,"g"),vertices=[],normals=[],normal=new THREE.Vector3,result;while(null!==(result=patternFace.exec(data))){var vertexCountPerFace=0,normalCountPerFace=0,text=result[0];while(null!==(result=patternNormal.exec(text))){normal.x=parseFloat(result[1]);normal.y=parseFloat(result[2]);normal.z=parseFloat(result[3]);normalCountPerFace++}while(null!==(result=patternVertex.exec(text))){vertices.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3]));normals.push(normal.x,normal.y,normal.z);vertexCountPerFace++}if(1!==normalCountPerFace){console.error("THREE.STLLoader: Something isn't right with the normal of face number "+faceCounter)}if(3!==vertexCountPerFace){console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+faceCounter)}faceCounter++}geometry.addAttribute("position",new THREE.Float32BufferAttribute(vertices,3));geometry.addAttribute("normal",new THREE.Float32BufferAttribute(normals,3));return geometry}(function(buffer){if("string"!==typeof buffer){return THREE.LoaderUtils.decodeText(new Uint8Array(buffer))}return buffer}(data))}};</script><script>THREE.VTKLoader=function(manager){this.manager=manager!==void 0?manager:THREE.DefaultLoadingManager};Object.assign(THREE.VTKLoader.prototype,THREE.EventDispatcher.prototype,{load:function load(url,onLoad,onProgress,onError){var scope=this,loader=new THREE.FileLoader(scope.manager);loader.setResponseType("arraybuffer");loader.load(url,function(text){onLoad(scope.parse(text))},onProgress,onError)},parse:function parse(data){var _StringfromCharCode=String.fromCharCode;function parseASCII(data){var indices=[],positions=[],colors=[],normals=[],result,pat3Floats=/(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)/g,patConnectivity=/^(\d+)\s+([\s\d]*)/,patPOINTS=/^POINTS /,patPOLYGONS=/^POLYGONS /,patTRIANGLE_STRIPS=/^TRIANGLE_STRIPS /,patPOINT_DATA=/^POINT_DATA[ ]+(\d+)/,patCELL_DATA=/^CELL_DATA[ ]+(\d+)/,patCOLOR_SCALARS=/^COLOR_SCALARS[ ]+(\w+)[ ]+3/,patNORMALS=/^NORMALS[ ]+(\w+)[ ]+(\w+)/,inPointsSection=!1,inPolygonsSection=!1,inTriangleStripSection=!1,inPointDataSection=!1,inCellDataSection=!1,inColorSection=!1,inNormalsSection=!1,lines=data.split("\n");for(var i in lines){var line=lines[i];if(inPointsSection){while(null!==(result=pat3Floats.exec(line))){var x=parseFloat(result[1]),y=parseFloat(result[2]),z=parseFloat(result[3]);positions.push(x,y,z)}}else if(inPolygonsSection){if(null!==(result=patConnectivity.exec(line))){var numVertices=parseInt(result[1]),inds=result[2].split(/\s+/);if(3<=numVertices){for(var i0=parseInt(inds[0]),i1,i2,k=1,j=0;j<numVertices-2;++j){i1=parseInt(inds[k]);i2=parseInt(inds[k+1]);indices.push(i0,i1,i2);k++}}}}else if(inTriangleStripSection){if(null!==(result=patConnectivity.exec(line))){var numVertices=parseInt(result[1]),inds=result[2].split(/\s+/);if(3<=numVertices){for(var i0,i1,i2,j=0;j<numVertices-2;j++){if(1===j%2){i0=parseInt(inds[j]);i1=parseInt(inds[j+2]);i2=parseInt(inds[j+1]);indices.push(i0,i1,i2)}else{i0=parseInt(inds[j]);i1=parseInt(inds[j+1]);i2=parseInt(inds[j+2]);indices.push(i0,i1,i2)}}}}}else if(inPointDataSection||inCellDataSection){if(inColorSection){while(null!==(result=pat3Floats.exec(line))){var r=parseFloat(result[1]),g=parseFloat(result[2]),b=parseFloat(result[3]);colors.push(r,g,b)}}else if(inNormalsSection){while(null!==(result=pat3Floats.exec(line))){var nx=parseFloat(result[1]),ny=parseFloat(result[2]),nz=parseFloat(result[3]);normals.push(nx,ny,nz)}}}if(null!==patPOLYGONS.exec(line)){inPolygonsSection=!0;inPointsSection=!1;inTriangleStripSection=!1}else if(null!==patPOINTS.exec(line)){inPolygonsSection=!1;inPointsSection=!0;inTriangleStripSection=!1}else if(null!==patTRIANGLE_STRIPS.exec(line)){inPolygonsSection=!1;inPointsSection=!1;inTriangleStripSection=!0}else if(null!==patPOINT_DATA.exec(line)){inPointDataSection=!0;inPointsSection=!1;inPolygonsSection=!1;inTriangleStripSection=!1}else if(null!==patCELL_DATA.exec(line)){inCellDataSection=!0;inPointsSection=!1;inPolygonsSection=!1;inTriangleStripSection=!1}else if(null!==patCOLOR_SCALARS.exec(line)){inColorSection=!0;inNormalsSection=!1;inPointsSection=!1;inPolygonsSection=!1;inTriangleStripSection=!1}else if(null!==patNORMALS.exec(line)){inNormalsSection=!0;inColorSection=!1;inPointsSection=!1;inPolygonsSection=!1;inTriangleStripSection=!1}}var geometry=new THREE.BufferGeometry;geometry.setIndex(indices);geometry.addAttribute("position",new THREE.Float32BufferAttribute(positions,3));if(normals.length===positions.length){geometry.addAttribute("normal",new THREE.Float32BufferAttribute(normals,3))}if(colors.length!==indices.length){if(colors.length===positions.length){geometry.addAttribute("color",new THREE.Float32BufferAttribute(colors,3))}}else{geometry=geometry.toNonIndexed();var numTriangles=geometry.attributes.position.count/3;if(colors.length===3*numTriangles){for(var newColors=[],i=0;i<numTriangles;i++){var r=colors[3*i+0],g=colors[3*i+1],b=colors[3*i+2];newColors.push(r,g,b);newColors.push(r,g,b);newColors.push(r,g,b)}geometry.addAttribute("color",new THREE.Float32BufferAttribute(newColors,3))}}return geometry}function parseBinary(data){var count,pointIndex,i,numberOfPoints,s,buffer=new Uint8Array(data),dataView=new DataView(data),points=[],normals=[],indices=[],vtk=[],index=0;function findString(buffer,start){var index=start,c=buffer[index],s=[];while(10!==c){s.push(_StringfromCharCode(c));index++;c=buffer[index]}return{start:start,end:index,next:index+1,parsedString:s.join("")}}var state,line;while(!0){state=findString(buffer,index);line=state.parsedString;if(0===line.indexOf("POINTS")){vtk.push(line);numberOfPoints=parseInt(line.split(" ")[1],10);count=3*(4*numberOfPoints);points=new Float32Array(3*numberOfPoints);pointIndex=state.next;for(i=0;i<numberOfPoints;i++){points[3*i]=dataView.getFloat32(pointIndex,!1);points[3*i+1]=dataView.getFloat32(pointIndex+4,!1);points[3*i+2]=dataView.getFloat32(pointIndex+8,!1);pointIndex=pointIndex+12}state.next=state.next+count+1}else if(0===line.indexOf("TRIANGLE_STRIPS")){var numberOfStrips=parseInt(line.split(" ")[1],10),size=parseInt(line.split(" ")[2],10);count=4*size;indices=new Uint32Array(3*size-9*numberOfStrips);var indicesIndex=0;pointIndex=state.next;for(i=0;i<numberOfStrips;i++){var indexCount=dataView.getInt32(pointIndex,!1),strip=[];pointIndex+=4;for(s=0;s<indexCount;s++){strip.push(dataView.getInt32(pointIndex,!1));pointIndex+=4}for(var j=0;j<indexCount-2;j++){if(j%2){indices[indicesIndex++]=strip[j];indices[indicesIndex++]=strip[j+2];indices[indicesIndex++]=strip[j+1]}else{indices[indicesIndex++]=strip[j];indices[indicesIndex++]=strip[j+1];indices[indicesIndex++]=strip[j+2]}}}state.next=state.next+count+1}else if(0===line.indexOf("POLYGONS")){var numberOfStrips=parseInt(line.split(" ")[1],10),size=parseInt(line.split(" ")[2],10);count=4*size;indices=new Uint32Array(3*size-9*numberOfStrips);var indicesIndex=0;pointIndex=state.next;for(i=0;i<numberOfStrips;i++){var indexCount=dataView.getInt32(pointIndex,!1),strip=[];pointIndex+=4;for(s=0;s<indexCount;s++){strip.push(dataView.getInt32(pointIndex,!1));pointIndex+=4}for(var j=1;j<indexCount-1;j++){indices[indicesIndex++]=strip[0];indices[indicesIndex++]=strip[j];indices[indicesIndex++]=strip[j+1]}}state.next=state.next+count+1}else if(0===line.indexOf("POINT_DATA")){numberOfPoints=parseInt(line.split(" ")[1],10);state=findString(buffer,state.next);count=3*(4*numberOfPoints);normals=new Float32Array(3*numberOfPoints);pointIndex=state.next;for(i=0;i<numberOfPoints;i++){normals[3*i]=dataView.getFloat32(pointIndex,!1);normals[3*i+1]=dataView.getFloat32(pointIndex+4,!1);normals[3*i+2]=dataView.getFloat32(pointIndex+8,!1);pointIndex+=12}state.next=state.next+count}index=state.next;if(index>=buffer.byteLength){break}}var geometry=new THREE.BufferGeometry;geometry.setIndex(new THREE.BufferAttribute(indices,1));geometry.addAttribute("position",new THREE.BufferAttribute(points,3));if(normals.length===points.length){geometry.addAttribute("normal",new THREE.BufferAttribute(normals,3))}return geometry}function Float32Concat(first,second){var firstLength=first.length,result=new Float32Array(firstLength+second.length);result.set(first);result.set(second,firstLength);return result}function Int32Concat(first,second){var firstLength=first.length,result=new Int32Array(firstLength+second.length);result.set(first);result.set(second,firstLength);return result}function parseXML(stringFile){function xmlToJson(xml){var obj={};if(1===xml.nodeType){if(xml.attributes){if(0<xml.attributes.length){obj.attributes={};for(var j=0,attribute;j<xml.attributes.length;j++){attribute=xml.attributes.item(j);obj.attributes[attribute.nodeName]=attribute.nodeValue.trim()}}}}else if(3===xml.nodeType){obj=xml.nodeValue.trim()}if(xml.hasChildNodes()){for(var i=0;i<xml.childNodes.length;i++){var item=xml.childNodes.item(i),nodeName=item.nodeName;if("undefined"===typeof obj[nodeName]){var tmp=xmlToJson(item);if(""!==tmp)obj[nodeName]=tmp}else{if("undefined"===typeof obj[nodeName].push){var old=obj[nodeName];obj[nodeName]=[old]}var tmp=xmlToJson(item);if(""!==tmp)obj[nodeName].push(tmp)}}}return obj}function Base64toByteArray(b64){var Arr="undefined"!==typeof Uint8Array?Uint8Array:Array,i,lookup=[],revLookup=[],code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",len=code.length;for(i=0;i<len;i++){lookup[i]=code[i]}for(i=0;i<len;++i){revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;var j,l,tmp,placeHolders,arr,len=b64.length;if(0<len%4){throw new Error("Invalid string. Length must be a multiple of 4")}placeHolders="="===b64[len-2]?2:"="===b64[len-1]?1:0;arr=new Arr(3*len/4-placeHolders);l=0<placeHolders?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=(16711680&tmp)>>16;arr[L++]=(65280&tmp)>>8;arr[L++]=255&tmp}if(2===placeHolders){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=255&tmp}else if(1===placeHolders){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=255&tmp>>8;arr[L++]=255&tmp}return arr}function parseDataArray(ele,compressed){var numBytes=0;if("UInt64"===json.attributes.header_type){numBytes=8}else if("UInt32"===json.attributes.header_type){numBytes=4}if("binary"===ele.attributes.format&&compressed){var rawData,content,byteData,blocks,cSizeStart,headerSize,padding,dataOffsets,currentOffset;if("Float32"===ele.attributes.type){var txt=new Float32Array}else if("Int64"===ele.attributes.type){var txt=new Int32Array}rawData=ele["#text"];byteData=Base64toByteArray(rawData);blocks=byteData[0];for(var i=1;i<numBytes-1;i++){blocks=blocks|byteData[i]<<i*numBytes}headerSize=(blocks+3)*numBytes;padding=0<headerSize%3?3-headerSize%3:0;headerSize=headerSize+padding;dataOffsets=[];currentOffset=headerSize;dataOffsets.push(currentOffset);cSizeStart=3*numBytes;for(var i=0,currentBlockSize;i<blocks;i++){currentBlockSize=byteData[i*numBytes+cSizeStart];for(var j=1;j<numBytes-1;j++){currentBlockSize=currentBlockSize|byteData[i*numBytes+cSizeStart+j]<<8*j}currentOffset=currentOffset+currentBlockSize;dataOffsets.push(currentOffset)}for(var i=0,inflate;i<dataOffsets.length-1;i++){inflate=new Zlib.Inflate(byteData.slice(dataOffsets[i],dataOffsets[i+1]),{resize:!0,verify:!0});content=inflate.decompress();content=content.buffer;if("Float32"===ele.attributes.type){content=new Float32Array(content);txt=Float32Concat(txt,content)}else if("Int64"===ele.attributes.type){content=new Int32Array(content);txt=Int32Concat(txt,content)}}delete ele["#text"];if("Float32"===ele.attributes.type){if("binary"===ele.attributes.format){if(!compressed){txt=txt.filter(function(el,idx){if(0!==idx)return!0})}}}else if("Int64"===ele.attributes.type){if("binary"===ele.attributes.format){if(!compressed){txt=txt.filter(function(el,idx){if(0!==idx)return!0})}txt=txt.filter(function(el,idx){if(1!==idx%2)return!0})}}}else{if("binary"===ele.attributes.format&&!compressed){var content=Base64toByteArray(ele["#text"]);content=content.slice(numBytes).buffer}else{if(ele["#text"]){var content=ele["#text"].split(/\s+/).filter(function(el){if(""!==el)return el})}else{var content=new Int32Array(0).buffer}}delete ele["#text"];if("Float32"===ele.attributes.type){var txt=new Float32Array(content)}else if("Int32"===ele.attributes.type){var txt=new Int32Array(content)}else if("Int64"===ele.attributes.type){var txt=new Int32Array(content);if("binary"===ele.attributes.format){txt=txt.filter(function(el,idx){if(1!==idx%2)return!0})}}}return txt}var dom=null;if(window.DOMParser){try{dom=new DOMParser().parseFromString(stringFile,"text/xml")}catch(e){dom=null}}else if(window.ActiveXObject){try{dom=new ActiveXObject("Microsoft.XMLDOM");dom.async=!1;if(!dom.loadXML()){throw new Error(dom.parseError.reason+dom.parseError.srcText)}}catch(e){dom=null}}else{throw new Error("Cannot parse xml string!")}var doc=dom.documentElement,json=xmlToJson(doc),points=[],normals=[],indices=[];if(json.PolyData){var piece=json.PolyData.Piece,compressed=json.attributes.hasOwnProperty("compressor"),sections=["PointData","Points","Strips","Polys"],sectionIndex=0,numberOfSections=sections.length;while(sectionIndex<numberOfSections){var section=piece[sections[sectionIndex]];if(section&&section.DataArray){if("[object Array]"===Object.prototype.toString.call(section.DataArray)){var arr=section.DataArray}else{var arr=[section.DataArray]}var dataArrayIndex=0,numberOfDataArrays=arr.length;while(dataArrayIndex<numberOfDataArrays){if("#text"in arr[dataArrayIndex]&&0<arr[dataArrayIndex]["#text"].length){arr[dataArrayIndex].text=parseDataArray(arr[dataArrayIndex],compressed)}dataArrayIndex++}switch(sections[sectionIndex]){case"PointData":var numberOfPoints=parseInt(piece.attributes.NumberOfPoints),normalsName=section.attributes.Normals;if(0<numberOfPoints){for(var i=0,len=arr.length;i<len;i++){if(normalsName===arr[i].attributes.Name){var components=arr[i].attributes.NumberOfComponents;normals=new Float32Array(numberOfPoints*components);normals.set(arr[i].text,0)}}}break;case"Points":var numberOfPoints=parseInt(piece.attributes.NumberOfPoints);if(0<numberOfPoints){var components=section.DataArray.attributes.NumberOfComponents;points=new Float32Array(numberOfPoints*components);points.set(section.DataArray.text,0)}break;case"Strips":var numberOfStrips=parseInt(piece.attributes.NumberOfStrips);if(0<numberOfStrips){var connectivity=new Int32Array(section.DataArray[0].text.length),offset=new Int32Array(section.DataArray[1].text.length);connectivity.set(section.DataArray[0].text,0);offset.set(section.DataArray[1].text,0);var size=numberOfStrips+connectivity.length;indices=new Uint32Array(3*size-9*numberOfStrips);for(var indicesIndex=0,i=0,len=numberOfStrips,strip;i<len;i++){strip=[];for(var s=0,len1=offset[i],len0=0;s<len1-len0;s++){strip.push(connectivity[s]);if(0<i)len0=offset[i-1]}for(var j=0,len1=offset[i],len0=0;j<len1-len0-2;j++){if(j%2){indices[indicesIndex++]=strip[j];indices[indicesIndex++]=strip[j+2];indices[indicesIndex++]=strip[j+1]}else{indices[indicesIndex++]=strip[j];indices[indicesIndex++]=strip[j+1];indices[indicesIndex++]=strip[j+2]}if(0<i)len0=offset[i-1]}}}break;case"Polys":var numberOfPolys=parseInt(piece.attributes.NumberOfPolys);if(0<numberOfPolys){var connectivity=new Int32Array(section.DataArray[0].text.length),offset=new Int32Array(section.DataArray[1].text.length);connectivity.set(section.DataArray[0].text,0);offset.set(section.DataArray[1].text,0);var size=numberOfPolys+connectivity.length;indices=new Uint32Array(3*size-9*numberOfPolys);var indicesIndex=0,connectivityIndex=0,i=0,len=numberOfPolys,len0=0;while(i<len){var poly=[],s=0,len1=offset[i];while(s<len1-len0){poly.push(connectivity[connectivityIndex++]);s++}var j=1;while(j<len1-len0-1){indices[indicesIndex++]=poly[0];indices[indicesIndex++]=poly[j];indices[indicesIndex++]=poly[j+1];j++}i++;len0=offset[i-1]}}break;default:break;}}sectionIndex++}var geometry=new THREE.BufferGeometry;geometry.setIndex(new THREE.BufferAttribute(indices,1));geometry.addAttribute("position",new THREE.BufferAttribute(points,3));if(normals.length===points.length){geometry.addAttribute("normal",new THREE.BufferAttribute(normals,3))}return geometry}}function getStringFile(data){var stringFile="",charArray=new Uint8Array(data),i=0,len=charArray.length;while(len--){stringFile+=_StringfromCharCode(charArray[i++])}return stringFile}var meta=THREE.LoaderUtils.decodeText(new Uint8Array(data,0,250)).split("\n");if(-1!==meta[0].indexOf("xml")){return parseXML(getStringFile(data))}else if(meta[2].includes("ASCII")){return parseASCII(getStringFile(data))}else{return parseBinary(data)}}});</script><script>!function(e,t){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"object"==("undefined"===typeof module?"undefined":babelHelpers.typeof(module))?module.exports=t():"function"==typeof define&&define.amd?define("AMI",[],t):"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))?exports.AMI=t():e.AMI=t()}(window,function(){var _NumberisNaN=Number.isNaN,_MathLN=Math.LN2,_Mathround=Math.round,_Mathpow=Math.pow,_Mathfloor=Math.floor,_Mathsqrt=Math.sqrt,_Mathlog=Math.log,_Mathatan=Math.atan2,_Mathacos=Math.acos,_Mathtan=Math.tan,_Mathsin=Math.sin,_Mathcos=Math.cos,_Mathabs=Math.abs,_Mathmax=Math.max,_Mathmin=Math.min,_Mathceil=Math.ceil,_StringfromCharCode=String.fromCharCode;return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==babelHelpers.typeof(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e){i.d(n,r,function(t){return e[t]}.bind(null,r))}return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=28)}([function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1),i;t.length;){i=t.shift();if(i){if("object"!=babelHelpers.typeof(i))throw new TypeError(i+"must be non-object");for(var n in i){i.hasOwnProperty(n)&&(e[n]=i[n])}}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function arraySet(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var o=0;o<n;o++){e[r+o]=t[i+o]}},flattenChunks:function flattenChunks(e){var t,i,n,r,o,a;for(n=0,t=0,i=e.length;t<i;t++){n+=e[t].length}for(a=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++){o=e[t],a.set(o,r),r+=o.length}return a}},o={arraySet:function arraySet(e,t,i,n,r){for(var o=0;o<n;o++){e[r+o]=t[i+o]}},flattenChunks:function flattenChunks(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},function(e){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||function(e,t,i){this.buffer=new DataView(e,t,i),this.index=0},n.lossless.DataStream.prototype.get16=function(){var e=this.buffer.getUint16(this.index,!1);return this.index+=2,e},n.lossless.DataStream.prototype.get8=function(){var e=this.buffer.getUint8(this.index);return this.index+=1,e},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.DataStream)},function(e){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.Utils=n.lossless.Utils||{},n.lossless.Utils.createArray=function(e){var t=Array(e||0),i=e;if(1<arguments.length)for(var r=Array.prototype.slice.call(arguments,1);i--;){t[e-1-i]=n.lossless.Utils.createArray.apply(this,r)}return t},n.lossless.Utils.makeCRCTable=function(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++){e=1&e?3988292384^e>>>1:e>>>1}t[i]=e}return t},n.lossless.Utils.crc32=function(e){for(var t=n.lossless.Utils.crcTable||(n.lossless.Utils.crcTable=n.lossless.Utils.makeCRCTable()),i=-1,r=0;r<e.byteLength;r++){i=i>>>8^t[255&(i^e.getUint8(r))]}return(-1^i)>>>0},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.Utils)},function(e,t,i){"use strict";var n=n||{};n.NIFTI1=n.NIFTI1||i(20),n.NIFTI2=n.NIFTI2||i(47),n.Utils=n.Utils||i(9);var r=r||i(4);n.isNIFTI1=function(e){var t,i,r,o;return i=(t=new DataView(e)).getUint8(n.NIFTI1.MAGIC_NUMBER_LOCATION),r=t.getUint8(n.NIFTI1.MAGIC_NUMBER_LOCATION+1),o=t.getUint8(n.NIFTI1.MAGIC_NUMBER_LOCATION+2),!(i!==n.NIFTI1.MAGIC_NUMBER[0]||r!==n.NIFTI1.MAGIC_NUMBER[1]||o!==n.NIFTI1.MAGIC_NUMBER[2])},n.isNIFTI2=function(e){var t,i,r,o;return i=(t=new DataView(e)).getUint8(n.NIFTI2.MAGIC_NUMBER_LOCATION),r=t.getUint8(n.NIFTI2.MAGIC_NUMBER_LOCATION+1),o=t.getUint8(n.NIFTI2.MAGIC_NUMBER_LOCATION+2),!(i!==n.NIFTI2.MAGIC_NUMBER[0]||r!==n.NIFTI2.MAGIC_NUMBER[1]||o!==n.NIFTI2.MAGIC_NUMBER[2])},n.isNIFTI=function(e){return n.isNIFTI1(e)||n.isNIFTI2(e)},n.isCompressed=function(e){var t,i,r;if(e){if(i=(t=new DataView(e)).getUint8(0),r=t.getUint8(1),i===n.Utils.GUNZIP_MAGIC_COOKIE1)return!0;if(r===n.Utils.GUNZIP_MAGIC_COOKIE2)return!0}return!1},n.decompress=function(e){return r.inflate(e).buffer},n.readHeader=function(e){var t=null;return n.isCompressed(e)&&(e=n.decompress(e)),n.isNIFTI1(e)?t=new n.NIFTI1:n.isNIFTI2(e)&&(t=new n.NIFTI2),t?t.readHeader(e):console.error("That file does not appear to be NIFTI!"),t},n.hasExtension=function(e){return 0!=e.extensionFlag[0]},n.readImage=function(e,t){var i=e.vox_offset,n=1,r=1;e.dims[4]&&(n=e.dims[4]),e.dims[5]&&(r=e.dims[5]);var o=e.dims[1]*e.dims[2]*e.dims[3]*n*r*(e.numBitsPerVoxel/8);return t.slice(i,i+o)},n.readExtension=function(e,t){var i=e.getExtensionLocation(),n=e.extensionSize;return t.slice(i,i+n)},n.readExtensionData=function(e,t){var i=e.getExtensionLocation(),n=e.extensionSize;return t.slice(i+8,i+n-8)},"undefined"!==typeof e&&e.exports&&(e.exports=n)},function(e,t,i){"use strict";var n={};(0,i(0).assign)(n,i(29),i(32),i(17)),e.exports=n},function(e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e){"use strict";e.exports=function(e){return"string"==typeof e}},function(e,t,i){"use strict";var n=i(42);e.exports=function(e){return n(e)&&0<=e}},function(e,t,i){"use strict";var n=i(6),r=i(7);e.exports=function(e,t){var i,a;if(!n(e))throw new TypeError("invalid input argument. First argument must be a string. Value: `"+e+"`.");if(!r(t))throw new TypeError("invalid input argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(0===e.length||0===t)return"";if(e.length*t>9007199254740991)throw new RangeError("invalid input argument. Output string length exceeds maximum allowed string length.");for(i="",a=t;1==(1&a)&&(i+=e),0!=(a>>>=1);){e+=e}return i}},function(e){"use strict";var n=n||{};n.Utils=n.Utils||{},n.Utils.crcTable=null,n.Utils.GUNZIP_MAGIC_COOKIE1=31,n.Utils.GUNZIP_MAGIC_COOKIE2=139,n.Utils.getStringAt=function(e,t,i){var n,r,o="";for(n=t;n<i;n+=1){0!==(r=e.getUint8(n))&&(o+=_StringfromCharCode(r))}return o},n.Utils.getByteAt=function(e,t){return e.getInt8(t)},n.Utils.getShortAt=function(e,t,i){return e.getInt16(t,i)},n.Utils.getIntAt=function(e,t,i){return e.getInt32(t,i)},n.Utils.getFloatAt=function(e,t,i){return e.getFloat32(t,i)},n.Utils.getDoubleAt=function(e,t,i){return e.getFloat64(t,i)},n.Utils.getLongAt=function(e,t,i){var r,o=[],a=0;for(r=0;8>r;r+=1){o[r]=n.Utils.getByteAt(e,t+r,i)}for(r=o.length-1;0<=r;r--){a=256*a+o[r]}return a},n.Utils.toArrayBuffer=function(e){var t,i,n;for(t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n<e.length;n+=1){i[n]=e[n]}return t},n.Utils.isString=function(e){return"string"==typeof e||babelHelpers.instanceof(e,String)},n.Utils.formatNumber=function(e,t){var i=0;return i=n.Utils.isString(e)?+e:e,i=t?i.toPrecision(5):i.toPrecision(7),parseFloat(i)},n.Utils.makeCRCTable=function(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++){e=1&e?3988292384^e>>>1:e>>>1}t[i]=e}return t},n.Utils.crc32=function(e){for(var t=n.Utils.crcTable||(n.Utils.crcTable=n.Utils.makeCRCTable()),i=-1,r=0;r<e.byteLength;r++){i=i>>>8^t[255&(i^e.getUint8(r))]}return(-1^i)>>>0},"undefined"!==typeof e&&e.exports&&(e.exports=n.Utils)},function(e){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],h=!1,u=-1;function f(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!h){var e=s(f);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;){l&&l[u].run()}u=-1,t=c.length}l=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}c.push(new p(e,t)),1!==c.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(){return[]},r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e){var i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"===typeof window?"undefined":babelHelpers.typeof(window))&&(i=window)}e.exports=i},function(e,t,i){(function(t,n){e.exports=function(e){var r,o=void 0!==(e=e||{})?e:{},a={};for(r in o){o.hasOwnProperty(r)&&(a[r]=o[r])}o.arguments=[],o.thisProgram="./this.program",o.quit=function(e,t){throw t},o.preRun=[],o.postRun=[];var s,l,c=!1,h=!1,u=!1,f=!1;if(o.ENVIRONMENT){if("WEB"===o.ENVIRONMENT)c=!0;else if("WORKER"===o.ENVIRONMENT)h=!0;else if("NODE"===o.ENVIRONMENT)u=!0;else{if("SHELL"!==o.ENVIRONMENT)throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");f=!0}}else c="object"==("undefined"===typeof window?"undefined":babelHelpers.typeof(window)),h="function"==typeof importScripts,u="object"==babelHelpers.typeof(t)&&!c&&!h,f=!c&&!u&&!h;u?(o.read=function(e,t){var n;return(n=Ee(e))||(s||(s=i(52)),l||(l=i(53)),e=l.normalize(e),n=s.readFileSync(e)),t?n:n.toString()},o.readBinary=function(e){var t=o.read(e,!0);return t.buffer||(t=new Uint8Array(t)),y(t.buffer),t},1<t.argv.length&&(o.thisProgram=t.argv[1].replace(/\\/g,"/")),o.arguments=t.argv.slice(2),t.on("uncaughtException",function(e){if(!babelHelpers.instanceof(e,ze))throw e}),t.on("unhandledRejection",function(){t.exit(1)}),o.inspect=function(){return"[Emscripten Module object]"}):f?("undefined"!=typeof read&&(o.read=function(e){var t=Ee(e);return t?Ie(t):read(e)}),o.readBinary=function(e){var t;return(t=Ee(e))?t:"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(y("object"==babelHelpers.typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?o.arguments=scriptArgs:void 0!==arguments&&(o.arguments=arguments),"function"==typeof quit&&(o.quit=function(e){quit(e)})):(c||h)&&(o.read=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(t){var i=Ee(e);if(i)return Ie(i);throw t}},h&&(o.readBinary=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){var i=Ee(e);if(i)return i;throw t}}),o.readAsync=function(e,t,i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)t(n.response);else{var r=Ee(e);r?t(r.buffer):i()}},n.onerror=i,n.send(null)},void 0!==arguments&&(o.arguments=arguments),o.setWindowTitle=function(e){document.title=e});for(r in o.print="undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null,o.printErr="undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||o.print,o.print=o.print,o.printErr=o.printErr,a){a.hasOwnProperty(r)&&(o[r]=a[r])}a=void 0;function p(e){y(!G);var t=R;return R=-16&R+e+15,t}function _(e,t){return t||(t=16),e=_Mathceil(e/t)*t}function m(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var t=parseInt(e.substr(1));return y(0==t%8),t/8}return 0;}}var b=0;function y(e,t){e||Ve("Assertion failed: "+t)}var g={stackSave:function stackSave(){Re()},stackRestore:function stackRestore(){De()},arrayToC:function arrayToC(e){var t=Te(e.length);return re(e,t),t},stringToC:function stringToC(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var i=1+(e.length<<2);!function(e,t,i){!function(e,t,i,n){if(!(0<n))return 0;for(var r=i+n-1,o=0,a;o<e.length;++o){a=e.charCodeAt(o);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),127>=a){if(i>=r)break;t[i++]=a}else if(2047>=a){if(i+1>=r)break;t[i++]=192|a>>6,t[i++]=128|63&a}else if(65535>=a){if(i+2>=r)break;t[i++]=224|a>>12,t[i++]=128|63&a>>6,t[i++]=128|63&a}else if(2097151>=a){if(i+3>=r)break;t[i++]=240|a>>18,t[i++]=128|63&a>>12,t[i++]=128|63&a>>6,t[i++]=128|63&a}else if(67108863>=a){if(i+4>=r)break;t[i++]=248|a>>24,t[i++]=128|63&a>>18,t[i++]=128|63&a>>12,t[i++]=128|63&a>>6,t[i++]=128|63&a}else{if(i+5>=r)break;t[i++]=252|a>>30,t[i++]=128|63&a>>24,t[i++]=128|63&a>>18,t[i++]=128|63&a>>12,t[i++]=128|63&a>>6,t[i++]=128|63&a}}t[i]=0}(e,B,t,i)}(e,t=Te(i),i)}return t}},v={string:g.stringToC,array:g.arrayToC};function A(e,t,i){switch("*"===(i=i||"i8").charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":C[e>>0]=t;break;case"i16":M[e>>1]=t;break;case"i32":P[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,1<=+oe(tempDouble)?0<tempDouble?(0|ce(+se(tempDouble/4294967296),4294967295))>>>0:~~+ae((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],P[e>>2]=tempI64[0],P[e+4>>2]=tempI64[1];break;case"float":T[e>>2]=t;break;case"double":D[e>>3]=t;break;default:Ve("invalid type for setValue: "+i);}}var w=2;function k(e,t){if(0===t||!e)return"";for(var i,n=0,r=0;n|=i=B[e+r>>0],(0!=i||t)&&(r++,!t||r!=t);){}t||(t=r);var o="";if(128>n){for(var a;0<t;){a=_StringfromCharCode.apply(String,B.subarray(e,e+_Mathmin(t,1024))),o=o?o+a:a,e+=1024,t-=1024}return o}return function(e){return S(B,e)}(e)}var I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,t){for(var i=t;e[i];){++i}if(16<i-t&&e.subarray&&I)return I.decode(e.subarray(t,i));for(var n,r,o,a,s,l="";;){if(!(n=e[t++]))return l;if(128&n){if(r=63&e[t++],192!=(224&n)){if(o=63&e[t++],224==(240&n)?n=(15&n)<<12|r<<6|o:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|r<<12|o<<6|a:(s=63&e[t++],n=248==(252&n)?(3&n)<<24|r<<18|o<<12|a<<6|s:(1&n)<<30|r<<24|o<<18|a<<12|s<<6|63&e[t++])),65536>n)l+=_StringfromCharCode(n);else{var c=n-65536;l+=_StringfromCharCode(55296|c>>10,56320|1023&c)}}else l+=_StringfromCharCode((31&n)<<6|r);}else l+=_StringfromCharCode(n)}}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var E,C,B,M,P,T,D,R,G,O,F,L,Z,z;function H(e,t){return 0<e%t&&(e+=t-e%t),e}function W(){o.HEAP8=C=new Int8Array(E),o.HEAP16=M=new Int16Array(E),o.HEAP32=P=new Int32Array(E),o.HEAPU8=B=new Uint8Array(E),o.HEAPU16=new Uint16Array(E),o.HEAPU32=new Uint32Array(E),o.HEAPF32=T=new Float32Array(E),o.HEAPF64=D=new Float64Array(E)}function j(){var e=o.usingWasm?65536:16777216,t=2147483648-e;if(P[Z>>2]>t)return!1;var i=X;for(X=_Mathmax(X,16777216);X<P[Z>>2];){X=536870912>=X?H(2*X,e):_Mathmin(H((3*X+2147483648)/4,e),t)}var n=o.reallocBuffer(X);return n&&n.byteLength==X?(function(e){o.buffer=E=e}(n),W(),!0):(X=i,!1)}R=O=Z=0,G=!1,o.reallocBuffer||(o.reallocBuffer=function(e){var t;try{if(ArrayBuffer.transfer)t=ArrayBuffer.transfer(E,e);else{var i=C;t=new ArrayBuffer(e),new Int8Array(t).set(i)}}catch(e){return!1}return!!Me(t)&&t});try{(z=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get))(new ArrayBuffer(4))}catch(e){z=function(e){return e.byteLength}}var Y=o.TOTAL_STACK||5242880,X=o.TOTAL_MEMORY||16777216;if(X<Y&&o.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+X+"! (TOTAL_STACK="+Y+")"),o.buffer?E=o.buffer:(E=new ArrayBuffer(X),o.buffer=E),W(),P[0]=1668509029,M[1]=25459,115!==B[2]||99!==B[3])throw"Runtime error: expected the system to be little-endian!";function Q(e){for(;0<e.length;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"==typeof i?void 0===t.arg?o.dynCall_v(i):o.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}var J=[],q=[],K=[],$=[],ee=[],te=!1;function ie(e){J.unshift(e)}function ne(e){ee.unshift(e)}function re(e,t){C.set(e,t)}var oe=_Mathabs,ae=(_Mathcos,_Mathsin,_Mathtan,_Mathacos,Math.asin,Math.atan,_Mathatan,Math.exp,_Mathlog,_Mathsqrt,_Mathceil),se=_Mathfloor,ce=(Math.imul,Math.fround,_Mathround,_Mathmin),he=(_Mathmax,Math.clz32,Math.trunc,0),ue=null,fe=null;o.preloadedImages={},o.preloadedAudios={};var de=null,pe="data:application/octet-stream;base64,";function _e(e){return String.prototype.startsWith?e.startsWith(pe):0===e.indexOf(pe)}R=26360,q.push(),de="data:application/octet-stream;base64,g8DKoUW2+z9/+zpwzojqP3/7OnDOiOo/g8DKoUW2+z/hehSuR+H8P166SQwCK/k/AAAAAAAA8D8AAAAAAAD4PwAAAAAAAAZAAAAAAACAFUBcj8L1KFwlQNejcD0KVzVA9ihcj8JVRUCF61G4HlVVQGZmZmZmVmVAzczMzMxUdUDP91PjpZvwP0a28/3UePk/JzEIrBxaB0AdWmQ7388WQClcj8L1qCZApHA9CtejNkAAAAAAAKBGQB+F61G4nlZAzczMzMycZkAAAAAAAAAAAM/3U+Olm/A/Rrbz/dR4+T8nMQisHFoHQB1aZDvfzxZAKVyPwvWoJkCkcD0K16M2QAAAAAAAoEZAH4XrUbieVkDNzMzMzJxmQAAAAAAAAAAArfpcbcX+5j9Wfa62Yn/tP8dLN4lBYPk/8tJNYhBYCED6fmq8dBMYQIXrUbgeBShAAAAAAAAAOEBcj8L1KPxHQOxRuB6F+1dAAAAAAAAAAAAAAAAAAADwP3E9CtejcP8/aJHtfD+1EEB1kxgEVs4gQGZmZmZm5jBA7FG4HoXrQEBcj8L1KOxQQJqZmZmZ6WBAmpmZmZnpcEAzMzMzM+eAQJMYBFYOLQBAtvP91HjpD0D2KFyPwrUgQArXo3A9CjFAw/UoXI8iQUC4HoXrUShRQJqZmZmZKWFAmpmZmZkpcUAAAAAAACiBQAAAAAAAAAAAkxgEVg4tAEC28/3UeOkPQPYoXI/CtSBACtejcD0KMUDD9ShcjyJBQLgehetRKFFAmpmZmZkpYUCamZmZmSlxQAAAAAAAKIFAAAAAAAAAAACkcD0K16MAQOxRuB6F6w5Ad76fGi+dIECuR+F6FC4xQHsUrkfhWkFA9ihcj8JlUUCamZmZmWlhQJqZmZmZaXFAmpmZmZlpgUAAAAAAAAAAAAQAAABDUFJMAAAAAAAAAABMUkNQAAAAAAMAAABQQ1JMAAAAAAEAAABSTENQAAAAAAIAAABSUENMAAAAAP////8AAAAAAAAAAAEAAAACAAAAAwAAAAQAAACQ/wAADAAAAAEAAABS/wAAFAAAAAIAAABT/wAAFAAAAAMAAABe/wAAFAAAAAQAAABc/wAAFAAAAAUAAABd/wAAFAAAAAYAAABf/wAAFAAAAAcAAABR/wAAAgAAAAgAAABV/wAABAAAAAkAAABX/wAABAAAAAoAAABY/wAAEAAAAAsAAABg/wAABAAAAAwAAABh/wAAEAAAAA0AAACR/wAAAAAAAAAAAABj/wAABAAAAA4AAABk/wAAFAAAAA8AAAB0/wAAFAAAABAAAAB4/wAABAAAABEAAAB1/wAAFAAAABIAAAB3/wAAFAAAABMAAAAAAAAAFAAAAAAAAAACAAAABAAAAAQAAAAIAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAAgIFBqFAAAAHB5dGYVAAAAaDJwahYAAAByZGhpFwAAAHJsb2MYAAAAY2NwYhkAAABybGNwGgAAAHBhbWMbAAAAZmVkYxwAAAABVgAAAAAAAKQEAAC0BAAAAVYAAAEAAAC0BAAApAQAAAE0AAAAAAAAxAQAAEQFAAABNAAAAQAAANQEAABUBQAAARgAAAAAAADkBAAApAUAAAEYAAABAAAA9AQAALQFAADBCgAAAAAAAAQFAAAEBgAAwQoAAAEAAAAUBQAAFAYAACEFAAAAAAAAJAUAACQIAAAhBQAAAQAAADQFAAA0CAAAIQIAAAAAAABECQAApAgAACECAAABAAAAVAkAALQIAAABVgAAAAAAAGQFAABUBQAAAVYAAAEAAAB0BQAARAUAAAFUAAAAAAAAhAUAAEQGAAABVAAAAQAAAJQFAABUBgAAAUgAAAAAAACkBQAARAYAAAFIAAABAAAAtAUAAFQGAAABOAAAAAAAAMQFAABEBgAAATgAAAEAAADUBQAAVAYAAAEwAAAAAAAA5AUAAKQGAAABMAAAAQAAAPQFAAC0BgAAASQAAAAAAAAEBgAAxAYAAAEkAAABAAAAFAYAANQGAAABHAAAAAAAACQGAAAEBwAAARwAAAEAAAA0BgAAFAcAAAEWAAAAAAAAJAgAACQHAAABFgAAAQAAADQIAAA0BwAAAVYAAAAAAABkBgAAVAYAAAFWAAABAAAAdAYAAEQGAAABVAAAAAAAAIQGAABEBgAAAVQAAAEAAACUBgAAVAYAAAFRAAAAAAAApAYAAGQGAAABUQAAAQAAALQGAAB0BgAAAUgAAAAAAADEBgAAhAYAAAFIAAABAAAA1AYAAJQGAAABOAAAAAAAAOQGAACkBgAAATgAAAEAAAD0BgAAtAYAAAE0AAAAAAAABAcAAMQGAAABNAAAAQAAABQHAADUBgAAATAAAAAAAAAkBwAA5AYAAAEwAAABAAAANAcAAPQGAAABKAAAAAAAAEQHAADkBgAAASgAAAEAAABUBwAA9AYAAAEkAAAAAAAAZAcAAAQHAAABJAAAAQAAAHQHAAAUBwAAASIAAAAAAACEBwAAJAcAAAEiAAABAAAAlAcAADQHAAABHAAAAAAAAKQHAABEBwAAARwAAAEAAAC0BwAAVAcAAAEYAAAAAAAAxAcAAGQHAAABGAAAAQAAANQHAAB0BwAAARYAAAAAAADkBwAAhAcAAAEWAAABAAAA9AcAAJQHAAABFAAAAAAAAAQIAACkBwAAARQAAAEAAAAUCAAAtAcAAAESAAAAAAAAJAgAAMQHAAABEgAAAQAAADQIAADUBwAAAREAAAAAAABECAAA5AcAAAERAAABAAAAVAgAAPQHAADBCgAAAAAAAGQIAAAECAAAwQoAAAEAAAB0CAAAFAgAAMEJAAAAAAAAhAgAACQIAADBCQAAAQAAAJQIAAA0CAAAoQgAAAAAAACkCAAARAgAAKEIAAABAAAAtAgAAFQIAAAhBQAAAAAAAMQIAABkCAAAIQUAAAEAAADUCAAAdAgAAEEEAAAAAAAA5AgAAIQIAABBBAAAAQAAAPQIAACUCAAAoQIAAAAAAAAECQAApAgAAKECAAABAAAAFAkAALQIAAAhAgAAAAAAACQJAADECAAAIQIAAAEAAAA0CQAA1AgAAEEBAAAAAAAARAkAAOQIAABBAQAAAQAAAFQJAAD0CAAAEQEAAAAAAABkCQAABAkAABEBAAABAAAAdAkAABQJAACFAAAAAAAAAIQJAAAkCQAAhQAAAAEAAACUCQAANAkAAEkAAAAAAAAApAkAAEQJAABJAAAAAQAAALQJAABUCQAAJQAAAAAAAADECQAAZAkAACUAAAABAAAA1AkAAHQJAAAVAAAAAAAAAOQJAACECQAAFQAAAAEAAAD0CQAAlAkAAAkAAAAAAAAABAoAAKQJAAAJAAAAAQAAABQKAAC0CQAABQAAAAAAAAAkCgAAxAkAAAUAAAABAAAANAoAANQJAAABAAAAAAAAACQKAADkCQAAAQAAAAEAAAA0CgAA9AkAAAFWAAAAAAAARAoAAEQKAAABVgAAAQAAAFQKAABUCgAAaAoAAAUAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAA6GIAAAAEAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAr/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABoCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC4YgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAEIAAgAoAAgAgQABABAAAAAAAAAAAAAAAAgACAAIAAgAAAAQABAAGAAYABAAIAAoACgAIAAwADgAMABAAEgAQABYAFgAUABoAGAAeABwAIgAgACYAJAAqACoALAAyADAANAA6ADgAPABCAEIARABIAE4ATgBQAFQAWABeAF4AYgBmAGgAbABwAHQAeAB8AIAAhACIAIwAkACWAJoAngCiAKQArACwALYAugC8AMQAygDOANAA2ADeAOAA6ADuAPAA+gD+AQABCgEMARYBGAEiASQBLgEwAToBPgFEAU4BUAFYAWIBZAFsAXYBegGAAYgBkgGWAZwBpAGsAbYBugHCAcoB0AHYAeAB6AHwAfgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAEAA4AEAAaABwAJgAoADIANAA+AEAASgBMAFYAWABiAGQAbgBwAHoAfACGAIgAkgCUAJ4AoACqAKwAtgC4AMIAxADOANAA2gDcAOYA6ADyAPQA/gEAAQoBDAEWARgBIgEkAS4BMAE6ATwBRgFIAVIBVAFeAWABagFsAXYBeAGCAYQBjgGQAZoBnAGmAagBsgG0Ab4BwAHKAcwB1gHYAIAAfAB4AHQAcABuAGoAZgBiAFwAXABYAFYAUgBMAEwASgBGAEAAQAA+ADgAOAA2ADAAMgAuACgAKgAkACYAIAAiABwAHgAYABoAFgAUABYAEAAQABIADAAMAA4ACgAIAAgACgAGAAQABAAEAAYAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgACAAIAAAAEAAQABgAGAAQACAAKAAoACAAMAA4ADAAQABIAEAAWABYAFAAaABgAHgAcACIAIAAmACQAKgAqACwAMgAwADQAOgA4ADwAQgBCAEQASABOAE4AUABUAFgAXgBeAGIAZgBoAGwAcAB0AHgAfABiAFwAXgBYAFoAVABWAFAAUgBMAE4ASABKAEQARgBAAEIAPAA+ADgAOgA0ADYAMAAyACwALgAoACoAJAAmACAAIgAcAB4AGAAaABQAFgAQABIADAAOAAgACgAEAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAYABAAKAAgADgAMABIAEAAWABQAGgAYAB4AHAAiACAAJgAkACoAKAAuACwAMgAwADYANAA6ADgAPgA8AEIAQABGAEQASgBIAE4ATABSAFAAVgBUAFoAWABeAF1tFUlJPUl0gJXMAW0VSUk9SXSBvcGpfZGVjb21wcmVzczogZmFpbGVkIHRvIHNldHVwIHRoZSBkZWNvZGVyAFtFUlJPUl0gb3BqX2RlY29tcHJlc3M6IGZhaWxlZCB0byByZWFkIHRoZSBoZWFkZXIAW0VSUk9SXSBvcGpfZGVjb21wcmVzczogZmFpbGVkIHRvIGRlY29kZSB0aWxlIQBFcnJvciBvbiB3cml0aW5nIHN0cmVhbSEKAFN0cmVhbSByZWFjaGVkIGl0cyBlbmQgIQoAU3RyZWFtIGVycm9yIQoAMi4xLjEAd2IAcmIAQ29kZWMgcHJvdmlkZWQgdG8gdGhlIG9wal9zZXR1cF9kZWNvZGVyIGZ1bmN0aW9uIGlzIG5vdCBhIGRlY29tcHJlc3NvciBoYW5kbGVyLgoAQ29kZWMgcHJvdmlkZWQgdG8gdGhlIG9wal9yZWFkX2hlYWRlciBmdW5jdGlvbiBpcyBub3QgYSBkZWNvbXByZXNzb3IgaGFuZGxlci4KAEludmFsaWQgbnVtYmVyIG9mIHJlc29sdXRpb25zIDogJWQgbm90IGluIHJhbmdlIFsxLCVkXQoARGVwcmVjYXRlZCBmaWVsZHMgY3BfY2luZW1hIG9yIGNwX3JzaXogYXJlIHVzZWQKUGxlYXNlIGNvbnNpZGVyIHVzaW5nIG9ubHkgdGhlIHJzaXogZmllbGQKU2VlIG9wZW5qcGVnLmggZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBkZXRhaWxzCgBUaGUgZGVzaXJlZCBtYXhpbXVtIGNvZGVzdHJlYW0gc2l6ZSBoYXMgbGltaXRlZAphdCBsZWFzdCBvbmUgb2YgdGhlIGRlc2lyZWQgcXVhbGl0eSBsYXllcnMKAEpQRUcgMjAwMCBTY2FsYWJsZSBEaWdpdGFsIENpbmVtYSBwcm9maWxlcyBub3QgeWV0IHN1cHBvcnRlZAoASlBFRyAyMDAwIFByb2ZpbGUtMyBhbmQgNCAoMmsvNGsgZGMgcHJvZmlsZSkgcmVxdWlyZXM6CjEgc2luZ2xlIHF1YWxpdHkgbGF5ZXItPiBOdW1iZXIgb2YgbGF5ZXJzIGZvcmNlZCB0byAxIChyYXRoZXIgdGhhbiAlZCkKLT4gUmF0ZSBvZiB0aGUgbGFzdCBsYXllciAoJTMuMWYpIHdpbGwgYmUgdXNlZABKUEVHIDIwMDAgUHJvZmlsZS0zICgyayBkYyBwcm9maWxlKSByZXF1aXJlczoKTnVtYmVyIG9mIGRlY29tcG9zaXRpb24gbGV2ZWxzIDw9IDUKLT4gTnVtYmVyIG9mIGRlY29tcG9zaXRpb24gbGV2ZWxzIGZvcmNlZCB0byA1IChyYXRoZXIgdGhhbiAlZCkKAEpQRUcgMjAwMCBQcm9maWxlLTQgKDRrIGRjIHByb2ZpbGUpIHJlcXVpcmVzOgpOdW1iZXIgb2YgZGVjb21wb3NpdGlvbiBsZXZlbHMgPj0gMSAmJiA8PSA2Ci0+IE51bWJlciBvZiBkZWNvbXBvc2l0aW9uIGxldmVscyBmb3JjZWQgdG8gMSAocmF0aGVyIHRoYW4gJWQpCgBKUEVHIDIwMDAgUHJvZmlsZS00ICg0ayBkYyBwcm9maWxlKSByZXF1aXJlczoKTnVtYmVyIG9mIGRlY29tcG9zaXRpb24gbGV2ZWxzID49IDEgJiYgPD0gNgotPiBOdW1iZXIgb2YgZGVjb21wb3NpdGlvbiBsZXZlbHMgZm9yY2VkIHRvIDYgKHJhdGhlciB0aGFuICVkKQoASlBFRyAyMDAwIFByb2ZpbGUtMyBhbmQgNCAoMmsvNGsgZGMgcHJvZmlsZSkgcmVxdWlyZXM6Ck1heGltdW0gMTMwMjA4MyBjb21wcmVzc2VkIGJ5dGVzIEAgMjRmcHMKQXMgbm8gcmF0ZSBoYXMgYmVlbiBnaXZlbiwgdGhpcyBsaW1pdCB3aWxsIGJlIHVzZWQuCgBKUEVHIDIwMDAgUHJvZmlsZS0zIGFuZCA0ICgyay80ayBkYyBwcm9maWxlKSByZXF1aXJlczoKTWF4aW11bSAxMzAyMDgzIGNvbXByZXNzZWQgYnl0ZXMgQCAyNGZwcwotPiBTcGVjaWZpZWQgcmF0ZSBleGNlZWRzIHRoaXMgbGltaXQuIFJhdGUgd2lsbCBiZSBmb3JjZWQgdG8gMTMwMjA4MyBieXRlcy4KAEpQRUcgMjAwMCBQcm9maWxlLTMgYW5kIDQgKDJrLzRrIGRjIHByb2ZpbGUpIHJlcXVpcmVzOgpNYXhpbXVtIDEwNDE2NjYgY29tcHJlc3NlZCBieXRlcyBAIDI0ZnBzCkFzIG5vIHJhdGUgaGFzIGJlZW4gZ2l2ZW4sIHRoaXMgbGltaXQgd2lsbCBiZSB1c2VkLgoASlBFRyAyMDAwIFByb2ZpbGUtMyBhbmQgNCAoMmsvNGsgZGMgcHJvZmlsZSkgcmVxdWlyZXM6Ck1heGltdW0gMTA0MTY2NiBjb21wcmVzc2VkIGJ5dGVzIEAgMjRmcHMKLT4gU3BlY2lmaWVkIHJhdGUgZXhjZWVkcyB0aGlzIGxpbWl0LiBSYXRlIHdpbGwgYmUgZm9yY2VkIHRvIDEwNDE2NjYgYnl0ZXMuCgBKUEVHIDIwMDAgUHJvZmlsZS0zICgyayBkYyBwcm9maWxlKSByZXF1aXJlczoKMyBjb21wb25lbnRzLT4gTnVtYmVyIG9mIGNvbXBvbmVudHMgb2YgaW5wdXQgaW1hZ2UgKCVkKSBpcyBub3QgY29tcGxpYW50Ci0+IE5vbi1wcm9maWxlLTMgY29kZXN0cmVhbSB3aWxsIGJlIGdlbmVyYXRlZAoAc2lnbmVkAHVuc2lnbmVkAEpQRUcgMjAwMCBQcm9maWxlLTMgKDJrIGRjIHByb2ZpbGUpIHJlcXVpcmVzOgpQcmVjaXNpb24gb2YgZWFjaCBjb21wb25lbnQgc2hhbGwgYmUgMTIgYml0cyB1bnNpZ25lZC0+IEF0IGxlYXN0IGNvbXBvbmVudCAlZCBvZiBpbnB1dCBpbWFnZSAoJWQgYml0cywgJXMpIGlzIG5vdCBjb21wbGlhbnQKLT4gTm9uLXByb2ZpbGUtMyBjb2Rlc3RyZWFtIHdpbGwgYmUgZ2VuZXJhdGVkCgBKUEVHIDIwMDAgUHJvZmlsZS0zICgyayBkYyBwcm9maWxlKSByZXF1aXJlczoKd2lkdGggPD0gMjA0OCBhbmQgaGVpZ2h0IDw9IDEwODAKLT4gSW5wdXQgaW1hZ2Ugc2l6ZSAlZCB4ICVkIGlzIG5vdCBjb21wbGlhbnQKLT4gTm9uLXByb2ZpbGUtMyBjb2Rlc3RyZWFtIHdpbGwgYmUgZ2VuZXJhdGVkCgBKUEVHIDIwMDAgUHJvZmlsZS00ICg0ayBkYyBwcm9maWxlKSByZXF1aXJlczoKd2lkdGggPD0gNDA5NiBhbmQgaGVpZ2h0IDw9IDIxNjAKLT4gSW1hZ2Ugc2l6ZSAlZCB4ICVkIGlzIG5vdCBjb21wbGlhbnQKLT4gTm9uLXByb2ZpbGUtNCBjb2Rlc3RyZWFtIHdpbGwgYmUgZ2VuZXJhdGVkCgBKUEVHIDIwMDAgTG9uZyBUZXJtIFN0b3JhZ2UgcHJvZmlsZSBub3QgeWV0IHN1cHBvcnRlZAoASlBFRyAyMDAwIEJyb2FkY2FzdCBwcm9maWxlcyBub3QgeWV0IHN1cHBvcnRlZAoASlBFRyAyMDAwIElNRiBwcm9maWxlcyBub3QgeWV0IHN1cHBvcnRlZAoASlBFRyAyMDAwIFBhcnQtMiBwcm9maWxlIGRlZmluZWQKYnV0IG5vIFBhcnQtMiBleHRlbnNpb24gZW5hYmxlZC4KUHJvZmlsZSBzZXQgdG8gTk9ORS4KAFVuc3VwcG9ydGVkIFBhcnQtMiBleHRlbnNpb24gZW5hYmxlZApQcm9maWxlIHNldCB0byBOT05FLgoATm90IGVub3VnaCBtZW1vcnkgdG8gYWxsb2NhdGUgY29weSBvZiB1c2VyIGVuY29kaW5nIHBhcmFtZXRlcnMgbWF0cml4IAoATm90IGVub3VnaCBtZW1vcnkgdG8gYWxsb2NhdGUgY29weSBvZiBjb21tZW50IHN0cmluZwoATm90IGVub3VnaCBtZW1vcnkgdG8gYWxsb2NhdGUgY29tbWVudCBzdHJpbmcKACVzJXMAQ3JlYXRlZCBieSBPcGVuSlBFRyB2ZXJzaW9uIABOb3QgZW5vdWdoIG1lbW9yeSB0byBhbGxvY2F0ZSB0aWxlIGNvZGluZyBwYXJhbWV0ZXJzCgBOb3QgZW5vdWdoIG1lbW9yeSBmb3IgY2hlY2tpbmcgdGhlIHBvYyB2YWx1ZXMuCgBNaXNzaW5nIHBhY2tldHMgcG9zc2libGUgbG9zcyBvZiBkYXRhCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBhbGxvY2F0ZSB0aWxlIGNvbXBvbmVudCBjb2RpbmcgcGFyYW1ldGVycwoATm90IGVub3VnaCBtZW1vcnkgdG8gYWxsb2NhdGUgdGVtcCBidWZmZXIKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGFsbG9jYXRlIGVuY29kZXIgTUNUIGNvZGluZyBtYXRyaXggCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBhbGxvY2F0ZSBlbmNvZGVyIE1DVCBkZWNvZGluZyBtYXRyaXggCgBGYWlsZWQgdG8gaW52ZXJzZSBlbmNvZGVyIE1DVCBkZWNvZGluZyBtYXRyaXggCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBhbGxvY2F0ZSBlbmNvZGVyIE1DVCBub3JtcyAKAEZhaWxlZCB0byBzZXR1cCBqMmsgbWN0IGVuY29kaW5nCgBDYW5ub3QgcGVyZm9ybSBNQ1Qgb24gY29tcG9uZW50cyB3aXRoIGRpZmZlcmVudCBzaXplcy4gRGlzYWJsaW5nIE1DVC4KAENhbm5vdCBkZWNvZGUgdGlsZSwgbWVtb3J5IGVycm9yCgBTdGFydCB0byByZWFkIGoyayBtYWluIGhlYWRlciAoJWQpLgoATm90IGVub3VnaCBtZW1vcnkgdG8gYWRkIG1oIG1hcmtlcgoARXhwZWN0ZWQgYSBTT0MgbWFya2VyIAoAU3RyZWFtIHRvbyBzaG9ydAoAQSBtYXJrZXIgSUQgd2FzIGV4cGVjdGVkICgweGZmLS0pIGluc3RlYWQgb2YgJS44eAoAVW5rbm93biBtYXJrZXIKAE1hcmtlciBpcyBub3QgY29tcGxpYW50IHdpdGggaXRzIHBvc2l0aW9uCgBVbmtub3cgbWFya2VyIGhhdmUgYmVlbiBkZXRlY3RlZCBhbmQgZ2VuZXJhdGVkIGVycm9yLgoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVhZCBoZWFkZXIKAE1hcmtlciBoYW5kbGVyIGZ1bmN0aW9uIGZhaWxlZCB0byByZWFkIHRoZSBtYXJrZXIgc2VnbWVudAoAcmVxdWlyZWQgU0laIG1hcmtlciBub3QgZm91bmQgaW4gbWFpbiBoZWFkZXIKAHJlcXVpcmVkIENPRCBtYXJrZXIgbm90IGZvdW5kIGluIG1haW4gaGVhZGVyCgByZXF1aXJlZCBRQ0QgbWFya2VyIG5vdCBmb3VuZCBpbiBtYWluIGhlYWRlcgoATm90IGVub3VnaCBieXRlcyB0byByZWFkIE5wcG0KAENvcnJ1cHRlZCBQUE0gbWFya2VycwoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVhZCBQUE0gbWFya2VyCgBGYWlsZWQgdG8gbWVyZ2UgUFBNIGRhdGEKAE1haW4gaGVhZGVyIGhhcyBiZWVuIGNvcnJlY3RseSBkZWNvZGVkLgoARXJyb3IgcmVhZGluZyBNQ08gbWFya2VyCgBDYW5ub3QgdGFrZSBpbiBjaGFyZ2UgbXVsdGlwbGUgdHJhbnNmb3JtYXRpb24gc3RhZ2VzLgoARXJyb3IgcmVhZGluZyBNQ0MgbWFya2VyCgBDYW5ub3QgdGFrZSBpbiBjaGFyZ2UgbXVsdGlwbGUgZGF0YSBzcGFubmluZwoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVhZCBNQ0MgbWFya2VyCgBDYW5ub3QgdGFrZSBpbiBjaGFyZ2UgbXVsdGlwbGUgY29sbGVjdGlvbnMKAENhbm5vdCB0YWtlIGluIGNoYXJnZSBjb2xsZWN0aW9ucyBvdGhlciB0aGFuIGFycmF5IGRlY29ycmVsYXRpb24KAENhbm5vdCB0YWtlIGluIGNoYXJnZSBjb2xsZWN0aW9ucyB3aXRoIGluZGl4IHNodWZmbGUKAENhbm5vdCB0YWtlIGluIGNoYXJnZSBjb2xsZWN0aW9ucyB3aXRob3V0IHNhbWUgbnVtYmVyIG9mIGluZGl4ZXMKAENycm9yIHJlYWRpbmcgQ0JEIG1hcmtlcgoARXJyb3IgcmVhZGluZyBNQ1QgbWFya2VyCgBDYW5ub3QgdGFrZSBpbiBjaGFyZ2UgbWN0IGRhdGEgd2l0aGluIG11bHRpcGxlIE1DVCByZWNvcmRzCgBOb3QgZW5vdWdoIG1lbW9yeSB0byByZWFkIE1DVCBtYXJrZXIKAENhbm5vdCB0YWtlIGluIGNoYXJnZSBtdWx0aXBsZSBNQ1QgbWFya2VycwoARXJyb3IgcmVhZGluZyBDUkcgbWFya2VyCgBFcnJvciByZWFkaW5nIFBQVCBtYXJrZXIKAEVycm9yIHJlYWRpbmcgUFBUIG1hcmtlcjogcGFja2V0IGhlYWRlciBoYXZlIGJlZW4gcHJldmlvdXNseSBmb3VuZCBpbiB0aGUgbWFpbiBoZWFkZXIgKFBQTSBtYXJrZXIpLgoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVhZCBQUFQgbWFya2VyCgBacHB0ICV1IGFscmVhZHkgcmVhZAoARXJyb3IgcmVhZGluZyBQUE0gbWFya2VyCgBacHBtICV1IGFscmVhZHkgcmVhZAoARXJyb3IgcmVhZGluZyBQTFQgbWFya2VyCgBFcnJvciByZWFkaW5nIFBMTSBtYXJrZXIKAEVycm9yIHJlYWRpbmcgVExNIG1hcmtlcgoARXJyb3Igd2l0aCBTSVogbWFya2VyIHNpemUKAEVycm9yIHdpdGggU0laIG1hcmtlcjogbnVtYmVyIG9mIGNvbXBvbmVudCBpcyBpbGxlZ2FsIC0+ICVkCgBFcnJvciB3aXRoIFNJWiBtYXJrZXI6IG51bWJlciBvZiBjb21wb25lbnQgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgcmVtYWluaW5nIG51bWJlciBvZiBwYXJhbWV0ZXJzICggJWQgdnMgJWQpCgBFcnJvciB3aXRoIFNJWiBtYXJrZXI6IG5lZ2F0aXZlIG9yIHplcm8gaW1hZ2Ugc2l6ZSAoJWxsZCB4ICVsbGQpCgBFcnJvciB3aXRoIFNJWiBtYXJrZXI6IGludmFsaWQgdGlsZSBzaXplICh0ZHg6ICVkLCB0ZHk6ICVkKQoAUHJldmVudCBidWZmZXIgb3ZlcmZsb3cgKHgxOiAlZCwgeTE6ICVkKQoARXJyb3Igd2l0aCBTSVogbWFya2VyOiBpbGxlZ2FsIHRpbGUgb2Zmc2V0CgBOb3QgZW5vdWdoIG1lbW9yeSB0byB0YWtlIGluIGNoYXJnZSBTSVogbWFya2VyCgBJbnZhbGlkIHZhbHVlcyBmb3IgY29tcCA9ICVkIDogZHg9JXUgZHk9JXUgKHNob3VsZCBiZSBiZXR3ZWVuIDEgYW5kIDI1NSBhY2NvcmRpbmcgdG8gdGhlIEpQRUcyMDAwIG5vcm0pCgBJbnZhbGlkIHZhbHVlcyBmb3IgY29tcCA9ICVkIDogcHJlYz0ldSAoc2hvdWxkIGJlIGJldHdlZW4gMSBhbmQgMzggYWNjb3JkaW5nIHRvIHRoZSBKUEVHMjAwMCBub3JtKQoASW52YWxpZCBudW1iZXIgb2YgdGlsZXMgOiAldSB4ICV1IChtYXhpbXVtIGZpeGVkIGJ5IGpwZWcyMDAwIG5vcm0gaXMgNjU1MzUgdGlsZXMpCgBFcnJvciByZWFkaW5nIFBPQyBtYXJrZXIKAFRvbyBtYW55IFBPQ3MgJWQKAEVycm9yIHJlYWRpbmcgUUNDIG1hcmtlcgoASW52YWxpZCBjb21wb25lbnQgbnVtYmVyOiAlZCwgcmVnYXJkaW5nIHRoZSBudW1iZXIgb2YgY29tcG9uZW50cyAlZAoARXJyb3IgcmVhZGluZyBTUWNkIG9yIFNRY2MgZWxlbWVudAoAV2hpbGUgcmVhZGluZyBDQ1BfUU5UU1RZIGVsZW1lbnQgaW5zaWRlIFFDRCBvciBRQ0MgbWFya2VyIHNlZ21lbnQsIG51bWJlciBvZiBzdWJiYW5kcyAoJWQpIGlzIGdyZWF0ZXIgdG8gT1BKX0oyS19NQVhCQU5EUyAoJWQpLiBTbyB3ZSBsaW1pdCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHN0b3JlZCB0byBPUEpfSjJLX01BWEJBTkRTICglZCkgYW5kIHNraXAgdGhlIHJlc3QuIAoARXJyb3IgcmVhZGluZyBRQ0QgbWFya2VyCgBFcnJvciByZWFkaW5nIFJHTiBtYXJrZXIKAGJhZCBjb21wb25lbnQgbnVtYmVyIGluIFJHTiAoJWQgd2hlbiB0aGVyZSBhcmUgb25seSAlZCkKAEVycm9yIHJlYWRpbmcgQ09DIG1hcmtlcgoARXJyb3IgcmVhZGluZyBDT0MgbWFya2VyIChiYWQgbnVtYmVyIG9mIGNvbXBvbmVudHMpCgBFcnJvciByZWFkaW5nIFNQQ29kIFNQQ29jIGVsZW1lbnQKAEludmFsaWQgdmFsdWUgZm9yIG51bXJlc29sdXRpb25zIDogJWQsIG1heCB2YWx1ZSBpcyBzZXQgaW4gb3BlbmpwZWcuaCBhdCAlZAoARXJyb3IgZGVjb2RpbmcgY29tcG9uZW50ICVkLgpUaGUgbnVtYmVyIG9mIHJlc29sdXRpb25zIHRvIHJlbW92ZSBpcyBoaWdoZXIgdGhhbiB0aGUgbnVtYmVyIG9mIHJlc29sdXRpb25zIG9mIHRoaXMgY29tcG9uZW50Ck1vZGlmeSB0aGUgY3BfcmVkdWNlIHBhcmFtZXRlci4KCgBFcnJvciByZWFkaW5nIFNQQ29kIFNQQ29jIGVsZW1lbnQsIEludmFsaWQgY2Jsa3cvY2Jsa2ggY29tYmluYXRpb24KAEVycm9yIHJlYWRpbmcgU1BDb2QgU1BDb2MgZWxlbWVudCwgSW52YWxpZCBjb2RlLWJsb2NrIHN0eWxlIGZvdW5kCgBJbnZhbGlkIHByZWNpbmN0IHNpemUKAENPRCBtYXJrZXIgYWxyZWFkeSByZWFkLiBObyBtb3JlIHRoYW4gb25lIENPRCBtYXJrZXIgcGVyIHRpbGUuCgBFcnJvciByZWFkaW5nIENPRCBtYXJrZXIKAFVua25vd24gU2NvZCB2YWx1ZSBpbiBDT0QgbWFya2VyCgBVbmtub3duIHByb2dyZXNzaW9uIG9yZGVyIGluIENPRCBtYXJrZXIKAEludmFsaWQgbnVtYmVyIG9mIGxheWVycyBpbiBDT0QgbWFya2VyIDogJWQgbm90IGluIHJhbmdlIFsxLTY1NTM1XQoARXJyb3IgcmVhZGluZyBTT1QgbWFya2VyCgBJbnZhbGlkIHRpbGUgbnVtYmVyICVkCgBFbXB0eSBTT1QgbWFya2VyIGRldGVjdGVkOiBQc290PSVkLgoAUHNvdCB2YWx1ZSBpcyBub3QgY29ycmVjdCByZWdhcmRzIHRvIHRoZSBKUEVHMjAwMCBub3JtOiAlZC4KAFBzb3QgdmFsdWUgb2YgdGhlIGN1cnJlbnQgdGlsZS1wYXJ0IGlzIGVxdWFsIHRvIHplcm8sIHdlIGFzc3VtaW5nIGl0IGlzIHRoZSBsYXN0IHRpbGUtcGFydCBvZiB0aGUgY29kZXN0cmVhbS4KAEluIFNPVCBtYXJrZXIsIFRQU290ICglZCkgaXMgbm90IHZhbGlkIHJlZ2FyZHMgdG8gdGhlIGN1cnJlbnQgbnVtYmVyIG9mIHRpbGUtcGFydCAoJWQpLCBnaXZpbmcgdXAKAEluIFNPVCBtYXJrZXIsIFRQU290ICglZCkgaXMgbm90IHZhbGlkIHJlZ2FyZHMgdG8gdGhlIGN1cnJlbnQgbnVtYmVyIG9mIHRpbGUtcGFydCAoaGVhZGVyKSAoJWQpLCBnaXZpbmcgdXAKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHJlYWQgU09UIG1hcmtlci4gVGlsZSBpbmRleCBhbGxvY2F0aW9uIGZhaWxlZAoASW5jb25zaXN0ZW50IG1hcmtlciBzaXplCgBNYXJrZXIgc2l6ZSBpbmNvbnNpc3RlbnQgd2l0aCBzdHJlYW0gbGVuZ3RoCgBOb3Qgc3VyZSBob3cgdGhhdCBoYXBwZW5lZC4KAEZhaWwgdG8gcmVhZCB0aGUgY3VycmVudCBtYXJrZXIgc2VnbWVudCAoJSN4KQoATm90IGVub3VnaCBtZW1vcnkgdG8gYWRkIHRsIG1hcmtlcgoAVGlsZSBwYXJ0IGxlbmd0aCBzaXplIGluY29uc2lzdGVudCB3aXRoIHN0cmVhbSBsZW5ndGgKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGRlY29kZSB0aWxlCgBvcGpfajJrX2FwcGx5X25iX3RpbGVfcGFydHNfY29ycmVjdGlvbiBlcnJvcgoATm9uIGNvbmZvcm1hbnQgY29kZXN0cmVhbSBUUHNvdD09VE5zb3QuCgBGYWlsZWQgdG8gbWVyZ2UgUFBUIGRhdGEKAEhlYWRlciBvZiB0aWxlICVkIC8gJWQgaGFzIGJlZW4gcmVhZC4KAEZhaWxlZCB0byBkZWNvZGUuCgBObyBFT0MgbWFya2VyLiBQb3NzaWJseSBhIHRydW5jYXRlZCBzdHJlYW0KAFN0cmVhbSBkb2VzIG5vdCBlbmQgd2l0aCBFT0MKAFN0cmVhbSB0b28gc2hvcnQsIGV4cGVjdGVkIFNPVAoATmVlZCB0byBkZWNvZGUgdGhlIG1haW4gaGVhZGVyIGJlZm9yZSBiZWdpbiB0byBkZWNvZGUgdGhlIHJlbWFpbmluZyBjb2Rlc3RyZWFtAE5vIGRlY29kZWQgYXJlYSBwYXJhbWV0ZXJzLCBzZXQgdGhlIGRlY29kZWQgYXJlYSB0byB0aGUgd2hvbGUgaW1hZ2UKAExlZnQgcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3gwPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChYc2l6PSVkKS4KAExlZnQgcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3gwPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChYT3Npej0lZCkuCgBVcCBwb3NpdGlvbiBvZiB0aGUgZGVjb2RlZCBhcmVhIChyZWdpb25feTA9JWQpIGlzIG91dHNpZGUgdGhlIGltYWdlIGFyZWEgKFlzaXo9JWQpLgoAVXAgcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3kwPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChZT3Npej0lZCkuCgBSaWdodCBwb3NpdGlvbiBvZiB0aGUgZGVjb2RlZCBhcmVhIChyZWdpb25feDE9JWQpIGlzIG91dHNpZGUgdGhlIGltYWdlIGFyZWEgKFhPc2l6PSVkKS4KAFJpZ2h0IHBvc2l0aW9uIG9mIHRoZSBkZWNvZGVkIGFyZWEgKHJlZ2lvbl94MT0lZCkgaXMgb3V0c2lkZSB0aGUgaW1hZ2UgYXJlYSAoWHNpej0lZCkuCgBCb3R0b20gcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3kxPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChZT3Npej0lZCkuCgBCb3R0b20gcG9zaXRpb24gb2YgdGhlIGRlY29kZWQgYXJlYSAocmVnaW9uX3kxPSVkKSBpcyBvdXRzaWRlIHRoZSBpbWFnZSBhcmVhIChZc2l6PSVkKS4KAFNpemUgeCBvZiB0aGUgZGVjb2RlZCBjb21wb25lbnQgaW1hZ2UgaXMgaW5jb3JyZWN0IChjb21wWyVkXS53PSVkKS4KAFNpemUgeSBvZiB0aGUgZGVjb2RlZCBjb21wb25lbnQgaW1hZ2UgaXMgaW5jb3JyZWN0IChjb21wWyVkXS5oPSVkKS4KAFNldHRpbmcgZGVjb2RpbmcgYXJlYSB0byAlZCwlZCwlZCwlZAoAV3JvbmcgZmxhZwoAQ29kZXN0cmVhbSBpbmZvIGZyb20gbWFpbiBoZWFkZXI6IHsKAAkgdHgwPSVkLCB0eTA9JWQKAAkgdGR4PSVkLCB0ZHk9JWQKAAkgdHc9JWQsIHRoPSVkCgB9CgBDb2Rlc3RyZWFtIGluZGV4IGZyb20gbWFpbiBoZWFkZXI6IHsKAAkgTWFpbiBoZWFkZXIgc3RhcnQgcG9zaXRpb249JWxsaQoJIE1haW4gaGVhZGVyIGVuZCBwb3NpdGlvbj0lbGxpCgAJIE1hcmtlciBsaXN0OiB7CgAJCSB0eXBlPSUjeCwgcG9zPSVsbGksIGxlbj0lZAoACSB9CgAJIFRpbGUgaW5kZXg6IHsKAAkJIG5iIG9mIHRpbGUtcGFydCBpbiB0aWxlIFslZF09JWQKAAkJCSB0aWxlLXBhcnRbJWRdOiBzdGFyX3Bvcz0lbGxpLCBlbmRfaGVhZGVyPSVsbGksIGVuZF9wb3M9JWxsaS4KAAkgZGVmYXVsdCB0aWxlIHsKAAkJIGNzdHk9JSN4CgAJCSBwcmc9JSN4CgAJCSBudW1sYXllcnM9JWQKAAkJIG1jdD0leAoACQkgY29tcCAlZCB7CgAJCQkgY3N0eT0lI3gKAAkJCSBudW1yZXNvbHV0aW9ucz0lZAoACQkJIGNibGt3PTJeJWQKAAkJCSBjYmxraD0yXiVkCgAJCQkgY2Jsa3N0eT0lI3gKAAkJCSBxbWZiaWQ9JWQKAAkJCSBwcmVjY2ludHNpemUgKHcsaCk9ACglZCwlZCkgAAkJCSBxbnRzdHk9JWQKAAkJCSBudW1nYml0cz0lZAoACQkJIHN0ZXBzaXplcyAobSxlKT0ACQkJIHJvaXNoaWZ0PSVkCgAJCSB9CgBbREVWXSBEdW1wIGFuIGltYWdlX2hlYWRlciBzdHJ1Y3QgewoASW1hZ2UgaW5mbyB7CgAlcyB4MD0lZCwgeTA9JWQKACVzIHgxPSVkLCB5MT0lZAoAJXMgbnVtY29tcHM9JWQKACVzCSBjb21wb25lbnQgJWQgewoAJXN9CgBbREVWXSBEdW1wIGFuIGltYWdlX2NvbXBfaGVhZGVyIHN0cnVjdCB7CgAlcyBkeD0lZCwgZHk9JWQKACVzIHByZWM9JWQKACVzIHNnbmQ9JWQKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGRlY29kZSB0aWxlcwoATm90IGVub3VnaCBtZW1vcnkgdG8gZGVjb2RlIHRpbGUgJWQvJWQKAEZhaWxlZCB0byBkZWNvZGUgdGlsZSAlZC8lZAoAVGlsZSAlZC8lZCBoYXMgYmVlbiBkZWNvZGVkLgoASW1hZ2UgZGF0YSBoYXMgYmVlbiB1cGRhdGVkIHdpdGggdGlsZSAlZC4KCgBXZSBuZWVkIGFuIGltYWdlIHByZXZpb3VzbHkgY3JlYXRlZC4KAFRpbGUgaW5kZXggcHJvdmlkZWQgYnkgdGhlIHVzZXIgaXMgaW5jb3JyZWN0ICVkIChtYXggPSAlZCkgCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBkZWNvZGUgb25lIHRpbGUKAFByb2JsZW0gd2l0aCBzZWVrIGZ1bmN0aW9uCgBUaWxlIHJlYWQsIGRlY29kZWQgYW5kIHVwZGF0ZWQgaXMgbm90IHRoZSBkZXNpcmVkIG9uZSAoJWQgdnMgJWQpLgoAUmVzb2x1dGlvbiBmYWN0b3IgaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHJlc29sdXRpb24gaW4gdGhlIGNvbXBvbmVudC4KAFRoZSBnaXZlbiB0aWxlIGluZGV4IGRvZXMgbm90IG1hdGNoLgB0aWxlIG51bWJlciAlZCAvICVkCgBFcnJvciBhbGxvY2F0aW5nIHRpbGUgY29tcG9uZW50IGRhdGEuAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGVuY29kZSBhbGwgdGlsZXMKAFNpemUgbWlzbWF0Y2ggYmV0d2VlbiB0aWxlIGRhdGEgYW5kIHNlbnQgZGF0YS4AQ2Fubm90IGVuY29kZSB0aWxlCgBGYWlsZWQgdG8gYWxsb2NhdGUgaW1hZ2UgaGVhZGVyLgBOb3QgZW5vdWdoIG1lbW9yeSB0byBjcmVhdGUgVGlsZSBDb2RlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgQ0JEIG1hcmtlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgTUNUIG1hcmtlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgTUNDIG1hcmtlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgTUNPIG1hcmtlcgoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgdGhlIENPTSBtYXJrZXIKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHdyaXRlIFBPQyBtYXJrZXIKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHdyaXRlIFRMTSBtYXJrZXIKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHdyaXRlIFFDQyBtYXJrZXIKAEVycm9yIHdyaXRpbmcgU1FjZCBTUWNjIGVsZW1lbnQKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIHdyaXRlIENPQyBtYXJrZXIKAEVycm9yIHdyaXRpbmcgU1BDb2QgU1BDb2MgZWxlbWVudAoATm90IGVub3VnaCBtZW1vcnkgdG8gd3JpdGUgUUNEIG1hcmtlcgoARXJyb3Igd3JpdGluZyBRQ0QgbWFya2VyCgBOb3QgZW5vdWdoIG1lbW9yeSB0byB3cml0ZSBDT0QgbWFya2VyCgBFcnJvciB3cml0aW5nIENPRCBtYXJrZXIKAE5vdCBlbm91Z2ggbWVtb3J5IGZvciB0aGUgU0laIG1hcmtlcgoATnVtYmVyIG9mIHJlc29sdXRpb25zIGlzIHRvbyBoaWdoIGluIGNvbXBhcmlzb24gdG8gdGhlIHNpemUgb2YgdGlsZXMKAEVycm9yIHdoaWxlIG9wal9qMmtfcHJlX3dyaXRlX3RpbGUgd2l0aCB0aWxlIGluZGV4ID0gJWQKAEVycm9yIHdoaWxlIG9wal9qMmtfcG9zdF93cml0ZV90aWxlIHdpdGggdGlsZSBpbmRleCA9ICVkCgBGYWlsZWQgdG8gZGVjb2RlIHRoZSBjb2Rlc3RyZWFtIGluIHRoZSBKUDIgZmlsZQoAb3BqX2pwMl9hcHBseV9jZGVmOiBjbj0lZCwgbnVtY29tcHM9JWQKAG9wal9qcDJfYXBwbHlfY2RlZjogYWNuPSVkLCBudW1jb21wcz0lZAoASW52YWxpZCBjb21wb25lbnQgaW5kZXggJWQgKD49ICVkKS4KAEluY29tcGxldGUgY2hhbm5lbCBkZWZpbml0aW9ucy4KAFVuZXhwZWN0ZWQgT09NLgoASW52YWxpZCBjb21wb25lbnQvcGFsZXR0ZSBpbmRleCBmb3IgZGlyZWN0IG1hcHBpbmcgJWQuCgBDb21wb25lbnQgJWQgaXMgbWFwcGVkIHR3aWNlLgoARGlyZWN0IHVzZSBhdCAjJWQgaG93ZXZlciBwY29sPSVkLgoAQ29tcG9uZW50ICVkIGRvZXNuJ3QgaGF2ZSBhIG1hcHBpbmcuCgBDb21wb25lbnQgbWFwcGluZyBzZWVtcyB3cm9uZy4gVHJ5aW5nIHRvIGNvcnJlY3QuCgBJbnZhbGlkIG51bWJlciBvZiBjb21wb25lbnRzIHNwZWNpZmllZCB3aGlsZSBzZXR0aW5nIHVwIEpQMiBlbmNvZGVyCgBOb3QgZW5vdWdoIG1lbW9yeSB3aGVuIHNldHVwIHRoZSBKUDIgZW5jb2RlcgoAQWxwaGEgY2hhbm5lbCBzcGVjaWZpZWQgYnV0IHVua25vd24gZW51bWNzLiBObyBjZGVmIGJveCB3aWxsIGJlIGNyZWF0ZWQuCgBBbHBoYSBjaGFubmVsIHNwZWNpZmllZCBidXQgbm90IGVub3VnaCBpbWFnZSBjb21wb25lbnRzIGZvciBhbiBhdXRvbWF0aWMgY2RlZiBib3ggY3JlYXRpb24uCgBBbHBoYSBjaGFubmVsIHBvc2l0aW9uIGNvbmZsaWN0cyB3aXRoIGNvbG9yIGNoYW5uZWwuIE5vIGNkZWYgYm94IHdpbGwgYmUgY3JlYXRlZC4KAE11bHRpcGxlIGFscGhhIGNoYW5uZWxzIHNwZWNpZmllZC4gTm8gY2RlZiBib3ggd2lsbCBiZSBjcmVhdGVkLgoATm90IGVub3VnaCBtZW1vcnkgdG8gc2V0dXAgdGhlIEpQMiBlbmNvZGVyCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBoYW5kbGUganBlZzIwMDAgZmlsZSBoZWFkZXIKAENhbm5vdCBoYW5kbGUgYm94IHNpemVzIGhpZ2hlciB0aGFuIDJeMzIKAGJhZCBwbGFjZWQganBlZyBjb2Rlc3RyZWFtCgBDYW5ub3QgaGFuZGxlIGJveCBvZiB1bmRlZmluZWQgc2l6ZXMKAGludmFsaWQgYm94IHNpemUgJWQgKCV4KQoARm91bmQgYSBtaXNwbGFjZWQgJyVjJWMlYyVjJyBib3ggb3V0c2lkZSBqcDJoIGJveAoASlBFRzIwMDAgSGVhZGVyIGJveCBub3QgcmVhZCB5ZXQsICclYyVjJWMlYycgYm94IHdpbGwgYmUgaWdub3JlZAoAUHJvYmxlbSB3aXRoIHNraXBwaW5nIEpQRUcyMDAwIGJveCwgc3RyZWFtIGVycm9yCgBJbnZhbGlkIGJveCBzaXplICVkIGZvciBib3ggJyVjJWMlYyVjJy4gTmVlZCAlZCBieXRlcywgJWQgYnl0ZXMgcmVtYWluaW5nIAoATm90IGVub3VnaCBtZW1vcnkgdG8gaGFuZGxlIGpwZWcyMDAwIGJveAoAUHJvYmxlbSB3aXRoIHJlYWRpbmcgSlBFRzIwMDAgYm94LCBzdHJlYW0gZXJyb3IKAE1hbGZvcm1lZCBKUDIgZmlsZSBmb3JtYXQ6IGZpcnN0IGJveCBtdXN0IGJlIEpQRUcgMjAwMCBzaWduYXR1cmUgYm94CgBNYWxmb3JtZWQgSlAyIGZpbGUgZm9ybWF0OiBzZWNvbmQgYm94IG11c3QgYmUgZmlsZSB0eXBlIGJveAoASW5zdWZmaWNpZW50IGRhdGEgZm9yIENERUYgYm94LgoATnVtYmVyIG9mIGNoYW5uZWwgZGVzY3JpcHRpb24gaXMgZXF1YWwgdG8gemVybyBpbiBDREVGIGJveC4KAE5lZWQgdG8gcmVhZCBhIFBDTFIgYm94IGJlZm9yZSB0aGUgQ01BUCBib3guCgBPbmx5IG9uZSBDTUFQIGJveCBpcyBhbGxvd2VkLgoASW5zdWZmaWNpZW50IGRhdGEgZm9yIENNQVAgYm94LgoASW52YWxpZCBQQ0xSIGJveC4gUmVwb3J0cyAlZCBlbnRyaWVzCgBJbnZhbGlkIFBDTFIgYm94LiBSZXBvcnRzIDAgcGFsZXR0ZSBjb2x1bW5zCgBBIEJQQ0MgaGVhZGVyIGJveCBpcyBhdmFpbGFibGUgYWx0aG91Z2ggQlBDIGdpdmVuIGJ5IHRoZSBJSERSIGJveCAoJWQpIGluZGljYXRlIGNvbXBvbmVudHMgYml0IGRlcHRoIGlzIGNvbnN0YW50CgBCYWQgQlBDQyBoZWFkZXIgYm94IChiYWQgc2l6ZSkKAEJhZCBDT0xSIGhlYWRlciBib3ggKGJhZCBzaXplKQoAQSBjb25mb3JtaW5nIEpQMiByZWFkZXIgc2hhbGwgaWdub3JlIGFsbCBDb2xvdXIgU3BlY2lmaWNhdGlvbiBib3hlcyBhZnRlciB0aGUgZmlyc3QsIHNvIHdlIGlnbm9yZSB0aGlzIG9uZS4KAEJhZCBDT0xSIGhlYWRlciBib3ggKGJhZCBzaXplOiAlZCkKAE5vdCBlbm91Z2ggbWVtb3J5IGZvciBjaWVsYWIKAEJhZCBDT0xSIGhlYWRlciBib3ggKENJRUxhYiwgYmFkIHNpemU6ICVkKQoAQ09MUiBCT1ggbWV0aCB2YWx1ZSBpcyBub3QgYSByZWd1bGFyIHZhbHVlICglZCksIHNvIHdlIHdpbGwgaWdub3JlIHRoZSBlbnRpcmUgQ29sb3VyIFNwZWNpZmljYXRpb24gYm94LiAKAElnbm9yaW5nIGloZHIgYm94LiBGaXJzdCBpaGRyIGJveCBhbHJlYWR5IHJlYWQKAEJhZCBpbWFnZSBoZWFkZXIgYm94IChiYWQgc2l6ZSkKAEludmFsaWQgbnVtYmVyIG9mIGNvbXBvbmVudHMgKGloZHIpCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBoYW5kbGUgaW1hZ2UgaGVhZGVyIChpaGRyKQoASlAyIElIRFIgYm94OiBjb21wcmVzc2lvbiB0eXBlIGluZGljYXRlIHRoYXQgdGhlIGZpbGUgaXMgbm90IGEgY29uZm9ybWluZyBKUDIgZmlsZSAoJWQpIAoAVGhlICBib3ggbXVzdCBiZSB0aGUgZmlyc3QgYm94IGluIHRoZSBmaWxlLgoAQ2Fubm90IGhhbmRsZSBib3ggb2YgbGVzcyB0aGFuIDggYnl0ZXMKAENhbm5vdCBoYW5kbGUgWEwgYm94IG9mIGxlc3MgdGhhbiAxNiBieXRlcwoAQm94IGxlbmd0aCBpcyBpbmNvbnNpc3RlbnQuCgBTdHJlYW0gZXJyb3Igd2hpbGUgcmVhZGluZyBKUDIgSGVhZGVyIGJveAoAU3RyZWFtIGVycm9yIHdoaWxlIHJlYWRpbmcgSlAyIEhlYWRlciBib3g6IGJveCBsZW5ndGggaXMgaW5jb25zaXN0ZW50LgoAU3RyZWFtIGVycm9yIHdoaWxlIHJlYWRpbmcgSlAyIEhlYWRlciBib3g6IG5vICdpaGRyJyBib3guCgBUaGUgZnR5cCBib3ggbXVzdCBiZSB0aGUgc2Vjb25kIGJveCBpbiB0aGUgZmlsZS4KAEVycm9yIHdpdGggRlRZUCBzaWduYXR1cmUgQm94IHNpemUKAE5vdCBlbm91Z2ggbWVtb3J5IHdpdGggRlRZUCBCb3gKAFRoZSBzaWduYXR1cmUgYm94IG11c3QgYmUgdGhlIGZpcnN0IGJveCBpbiB0aGUgZmlsZS4KAEVycm9yIHdpdGggSlAgc2lnbmF0dXJlIEJveCBzaXplCgBFcnJvciB3aXRoIEpQIFNpZ25hdHVyZSA6IGJhZCBtYWdpYyBudW1iZXIKAEZhaWxlZCB0byBzZWVrIGluIHRoZSBzdHJlYW0uCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBob2xkIEpQMiBIZWFkZXIgZGF0YQoAU3RyZWFtIGVycm9yIHdoaWxlIHdyaXRpbmcgSlAyIEhlYWRlciBib3gKAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGhhbmRsZSBmdHlwIGRhdGEKAEVycm9yIHdoaWxlIHdyaXRpbmcgZnR5cCBkYXRhIHRvIHN0cmVhbQoASlAyIGJveCB3aGljaCBhcmUgYWZ0ZXIgdGhlIGNvZGVzdHJlYW0gd2lsbCBub3QgYmUgcmVhZCBieSB0aGlzIGZ1bmN0aW9uLgoAVGlsZSBYIGNvb3JkaW5hdGVzIGFyZSBub3Qgc3VwcG9ydGVkCgBUaWxlIFkgY29vcmRpbmF0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQKAHRpbGVzIHJlcXVpcmUgYXQgbGVhc3Qgb25lIHJlc29sdXRpb24KAE5vdCBlbm91Z2ggbWVtb3J5IGZvciB0aWxlIGRhdGEKAE5vdCBlbm91Z2ggbWVtb3J5IGZvciB0aWxlIHJlc29sdXRpb25zCgBOb3QgZW5vdWdoIG1lbW9yeSB0byBoYW5kbGUgYmFuZCBwcmVjaW50cwoATm90IGVub3VnaCBtZW1vcnkgZm9yIGN1cnJlbnQgcHJlY2luY3QgY29kZWJsb2NrIGVsZW1lbnQKAE5vIGluY2x0cmVlIGNyZWF0ZWQuCgBObyBpbXNidHJlZSBjcmVhdGVkLgoAVGlsZXMgZG9uJ3QgYWxsIGhhdmUgdGhlIHNhbWUgZGltZW5zaW9uLiBTa2lwIHRoZSBNQ1Qgc3RlcC4KAE51bWJlciBvZiBjb21wb25lbnRzICglZCkgaXMgaW5jb25zaXN0ZW50IHdpdGggYSBNQ1QuIFNraXAgdGhlIE1DVCBzdGVwLgoATm90IGVub3VnaCBtZW1vcnkgdG8gY3JlYXRlIFRhZy10cmVlCgB0Z3RfY3JlYXRlIHRyZWUtPm51bW5vZGVzID09IDAsIG5vIHRyZWUgY3JlYXRlZC4KAE5vdCBlbm91Z2ggbWVtb3J5IHRvIGNyZWF0ZSBUYWctdHJlZSBub2RlcwoATm90IGVub3VnaCBtZW1vcnkgdG8gcmVpbml0aWFsaXplIHRoZSB0YWcgdHJlZQoATm90IGVub3VnaCBtZW1vcnkgdG8gYWRkIGEgbmV3IHZhbGlkYXRpb24gcHJvY2VkdXJlCgAAAQECAQICAgECAgICAgICAwMDAwMDAwMDAwMDAwMDAwUGBgYGBgYGBgYGBgYGBgYHBwcHBwcHBwcHBwcHBwcHAwMDAwMDAwMDAwMDAwMDAwQEBAQEBAQEBAQEBAQEBAQHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwUGBgYGBgYGBgYGBgYGBgYHBwcHBwcHBwcHBwcHBwcHCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAEBAgECAgIBAgICAgICAgUGBgYGBgYGBgYGBgYGBgYDAwMDAwMDAwMDAwMDAwMDBwcHBwcHBwcHBwcHBwcHBwUGBgYGBgYGBgYGBgYGBgYICAgICAgICAgICAgICAgIBwcHBwcHBwcHBwcHBwcHBwgICAgICAgICAgICAgICAgDAwMDAwMDAwMDAwMDAwMDBwcHBwcHBwcHBwcHBwcHBwQEBAQEBAQEBAQEBAQEBAQHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwgICAgICAgICAgICAgICAgHBwcHBwcHBwcHBwcHBwcHCAgICAgICAgICAgICAgICAABAQIBAgICAQICAgICAgIDAwMDAwMDAwMDAwMDAwMDBQYGBgYGBgYGBgYGBgYGBgcHBwcHBwcHBwcHBwcHBwcDAwMDAwMDAwMDAwMDAwMDBAQEBAQEBAQEBAQEBAQEBAcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBQYGBgYGBgYGBgYGBgYGBgcHBwcHBwcHBwcHBwcHBwcICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgAAwMGAwYGCAMGBggGCAgIAQQEBwQHBwgEBwcIBwgICAEEBAcEBwcIBAcHCAcICAgCBQUHBQcHCAUHBwgHCAgIAQQEBwQHBwgEBwcIBwgICAIFBQcFBwcIBQcHCAcICAgCBQUHBQcHCAUHBwgHCAgIAgUFBwUHBwgFBwcIBwgICAEEBAcEBwcIBAcHCAcICAgCBQUHBQcHCAUHBwgHCAgIAgUFBwUHBwgFBwcIBwgICAIFBQcFBwcIBQcHCAcICAgCBQUHBQcHCAUHBwgHCAgIAgUFBwUHBwgFBwcIBwgICAIFBQcFBwcIBQcHCAcICAgCBQUHBQcHCAUHBwgHCAgICQoMDQoKDQ0MDQwNDQ0NDQkKDAsKCQ0MDAsMCw0MDQwJCgwLCgoLCwwNCQoNDQoKCQoMDQoJCwwMCwkKDQwKCQkKDA0KCQsMDA0MDQsMCwwJCgwLCgoLCwwLDAsLCwsLCQoMCwoJDQwMDQkKCwwKCQkKDA0KCg0NDAsJCgsLCgoJCgwNCgoNDQwLCQoLCwoKCQoMCwoJDQwMDQkKCwwKCQkKDAsKCgsLDAsMCwsLCwsJCgwNCgkLDAwNDA0LDAsMCQoMDQoJCwwMCwkKDQwKCQkKDAsKCgsLDA0JCg0NCgoJCgwLCgkNDAwLDAsNDA0MCQoMDQoKDQ0MDQwNDQ0NDQAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAABAQAAAQEAAAAAAAAAAAABAQEAAAEBAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAAAAAEAAAEBAAAAAAAAAAAAAAAAAQEBAAEBAAAAAAAAAQAAAQEBAQEBAQAAAAEAAAEBAAAAAAAAAAABAQAAAQEAAAABAAAAAAAAAQEAAQEBAAAAAAEBAAABAQEBAQEBAQEBAAEBAQAAAQEBAQEBAQEBAQAAAAABAAAAAQEAAAEBAQAAAQAAAQEAAAEBAAEBAQEBAAABAQEAAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQFyZWFkOiBzZWdtZW50IHRvbyBsb25nICglZCkgd2l0aCBtYXggKCVkKSBmb3IgY29kZWJsb2NrICVkIChwPSVkLCBiPSVkLCByPSVkLCBjPSVkKQoAcmVhZDogc2VnbWVudCB0b28gbG9uZyAoJWQpIHdpdGggY3VycmVudCBzaXplICglZCA+ICVkKSBmb3IgY29kZWJsb2NrICVkIChwPSVkLCBiPSVkLCByPSVkLCBjPSVkKQoAc2tpcDogc2VnbWVudCB0b28gbG9uZyAoJWQpIHdpdGggbWF4ICglZCkgZm9yIGNvZGVibG9jayAlZCAocD0lZCwgYj0lZCwgcj0lZCwgYz0lZCkKAEludmFsaWQgcHJlY2luY3QKAE5vdCBlbm91Z2ggc3BhY2UgZm9yIGV4cGVjdGVkIFNPUCBtYXJrZXIKAEV4cGVjdGVkIFNPUCBtYXJrZXIKAE5vdCBlbm91Z2ggc3BhY2UgZm9yIGV4cGVjdGVkIEVQSCBtYXJrZXIKAEV4cGVjdGVkIEVQSCBtYXJrZXIKAHJ3YQARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAAC0rICAgMFgweAAobnVsbCkALTBYKzBYIDBYLTB4KzB4IDB4AGluZgBJTkYAbmFuAE5BTgAwMTIzNDU2Nzg5QUJDREVGLgBUISIZDQECAxFLHAwQBAsdEh4naG5vcHFiIAUGDxMUFRoIFgcoJBcYCQoOGx8lI4OCfSYqKzw9Pj9DR0pNWFlaW1xdXl9gYWNkZWZnaWprbHJzdHl6e3wASWxsZWdhbCBieXRlIHNlcXVlbmNlAERvbWFpbiBlcnJvcgBSZXN1bHQgbm90IHJlcHJlc2VudGFibGUATm90IGEgdHR5AFBlcm1pc3Npb24gZGVuaWVkAE9wZXJhdGlvbiBub3QgcGVybWl0dGVkAE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnkATm8gc3VjaCBwcm9jZXNzAEZpbGUgZXhpc3RzAFZhbHVlIHRvbyBsYXJnZSBmb3IgZGF0YSB0eXBlAE5vIHNwYWNlIGxlZnQgb24gZGV2aWNlAE91dCBvZiBtZW1vcnkAUmVzb3VyY2UgYnVzeQBJbnRlcnJ1cHRlZCBzeXN0ZW0gY2FsbABSZXNvdXJjZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZQBJbnZhbGlkIHNlZWsAQ3Jvc3MtZGV2aWNlIGxpbmsAUmVhZC1vbmx5IGZpbGUgc3lzdGVtAERpcmVjdG9yeSBub3QgZW1wdHkAQ29ubmVjdGlvbiByZXNldCBieSBwZWVyAE9wZXJhdGlvbiB0aW1lZCBvdXQAQ29ubmVjdGlvbiByZWZ1c2VkAEhvc3QgaXMgZG93bgBIb3N0IGlzIHVucmVhY2hhYmxlAEFkZHJlc3MgaW4gdXNlAEJyb2tlbiBwaXBlAEkvTyBlcnJvcgBObyBzdWNoIGRldmljZSBvciBhZGRyZXNzAEJsb2NrIGRldmljZSByZXF1aXJlZABObyBzdWNoIGRldmljZQBOb3QgYSBkaXJlY3RvcnkASXMgYSBkaXJlY3RvcnkAVGV4dCBmaWxlIGJ1c3kARXhlYyBmb3JtYXQgZXJyb3IASW52YWxpZCBhcmd1bWVudABBcmd1bWVudCBsaXN0IHRvbyBsb25nAFN5bWJvbGljIGxpbmsgbG9vcABGaWxlbmFtZSB0b28gbG9uZwBUb28gbWFueSBvcGVuIGZpbGVzIGluIHN5c3RlbQBObyBmaWxlIGRlc2NyaXB0b3JzIGF2YWlsYWJsZQBCYWQgZmlsZSBkZXNjcmlwdG9yAE5vIGNoaWxkIHByb2Nlc3MAQmFkIGFkZHJlc3MARmlsZSB0b28gbGFyZ2UAVG9vIG1hbnkgbGlua3MATm8gbG9ja3MgYXZhaWxhYmxlAFJlc291cmNlIGRlYWRsb2NrIHdvdWxkIG9jY3VyAFN0YXRlIG5vdCByZWNvdmVyYWJsZQBQcmV2aW91cyBvd25lciBkaWVkAE9wZXJhdGlvbiBjYW5jZWxlZABGdW5jdGlvbiBub3QgaW1wbGVtZW50ZWQATm8gbWVzc2FnZSBvZiBkZXNpcmVkIHR5cGUASWRlbnRpZmllciByZW1vdmVkAERldmljZSBub3QgYSBzdHJlYW0ATm8gZGF0YSBhdmFpbGFibGUARGV2aWNlIHRpbWVvdXQAT3V0IG9mIHN0cmVhbXMgcmVzb3VyY2VzAExpbmsgaGFzIGJlZW4gc2V2ZXJlZABQcm90b2NvbCBlcnJvcgBCYWQgbWVzc2FnZQBGaWxlIGRlc2NyaXB0b3IgaW4gYmFkIHN0YXRlAE5vdCBhIHNvY2tldABEZXN0aW5hdGlvbiBhZGRyZXNzIHJlcXVpcmVkAE1lc3NhZ2UgdG9vIGxhcmdlAFByb3RvY29sIHdyb25nIHR5cGUgZm9yIHNvY2tldABQcm90b2NvbCBub3QgYXZhaWxhYmxlAFByb3RvY29sIG5vdCBzdXBwb3J0ZWQAU29ja2V0IHR5cGUgbm90IHN1cHBvcnRlZABOb3Qgc3VwcG9ydGVkAFByb3RvY29sIGZhbWlseSBub3Qgc3VwcG9ydGVkAEFkZHJlc3MgZmFtaWx5IG5vdCBzdXBwb3J0ZWQgYnkgcHJvdG9jb2wAQWRkcmVzcyBub3QgYXZhaWxhYmxlAE5ldHdvcmsgaXMgZG93bgBOZXR3b3JrIHVucmVhY2hhYmxlAENvbm5lY3Rpb24gcmVzZXQgYnkgbmV0d29yawBDb25uZWN0aW9uIGFib3J0ZWQATm8gYnVmZmVyIHNwYWNlIGF2YWlsYWJsZQBTb2NrZXQgaXMgY29ubmVjdGVkAFNvY2tldCBub3QgY29ubmVjdGVkAENhbm5vdCBzZW5kIGFmdGVyIHNvY2tldCBzaHV0ZG93bgBPcGVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcwBPcGVyYXRpb24gaW4gcHJvZ3Jlc3MAU3RhbGUgZmlsZSBoYW5kbGUAUmVtb3RlIEkvTyBlcnJvcgBRdW90YSBleGNlZWRlZABObyBtZWRpdW0gZm91bmQAV3JvbmcgbWVkaXVtIHR5cGUATm8gZXJyb3IgaW5mb3JtYXRpb24=";var me=R;R+=16;var be={varargs:0,get:function get(){return be.varargs+=4,P[be.varargs-4>>2]},getStr:function getStr(){return k(be.get())},get64:function get64(){var e=be.get(),t=be.get();return y(0<=e?0===t:-1===t),e},getZero:function getZero(){y(0===be.get())}};function ye(e,t){be.varargs=t;try{var i=be.get(),n=be.get(),r=be.get(),a=0;ye.buffers||(ye.buffers=[null,[],[]],ye.printChar=function(e,t){var i=ye.buffers[e];y(i),0===t||10===t?((1===e?o.print:o.printErr)(S(i,0)),i.length=0):i.push(t)});for(var s=0;s<r;s++){for(var l=P[n+8*s>>2],c=P[n+(8*s+4)>>2],h=0;h<c;h++){ye.printChar(i,B[l+h])}a+=c}return a}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||Ve(e),-e.errno}}var ge=function(e,t,i,n){var r,o;"number"==typeof e?(r=!0,o=e):(r=!1,o=e.length);var a,s="string"==typeof t?t:null;if(a=i==4?n:["function"==typeof Pe?Pe:p,Te,p,function(e){y(Z);var t=P[Z>>2],i=-16&t+e+15;return P[Z>>2]=i,i>=X&&!j()?(P[Z>>2]=t,0):t}][void 0===i?w:i](_Mathmax(o,s?1:t.length)),r){var l;for(n=a,y(0==(3&a)),l=a+(-4&o);n<l;n+=4){P[n>>2]=0}for(l=a+o;n<l;){C[n++>>0]=0}return a}if("i8"===s)return e.subarray||e.slice?B.set(e,a):B.set(new Uint8Array(e),a),a;for(var c,h,u,f=0,d;f<o;){d=e[f];0!==(c=s||t[f])?("i64"==c&&(c="i32"),A(a+f,d,c),u!==c&&(h=m(c),u=c),f+=h):f++}return a}([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",w);Z=p(4),L=_(F=(O=_(R))+Y),P[Z>>2]=L,G=!0;function Ie(e){for(var t=[],i=0,n;i<e.length;i++){n=e[i];255<n&&(!1,n&=255),t.push(_StringfromCharCode(n))}return t.join("")}var Se="function"==typeof atob?atob:function(e){var t,i,n,r,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=s.indexOf(e.charAt(c++))<<2|(r=s.indexOf(e.charAt(c++)))>>4,i=(15&r)<<4|(o=s.indexOf(e.charAt(c++)))>>2,n=(3&o)<<6|(a=s.indexOf(e.charAt(c++))),l+=_StringfromCharCode(t),64!==o&&(l+=_StringfromCharCode(i)),64!==a&&(l+=_StringfromCharCode(n))}while(c<e.length);return l};function Ee(e){if(_e(e))return function(e){if("boolean"==typeof u&&u){var t;try{t=n.from(e,"base64")}catch(i){t=new n(e,"base64")}return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var i=Se(e),r=new Uint8Array(i.length),o=0;o<i.length;++o){r[o]=i.charCodeAt(o)}return r}catch(e){throw new Error("Converting base64 string to bytes failed.")}}(e.slice(pe.length))}o.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:z},o.asmLibraryArg={abort:Ve,assert:y,enlargeMemory:j,getTotalMemory:function getTotalMemory(){return X},abortOnCannotGrowMemory:function abortOnCannotGrowMemory(){Ve("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+X+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},invoke_di:function invoke_di(e,t){try{return o.dynCall_di(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_ii:function invoke_ii(e,t){try{return o.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iii:function invoke_iii(e,t,i){try{return o.dynCall_iii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiii:function invoke_iiii(e,t,i,n){try{return o.dynCall_iiii(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiii:function invoke_iiiii(e,t,i,n,r){try{return o.dynCall_iiiii(e,t,i,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiiii:function invoke_iiiiii(e,t,i,n,r,a){try{return o.dynCall_iiiiii(e,t,i,n,r,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiiiii:function invoke_iiiiiii(e,t,i,n,r,a,s){try{return o.dynCall_iiiiiii(e,t,i,n,r,a,s)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiiiiii:function invoke_iiiiiiii(e,t,i,n,r,a,s,l){try{return o.dynCall_iiiiiiii(e,t,i,n,r,a,s,l)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_iiiiiiiiiiii:function invoke_iiiiiiiiiiii(e,t,i,n,r,a,s,l,c,h,u,f){try{return o.dynCall_iiiiiiiiiiii(e,t,i,n,r,a,s,l,c,h,u,f)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_vi:function invoke_vi(e,t){try{o.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_vii:function invoke_vii(e,t,i){try{o.dynCall_vii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_viii:function invoke_viii(e,t,i,n){try{o.dynCall_viii(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},invoke_viiii:function invoke_viiii(e,t,i,n,r){try{o.dynCall_viiii(e,t,i,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;o.setThrew(1,0)}},___lock:function ___lock(){},___setErrNo:function ___setErrNo(e){return o.___errno_location&&(P[o.___errno_location()>>2]=e),e},___syscall140:function ___syscall140(e,t){be.varargs=t;try{var i=be.getStreamFromFD(),n=(be.get(),be.get()),r=be.get(),o=be.get(),a=n;return FS.llseek(i,a,o),P[r>>2]=i.position,i.getdents&&0===a&&0===o&&(i.getdents=null),0}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||Ve(e),-e.errno}},___syscall145:function ___syscall145(e,t){be.varargs=t;try{var i=be.getStreamFromFD(),n=be.get(),r=be.get();return be.doReadv(i,n,r)}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||Ve(e),-e.errno}},___syscall146:ye,___syscall221:function ___syscall221(e,t){be.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||Ve(e),-e.errno}},___syscall5:function ___syscall5(e,t){be.varargs=t;try{var i=be.getStr(),n=be.get(),r=be.get();return FS.open(i,n,r).fd}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||Ve(e),-e.errno}},___syscall54:function ___syscall54(e,t){be.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||Ve(e),-e.errno}},___syscall6:function ___syscall6(e,t){be.varargs=t;try{var i=be.getStreamFromFD();return FS.close(i),0}catch(e){return"undefined"!=typeof FS&&babelHelpers.instanceof(e,FS.ErrnoError)||Ve(e),-e.errno}},___unlock:function ___unlock(){},_emscripten_memcpy_big:function _emscripten_memcpy_big(e,t,i){return B.set(B.subarray(t,t+i),e),e},_llvm_ceil_f32:ae,_llvm_floor_f32:se,_llvm_floor_f64:se,_llvm_pow_f64:_Mathpow,flush_NO_FILESYSTEM:function flush_NO_FILESYSTEM(){var e=o._fflush;e&&e(0);var t=ye.printChar;if(t){var i=ye.buffers;i[1].length&&t(1,10),i[2].length&&t(2,10)}},DYNAMICTOP_PTR:Z,tempDoublePtr:me,ABORT:b,STACKTOP:O,STACK_MAX:F,cttz_i8:ge};var Ce,Be=function(e,t,i){"almost asm";var n=e.Int8Array,r=new n(i),o=e.Int16Array,a=new o(i),s=e.Int32Array,l=new s(i),c=e.Uint8Array,h=new c(i),u=e.Uint16Array,f=new u(i),d=e.Uint32Array,p=(new d(i),e.Float32Array),_=new p(i),m=e.Float64Array,b=new m(i),y=e.byteLength,g=0|t.DYNAMICTOP_PTR,v=0|t.tempDoublePtr,A=(t.ABORT,0|t.STACKTOP),w=(t.STACK_MAX,0|t.cttz_i8),x=0,k=(e.NaN,e.Infinity,0),I=e.Math.floor,S=(e.Math.abs,e.Math.sqrt),E=e.Math.pow,C=(e.Math.cos,e.Math.sin,e.Math.tan,e.Math.acos,e.Math.asin,e.Math.atan,e.Math.atan2,e.Math.exp,e.Math.log,e.Math.ceil),B=e.Math.imul,M=(e.Math.min,e.Math.max,e.Math.clz32),P=t.abort,T=(t.assert,t.enlargeMemory),D=t.getTotalMemory,R=t.abortOnCannotGrowMemory,G=(t.invoke_di,t.invoke_ii,t.invoke_iii,t.invoke_iiii,t.invoke_iiiii,t.invoke_iiiiii,t.invoke_iiiiiii,t.invoke_iiiiiiii,t.invoke_iiiiiiiiiiii,t.invoke_vi,t.invoke_vii,t.invoke_viii,t.invoke_viiii,t.___lock),O=t.___setErrNo,F=t.___syscall140,L=t.___syscall145,Z=t.___syscall146,z=t.___syscall221,U=t.___syscall5,V=t.___syscall54,N=t.___syscall6,H=t.___unlock,W=t._emscripten_memcpy_big;function j(e,t){e|=0,t|=0;var i=0;return(i=0|Ue(1,72))?(l[i+64>>2]=e,e=0|ze(e),l[i+32>>2]=e,e?(l[i+36>>2]=e,t=0==(0|t),l[(e=0|i+68)>>2]=l[e>>2]|(t?1:2),l[i+40>>2]=t?29:30,l[i+44>>2]=t?31:32,l[i+16>>2]=4,l[i+20>>2]=5,l[i+24>>2]=6,l[i+28>>2]=7,0|i):(We(i),0|(i=0))):0|(i=0)}function Y(e){e|=0;var t,i=0;return(t=0|Ue(1,72))?(l[t+64>>2]=1048576,i=0|ze(1048576),l[t+32>>2]=i,i?(l[t+36>>2]=i,i=0==(0|e),l[(e=0|t+68)>>2]=l[e>>2]|(i?1:2),l[t+40>>2]=i?29:30,l[t+44>>2]=i?31:32,l[t+16>>2]=4,l[t+20>>2]=5,l[t+24>>2]=6,l[t+28>>2]=7,0|(i=t)):(We(t),0|(i=0))):0|(i=0)}function X(e){var t=0;(e|=0)&&(0|(t=0|l[e+4>>2])&&io[7&t](0|l[e>>2]),We(0|l[(t=0|e+32)>>2]),l[t>>2]=0,We(e))}function Q(e,t){t|=0,(e|=0)&&2&l[e+68>>2]&&(l[e+16>>2]=t)}function J(e,t){t|=0,(e|=0)&&(l[e+28>>2]=t)}function q(e,t){t|=0,(e|=0)&&(l[e+24>>2]=t)}function K(e,t,i){t|=0,i|=0,(e|=0)&&(l[e>>2]=t,l[e+4>>2]=i)}function $(e,t,i){t|=0,i|=0,(e|=0)&&(l[(e=0|e+8)>>2]=t,l[e+4>>2]=i)}function ee(e,t){t|=0,(e|=0)&&1&l[e+68>>2]&&(l[e+20>>2]=t)}function te(e,t,i,n){t|=0,i|=0,n|=0;var r,o=0;return l[36+(e|=0)>>2]=l[e+32>>2],l[e+48>>2]=0,o=0==(0|Jr[63&l[e+28>>2]](t,i,0|l[e>>2])),r=0|l[(n=0|e+68)>>2],o?(l[n>>2]=4|r,0|(o=0)):(l[n>>2]=-5&r,l[(o=0|e+56)>>2]=t,l[o+4>>2]=i,0|(o=1))}function ie(e,t,i){e|=0,t|=0,i|=0;var n,o,a=0;if(o=A,A=0|A+16,l[(n=o)>>2]=t,i){for(a=0,t=0|n+i;t=0|t+-1,r[e>>0]=0|r[t>>0],(0|(a=0|a+1))!=(0|i);){e=0|e+1}A=o}else A=o}function ne(e,t,i){e|=0,i|=0;var n=0;if(l[(t|=0)>>2]=0,i)for(n=0|t+i,t=e,e=0;r[(n=0|n+-1)>>0]=0|r[t>>0],(0|(e=0|e+1))!=(0|i);){t=0|t+1}}function re(e,t){e|=0,t=+t;var i,n=0,o=0;b[v>>3]=t,o=0|Sr(0|(i=0|l[v>>2]),0|(n=0|l[v+4>>2]),56),r[e>>0]=o,o=0|Sr(0|i,0|n,48),r[e+1>>0]=o,o=0|Sr(0|i,0|n,40),r[e+2>>0]=o,r[e+3>>0]=n,o=0|Sr(0|i,0|n,24),r[e+4>>0]=o,o=0|Sr(0|i,0|n,16),r[e+5>>0]=o,n=0|Sr(0|i,0|n,8),r[e+6>>0]=n,r[e+7>>0]=i}function oe(e,t){var i;e|=0,r[(i=0|8+(t|=0))-1>>0]=0|r[e>>0],r[i+-2>>0]=0|r[e+1>>0],r[i+-3>>0]=0|r[e+2>>0],r[i+-4>>0]=0|r[e+3>>0],r[i+-5>>0]=0|r[e+4>>0],r[i+-6>>0]=0|r[e+5>>0],r[i+-7>>0]=0|r[e+6>>0],r[t>>0]=0|r[e+7>>0]}function ae(e,t){e|=0,t=+t;var i=0;_[v>>2]=t,i=0|l[v>>2],r[e>>0]=i>>>24,r[e+1>>0]=i>>>16,r[e+2>>0]=i>>>8,r[e+3>>0]=i}function se(e,t){var i;e|=0,r[(i=0|4+(t|=0))-1>>0]=0|r[e>>0],r[i+-2>>0]=0|r[e+1>>0],r[i+-3>>0]=0|r[e+2>>0],r[t>>0]=0|r[e+3>>0]}function le(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0;if(a=A,A=0|A+16,y=0|a+8,b=a,(s=0|l[(o=0|48+(e|=0))>>2])>>>0>=i>>>0)return Br(0|t,0|l[(y=0|e+36)>>2],0|i),l[y>>2]=(0|l[y>>2])+i,l[o>>2]=(0|l[o>>2])-i,b=0|gr(0|l[(b=y=0|e+56)>>2],0|l[b+4>>2],0|i,0),l[y>>2]=b,l[y+4>>2]=k,A=a,0|(y=i);if(0|4&l[(r=0|e+68)>>2])return Br(0|t,0|l[(y=0|e+36)>>2],0|s),b=0|l[o>>2],l[y>>2]=(0|l[y>>2])+b,b=0|gr(0|l[(n=y=0|e+56)>>2],0|l[n+4>>2],0|b,0),l[y>>2]=b,l[y+4>>2]=k,l[o>>2]=0,A=a,0|(y=0|s?s:-1);for(s?(Br(0|t,0|l[(_=0|e+36)>>2],0|s),c=0|l[(m=0|e+32)>>2],l[_>>2]=c,p=0|l[o>>2],f=0|gr(0|l[(f=d=0|e+56)>>2],0|l[f+4>>2],0|p,0),l[d>>2]=f,l[d+4>>2]=k,l[o>>2]=0,i=0|i-p,t=0|t+p):(c=0|l[(m=0|e+32)>>2],l[(_=0|e+36)>>2]=c,s=0),d=0|e+64,p=0|e+16,f=0|e+56;;){if(h=0|l[d>>2],u=0|l[p>>2],i>>>0>=h>>>0){if(h=0|Jr[63&u](t,i,0|l[e>>2]),l[o>>2]=h,-1==(0|h)){c=16;break}if(s=0|h+s,!(h>>>0<i>>>0)){c=19;break}c=h}else{if(c=0|Jr[63&u](c,h,0|l[e>>2]),l[o>>2]=c,-1==(0|c)){c=11;break}if(c>>>0>=i>>>0){c=14;break}Br(0|t,0|l[_>>2],0|c),s=0|c+s,c=0|l[o>>2]}u=0|l[m>>2],l[_>>2]=u,g=0|gr(0|l[(g=f)>>2],0|l[g+4>>2],0|c,0),l[(h=f)>>2]=g,l[h+4>>2]=k,l[o>>2]=0,i=0|i-c,t=0|t+c,c=u}return 11==(0|c)?(_e(n,4,4386,b),l[o>>2]=0,l[r>>2]=4|l[r>>2],A=a,0|(g=0|s?s:-1)):14==(0|c)?(Br(0|t,0|l[_>>2],0|i),l[_>>2]=(0|l[_>>2])+i,l[o>>2]=(0|l[o>>2])-i,y=0|gr(0|l[(y=g=0|e+56)>>2],0|l[y+4>>2],0|i,0),l[g>>2]=y,l[g+4>>2]=k,A=a,0|(g=0|s+i)):16==(0|c)?(_e(n,4,4386,y),l[o>>2]=0,l[r>>2]=4|l[r>>2],A=a,0|(g=0|s?s:-1)):19==(0|c)?(y=0|gr(0|l[(y=g=0|e+56)>>2],0|l[y+4>>2],0|h,0),l[g>>2]=y,l[g+4>>2]=k,l[_>>2]=l[m>>2],l[o>>2]=0,A=a,0|(g=s)):0}function ce(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0;if(s=A,A=0|A+16,a=s,0|8&l[(r=0|68+(e|=0))>>2])return A=s,0|(y=-1);o=0|e+64,d=0|l[(y=0|e+48)>>2],c=0|(0|l[o>>2])-d;do{if(c>>>0<i>>>0){_=0|e+32,h=0|e+36,m=0|e+20,u=0|e+56,f=0,p=c;e:for(;;){if(p?(Br(0|l[h>>2],0|t,0|p),c=0|l[_>>2],l[h>>2]=c,d=0|(0|l[y>>2])+p,l[y>>2]=d,v=0|gr(0|l[(v=u)>>2],0|l[v+4>>2],0|p,0),l[(g=u)>>2]=v,l[g+4>>2]=k,f=0|p+f,i=0|i-p,t=0|t+p):c=0|l[_>>2],l[h>>2]=c,d){do{if(-1==(0|(d=0|Jr[63&l[m>>2]](c,d,0|l[e>>2]))))break e;c=0|(0|l[h>>2])+d,l[h>>2]=c,d=0|(0|l[y>>2])-d,l[y>>2]=d}while(0!=(0|d));c=0|l[_>>2]}if(l[h>>2]=c,i>>>0<=(p=0|l[o>>2])>>>0){b=5;break}d=0}if(5==(0|b))break;return l[r>>2]=8|l[r>>2],_e(n,4,4360,a),A=s,0|(v=-1)}f=0,u=0|e+56,h=c=0|e+36,c=0|l[c>>2]}while(0);return Br(0|c,0|t,0|i),l[h>>2]=(0|l[h>>2])+i,l[y>>2]=(0|l[y>>2])+i,g=0|gr(0|l[(g=u)>>2],0|l[g+4>>2],0|i,0),l[(v=u)>>2]=g,l[v+4>>2]=k,A=s,0|(v=0|f+i)}function he(e){return k=0|l[4+(e=0|56+(e|=0))>>2],0|l[e>>2]}function ue(e){var t=0,i=0;return 0==(0|(t=0|l[(i=0|8+(e|=0))>>2]))&0==(0|(i=0|l[i+4>>2]))?(k=t=0,0|(i=0)):(i=0|vr(0|t,0|i,0|l[(e=0|e+56)>>2],0|l[e+4>>2]),k=t=k,0|i)}function fe(e,t,i,n){return t|=0,i|=0,n|=0,0|(n=0|qr[63&l[40+(e|=0)>>2]](e,t,i,n))}function de(e,t,i,n){return t|=0,i|=0,n|=0,0|qr[63&l[44+(e|=0)>>2]](e,t,i,n)}function pe(e){return 0|7!=(0|l[28+(e|=0)>>2])}function _e(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o,a,s=0;a=A,A=0|A+528,r=a,o=0|a+16;e:do{if(e){switch(0|t){case 1:t=0|e+12;break;case 2:t=0|e+16,e=0|e+4;break;case 4:t=0|e+20,e=0|e+8;break;default:t=0;break e;}s=0|l[t>>2],t=0|l[e>>2],s?i?(Mr(0|o,0,512),l[r>>2]=n,lr(o,512,i,r),no[7&s](o,t),t=1):t=1:t=0}else t=0}while(0);return A=a,0|t}function me(e){l[(e|=0)>>2]=0,l[e+4>>2]=0,l[e+8>>2]=0,l[e+12>>2]=4,l[e+20>>2]=4,l[e+16>>2]=4}function be(e,t,i){e|=0,t|=0,i|=0;var n,r,o=0,a=0,s=0,c=0,h=0;if(!(n=0|Ue(1,36)))return 0|(s=n);if(l[n+20>>2]=i,l[(r=0|n+16)>>2]=e,o=0|Ue(1,0|52*e),l[(s=0|n+24)>>2]=o,!o)return 0|(i=0|l[n+28>>2])&&We(i),We(n),0|(s=0);if(!e)return 0|(s=n);for(i=0;l[o+(0|52*i)>>2]=l[t+(0|36*i)>>2],l[o+(0|52*i)+4>>2]=l[t+(0|36*i)+4>>2],c=0|l[t+(0|36*i)+8>>2],l[o+(0|52*i)+8>>2]=c,h=0|l[t+(0|36*i)+12>>2],l[o+(0|52*i)+12>>2]=h,l[o+(0|52*i)+16>>2]=l[t+(0|36*i)+16>>2],l[o+(0|52*i)+20>>2]=l[t+(0|36*i)+20>>2],l[o+(0|52*i)+24>>2]=l[t+(0|36*i)+24>>2],l[o+(0|52*i)+28>>2]=l[t+(0|36*i)+28>>2],l[o+(0|52*i)+32>>2]=l[t+(0|36*i)+32>>2],c=0|Ue(0|B(h,c),4),l[o+(0|52*i)+44>>2]=c,i=0|i+1,c;){if(i>>>0>=e>>>0){a=22;break}o=0|l[s>>2]}if(22==(0|a))return 0|n;if(0|(i=0|l[s>>2])){if(o=0|l[r>>2]){for(e=0;(i=0|l[i+(0|52*e)+44>>2])&&(We(i),o=0|l[r>>2]),!((i=0|e+1)>>>0>=o>>>0);){e=i,i=0|l[s>>2]}i=0|l[s>>2]}We(i)}return 0|(i=0|l[n+28>>2])&&We(i),We(n),0|(h=0)}function ye(e){var t,i=0,n=0,r=0,o=0;if(e|=0){if(0|(i=0|l[(t=0|e+24)>>2])){if(n=0|l[(o=0|e+16)>>2]){for(r=0;(i=0|l[i+(0|52*r)+44>>2])&&(We(i),n=0|l[o>>2]),!((i=0|r+1)>>>0>=n>>>0);){r=i,i=0|l[t>>2]}i=0|l[t>>2]}We(i)}0|(i=0|l[e+28>>2])&&We(i),We(e)}}function ge(){return 0|Ue(1,36)}function ve(e,t){e|=0;var i,n,r=0,o=0,a=0,s=0,c=0;if(l[(t|=0)>>2]=l[e>>2],l[t+4>>2]=l[e+4>>2],l[t+8>>2]=l[e+8>>2],l[t+12>>2]=l[e+12>>2],i=0|t+16,o=0|l[(n=0|t+24)>>2]){if(a=0|l[i>>2]){for(r=0;(o=0|l[o+(0|52*r)+44>>2])&&(We(o),a=0|l[i>>2]),!((r=0|r+1)>>>0>=a>>>0);){o=0|l[n>>2]}r=n,o=0|l[n>>2]}else r=n;We(o),l[n>>2]=0}else r=n;if(o=0|l[e+16>>2],l[i>>2]=o,o=0|ze(0|52*o),l[r>>2]=o,!o)return l[n>>2]=0,void(l[i>>2]=0);if(0|l[i>>2]){c=0|e+24,s=0,r=o;do{r=0|r+(0|52*s),o=0|(0|l[c>>2])+(0|52*s),a=0|r+52;do{l[r>>2]=l[o>>2],r=0|r+4,o=0|o+4}while((0|r)<(0|a));r=0|l[n>>2],l[r+(0|52*s)+44>>2]=0,s=0|s+1}while(s>>>0<(0|l[i>>2])>>>0)}if(l[t+20>>2]=l[e+20>>2],r=0|l[(a=0|e+32)>>2],l[(s=0|t+32)>>2]=r,r)return o=0|ze(r),l[(r=0|t+28)>>2]=o,o?void Br(0|o,0|l[e+28>>2],0|l[a>>2]):(l[r>>2]=0,void(l[s>>2]=0));l[t+28>>2]=0}function Ae(e){e|=0;var t=0;if(!(t=0|Ue(1,84)))return 0|(t=0);switch(l[t+68>>2]=0,0|e){case 0:if(l[t+4>>2]=8,l[t+12>>2]=9,l[t>>2]=33,l[t+8>>2]=1,l[t+16>>2]=1,l[t+20>>2]=34,e=0|Ye(),l[t+40>>2]=e,!e)return We(t),0|(t=0);break;case 2:if(l[t+4>>2]=10,l[t+12>>2]=11,l[t>>2]=35,l[t+8>>2]=2,l[t+16>>2]=2,l[t+20>>2]=36,e=0|Mt(0),l[t+40>>2]=e,!e)return We(t),0|(t=0);break;default:return We(t),0|(t=0);}return me(0|t+44),0|t}function we(e){e|=0;var t=0;if(!(t=0|Ue(1,84)))return 0|(t=0);switch(l[t+68>>2]=1,0|e){case 0:if(l[t+72>>2]=13,l[t+76>>2]=2,l[t+80>>2]=3,l[t+4>>2]=37,l[t+16>>2]=12,l[t>>2]=38,l[t+20>>2]=1,l[t+24>>2]=5,l[t+8>>2]=1,l[t+12>>2]=3,l[t+28>>2]=1,l[t+32>>2]=1,l[t+36>>2]=13,e=0|at(),l[t+40>>2]=e,!e)return We(t),0|(t=0);break;case 2:if(l[t+72>>2]=14,l[t+76>>2]=4,l[t+80>>2]=5,l[t+4>>2]=39,l[t+16>>2]=14,l[t>>2]=40,l[t+8>>2]=2,l[t+12>>2]=4,l[t+20>>2]=2,l[t+24>>2]=6,l[t+28>>2]=2,l[t+32>>2]=2,l[t+36>>2]=15,e=0|Mt(1),l[t+40>>2]=e,!e)return We(t),0|(t=0);break;default:return We(t),0|(t=0);}return me(0|t+44),0|t}function xe(e,t,i){return i|=0,0!=(0|(e|=0))&0!=(0|(t|=0))&&0|l[e+68>>2]?0|(i=0|qr[63&l[e+4>>2]](0|l[e+40>>2],t,i,0|e+44)):0|(i=0)}function ke(e){var t=0;(e|=0)&&(0|l[e+68>>2]?(t=0|e+40,io[7&l[e+20>>2]](0|l[t>>2])):(t=0|e+40,io[7&l[e+16>>2]](0|l[t>>2])),l[t>>2]=0,We(e))}function Ie(e){var t,i=0;(e|=0)&&(i=0|l[e>>2],(t=0|l[i+48>>2])&&(We(t),i=0|l[e>>2]),We(i),l[e>>2]=0)}function Se(e,t){return 0!=(0|(e|=0))&0!=(0|(t|=0))?0|l[e+68>>2]?0|(t=0):0|(t=0|Jr[63&l[e+4>>2]](0|l[e+40>>2],t,0|e+44)):0|(t=0)}function Ee(e,t){return 0!=(0|(e|=0))&0!=(0|(t|=0))?0|l[e+68>>2]?0|(t=0):0|(t=0|Jr[63&l[e+12>>2]](0|l[e+40>>2],t,0|e+44)):0|(t=0)}function Ce(e,t,i){var n;return i|=0,n=A,A=0|A+16,0!=(0|(e|=0))&0!=(0|(t|=0))?0|l[t+68>>2]?(i=0|qr[63&l[t>>2]](e,0|l[t+40>>2],i,0|t+44),A=n,0|i):(_e(0|t+44,1,4520,n),A=n,0|(i=0)):(A=n,0|(i=0))}function Be(e){(e|=0)&&(Mr(0|e,0,8248),l[e+8200>>2]=-1,l[e+8204>>2]=-1,l[e+8248>>2]=0)}function Me(e){(e|=0)&&(Mr(0|e,0,18708),l[e+5592>>2]=6,l[e+18684>>2]=0,l[e+5596>>2]=64,l[e+5600>>2]=64,l[e+44>>2]=0,l[e+5612>>2]=-1,l[e+18188>>2]=1,l[e+18192>>2]=1,r[e+18688>>0]=0,l[e+18196>>2]=-1,l[e+18200>>2]=-1,_[e+4792>>2]=0,l[e+4788>>2]=0,l[e+20>>2]=0,l[e+24>>2]=0,l[e+28>>2]=0,l[e+18692>>2]=0)}function Pe(e,t,i){return t|=0,i|=0,(e|=0)?(l[e+56>>2]=t,l[e+44>>2]=i,0|(i=1)):0|(i=0)}function Te(e,t,i){return t|=0,i|=0,(e|=0)?(l[e+64>>2]=t,l[e+52>>2]=i,0|(i=1)):0|(i=0)}function De(e,t,i){return t|=0,i|=0,(e|=0)?(l[e+60>>2]=t,l[e+48>>2]=i,0|(i=1)):0|(i=0)}function Re(e,t){var i;return i=A,A=0|A+16,0!=(0|(e|=0))&0!=(0|(t|=0))?0|l[e+68>>2]?(no[7&l[e+24>>2]](0|l[e+40>>2],t),A=i,0|(t=1)):(_e(0|e+44,1,4439,i),A=i,0|(t=0)):(A=i,0|(t=0))}function Ge(e,t,i){return 0!=(0|(e|=0))&0!=(0|(t|=0))&0!=(0|(i|=0))?0|l[e+68>>2]?0|(i=0):0|(i=0|qr[63&l[e+20>>2]](0|l[e+40>>2],t,i,0|e+44)):0|(i=0)}function Oe(e,t,i){return t|=0,0!=(0|(e|=0))&0!=(0|(i|=0))?0|l[e+68>>2]?0|(i=0):0|(i=0|qr[63&l[e>>2]](0|l[e+40>>2],i,t,0|e+44)):0|(i=0)}function Fe(e,t){t|=0;var i=0;return(e|=0)&&(i=0|Y(t))?(K(i,e,0),$(i,0|l[e+8>>2],0),t?Q(i,16):ee(i,17),q(i,18),J(i,19),0|i):0|(i=0)}function Le(e,t,i){t|=0,i|=0;var n=0;return(e|=0)&&(n=0|Gn(e,0==(0|i)?4433:4436))?(e=0|j(t,i))?(K(e,n,6),Nn(n,0,2),i=0|function(e){return 0|function(e){var t=0,i=0;return-1<(0|l[76+(e|=0)>>2])?(i=0==(0|Bn()),t=0|br(e),i||Cn()):t=0|br(e),0|t}(e|=0)}(n),Nn(n,0,0),$(e,i,(0>(0|i))<<31>>31),Q(e,20),ee(e,21),q(e,22),J(e,23),0|(n=e)):(zn(n),0|(n=0)):0|(n=0)}function ze(e){return 0|(e=(e|=0)?0|mn(e):0)}function Ue(e,t){return 0==(0|(e|=0))|0==(0|(t|=0))?0|(t=0):0|(t=0|function(e,t){t|=0;var i=0;return(e|=0)?(i=0|B(t,e),65535<(t|e)>>>0&&(i=(0|(i>>>0)/(e>>>0))==(0|t)?i:-1)):i=0,(e=0|mn(i))&&3&l[e+-4>>2]?(Mr(0|e,0,0|i),0|e):0|e}(e,t))}function Ve(e){var t,i;e|=0,i=A,A=0|A+16,t=i;do{if(e){if(0|vn(t,16,e)){l[t>>2]=0,e=0;break}e=0|l[t>>2];break}e=0}while(0);return A=i,0|e}function Ne(e){bn(e|=0)}function He(e,t){return e|=0,0|(e=(t|=0)?0|function(e,t){t|=0;var i=0,n=0;return(e|=0)?4294967231<t>>>0?(l[(t=25296)>>2]=12,0|(t=0)):0|(i=0|function(e,t){t|=0;var i=0,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0;if(f=0|l[(u=0|4+(e|=0))>>2],s=0|e+(i=-8&f),!(3&f))return 256>t>>>0?0|(e=0):i>>>0>=(0|t+4)>>>0&&(0|i-t)>>>0<=l[6304]<<1>>>0?0|e:0|(e=0);if(i>>>0>=t>>>0)return 15>=(i=0|i-t)>>>0?0|e:(h=0|e+t,l[u>>2]=2|(1&f|t),l[h+4>>2]=3|i,l[(f=0|s+4)>>2]=1|l[f>>2],yn(h,i),0|e);if((0|l[6190])==(0|s))return h=0|(0|l[6187])+i,i=0|h-t,n=0|e+t,h>>>0<=t>>>0?0|(e=0):(l[u>>2]=2|(1&f|t),l[n+4>>2]=1|i,l[6190]=n,l[6187]=i,0|e);if((0|l[6189])==(0|s))return(n=0|(0|l[6186])+i)>>>0<t>>>0?0|(e=0):(15<(i=0|n-t)>>>0?(h=0|e+t,n=0|e+n,l[u>>2]=2|(1&f|t),l[h+4>>2]=1|i,l[n>>2]=i,l[(n=0|n+4)>>2]=-2&l[n>>2],n=h):(l[u>>2]=2|(1&f|n),l[(n=0|e+n+4)>>2]=1|l[n>>2],n=0,i=0),l[6186]=i,l[6189]=n,0|e);if(0|2&(n=0|l[s+4>>2]))return 0|(e=0);if((c=0|(-8&n)+i)>>>0<t>>>0)return 0|(e=0);h=0|c-t,r=n>>>3;do{if(256>n>>>0){if(n=0|l[s+8>>2],(0|(i=0|l[s+12>>2]))==(0|n)){l[6184]=l[6184]&~(1<<r);break}l[n+12>>2]=i,l[i+8>>2]=n;break}a=0|l[s+24>>2],i=0|l[s+12>>2];do{if((0|i)==(0|s)){if(i=0|l[(n=0|4+(r=0|s+16))>>2])o=n;else{if(!(i=0|l[r>>2])){r=0;break}o=r}for(;;){if(0|(n=0|l[(r=0|i+20)>>2]))i=n,o=r;else{if(!(r=0|l[(n=0|i+16)>>2]))break;i=r,o=n}}l[o>>2]=0,r=i}else r=0|l[s+8>>2],l[r+12>>2]=i,l[i+8>>2]=r,r=i}while(0);if(0|a){if(i=0|l[s+28>>2],(0|l[(n=0|25040+(i<<2))>>2])==(0|s)){if(l[n>>2]=r,!r){l[6185]=l[6185]&~(1<<i);break}}else if(l[a+16+((1&(0|l[a+16>>2])!=(0|s))<<2)>>2]=r,!r)break;l[r+24>>2]=a,0|(n=0|l[(i=0|s+16)>>2])&&(l[r+16>>2]=n,l[n+24>>2]=r),0|(i=0|l[i+4>>2])&&(l[r+20>>2]=i,l[i+24>>2]=r)}}while(0);return 16>h>>>0?(l[u>>2]=2|(c|1&f),l[(f=0|e+c+4)>>2]=1|l[f>>2],0|e):(s=0|e+t,l[u>>2]=2|(1&f|t),l[s+4>>2]=3|h,l[(f=0|e+c+4)>>2]=1|l[f>>2],yn(s,h),0|e)}(0|e+-8,11>t>>>0?16:-8&t+11))?0|(t=0|i+8):(i=0|mn(t))?(n=0|l[e+-4>>2],Br(0|i,0|e,0|((n=0|(-8&n)-(0==(0|3&n)?8:4))>>>0<t>>>0?n:t)),bn(e),0|(t=i)):0|(t=0):0|(t=0|mn(t))}(e,t):0)}function We(e){bn(e|=0)}function je(e,t){0!=(0|(e|=0))&0!=(0|(t|=0))&&(l[e+172>>2]=l[t+4>>2],l[e+168>>2]=l[t>>2])}function Ye(){var e=0,t=0;return(e=0|Ue(1,208))?(l[e>>2]=0,r[(t=0|e+184)>>0]=-3&r[t>>0],t=0|ze(1e3),l[e+44>>2]=t,t?(l[e+48>>2]=1e3,t=0|_i(),l[e+192>>2]=t,t?(t=0|_i(),l[e+188>>2]=t,0|t?0|(t=e):(Xe(e),0|(t=0))):(Xe(e),0|(t=0))):(Xe(e),0|(t=0))):0|(e=0)}function Xe(e){var t=0,i=0,n=0,o=0,a=0,s=0;if(e|=0){if(0|l[e>>2]?(0|(i=0|l[(t=0|e+12)>>2])&&(Qe(i),We(0|l[t>>2]),l[t>>2]=0),0|(i=0|l[(t=0|e+16)>>2])&&(We(i),l[t>>2]=0,l[e+20>>2]=0)):(0|(i=0|l[(t=0|e+36)>>2])&&(We(i),l[t>>2]=0),0|(i=0|l[(t=0|e+24)>>2])&&(We(i),l[t>>2]=0,l[e+28>>2]=0),0|(i=0|l[(t=0|e+44)>>2])&&(We(i),l[t>>2]=0,l[e+48>>2]=0)),$t(0|l[e+204>>2]),t=0|e+88,0|(i=0|l[(a=0|e+164)>>2])){if(o=0|B(0|l[e+112>>2],0|l[e+116>>2])){for(n=0;Qe(i),(0|(n=0|n+1))!=(0|o);){i=0|i+5640}i=0|l[a>>2]}We(i),l[a>>2]=0}if(0|(i=0|l[(a=0|e+124)>>2])){if(n=0|l[(s=0|e+120)>>2]){for(o=0;(i=0|l[i+(o<<3)>>2])&&(We(i),n=0|l[s>>2]),!((i=0|o+1)>>>0>=n>>>0);){o=i,i=0|l[a>>2]}i=0|l[a>>2]}l[s>>2]=0,We(i),l[a>>2]=0}We(0|l[(s=0|e+144)>>2]),l[s>>2]=0,l[e+128>>2]=0,We(0|l[(s=0|e+108)>>2]),l[s>>2]=0,2&r[e+184>>0]||(We(0|l[(s=0|e+176)>>2]),l[s>>2]=0),i=0|t+100;do{l[t>>2]=0,t=0|t+4}while((0|t)<(0|i));mi(0|l[(s=0|e+188)>>2]),l[s>>2]=0,mi(0|l[e+192>>2]),l[s>>2]=0,Je(0|l[(s=0|e+196)>>2]),l[s>>2]=0,ye(0|l[(s=0|e+80)>>2]),l[s>>2]=0,ye(0|l[(s=0|e+84)>>2]),l[s>>2]=0,We(e)}}function Qe(e){var t,i=0,n=0,r=0,o=0,a=0,s=0;if(e|=0){if(0|(i=0|l[(o=0|e+5164)>>2])){if(n=0|l[(a=0|e+5160)>>2]){for(r=0;(i=0|l[i+(r<<3)>>2])&&(We(i),n=0|l[a>>2]),!((i=0|r+1)>>>0>=n>>>0);){r=i,i=0|l[o>>2]}i=0|l[o>>2]}l[a>>2]=0,We(i),l[o>>2]=0}if(0|(n=0|l[(i=0|e+5172)>>2])&&(We(n),l[i>>2]=0),0|(n=0|l[(i=0|e+5584)>>2])&&(We(n),l[i>>2]=0),0|(n=0|l[(i=0|e+5608)>>2])&&(We(n),l[i>>2]=0),0|(n=0|l[(i=0|e+5604)>>2])&&(We(n),l[i>>2]=0),0|(n=0|l[(i=0|e+5624)>>2])&&(We(n),l[i>>2]=0,l[e+5632>>2]=0,l[e+5628>>2]=0),0|(i=0|l[(t=0|e+5612)>>2])){if(n=0|l[(s=0|e+5616)>>2]){for(a=0;(o=0|l[(r=0|i+12)>>2])&&(We(o),l[r>>2]=0,n=0|l[s>>2]),!((a=0|a+1)>>>0>=n>>>0);){i=0|i+20}i=0|l[t>>2]}We(i),l[t>>2]=0}0|(n=0|l[(i=0|e+5600)>>2])&&(We(n),l[i>>2]=0),(n=0|l[(i=0|e+5592)>>2])&&(We(n),l[i>>2]=0,l[e+5596>>2]=0)}}function Je(e){var t,i=0,n=0,r=0,o=0;if(e|=0){if(0|(n=0|l[(i=0|e+28)>>2])&&(We(n),l[i>>2]=0),0|(i=0|l[(t=0|e+40)>>2])){if(0|l[(o=0|e+36)>>2]){r=0;do{(n=0|l[i+(0|40*r)+36>>2])&&(We(n),i=0|l[t>>2],l[i+(0|40*r)+36>>2]=0),(n=0|l[i+(0|40*r)+16>>2])&&(We(n),i=0|l[t>>2],l[i+(0|40*r)+16>>2]=0),(n=0|l[i+(0|40*r)+24>>2])&&(We(n),i=0|l[t>>2],l[i+(0|40*r)+24>>2]=0),r=0|r+1}while(r>>>0<(0|l[o>>2])>>>0)}We(i),l[t>>2]=0}We(e)}}function qe(e,t,i,n){n|=0;var o,s,c,h,u,f,d,p,m,y,g,v,w,x,k,S,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0;if(S=A,A=0|A+320,le=0|S+296,k=0|S+288,x=0|S+280,w=0|S+272,v=0|S+264,g=0|S+256,y=0|S+248,m=0|S+240,oe=0|S+232,u=0|S+224,h=0|S+216,re=0|S+208,c=0|S+200,s=0|S+192,o=0|S+184,Z=0|S+176,L=0|S+168,F=0|S+160,O=0|S+152,R=0|S+144,K=0|S+136,q=0|S+128,ie=0|S+112,J=0|S+104,Q=0|S+96,X=0|S+88,Y=0|S+80,j=0|S+72,H=0|S+64,N=0|S+56,V=0|S+48,U=0|S+32,z=0|S+24,D=0|S+16,P=0|S+8,C=S,ee=0|S+309,te=0|S+300,!(0!=(0|(e|=0))&0!=(0|(t|=0))&0!=(0|(i|=0))))return A=S,0|(le=0);if(32<(0|(E=0|l[(p=0|t+5592)>>2])-1)>>>0)return l[C>>2]=E,l[C+4>>2]=33,_e(n,1,4599,C),A=S,0|(le=0);l[(f=0|e+112)>>2]=1,l[(d=0|e+116)>>2]=1,$=0|t+18704;do{if(!(0|a[$>>1])){switch(0|l[t+18676>>2]){case 1:E=1041666,C=1302083,M=3,se=8;break;case 2:E=520833,C=651041,M=3,se=8;break;case 3:E=1041666,C=1302083,M=4,se=8;break;default:C=0;}8==(0|se)&&(a[$>>1]=M,l[t+18700>>2]=C,l[t+18680>>2]=E,C=1),E=0|l[t+18684>>2];e:do{if(4>(0|E)){switch(0|E){case 3:break;default:se=13;break e;}E=3,se=12}else{if(33024>(0|E))switch(0|E){case 4:E=4,se=12;break e;default:se=13;break e;}switch(0|E){case 33024:break;default:se=13;break e;}E=-32512,se=12}}while(0);if(12==(0|se))a[$>>1]=E;else if(13==(0|se)&&0==(0|C))break;_e(n,2,4655,P)}}while(0);E=0|l[(W=0|t+18700)>>2];do{if(1>(0|E)){if(0<(G=+_[t+4792+((0|l[t+4788>>2])-1<<2)>>2])){ae=0|l[i+24>>2],D=0|B(0|l[ae+8>>2],0|l[i+16>>2]),D=0|B(D,0|l[ae+12>>2]),ce=+((0|B(D,0|l[ae+24>>2]))>>>0),ae=~~+I(+ce/(8*G*+((0|l[ae>>2])>>>0)*+((0|l[ae+4>>2])>>>0))),l[W>>2]=ae;break}l[W>>2]=0;break}if(T=0|l[i+24>>2],ae=0|B(0|l[T+8>>2],0|l[i+16>>2]),ae=0|B(ae,0|l[T+12>>2]),G=+((0|B(ae,0|l[T+24>>2]))>>>0),E=0|B(E<<3,0|l[T>>2]),G/=+((0|B(E,0|l[T+4>>2]))>>>0),0|(E=0|l[(T=0|t+4788)>>2])){P=0,C=0;do{+_[(M=0|t+4792+(P<<2))>>2]<G&&(_[M>>2]=G,C=1,E=0|l[T>>2]),P=0|P+1}while(P>>>0<E>>>0);0|C&&_e(n,2,4792,D)}}while(0);E=0|a[$>>1];e:do{if(4<=(65535&E+-3)){if(7==E<<16>>16){_e(n,2,6952,R),a[$>>1]=0;break}if(524>(65535&E+-256)){_e(n,2,7007,O),a[$>>1]=0;break}if(1180>(65535&E+-1024)){_e(n,2,7055,F),a[$>>1]=0;break}if(-1>=E<<16>>16)switch(E<<16>>16){case-32512:break e;case-32768:_e(n,2,7097,L),a[$>>1]=0;break e;default:_e(n,2,7185,Z),a[$>>1]=0;break e;}}else{if(2>(65535&E+-5)){_e(n,2,4884,z),a[$>>1]=0;break}l[t>>2]=0,l[t+12>>2]=1,l[t+16>>2]=1,r[t+18689>>0]=67,r[t+18688>>0]=1,l[t+4>>2]=0,l[t+8>>2]=0,l[t+18180>>2]=0,l[t+18184>>2]=0,l[t+5596>>2]=32,l[t+5600>>2]=32,l[t+5604>>2]=0,l[t+5612>>2]=-1,l[t+18188>>2]=1,l[t+18192>>2]=1,l[t+5608>>2]=1,1<(0|(M=0|l[(C=0|t+4788)>>2]))&&(ce=+_[t+4792+(M+-1<<2)>>2],l[U>>2]=M,b[U+8>>3]=ce,_e(n,2,4946,U),l[t+4792>>2]=l[t+4792+((0|l[C>>2])-1<<2)>>2],l[C>>2]=1,E=0|a[$>>1]);t:{switch(E<<16>>16){case 3:6<(0|(E=0|l[p>>2]))&&(l[V>>2]=E+1,_e(n,2,5119,V),l[p>>2]=6,E=6);break;case 4:if(2>(0|(E=0|l[p>>2]))){l[N>>2]=E+1,_e(n,2,5265,N),l[p>>2]=1,E=1;break t}7<(0|E)&&(l[H>>2]=E+1,_e(n,2,5419,H),l[p>>2]=7,E=7);break;default:E=0|l[p>>2];}}if(l[(C=0|t+40)>>2]=1|l[C>>2],l[(C=0|t+5620)>>2]=E+-1,1<(0|E)){E=0;do{l[t+5624+(E<<2)>>2]=256,l[t+5756+(E<<2)>>2]=256,E=0|E+1}while((0|E)<(0|l[C>>2]))}l[t+44>>2]=4,4==(0|a[$>>1])?(E=0|l[p>>2],l[t+96>>2]=1,l[t+48>>2]=0,l[t+52>>2]=0,l[t+56>>2]=1,ae=0|E+-1,l[t+60>>2]=ae,l[t+64>>2]=3,l[t+80>>2]=4,l[t+244>>2]=1,l[t+196>>2]=ae,l[t+200>>2]=0,l[t+204>>2]=1,l[t+208>>2]=E,l[t+212>>2]=3,l[t+228>>2]=4,E=2):E=0,l[t+4784>>2]=E,l[t+20>>2]=1,1<=(0|(E=0|l[W>>2]))?1302083<(0|E)&&(_e(n,2,5722,Y),l[W>>2]=1302083):(l[W>>2]=1302083,_e(n,2,5573,j)),1<=(0|(C=0|l[(E=0|t+18680)>>2]))?1041666<(0|C)&&(_e(n,2,6044,Q),l[E>>2]=1041666):(l[E>>2]=1041666,_e(n,2,5895,X)),E=0|l[i+16>>2],C=0|l[i+24>>2],P=0|l[C+8>>2],M=0|B(P,E),D=0|l[C+12>>2],M=0|B(M,D),ce=+((0|B(M,0|l[C+24>>2]))>>>0),M=0|B(l[W>>2]<<3,0|l[C>>2]),ce/=+((0|B(M,0|l[C+4>>2]))>>>0),_[t+4792>>2]=ce,M=0|a[$>>1];t:do{if(3==(0|E)){if(E=0|l[C+28>>2],(T=0|l[C+32>>2])|12!=(0|E))D=0;else if(E=0|l[C+80>>2],(T=0|l[C+84>>2])|12!=(0|E))D=1;else if(E=0|l[C+132>>2],(C=0|l[C+136>>2])|12!=(0|E))D=2,T=C;else switch(M<<16>>16){case 3:if(!(2048<P>>>0|1080<D>>>0))break e;l[q>>2]=P,l[q+4>>2]=D,_e(n,2,6616,q);break t;case 4:if(!(4096<P>>>0|2160<D>>>0))break e;l[K>>2]=P,l[K+4>>2]=D,_e(n,2,6787,K);break t;default:break e;}r[ee>>0]=0|r[6383],r[ee+1>>0]=0|r[6384],r[ee+2>>0]=0|r[6385],r[ee+3>>0]=0|r[6386],r[ee+4>>0]=0|r[6387],r[ee+5>>0]=0|r[6388],r[ee+6>>0]=0|r[6389],M=6390,P=0|(C=te)+9;do{r[C>>0]=0|r[M>>0],C=0|C+1,M=0|M+1}while((0|C)<(0|P));l[ie>>2]=D,l[ie+4>>2]=E,l[ie+8>>2]=0|T?ee:te,_e(n,2,6399,ie)}else l[J>>2]=E,_e(n,2,6217,J)}while(0);a[$>>1]=0}}while(0);l[e+168>>2]=l[t+18680>>2],a[(ae=0|e+88)>>1]=0|a[$>>1],ee=-2&r[(ie=0|e+181)>>0]|1&l[t+20>>2],r[ie>>0]=ee,ee=2&(255&l[(te=0|t+24)>>2])<<1|-3&ee,r[ie>>0]=ee,r[ie>>0]=-5&ee|4&(255&l[t+28>>2])<<2;do{if(0|l[te>>2]&&0|l[(ne=0|t+32)>>2]){if(C=0|ze(E=0|B(0|12*(0|l[t+4788>>2]),0|l[p>>2])),l[e+176>>2]=C,0|C){Br(0|C,0|l[ne>>2],0|E);break}return _e(n,1,7244,o),A=S,0|(le=0)}}while(0);l[(P=0|e+100)>>2]=l[t+12>>2],l[(T=0|e+104)>>2]=l[t+16>>2],l[(M=0|e+92)>>2]=l[t+4>>2],l[(D=0|e+96)>>2]=l[t+8>>2],E=0|l[(C=0|t+36)>>2];do{if(E){if(E=0|ze(0|1+(0|kn(E))),l[e+108>>2]=E,0|E){cr(E,0|l[C>>2]);break}return _e(n,1,7316,s),A=S,0|(le=0)}if(C=0|ze(0|29+(0|kn(E=4427))),l[e+108>>2]=C,0|C){l[re>>2]=7421,l[re+4>>2]=E,ur(C,7416,re);break}return _e(n,1,7370,c),A=S,0|(le=0)}while(0);if(E=0|(0|l[i+8>>2])-(0|l[M>>2]),0|l[t>>2]?(re=0|l[P>>2],l[f>>2]=0|(0|E+-1+re)/(0|re),re=0|l[T>>2],l[d>>2]=0|(0|(0|l[i+12>>2])-1-(0|l[D>>2])+re)/(0|re)):(l[P>>2]=E,l[T>>2]=(0|l[i+12>>2])-(0|l[D>>2])),0|r[t+18688>>0]&&(r[e+180>>0]=0|r[t+18689>>0],r[ie>>0]=8|r[ie>>0]),re=0|Ue(0|B(0|l[d>>2],0|l[f>>2]),5640),l[(te=0|e+164)>>2]=re,!re)return _e(n,1,7450,h),A=S,0|(le=0);H=0|l[(ee=0|t+4784)>>2];do{if(0|H){if(z=0|t+48,W=0|l[p>>2],j=0|l[i+16>>2],Y=0|l[t+4788>>2],X=0|B(j,W),!(Q=0|Ue(0|B(X,Y),4))){_e(n,1,7504,u);break}if((E=0|l[z>>2])>>>0<(M=0|l[(O=0|t+60)>>2])>>>0)for(R=0|B(E,j),F=0|t+52,Z=0|t+56,C=0|l[(L=0|t+64)>>2];;){if((P=0|l[F>>2])>>>0<C>>>0){for(D=0|P+R,M=0|l[Z>>2];;){if(M){for(C=D,T=0;l[Q+(C<<2)>>2]=1,!((T=0|T+1)>>>0>=(M=0|l[Z>>2])>>>0);){C=0|C+X}C=0|l[L>>2]}else M=0;if((P=0|P+1)>>>0>=C>>>0)break;D=0|D+1}M=0|l[O>>2]}if((E=0|E+1)>>>0>=M>>>0)break;R=0|R+j}if(1<H>>>0){L=1;do{if(E=z,z=0|z+148,U=0|l[E+8>>2],U=(T=0|l[(Z=0|E+156)>>2])>>>0>U>>>0?U:0,(C=0|l[z>>2])>>>0<(M=0|l[(V=0|E+160)>>2])>>>0)for(R=0|B(C,j),N=0|E+152,O=0|E+164,F=0|B(U,X),E=0|l[O>>2];;){if((P=0|l[N>>2])>>>0<E>>>0){for(D=0|P+R;;){if(U>>>0<T>>>0){for(E=0|D+F,M=U;l[Q+(E<<2)>>2]=1,!((M=0|M+1)>>>0>=(T=0|l[Z>>2])>>>0);){E=0|E+X}E=0|l[O>>2]}if((P=0|P+1)>>>0>=E>>>0)break;D=0|D+1}M=0|l[V>>2]}if((C=0|C+1)>>>0>=M>>>0)break;R=0|R+j}L=0|L+1}while((0|L)!=(0|H))}if(!(0==(0|Y)|0==(0|W)|0==(0|j))){for(E=0,D=0,R=0;;){for(M=0,T=D;;){for(P=0,C=T;E|=1!=(0|l[Q+(C<<2)>>2]),(0|(P=0|P+1))!=(0|j);){C=0|C+1}if((0|(M=0|M+1))==(0|W))break;T=0|T+j}if((0|(R=0|R+1))==(0|Y))break;D=0|D+X}0|E&&_e(n,1,7552,oe)}We(Q)}}while(0);e:do{if(0|B(0|l[d>>2],0|l[f>>2])){U=0|t+4788,V=0|t+40,N=0|t+44,H=0|t+18690,W=0|i+16,C=0|t+18696,j=0|i+24,Y=0|t+5596,X=0|t+5600,Q=0|t+5604,J=0|t+5608,q=0|t+5612,K=0|t+5616,$=0|t+5620,z=0;t:for(;;){O=0|(R=0|l[te>>2])+(0|5640*z),oe=0|l[U>>2],l[(M=0|R+(0|5640*z)+8)>>2]=oe;i:do{if(0|oe){if(4>(65535&(0|a[ae>>1])-3))E=0;else for(E=0;;){if(oe=0==(4&r[ie>>0]),l[(oe?0|R+(0|5640*z)+20+(E<<2):0|R+(0|5640*z)+5184+(E<<2))>>2]=l[(oe?0|t+4792+(E<<2):0|t+5192+(E<<2))>>2],(E=0|E+1)>>>0>=(0|l[M>>2])>>>0)break i}do{4&r[ie>>0]&&(l[R+(0|5640*z)+5184+(E<<2)>>2]=l[t+5192+(E<<2)>>2]),l[R+(0|5640*z)+20+(E<<2)>>2]=l[t+4792+(E<<2)>>2],E=0|E+1}while(E>>>0<(0|l[M>>2])>>>0)}}while(0);if(l[O>>2]=l[V>>2],l[R+(0|5640*z)+4>>2]=l[N>>2],l[(D=0|R+(0|5640*z)+16)>>2]=r[H>>0],M=0|r[(E=0|R+(0|5640*z)+5636)>>0],r[E>>0]=-5&M,0|l[ee>>2]){if(r[E>>0]=4|M,P=0|l[ee>>2]){T=0|z+1,E=0,M=0;do{(0|T)==(0|l[t+48+(0|148*M)+48>>2])&&(l[R+(0|5640*z)+424+(0|148*E)>>2]=l[t+48+(0|148*E)>>2],l[R+(0|5640*z)+424+(0|148*E)+4>>2]=l[t+48+(0|148*E)+4>>2],l[R+(0|5640*z)+424+(0|148*E)+8>>2]=l[t+48+(0|148*E)+8>>2],l[R+(0|5640*z)+424+(0|148*E)+12>>2]=l[t+48+(0|148*E)+12>>2],l[R+(0|5640*z)+424+(0|148*E)+16>>2]=l[t+48+(0|148*E)+16>>2],l[R+(0|5640*z)+424+(0|148*E)+32>>2]=l[t+48+(0|148*E)+32>>2],l[R+(0|5640*z)+424+(0|148*E)+48>>2]=l[t+48+(0|148*E)+48>>2],E=0|E+1),M=0|M+1}while(M>>>0<P>>>0)}else E=0;E=0|E+-1}else E=0;if(l[R+(0|5640*z)+420>>2]=E,oe=0|Ue(0|l[W>>2],1080),l[(Z=0|R+(0|5640*z)+5584)>>2]=oe,!oe){se=141;break}do{if(0|l[C>>2]){if(M=0|l[W>>2],P=0|ze(M=0|B(M<<2,M)),T=0|(0|l[C>>2])+M,!P){se=144;break t}if(l[D>>2]=2,E=0|ze(M),l[R+(0|5640*z)+5608>>2]=E,!E){se=146;break t}if(Br(0|E,0|l[C>>2],0|M),Br(0|P,0|l[C>>2],0|M),E=0|ze(M),l[(M=0|R+(0|5640*z)+5604)>>2]=E,!E){se=148;break t}if(!(0|Zi(P,E,0|l[W>>2]))){se=150;break t}if(E=0|ze(l[W>>2]<<3),l[R+(0|5640*z)+5600>>2]=E,!E){se=152;break t}if(Ft(E,0|l[W>>2],0|l[M>>2]),We(P),0|(M=0|l[W>>2])){P=0|l[Z>>2],E=0;do{l[P+(0|1080*E)+1076>>2]=l[T+(E<<2)>>2],E=0|E+1}while(E>>>0<M>>>0)}if(!(0|Ke(O,i))){se=158;break t}0|l[W>>2]&&(O=0,se=172)}else{i:do{if(1==(0|l[D>>2])){if(2>=(E=0|l[W>>2])>>>0){P=E;break}M=0|l[j>>2],E=0|l[M>>2];do{if((0|E)==(0|l[M+52>>2])){if((0|E)!=(0|l[M+104>>2]))break;if((0|(E=0|l[M+4>>2]))!=(0|l[M+56>>2]))break;if((0|E)==(0|l[M+108>>2])){se=166;break i}}}while(0);_e(n,2,7948,le),l[D>>2]=0,se=166}else se=166}while(0);if(166==(0|se)&&(se=0,P=0|l[W>>2]),!P)break;M=0|l[j>>2],E=0;do{0|l[M+(0|52*E)+32>>2]||(l[(0|l[Z>>2])+(0|1080*E)+1076>>2]=1<<(0|l[M+(0|52*E)+24>>2])-1),E=0|E+1}while(E>>>0<P>>>0);O=0,se=172}}while(0);if(172==(0|se))for(;;){if(se=0,L=0|(F=0|l[Z>>2])+(0|1080*O),P=1&l[V>>2],l[L>>2]=P,T=0|l[p>>2],l[(D=0|F+(0|1080*O)+4)>>2]=T,1<(0|(E=0|l[Y>>2])))for(M=E,E=0;E=0|E+1,3<M>>>0;){M>>>=1}else E=0;if(l[F+(0|1080*O)+8>>2]=E,1<(0|(E=0|l[X>>2])))for(M=E,E=0;E=0|E+1,3<M>>>0;){M>>>=1}else E=0;l[F+(0|1080*O)+12>>2]=E,l[F+(0|1080*O)+16>>2]=l[Q>>2],oe=0|l[J>>2],l[F+(0|1080*O)+20>>2]=1&0==(0|oe),l[F+(0|1080*O)+24>>2]=0|oe?2:0,l[F+(0|1080*O)+804>>2]=2,E=(0|O)==(0|l[q>>2])?0|l[K>>2]:0,l[F+(0|1080*O)+808>>2]=E;do{if(P){if(!(0<(0|T)))break;for(R=0;;){D=T,T=0|T+-1,E=0|l[$>>2];do{if((0|R)<(0|E)){E=0|l[t+5624+(R<<2)>>2];do{if(1>(0|E))E=1;else{if(1==(0|E)){E=0;break}for(M=E,E=0;E=0|E+1,3<M>>>0;){M>>>=1}}}while(0);if(l[F+(0|1080*O)+812+(T<<2)>>2]=E,1>(0|(E=0|l[t+5756+(R<<2)>>2]))){E=1;break}if(1==(0|E)){E=0;break}for(M=E,E=0;E=0|E+1,3<M>>>0;){M>>>=1}}else{M=0|R-(oe=0|E+-1),E=l[t+5624+(oe<<2)>>2]>>M,M=l[t+5756+(oe<<2)>>2]>>M;do{if(1>(0|E))E=1;else{if(1==(0|E)){E=0;break}for(P=E,E=0;E=0|E+1,3<P>>>0;){P>>>=1}}}while(0);if(l[F+(0|1080*O)+812+(T<<2)>>2]=E,1>(0|M)){E=1;break}if(1==(0|M)){E=0;break}for(E=0;E=0|E+1,3<M>>>0;){M>>>=1}}}while(0);if(l[F+(0|1080*O)+944+(T<<2)>>2]=E,1>=(0|D))break;R=0|R+1}}else{if(!T)break;E=0;do{l[F+(0|1080*O)+812+(E<<2)>>2]=15,l[F+(0|1080*O)+944+(E<<2)>>2]=15,E=0|E+1}while(E>>>0<(0|l[D>>2])>>>0)}}while(0);if(Ri(L,0|l[(0|l[j>>2])+(0|52*O)+24>>2]),(O=0|O+1)>>>0>=(0|l[W>>2])>>>0)break;se=172}if((z=0|z+1)>>>0>=(0|B(0|l[d>>2],0|l[f>>2]))>>>0)break e}if(141==(0|se))return _e(n,1,7591,m),A=S,0|(le=0);if(144==(0|se))return _e(n,1,7655,y),A=S,0|(le=0);if(146==(0|se))return We(P),_e(n,1,7698,g),A=S,0|(le=0);if(148==(0|se))return We(P),_e(n,1,7756,v),A=S,0|(le=0);if(150==(0|se))return We(P),_e(n,1,7816,w),A=S,0|(le=0);if(152==(0|se))return We(P),_e(n,1,7864,x),A=S,0|(le=0);if(158==(0|se))return _e(n,1,7914,k),A=S,0|(le=0)}else C=0|t+18696}while(0);return(E=0|l[C>>2])?(We(E),l[C>>2]=0,A=S,0|(le=1)):(A=S,0|(le=1))}function Ke(e,t){t|=0;var i,n,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,m=0,b=0;if(2!=(0|l[16+(e|=0)>>2]))return 0|(e=1);d=0|e+5604,a=0|l[(b=0|e+5616)>>2],p=0|e+5620;do{if(0|l[d>>2]){do{if((0|a)==(0|l[p>>2])){if(a=0|a+10,l[p>>2]=a,0|(a=0|He(0|l[(o=0|e+5612)>>2],0|20*a))){l[o>>2]=a,Mr(0|a+(0|20*(m=0|l[b>>2])),0,0|20*(0|(0|l[p>>2])-m)),a=0|l[b>>2];break}return We(0|l[o>>2]),l[o>>2]=0,l[p>>2]=0,l[b>>2]=0,0|(e=0)}o=0|e+5612}while(0);if(s=0|(u=0|l[o>>2])+(0|20*a),0|(o=0|l[(f=0|u+(0|20*a)+12)>>2])&&(We(o),l[f>>2]=0),l[u+(0|20*a)+8>>2]=1,l[u+(0|20*a)+4>>2]=1,l[s>>2]=2,o=0|l[t+16>>2],h=0|ze(c=(o=0|B(o,o))<<2),l[f>>2]=h,h){ro[15&l[768+(l[s>>2]<<2)>>2]](0|l[d>>2],h,o),l[u+(0|20*a)+16>>2]=c,a=0|1+(0|l[b>>2]),l[b>>2]=a,c=2;break}return 0|(e=0)}c=1,s=0}while(0);do{if((0|a)==(0|l[p>>2])){if(a=0|a+10,l[p>>2]=a,0|(a=0|He(0|l[(o=0|e+5612)>>2],0|20*a))){l[o>>2]=a,Mr(0|(a=0|a+(0|20*(m=0|l[b>>2]))),0,0|20*(0|(0|l[p>>2])-m)),s=0==(0|s)?0:0|a+-20,a=0|l[b>>2];break}return We(0|l[o>>2]),l[o>>2]=0,l[p>>2]=0,l[b>>2]=0,0|(e=0)}o=0|e+5612}while(0);if(m=0|(p=0|l[o>>2])+(0|20*a),0|(o=0|l[(i=0|p+(0|20*a)+12)>>2])&&(We(o),l[i>>2]=0),n=0|c+1,l[p+(0|20*a)+8>>2]=c,l[p+(0|20*a)+4>>2]=2,l[m>>2]=2,d=0|ze(f=(u=0|l[(t=0|t+16)>>2])<<2),l[i>>2]=d,!d)return 0|(e=0);if(!(d=0|ze(f)))return We(0|l[i>>2]),l[i>>2]=0,0|(e=0);if(0|u)for(o=0,c=0|l[e+5584>>2],h=d;_[h>>2]=+(0|l[c+1076>>2]),(0|(o=0|o+1))!=(0|u);){c=0|c+1080,h=0|h+4}ro[15&l[768+(l[m>>2]<<2)>>2]](d,0|l[i>>2],u),We(d),l[p+(0|20*a)+16>>2]=f,l[b>>2]=1+(0|l[b>>2]),o=0|l[(h=0|e+5628)>>2],c=0|e+5632;do{if((0|o)==(0|l[c>>2])){if(o=0|o+10,l[c>>2]=o,0|(o=0|He(0|l[(a=0|e+5624)>>2],0|20*o))){l[a>>2]=o,Mr(0|o+(0|20*(e=0|l[h>>2])),0,0|20*(0|(0|l[c>>2])-e)),o=0|l[h>>2];break}return We(0|l[a>>2]),l[a>>2]=0,l[c>>2]=0,l[h>>2]=0,0|(e=0)}a=0|e+5624}while(0);return e=0|l[a>>2],l[e+(0|20*o)+8>>2]=s,r[(b=0|e+(0|20*o)+16)>>0]=1|r[b>>0],l[e+(0|20*o)+4>>2]=l[t>>2],l[e+(0|20*o)>>2]=n,l[e+(0|20*o)+12>>2]=m,l[h>>2]=1+(0|l[h>>2]),0|(e=1)}function $e(){return 1}function et(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r=0,o=0,a=0,s=0,c=0,h=0;if(c=0|ge(),l[(h=0|t+80)>>2]=c,!c)return 0|(h=0);if(0|bi(0|l[(r=0|t+192)>>2],24,n)&&0|bi(0|l[r>>2],25,n)){if(c=0|yi(s=0|l[r>>2]),r=0|gi(s),c){for(o=1,a=0;o=o?0!=(0|Jr[63&l[r>>2]](t,e,n)):0,(0|(a=0|a+1))!=(0|c);){r=0|r+4,o&=1}if(vi(s),!o)return ye(0|l[h>>2]),l[h>>2]=0,0|(h=0)}else vi(s);if(0|bi(0|l[(r=0|t+188)>>2],26,n)&&0|bi(0|l[r>>2],27,n)){if(c=0|yi(s=0|l[r>>2]),r=0|gi(s),c){for(o=1,a=0;o=o?0!=(0|Jr[63&l[r>>2]](t,e,n)):0,(0|(a=0|a+1))!=(0|c);){r=0|r+4,o&=1}if(vi(s),!o)return ye(0|l[h>>2]),l[h>>2]=0,0|(h=0)}else vi(s);if(r=0|ge(),l[i>>2]=r,!r)return 0|(h=0);if(ve(0|l[h>>2],r),o=0|B(0|l[t+116>>2],0|l[t+112>>2]),l[36+(0|l[(s=0|t+196)>>2])>>2]=o,o=0|Ue(o,40),r=0|l[s>>2],l[r+40>>2]=o,!o)return 0|(h=0);if(!(0|l[r+36>>2]))return 0|(h=1);for(a=0;;){if(l[o+(0|40*a)+28>>2]=100,l[o+(0|40*a)+20>>2]=0,h=0|Ue(100,24),r=0|l[s>>2],o=0|l[r+40>>2],l[o+(0|40*a)+24>>2]=h,a=0|a+1,!h){r=0,o=30;break}if(a>>>0>=(0|l[r+36>>2])>>>0){r=1,o=30;break}}if(30==(0|o))return 0|r}return ye(0|l[h>>2]),l[h>>2]=0,0|(h=0)}return ye(0|l[h>>2]),l[h>>2]=0,0|(h=0)}function tt(e,t,i,n,r){t|=0,i|=0,n|=0,r|=0;var o,a,s,c,h,u=0,f=0;if(h=A,A=0|A+32,o=0|h+8,s=0|h+20,e=16==(0|l[8+(e|=0)>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],c=0|l[e+5584>>2],!(e=0|l[n>>2]))return _e(r,1,10568,h),A=h,0|(t=0);l[n>>2]=e+-1,ne(i,s,1),i=0|i+1,u=31&(e=0|l[s>>2]),l[(a=0|c+(0|1080*t)+24)>>2]=u,l[c+(0|1080*t)+804>>2]=e>>>5;do{if(1==(0|u))e=1,f=8;else{if(97<(e=(0|l[n>>2])>>>(1&0!=(0|u)))>>>0&&(l[o>>2]=e,l[o+4>>2]=97,l[o+8>>2]=97,_e(r,2,10604,o),u=0|l[a>>2]),r=0==(0|e),0|u){if(r){e=0,f=20;break}f=8;break}if(!r)for(u=0;ne(i,s,1),97>u>>>0&&(l[c+(0|1080*t)+28+(u<<3)>>2]=(0|l[s>>2])>>>3,l[c+(0|1080*t)+28+(u<<3)+4>>2]=0),(0|(u=0|u+1))!=(0|e);){i=0|i+1}e=0|(0|l[n>>2])-e}}while(0);if(8==(0|f))for(u=0;;){if(ne(i,s,2),97>u>>>0&&(f=0|l[s>>2],l[c+(0|1080*t)+28+(u<<3)>>2]=f>>>11,l[c+(0|1080*t)+28+(u<<3)+4>>2]=2047&f),(0|(u=0|u+1))==(0|e)){f=20;break}i=0|i+2}if(20==(0|f)&&(e=0|(0|l[n>>2])-(e<<1)),l[n>>2]=e,1!=(0|l[a>>2]))return A=h,0|(t=1);i=0|c+(0|1080*t)+28,u=0|c+(0|1080*t)+32,e=1;do{n=0|(0|l[i>>2])-(0|((0|e+-1)>>>0)/3),l[c+(0|1080*t)+28+(e<<3)>>2]=0<(0|n)?n:0,l[c+(0|1080*t)+28+(e<<3)+4>>2]=l[u>>2],e=0|e+1}while(97!=(0|e));return A=h,0|(e=1)}function it(e,t,i,n,r){t|=0,i|=0,n|=0,r|=0;var o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0;if(u=A,A=0|A+64,h=0|u+48,o=0|u+40,_=0|u+16,p=0|u+8,c=0|u+52,f=16==(0|l[(d=0|8+(e|=0))>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],a=0|l[f+5584>>2],5>(0|l[n>>2])>>>0)return _e(r,1,11008,u),A=u,0|(n=0);if(ne(i,s=0|a+(0|1080*t)+4,1),f=0|1+(0|l[s>>2]),l[s>>2]=f,33<f>>>0)return l[p>>2]=f,l[p+4>>2]=33,_e(r,1,11043,p),A=u,0|(n=0);if((0|l[e+168>>2])>>>0>=f>>>0)return l[_>>2]=t,_e(r,1,11120,_),l[d>>2]=32768|l[d>>2],A=u,0|(n=0);if(ne(0|i+1,p=0|a+(0|1080*t)+8,1),l[p>>2]=2+(0|l[p>>2]),ne(0|i+2,d=0|a+(0|1080*t)+12,1),_=0|2+(0|l[d>>2]),l[d>>2]=_,10<_>>>0|10<(p=0|l[p>>2])>>>0|12<(0|p+_)>>>0)return _e(r,1,11278,0|u+24),A=u,0|(n=0);if(ne(0|i+3,_=0|a+(0|1080*t)+16,1),0|192&l[_>>2])return _e(r,1,11346,0|u+32),A=u,0|(n=0);if(ne(0|i+4,0|a+(0|1080*t)+20,1),f=0|(0|l[n>>2])-5,l[n>>2]=f,e=0|l[s>>2],!(1&l[a+(0|1080*t)>>2])){if(!e)return A=u,0|(n=1);f=0;do{l[a+(0|1080*t)+812+(f<<2)>>2]=15,l[a+(0|1080*t)+944+(f<<2)>>2]=15,f=0|f+1}while(f>>>0<(0|l[s>>2])>>>0);return A=u,0|(f=1)}if(f>>>0<e>>>0)return _e(r,1,11008,o),A=u,0|(n=0);do{if(e){for(p=0,d=0|i+5;ne(d,c,1),d=0|d+1,f=0|l[c>>2],!(0|p&&16>f>>>0|0==(0|15&f));){if(l[a+(0|1080*t)+812+(p<<2)>>2]=15&f,l[a+(0|1080*t)+944+(p<<2)>>2]=f>>>4,(p=0|p+1)>>>0>=(e=0|l[s>>2])>>>0){m=24;break}}if(24==(0|m)){f=0|l[n>>2];break}return _e(r,1,11413,h),A=u,0|(n=0)}e=0}while(0);return l[n>>2]=f-e,A=u,0|(n=1)}function nt(e,t,i,n,o,s,c,h,u,f,d){e|=0,t|=0,i|=0,n|=0,o|=0,s|=0,c|=0,h|=0,u|=0,f|=0,d|=0;var p,_,m,b,y,g,v,w,x,I,S,E,C,M,P,T,D,R,G,O,F,L,Z,z,U,V,N,H,W,j,Y,X,Q,J,q,K,$,ee=0,te=0,ie=0,re=0,oe=0,ae=0,se=0,ce=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0,Be=0,Me=0,Pe=0,Te=0,De=0,Re=0,Ge=0,Oe=0,Fe=0;switch($=A,A=0|A+256,K=0|$+200,q=0|$+192,Q=0|$+184,X=0|$+176,H=0|$+168,N=0|$+160,V=0|$+152,U=0|$+144,z=0|$+136,Z=0|$+128,F=0|$+120,O=0|$+112,G=0|$+104,R=0|$+96,D=0|$+88,T=0|$+80,P=0|$+72,M=0|$+64,C=0|$+56,E=0|$+48,Y=0|$+40,j=0|$+32,W=0|$+24,L=0|$+16,S=0|$+8,I=$,p=0|$+240,_=0|$+236,m=0|$+232,b=0|$+228,y=0|$+224,g=0|$+220,v=0|$+216,x=0|$+208,l[(w=0|$+212)>>2]=65424,0|l[(J=0|e+8)>>2]){case 256:l[w>>2]=65497,ee=0|e+76;break;case 8:if(!(1&r[(ee=0|e+76)>>0])){we=0|e+164,xe=0|e+200,ke=0|e+72,Ie=0|e+24,Se=0|e+196,Ee=0|e+112,Me=0|e+116,Pe=0|p+2,Te=0|p+6,De=0|p+7,Re=0|e+16,Ge=0|e+20,Oe=0|e+64,te=65424;e:do{t:do{if(65427!=(0|te)){for(;;){if(0==(0|(ge=0|ue(f)))&0==(0|k)){ve=50;break}if(2!=(0|le(f,0|l[Re>>2],2,d))){ve=8;break e}if(ne(0|l[Re>>2],x,2),2>(0|l[x>>2])>>>0){ve=10;break e}if(32896==(0|l[w>>2])&&0==(0|(ge=0|ue(f)))&0==(0|k)){ve=50;break}for(re=0|l[J>>2],te=0|l[x>>2],0|16&re&&(l[Ie>>2]=-2-te+(0|l[Ie>>2])),ie=0|te+-2,l[x>>2]=ie,te=0|l[w>>2],ye=784;!(0==(0|(ge=0|l[ye>>2]))|(0|ge)==(0|te));){ye=0|ye+12}if(!(l[ye+4>>2]&re)){ve=18;break e}if(ie>>>0>(0|l[Ge>>2])>>>0){if(ge=0|ue(f),0>(0|(be=k))|0==(0|be)&ge>>>0<ie>>>0){ve=22;break e}if(!(te=0|He(0|l[Re>>2],0|l[x>>2]))){ve=24;break e}l[Re>>2]=te,ie=0|l[x>>2],l[Ge>>2]=ie}else te=0|l[Re>>2];if((0|(te=0|le(f,te,ie,d)))!=(0|l[x>>2])){ve=27;break e}if(!(ie=0|l[ye+8>>2])){ve=29;break e}if(!(0|qr[63&ie](e,0|l[Re>>2],te,d))){ve=31;break e}if(se=0|l[xe>>2],ae=0|l[Se>>2],ce=0|l[ye>>2],me=0|(me=0|he(f))-(be=0|l[x>>2])-4,be=0|be+4,oe=0|l[(ae=0|ae+40)>>2],(0|1+(te=0|l[oe+(0|40*se)+20>>2]))>>>0>(re=0|l[(ie=0|oe+(0|40*se)+28)>>2])>>>0){if(re=~~(+(re>>>0)+100)>>>0,l[ie>>2]=re,ie=0|He(0|l[oe+(0|40*se)+24>>2],0|24*re),te=0|(re=0|l[ae>>2])+(0|40*se)+24,!ie){ve=39;break e}l[te>>2]=ie,ae=re,te=0|l[re+(0|40*se)+20>>2]}else ae=oe,ie=0|l[oe+(0|40*se)+24>>2];a[ie+(0|24*te)>>1]=ce,l[(ge=0|ie+(0|24*te)+8)>>2]=me,l[ge+4>>2]=(0>(0|me))<<31>>31,l[ie+(0|24*te)+16>>2]=be,l[ae+(0|40*se)+20>>2]=te+1,65424==(0|ce)&&0|(Ae=0|l[ae+(0|40*se)+16>>2])&&(ge=0|Ae+(0|24*(0|l[ae+(0|40*se)+12>>2])),l[ge>>2]=me,l[ge+4>>2]=0);do{if(65424==(0|l[ye>>2])){if(te=0|he(f),te=0|-4-(0|l[x>>2])+te,!(0>(0|(ye=0|l[(ge=Oe)+4>>2]))|(0==(0|ye)?(0|l[ge>>2])>>>0<te>>>0:0)))break;l[(ge=Oe)>>2]=te,l[ge+4>>2]=0}}while(0);if(4&r[ee>>0])break;if(2!=(0|le(f,0|l[Re>>2],2,d))){ve=48;break e}if(ne(0|l[Re>>2],w,2),65427==(0|l[w>>2]))break t}if(50==(0|ve)){ve=0,l[J>>2]=64;break}if(ge=0|fe(f,0|l[Ie>>2],0,d),0!=(0|k)||(0|ge)!=(0|l[Ie>>2])){ve=45;break e}l[w>>2]=65427}}while(0);if(0==(0|(ge=0|ue(f)))&0==(0|k)&&64==(0|l[J>>2])){ve=114;break}if(4&(te=0|r[ee>>0])){if(r[ee>>0]=-6&te,l[J>>2]=8,2!=(0|le(f,0|l[Re>>2],2,d))){ve=112;break}ne(0|l[Re>>2],w,2)}else{ie=0|l[we>>2],re=0|l[xe>>2],0|l[ke>>2]?(te=0|gr(0|(te=0|ue(f)),0|k,-2,0),ve=57):1<(te=0|l[Ie>>2])>>>0&&(te=0|te+-2,ve=57),57==(0|ve)&&(ve=0,l[Ie>>2]=te),ge=0|ie+(0|5640*re)+5592,ye=0|ie+(0|5640*re)+5596;do{if(te){if(be=0|ue(f),0>(0|(me=k))|0==(0|me)&be>>>0<te>>>0&&_e(d,2,12386,D),!(te=0|l[ge>>2])){if(be=0|ze(0|l[Ie>>2]),l[ge>>2]=be,be){me=0;break}ve=66;break e}if(!(te=0|He(te,0|(0|l[Ie>>2])+(0|l[ye>>2])))){ve=64;break e}l[ge>>2]=te,me=0}else me=1}while(0);if(0|(te=0|l[Se>>2])){if(be=0|gr(0|(Fe=0|he(f)),0|(re=k),-2,-1),oe=0|l[(ae=0|te+40)>>2],se=0|l[xe>>2],ce=0|l[oe+(0|40*se)+12>>2],ie=0|l[oe+(0|40*se)+16>>2],l[(te=0|ie+(0|24*ce)+8)>>2]=be,l[te+4>>2]=k,te=0|gr(0|Fe,0|re,0|l[Ie>>2],0),l[(ce=0|ie+(0|24*ce)+16)>>2]=te,l[ce+4>>2]=k,ce=0|2+(0|l[Ie>>2]),(0|1+(te=0|l[oe+(0|40*se)+20>>2]))>>>0>(re=0|l[(ie=0|oe+(0|40*se)+28)>>2])>>>0){if(re=~~(+(re>>>0)+100)>>>0,l[ie>>2]=re,ie=0|He(0|l[oe+(0|40*se)+24>>2],0|24*re),te=0|(re=0|l[ae>>2])+(0|40*se)+24,!ie){ve=73;break}l[te>>2]=ie,ae=re,te=0|l[re+(0|40*se)+20>>2]}else ae=oe,ie=0|l[oe+(0|40*se)+24>>2];a[ie+(0|24*te)>>1]=-109,be=0|Ir(0,0|be,32),l[(Fe=0|ie+(0|24*te)+8)>>2]=be,l[Fe+4>>2]=k,l[ie+(0|24*te)+16>>2]=ce,l[ae+(0|40*se)+20>>2]=te+1}if(te=me?0:0|le(f,0|(0|l[ge>>2])+(0|l[ye>>2]),0|l[Ie>>2],d),l[J>>2]=(0|te)!=(0|l[Ie>>2])?64:8,l[ye>>2]=(0|l[ye>>2])+te,1==(9&(te=0|r[ee>>0]))){r[ee>>0]=8|te,ie=0|l[xe>>2];do{if(0==(0|pe(f))||-1==(0|(Ce=0|he(f)))&-1==(0|(Be=k)))te=1,ie=0;else{for(;;){if(2!=(0|le(f,p,2,d))){ve=80;break}if(ne(p,_,2),65424!=(0|l[_>>2])){ve=82;break}if(2!=(0|le(f,p,2,d))){ve=84;break}if(ne(p,m,2),10!=(0|l[m>>2])){ve=86;break}if(l[m>>2]=8,(0|(te=0|le(f,p,8,d)))!=(0|l[m>>2])){ve=88;break}if(8!=(0|te)){ve=90;break}if(ne(p,b,2),ne(Pe,y,4),ne(Te,g,1),ne(De,v,1),(0|l[b>>2])==(0|ie)){ve=96;break}if(14>(te=0|l[y>>2])>>>0){ve=93;break}if(Fe=0|te+-12,l[y>>2]=Fe,Fe=0|fe(f,Fe,0,d),0!=(0|k)||(0|Fe)!=(0|l[y>>2])){ve=95;break}}if(80==(0|ve)){ve=0,te=0!=(0|de(f,Ce,Be,d)),ie=0;break}if(82==(0|ve)){ve=0,te=0!=(0|de(f,Ce,Be,d)),ie=0;break}if(84==(0|ve)){ve=0,_e(d,1,8150,O),te=0,ie=0;break}if(86==(0|ve)){ve=0,_e(d,1,12203,F),te=0,ie=0;break}if(88==(0|ve)){ve=0,_e(d,1,8150,Z),te=0,ie=0;break}if(90==(0|ve)){ve=0,_e(d,1,11669,z),te=0,ie=0;break}if(93==(0|ve)){ve=0,te=0!=(0|de(f,Ce,Be,d)),ie=0;break}if(95==(0|ve)){ve=0,te=0!=(0|de(f,Ce,Be,d)),ie=0;break}if(96==(0|ve)){ve=0,ie=1&(0|l[g>>2])==(0|l[v>>2]),te=0!=(0|de(f,Ce,Be,d));break}}}while(0);if(!te){ve=98;break}if(0|ie){if(ie=0|B(0|l[Me>>2],0|l[Ee>>2]),r[ee>>0]=16|-18&r[ee>>0],0|ie){re=0|l[we>>2],te=0;do{0|(ae=0|l[(oe=0|re+(0|5640*te)+5588)>>2])&&(l[oe>>2]=ae+1),te=0|te+1}while((0|te)!=(0|ie))}_e(d,2,12521,V)}}if(!(1&r[ee>>0])){if(2!=(0|le(f,0|l[Re>>2],2,d))){ve=108;break}ne(0|l[Re>>2],w,2)}}te=0|l[w>>2]}while(65497!=(0|te)&0==(1&r[ee>>0]));switch(0|ve){case 8:return _e(d,1,8150,I),A=$,0|(Fe=0);case 10:return _e(d,1,12203,S),A=$,0|(Fe=0);case 18:return _e(d,1,8235,L),A=$,0|(Fe=0);case 22:return _e(d,1,12229,W),A=$,0|(Fe=0);case 24:return We(0|l[Re>>2]),l[Re>>2]=0,l[Ge>>2]=0,_e(d,1,8333,j),A=$,0|(Fe=0);case 27:return _e(d,1,8150,Y),A=$,0|(Fe=0);case 29:return _e(d,1,12274,E),A=$,0|(Fe=0);case 31:return l[C>>2]=l[w>>2],_e(d,1,12303,C),A=$,0|(Fe=0);case 39:return We(0|l[te>>2]),Fe=0|l[ae>>2],l[Fe+(0|40*se)+24>>2]=0,l[Fe+(0|40*se)+28>>2]=0,l[Fe+(0|40*se)+20>>2]=0,_e(d,1,12350,M),A=$,0|(Fe=0);case 45:return _e(d,1,8150,P),A=$,0|(Fe=0);case 48:return _e(d,1,8150,T),A=$,0|(Fe=0);case 64:We(0|l[ge>>2]),l[ge>>2]=0,ve=66;break;case 73:return We(0|l[te>>2]),Fe=0|l[ae>>2],l[Fe+(0|40*se)+24>>2]=0,l[Fe+(0|40*se)+28>>2]=0,l[Fe+(0|40*se)+20>>2]=0,_e(d,1,12350,G),A=$,0|(Fe=0);case 98:return _e(d,1,12475,U),A=$,0|(Fe=0);case 108:return _e(d,1,8150,N),A=$,0|(Fe=0);case 112:return _e(d,1,8150,H),A=$,0|(Fe=0);case 114:te=0|l[w>>2];}if(66==(0|ve))return _e(d,1,12441,R),A=$,0|(Fe=0);65497==(0|te)&&256!=(0|l[J>>2])&&(l[e+200>>2]=0,l[J>>2]=256)}break;default:return A=$,0|(Fe=0);}if(1&r[ee>>0])re=ee=0|e+200,oe=0|l[e+164>>2],ee=0|l[ee>>2];else{ie=0|B(0|l[e+112>>2],0|l[e+116>>2]),oe=0|l[e+164>>2],ee=0|l[(re=0|e+200)>>2];e:do{if(ee>>>0<ie>>>0)for(te=0|oe+(0|5640*ee);;){if(0|l[te+5592>>2])break e;if(ee=0|ee+1,l[re>>2]=ee,!(ee>>>0<ie>>>0))break;te=0|te+5640}}while(0);if((0|ee)==(0|ie))return l[u>>2]=0,A=$,0|(Fe=1)}if(2&r[oe+(0|5640*ee)+5636>>0]){if(ae=0|l[(ve=0|oe+(0|5640*ee)+5160)>>2]){se=0|l[oe+(0|5640*ee)+5164>>2],ie=0,te=0;do{te=0|(0|l[se+(ie<<3)+4>>2])+te,ie=0|ie+1}while((0|ie)!=(0|ae))}else te=0;if(Fe=0|ze(te),l[(ge=0|oe+(0|5640*ee)+5172)>>2]=Fe,!Fe)return _e(d,1,9491,X),_e(d,1,12562,Q),A=$,0|(Fe=0);if(l[(ye=0|oe+(0|5640*ee)+5180)>>2]=te,be=0|oe+(0|5640*ee)+5164,ie=0|l[ve>>2])for(me=0,se=0,ce=te=0|l[be>>2];(ae=0|l[ce+(me<<3)>>2])?(Br(0|(0|l[ge>>2])+se,0|ae,0|l[ce+(me<<3)+4>>2]),ae=0|l[be>>2],se=0|(0|l[ae+(me<<3)+4>>2])+se,We(0|l[ae+(me<<3)>>2]),ae=0|l[be>>2],l[ae+(me<<3)>>2]=0,l[ae+(me<<3)+4>>2]=0,ie=0|l[ve>>2],te=ae):ae=ce,!((me=0|me+1)>>>0>=ie>>>0);){ce=ae}else te=0|l[be>>2];l[ve>>2]=0,We(te),l[be>>2]=0,l[oe+(0|5640*ee)+5168>>2]=l[ge>>2],l[oe+(0|5640*ee)+5176>>2]=l[ye>>2]}return 0|function(e,t,i){return 0|ii(e|=0,t|=0,0,.5,56,i|=0)}(0|l[(ee=0|e+204)>>2],0|l[re>>2],d)?(Fe=0|B(0|l[e+112>>2],0|l[e+116>>2]),l[K>>2]=1+(0|l[re>>2]),l[K+4>>2]=Fe,_e(d,4,12588,K),l[t>>2]=l[re>>2],l[u>>2]=1,Fe=0|function(e){var t=0,i=0,n=0,r=0,o=0,a=0;if(t=0|l[24+(e|=0)>>2],!(r=0|l[t+16>>2]))return 0|(r=0);for(n=0|l[20+(0|l[l[e+20>>2]>>2])>>2],t=0|l[t+24>>2],e=0,i=0;a=0|((a=0|l[t+24>>2])>>>3)+(1&0!=(0|7&a)),o=0|(0|l[n+24>>2])+(0|136*(0|l[n+20>>2]))-136,e=0|(0|B(0|B(3==(0|a)?4:a,0|(0|l[o+8>>2])-(0|l[o>>2])),0|(0|l[o+12>>2])-(0|l[o+4>>2])))+e,!((i=0|i+1)>>>0>=r>>>0);){n=0|n+52,t=0|t+52}return 0|e}(0|l[ee>>2]),l[i>>2]=Fe,Fe=0|l[l[20+(0|l[ee>>2])>>2]>>2],l[n>>2]=l[Fe>>2],l[o>>2]=l[Fe+4>>2],l[s>>2]=l[Fe+8>>2],l[c>>2]=l[Fe+12>>2],l[h>>2]=l[Fe+16>>2],l[J>>2]=128|l[J>>2],A=$,0|(Fe=1)):(_e(d,1,8019,q),A=$,0|(Fe=0))}function rt(e,t,i,n,o,a){t|=0,i|=0,n|=0,o|=0,a|=0;var s,c,h,u,f,d,p,_,m=0,b=0,y=0;if(_=A,A=0|A+48,d=0|_+28,p=0|_+32,!(128&l[(y=0|8+(e|=0))>>2]))return A=_,0|(y=0);if((0|l[(f=0|e+200)>>2])!=(0|t))return A=_,0|(y=0);if(s=0|(m=0|l[e+164>>2])+(0|5640*t),!(c=0|l[(b=0|m+(0|5640*t)+5592)>>2]))return Qe(s),A=_,0|(y=0);if(u=0|m+(0|5640*t)+5596,!(0|ri(0|l[(h=0|e+204)>>2],c,0|l[u>>2],t,0|l[e+196>>2],a)))return Qe(s),l[y>>2]=32768|l[y>>2],_e(a,1,12627,_),A=_,0|(y=0);if(!(0|oi(0|l[h>>2],i,n)))return A=_,0|(y=0);if(0|(m=0|l[b>>2])&&(We(m),l[b>>2]=0,l[u>>2]=0),r[(e=0|e+76)>>0]=-2&r[e>>0],l[y>>2]=-129&l[y>>2],e=0|ue(o),256==(0|(b=0|l[y>>2]))|0==(0|e)&0==(0|k)&64==(0|b))return A=_,0|(y=1);if(2!=(0|le(o,p,2,a)))return _e(a,2,12646,0|_+8),A=_,0|(y=1);switch(ne(p,d,2),0|l[d>>2]){case 65497:return l[f>>2]=0,l[y>>2]=256,A=_,0|(y=1);case 65424:return A=_,0|(y=1);default:return 0==(0|ue(o))&0==(0|k)?(l[y>>2]=64,_e(a,2,12690,0|_+16),A=_,0|(y=1)):(_e(a,1,12720,0|_+24),A=_,0|(y=0));}return 0}function ot(e,t,i,n,o,a,s){t|=0,i|=0,n|=0,o|=0,a|=0,s|=0;var c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,I=0,S=0;if(u=A,A=0|A+112,S=0|u+96,h=0|u+88,c=0|u+80,I=0|u+72,x=0|u+64,w=0|u+56,g=0|u+48,m=0|u+40,_=0|u+32,p=0|u+24,d=0|u+16,y=0|l[80+(e|=0)>>2],8!=(0|l[e+8>>2]))return _e(s,1,12752,u),A=u,0|(S=0);if(!(n|i|o|a))return _e(s,4,12831,0|u+8),l[e+28>>2]=0,l[e+32>>2]=0,l[e+36>>2]=l[e+112>>2],l[e+40>>2]=l[e+116>>2],A=u,0|(S=1);if((f=0|l[(v=0|y+8)>>2])>>>0<i>>>0)return l[d>>2]=i,l[d+4>>2]=f,_e(s,1,12900,d),A=u,0|(S=0);if((f=0|l[y>>2])>>>0>i>>>0?(l[p>>2]=i,l[p+4>>2]=f,_e(s,2,12987,p),l[e+28>>2]=0,i=0|l[y>>2]):l[e+28>>2]=0|((0|i-(0|l[e+92>>2]))>>>0)/((0|l[e+100>>2])>>>0),l[t>>2]=i,(i=0|l[(b=0|y+12)>>2])>>>0<n>>>0)return l[_>>2]=n,l[_+4>>2]=i,_e(s,1,13075,_),A=u,0|(S=0);if((i=0|l[(d=0|y+4)>>2])>>>0>n>>>0?(l[m>>2]=n,l[m+4>>2]=i,_e(s,2,13160,m),l[e+32>>2]=0,i=0|l[d>>2]):(l[e+32>>2]=0|((0|n-(0|l[e+96>>2]))>>>0)/((0|l[e+104>>2])>>>0),i=n),l[(p=0|t+4)>>2]=i,(i=0|l[y>>2])>>>0>o>>>0)return l[g>>2]=o,l[g+4>>2]=i,_e(s,1,13246,g),A=u,0|(S=0);if((i=0|l[v>>2])>>>0<o>>>0?(l[w>>2]=o,l[w+4>>2]=i,_e(s,2,13335,w),l[e+36>>2]=l[e+112>>2],o=0|l[v>>2]):(w=0|l[e+100>>2],l[e+36>>2]=0|(0|o+-1-(0|l[e+92>>2])+w)/(0|w)),l[(f=0|t+8)>>2]=o,(o=0|l[d>>2])>>>0>a>>>0)return l[x>>2]=a,l[x+4>>2]=o,_e(s,1,13423,x),A=u,0|(S=0);(o=0|l[b>>2])>>>0<a>>>0?(l[I>>2]=a,l[I+4>>2]=o,_e(s,2,13513,I),l[e+40>>2]=l[e+116>>2],a=0|l[b>>2]):(I=0|l[e+104>>2],l[e+40>>2]=0|(0|a+-1-(0|l[e+96>>2])+I)/(0|I)),l[(I=0|t+12)>>2]=a,r[(x=0|e+76)>>0]=2|r[x>>0],x=0|l[t+16>>2],e=0|l[t>>2];e:do{if(x){for(w=0|(i=0|l[p>>2])-1,g=0|(o=0|l[f>>2])-1,v=0|e+-1,y=0,b=0|l[t+24>>2];;){if(m=0|(0|v+(t=0|l[b>>2]))/(0|t),l[b+16>>2]=m,d=0|(0|w+(f=0|l[b+4>>2]))/(0|f),l[b+20>>2]=d,t=0|(0|g+t)/(0|t),_=0|Er(1,0,0|(p=0|l[b+40>>2])),n=k,0>(0|(m=0|(t=0|Ir(0|(t=0|gr(0|(t=0|gr(0|t,0|(0>(0|t))<<31>>31,-1,-1)),0|k,0|_,0|n)),0|k,0|p))-(m=0|Ir(0|(m=0|gr(0|(m=0|gr(0|m,0|(0>(0|m))<<31>>31,-1,-1)),0|k,0|_,0|n)),0|k,0|p))))){f=29;break}if(t=0|(0|f+-1+(a=0|l[I>>2]))/(0|f),l[b+8>>2]=m,0>(0|(d=0|(t=0|Ir(0|(t=0|gr(0|(t=0|gr(0|t,0|(0>(0|t))<<31>>31,-1,-1)),0|k,0|_,0|n)),0|k,0|p))-(d=0|Ir(0|(d=0|gr(0|(d=0|gr(0|d,0|(0>(0|d))<<31>>31,-1,-1)),0|k,0|_,0|n)),0|k,0|p))))){f=31;break}if(l[b+12>>2]=d,!((f=0|y+1)>>>0<x>>>0))break e;y=f,b=0|b+52}if(29==(0|f))return l[c>>2]=y,l[c+4>>2]=m,_e(s,1,13602,c),A=u,0|(S=0);if(31==(0|f))return l[h>>2]=y,l[h+4>>2]=d,_e(s,1,13671,h),A=u,0|(S=0)}else i=0|l[p>>2],o=0|l[f>>2],a=0|l[I>>2]}while(0);return l[S>>2]=e,l[S+4>>2]=i,l[S+8>>2]=o,l[S+12>>2]=a,_e(s,4,13740,S),A=u,0|(S=1)}function at(){var e,t=0,i=0;if(!(e=0|Ue(1,208)))return 0|(t=0);if(l[e>>2]=1,r[(t=0|e+184)>>0]=2|r[t>>0],t=0|Ue(1,5640),l[e+12>>2]=t,!t)return Xe(e),0|(t=0);if(t=0|Ue(1,1e3),l[e+16>>2]=t,!t)return Xe(e),0|(t=0);l[e+20>>2]=1e3,l[e+60>>2]=-1,l[(t=0|e+64)>>2]=0,l[t+4>>2]=0,t=0|Ue(1,48);do{if(0|t){if(l[t+32>>2]=100,l[t+24>>2]=0,i=0|Ue(100,24),l[t+28>>2]=i,!i){We(t);break}return l[t+40>>2]=0,l[e+196>>2]=t,i=0|_i(),l[e+192>>2]=i,i?(i=0|_i(),l[e+188>>2]=i,0|i?0|(i=e):(Xe(e),0|(i=0))):(Xe(e),0|(i=0))}}while(0);return l[e+196>>2]=0,Xe(e),0|(i=0)}function st(e,t,i){e|=0,i|=0;var n,r,o,a,s,c=0,h=0,u=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0;if(s=A,A=0|A+128,a=0|s+104,o=0|s+72,r=0|s+64,v=0|s+40,y=0|s+24,n=0|s+16,_=0|s+8,p=s,0|384&(t|=0))return Sn(13778,11,1,i),void(A=s);if(0|1&t&&0|(d=0|l[e+80>>2])&&lt(d,0,i),0|2&t&&0|l[(h=0|e+80)>>2]&&(Sn(13790,36,1,i),d=0|l[e+96>>2],l[p>>2]=l[e+92>>2],l[p+4>>2]=d,Hn(i,13827,p),p=0|l[e+104>>2],l[_>>2]=l[e+100>>2],l[_+4>>2]=p,Hn(i,13845,_),_=0|l[e+116>>2],l[n>>2]=l[e+112>>2],l[n+4>>2]=_,Hn(i,13863,n),ct(0|l[e+12>>2],0|l[16+(0|l[h>>2])>>2],i),Sn(13879,2,1,i)),0|8&t&&(m=0|B(0|l[e+112>>2],0|l[e+116>>2]),!(0==(0|(u=0|l[(b=0|e+80)>>2]))|0==(0|m)))&&(ct(c=0|l[e+164>>2],0|l[u+16>>2],i),1!=(0|m))){h=1;do{ct(c=0|c+5640,0|l[16+(0|l[b>>2])>>2],i),h=0|h+1}while((0|h)!=(0|m))}if(16&t){d=0|l[e+196>>2],Sn(13882,37,1,i),m=0|l[(t=d)+4>>2],b=0|l[(h=0|d+8)>>2],h=0|l[h+4>>2],l[(u=y)>>2]=l[t>>2],l[u+4>>2]=m,l[(u=0|y+8)>>2]=b,l[u+4>>2]=h,Hn(i,13920,y),Sn(13987,17,1,i),h=0|l[(u=0|d+28)>>2];e:do{if(0|h&&(g=0|d+24,0|l[g>>2]))for(c=0;;){if(t=0|l[(m=0|h+(0|24*c)+8)>>2],m=0|l[m+4>>2],y=0|l[h+(0|24*c)+16>>2],l[v>>2]=f[h+(0|24*c)>>1],l[(b=0|v+8)>>2]=t,l[b+4>>2]=m,l[v+16>>2]=y,Hn(i,14005,v),(c=0|c+1)>>>0>=(0|l[g>>2])>>>0)break e;h=0|l[u>>2]}}while(0);if(Sn(14036,4,1,i),0|(u=0|l[(_=0|d+40)>>2])&&0|(w=0|l[(x=0|d+36)>>2])){c=0,h=0;do{c=0|(0|l[u+(0|40*h)+4>>2])+c,h=0|h+1}while((0|h)!=(0|w));if(0|c){if(Sn(14041,16,1,i),0|l[x>>2]){p=0,c=0|l[_>>2];do{d=0|l[c+(0|40*p)+4>>2],l[r>>2]=p,l[r+4>>2]=d,Hn(i,14058,r),c=0|l[_>>2],u=0|l[c+(0|40*p)+16>>2];e:{if(0!=(0|d)&0!=(0|u))for(h=0,c=u;;){if(m=0|l[(b=0|c+(0|24*h))>>2],b=0|l[b+4>>2],y=0|l[(g=0|c+(0|24*h)+8)>>2],g=0|l[g+4>>2],v=0|l[(w=0|c+(0|24*h)+16)>>2],w=0|l[w+4>>2],l[o>>2]=h,l[(c=0|o+8)>>2]=m,l[c+4>>2]=b,l[(c=0|o+16)>>2]=y,l[c+4>>2]=g,l[(c=0|o+24)>>2]=v,l[c+4>>2]=w,Hn(i,14094,o),h=0|h+1,c=0|l[_>>2],(0|h)==(0|d))break e;c=0|l[c+(0|40*p)+16>>2]}}u=0|l[c+(0|40*p)+24>>2];e:do{if(0!=(0|u)&&0!=(0|l[c+(0|40*p)+20>>2]))for(h=0,c=u;;){if(g=0|l[(v=0|c+(0|24*h)+8)>>2],v=0|l[v+4>>2],w=0|l[c+(0|24*h)+16>>2],l[a>>2]=f[c+(0|24*h)>>1],l[(c=0|a+8)>>2]=g,l[c+4>>2]=v,l[a+16>>2]=w,Hn(i,14005,a),h=0|h+1,c=0|l[_>>2],h>>>0>=(0|l[c+(0|40*p)+20>>2])>>>0)break e;c=0|l[c+(0|40*p)+24>>2]}}while(0);p=0|p+1}while(p>>>0<(0|l[x>>2])>>>0)}Sn(14036,4,1,i)}}Sn(13879,2,1,i),A=s}else A=s}function lt(e,t,i){e|=0,i|=0;var n,o,a,s,c,h,u=0,f=0,d=0;if(c=A,A=0|A+64,s=0|c+48,a=0|c+40,n=0|c+32,d=0|c+16,f=c,o=0|c+52,(t|=0)?(Sn(14455,36,1,0|l[665]),u=0):(Sn(14492,13,1,i),r[o>>0]=9,u=1),r[o+u>>0]=0,h=0|l[e>>2],u=0|l[e+4>>2],l[f>>2]=o,l[f+4>>2]=h,l[f+8>>2]=u,Hn(i,14506,f),u=0|l[e+8>>2],f=0|l[e+12>>2],l[d>>2]=o,l[d+4>>2]=u,l[d+8>>2]=f,Hn(i,14523,d),f=0|l[(d=0|e+16)>>2],l[n>>2]=o,l[n+4>>2]=f,Hn(i,14540,n),!(0|l[(f=0|e+24)>>2]))return Sn(13879,2,1,i),void(A=c);if(!(0|l[d>>2]))return Sn(13879,2,1,i),void(A=c);u=0;do{l[a>>2]=o,l[a+4>>2]=u,Hn(i,14556,a),ht(0|(0|l[f>>2])+(0|52*u),t,i),l[s>>2]=o,Hn(i,14576,s),u=0|u+1}while(u>>>0<(0|l[d>>2])>>>0);Sn(13879,2,1,i),A=c}function ct(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p,_,m,b=0,y=0,g=0,v=0,w=0,x=0;if(m=A,A=0|A+128,_=0|m+120,p=0|m+112,d=0|m+104,f=0|m+96,u=0|m+88,h=0|m+80,c=0|m+72,s=0|m+64,a=0|m+56,o=0|m+48,r=0|m+40,n=0|m+32,v=0|m+24,g=0|m+16,y=0|m+8,b=m,e|=0){if(Sn(14160,17,1,i),l[b>>2]=l[e>>2],Hn(i,14178,b),l[y>>2]=l[e+4>>2],Hn(i,14191,y),l[g>>2]=l[e+8>>2],Hn(i,14203,g),l[v>>2]=l[e+16>>2],Hn(i,14220,v),0<(0|t)){g=0|e+5584,y=0;do{if(v=0|l[g>>2],l[n>>2]=y,Hn(i,14231,n),l[r>>2]=l[v+(0|1080*y)>>2],Hn(i,14245,r),b=0|v+(0|1080*y)+4,l[o>>2]=l[b>>2],Hn(i,14259,o),l[a>>2]=l[v+(0|1080*y)+8>>2],Hn(i,14282,a),l[s>>2]=l[v+(0|1080*y)+12>>2],Hn(i,14298,s),l[c>>2]=l[v+(0|1080*y)+16>>2],Hn(i,14314,c),l[h>>2]=l[v+(0|1080*y)+20>>2],Hn(i,14331,h),Sn(14346,23,1,i),0|l[b>>2]){e=0;do{x=0|l[v+(0|1080*y)+944+(e<<2)>>2],l[u>>2]=l[v+(0|1080*y)+812+(e<<2)>>2],l[u+4>>2]=x,Hn(i,14370,u),e=0|e+1}while(e>>>0<(0|l[b>>2])>>>0)}if(_r(10,i),x=0|v+(0|1080*y)+24,l[f>>2]=l[x>>2],Hn(i,14379,f),l[d>>2]=l[v+(0|1080*y)+804>>2],Hn(i,14394,d),Sn(14411,20,1,i),1!=(0|l[x>>2])?2<(0|(e=0|3*(0|l[b>>2])))&&(b=0|e+-2,w=8):(b=1,w=8),8==(0|w)){w=0,e=0;do{x=0|l[v+(0|1080*y)+28+(e<<3)>>2],l[p>>2]=l[v+(0|1080*y)+28+(e<<3)+4>>2],l[p+4>>2]=x,Hn(i,14370,p),e=0|e+1}while((0|e)!=(0|b))}_r(10,i),l[_>>2]=l[v+(0|1080*y)+808>>2],Hn(i,14432,_),Sn(14449,5,1,i),y=0|y+1}while((0|y)!=(0|t))}Sn(14036,4,1,i),A=m}else A=m}function ht(e,t,i){e|=0,i|=0;var n,o,a,s,c,h=0,u=0;s=A,A=0|A+48,a=0|s+24,u=0|s+16,h=s,o=0|s+32,(n=0!=(0|(t|=0)))?(Sn(14581,41,1,0|l[665]),t=0):(r[o>>0]=9,r[o+1>>0]=9,t=2),r[o+t>>0]=0,c=0|l[e>>2],t=0|l[e+4>>2],l[h>>2]=o,l[h+4>>2]=c,l[h+8>>2]=t,Hn(i,14623,h),h=0|l[e+24>>2],l[u>>2]=o,l[u+4>>2]=h,Hn(i,14640,u),u=0|l[e+32>>2],l[a>>2]=o,l[a+4>>2]=u,Hn(i,14652,a),n?(Sn(13879,2,1,i),A=s):A=s}function ut(e){var t,i,n,r,o,a=0,s=0,c=0,h=0,u=0;if(o=A,A=0|A+16,s=o,r=0|l[16+(0|l[(a=0|80+(e|=0))>>2])>>2],t=0|Ue(1,56),l[s>>2]=t,!t)return A=o,0|(u=0);if(a=0|l[16+(0|l[a>>2])>>2],l[t+24>>2]=a,l[t>>2]=l[e+92>>2],l[t+4>>2]=l[e+96>>2],l[t+8>>2]=l[e+100>>2],l[t+12>>2]=l[e+104>>2],l[t+16>>2]=l[e+112>>2],l[t+20>>2]=l[e+116>>2],l[t+52>>2]=0,e=0|l[e+12>>2],l[t+32>>2]=l[e>>2],l[t+36>>2]=l[e+4>>2],l[t+40>>2]=l[e+8>>2],l[t+44>>2]=l[e+16>>2],a=0|Ue(a,1080),l[(n=0|t+48)>>2]=a,!a)return Ie(s),A=o,0|(u=0);if(!r)return A=o,0|(u=t);for(i=0|e+5584,e=0;;){if(h=0|l[i>>2],l[a+(0|1080*e)+4>>2]=l[h+(0|1080*e)>>2],c=0|l[(s=0|h+(0|1080*e)+4)>>2],l[a+(0|1080*e)+8>>2]=c,l[a+(0|1080*e)+12>>2]=l[h+(0|1080*e)+8>>2],l[a+(0|1080*e)+16>>2]=l[h+(0|1080*e)+12>>2],l[a+(0|1080*e)+20>>2]=l[h+(0|1080*e)+16>>2],l[a+(0|1080*e)+24>>2]=l[h+(0|1080*e)+20>>2],33>c>>>0&&(Br(0|a+(0|1080*e)+948,0|h+(0|1080*e)+944,0|c),Br(0|a+(0|1080*e)+816,0|h+(0|1080*e)+812,0|l[s>>2])),c=0|l[h+(0|1080*e)+24>>2],l[a+(0|1080*e)+28>>2]=c,l[a+(0|1080*e)+808>>2]=l[h+(0|1080*e)+804>>2],1!=(0|c)?96>(0|(s=0|3*(0|l[s>>2]))-3)>>>0&&(c=0|s+-2,u=10):(c=1,u=10),10==(0|u)){u=0,s=0;do{l[a+(0|1080*e)+32+(s<<2)>>2]=l[h+(0|1080*e)+28+(s<<3)+4>>2],l[a+(0|1080*e)+420+(s<<2)>>2]=l[h+(0|1080*e)+28+(s<<3)>>2],s=0|s+1}while((0|s)!=(0|c))}if(l[a+(0|1080*e)+812>>2]=l[h+(0|1080*e)+808>>2],(0|(e=0|e+1))==(0|r))break;a=0|l[n>>2]}return A=o,0|t}function ft(e){e|=0;var t,i,n,r=0,o=0,a=0,s=0,c=0,h=0;if(!(t=0|Ue(1,48)))return 0|(h=0);if(r=0|l[(n=0|e+196)>>2],h=0|l[(c=r)+4>>2],l[(e=t)>>2]=l[c>>2],l[e+4>>2]=h,h=0|l[4+(e=0|r+8)>>2],l[(c=0|t+8)>>2]=l[e>>2],l[c+4>>2]=h,h=0|l[4+(c=0|r+16)>>2],l[(e=0|t+16)>>2]=l[c>>2],l[e+4>>2]=h,r=0|l[r+24>>2],l[(e=0|t+24)>>2]=r,r=0|ze(0|24*r),l[(h=0|t+28)>>2]=r,!r)return We(t),0|(h=0);if((o=0|l[28+(0|l[n>>2])>>2])?Br(0|r,0|o,0|24*(0|l[e>>2])):(We(r),l[h>>2]=0),e=0|l[36+(0|l[n>>2])>>2],l[(i=0|t+36)>>2]=e,e=0|Ue(e,40),l[(c=0|t+40)>>2]=e,!e)return We(0|l[h>>2]),We(t),0|(h=0);if(!(r=0|l[40+(0|l[n>>2])>>2]))return We(e),l[c>>2]=0,0|(h=t);if(!(0|l[i>>2]))return 0|(h=t);r=0|l[r+20>>2],l[e+20>>2]=r,r=0|ze(0|24*r),e=0|l[c>>2],l[e+24>>2]=r;e:do{if(r){for(o=0;(a=0|l[(0|l[40+(0|l[n>>2])>>2])+(0|40*o)+24>>2])?(Br(0|r,0|a,0|24*(0|l[e+(0|40*o)+20>>2])),e=0|l[c>>2]):(We(r),e=0|l[c>>2],l[e+(0|40*o)+24>>2]=0),r=0|l[(0|l[40+(0|l[n>>2])>>2])+(0|40*o)+4>>2],l[e+(0|40*o)+4>>2]=r,r=0|ze(0|24*r),e=0|l[c>>2],l[e+(0|40*o)+16>>2]=r,r;){if((a=0|l[(0|l[40+(0|l[n>>2])>>2])+(0|40*o)+16>>2])?(Br(0|r,0|a,0|24*(0|l[e+(0|40*o)+4>>2])),e=0|l[c>>2]):(We(r),e=0|l[c>>2],l[e+(0|40*o)+16>>2]=0),l[e+(0|40*o)+32>>2]=0,l[e+(0|40*o)+36>>2]=0,(o=0|o+1)>>>0>=(0|l[i>>2])>>>0){s=28;break}if(r=0|l[(0|l[40+(0|l[n>>2])>>2])+(0|40*o)+20>>2],l[e+(0|40*o)+20>>2]=r,r=0|ze(0|24*r),e=0|l[c>>2],l[e+(0|40*o)+24>>2]=r,!r)break e}if(28==(0|s))return 0|t;if(o){r=0;do{We(0|l[e+(0|40*r)+24>>2]),We(0|l[(0|l[c>>2])+(0|40*r)+16>>2]),r=0|r+1,e=0|l[c>>2]}while((0|r)!=(0|o))}return We(e),We(0|l[h>>2]),We(t),0|(h=0)}o=0}while(0);if(o){r=0;do{We(0|l[e+(0|40*r)+24>>2]),r=0|r+1,e=0|l[c>>2]}while((0|r)!=(0|o))}return We(e),We(0|l[h>>2]),We(t),0|(h=0)}function dt(e,t,i,n){e|=0,t|=0,n|=0;var r,o,a=0,s=0,c=0,h=0;if(!(i|=0))return 0|(i=0);if(a=0|ge(),l[(o=0|e+84)>>2]=a,!a)return 0|(i=0);if(ve(i,a),bi(0|l[(h=0|e+188)>>2],28,n),r=0|yi(h=0|l[h>>2]),a=0|gi(h),r){for(s=1,c=0;s=s?0!=(0|Jr[63&l[a>>2]](e,t,n)):0,(0|(c=0|c+1))!=(0|r);){a=0|a+4,s&=1}if(vi(h),!s)return ye(0|l[(i=0|e+80)>>2]),l[i>>2]=0,0|(i=0)}else vi(h);if(!(h=0|l[i+16>>2]))return 0|(i=1);c=0|l[24+(0|l[o>>2])>>2],s=0|l[i+24>>2],a=0;do{l[s+(0|52*a)+36>>2]=l[c+(0|52*a)+36>>2],i=0|c+(0|52*a)+44,l[s+(0|52*a)+44>>2]=l[i>>2],l[i>>2]=0,a=0|a+1}while(a>>>0<h>>>0);return 0|(a=1)}function pt(e,t,i,n){e|=0,i|=0,n|=0;var o=0,s=0,c=0,u=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0;if(!(0|l[(T=0|16+(t|=0))>>2]))return 0|(T=1);for(P=0,M=0|l[t+24>>2];;){if(u=0|n+8,t=0|l[(c=0|n+44)>>2])s=0|n+12;else{if(t=0|l[u>>2],!(o=0|l[(s=0|n+12)>>2])){i=0,e=66;break}if(t>>>0>(0|4294967295/(o>>>0))>>>0){i=0,e=66;break}if(t=0|Ue(0|B(o,t),4),l[c>>2]=t,!t){i=0,e=66;break}}p=0|M+36,l[n+36>>2]=l[p>>2],A=0|l[M+24>>2],g=0|l[e+24>>2],p=0|l[p>>2],w=3==(0|(A=0|(A>>>3)+(1&0!=(0|7&A)))),I=0|(d=0|l[g+(0|136*p)+8>>2])-(o=0|l[g+(0|136*p)>>2]),g=0|(y=0|l[g+(0|136*p)+12>>2])-(p=0|l[g+(0|136*p)+4>>2]),c=0|l[n+16>>2],m=0|Er(1,0,0|(_=0|l[n+40>>2])),C=k,c=0|Sr(0|(c=0|gr(0|(c=0|gr(0|c,0,-1,-1)),0|k,0|m,0|C)),0|k,0|_),_=0|Sr(0|(C=0|gr(0|(E=0|gr(0|l[n+20>>2],0,-1,-1)),0|k,0|m,0|C)),0|k,0|_),u=0|(C=0|l[u>>2])+c,m=0|(s=0|l[s>>2])+_;do{if(o>>>0<=c>>>0){if(o=0|c-o,d>>>0>u>>>0){E=C,x=o,b=0,v=0|d-u;break}E=0|I-o,x=o,b=0,v=0;break}v=0|u-o,E=(S=d>>>0>u>>>0)?v:I,x=0,b=0|o-c,v=S?0|I-v:0}while(0);do{if(p>>>0<=_>>>0){if(o=0|_-p,y>>>0>m>>>0){S=s,d=o,c=0,o=0|y-m;break}S=0|g-o,d=o,c=0,o=0;break}o=0|m-p,S=(y=y>>>0>m>>>0)?o:g,d=0,c=0|p-_,o=y?0|g-o:0}while(0);if(0>(0|(x|v|E|o|d|S))){i=0,e=66;break}switch(s=0|(u=0|B(d,I))+x,_=0|x+v,m=0|(0|B(o,I))-x,c=0|t+((0|B(C,c))+b<<2),0|1073741823&(w?4:A)){case 1:o=0|i+s,t=0!=(0|S);do{if(0|l[M+32>>2]){if(t){if(!E){i=0|i+(v+u+(0|B(_,0|S+-1))+(x<<1));break}for(p=0|E+v+u+(0|B(0|E+x+v,0|S+-1))+(x<<1),t=o,s=0;;){for(d=0|t+E,u=0,o=c;l[o>>2]=r[t>>0],(0|(u=0|u+1))!=(0|E);){t=0|t+1,o=0|o+4}if((0|(s=0|s+1))==(0|S))break;t=0|d+_,c=0|c+(C<<2)}i=0|i+p}else i=o;}else if(t){if(!E){i=0|i+(v+u+(0|B(_,0|S+-1))+(x<<1));break}for(p=0|E+v+u+(0|B(0|E+x+v,0|S+-1))+(x<<1),d=0,t=o;;){for(u=0|t+E,s=0,o=c;l[o>>2]=h[t>>0],(0|(s=0|s+1))!=(0|E);){t=0|t+1,o=0|o+4}if((0|(d=0|d+1))==(0|S))break;t=0|u+_,c=0|c+(C<<2)}i=0|i+p}else i=o}while(0);i=0|i+m;break;case 2:t=0|i+(s<<1),o=0!=(0|S);do{if(0|l[M+32>>2]){if(o){if(!E){i=0|i+((0|B(d<<1,I))+(0|B(_<<1,0|S+-1))+(x<<2)+(v<<1));break}for(i=0|i+((0|B(E+_<<1,0|S+-1))+(x<<2)+(E+v+u<<1)),d=0;;){for(u=0|t+(E<<1),o=0,s=c;l[s>>2]=a[t>>1],(0|(o=0|o+1))!=(0|E);){t=0|t+2,s=0|s+4}if((0|(d=0|d+1))==(0|S))break;t=0|u+(_<<1),c=0|c+(C<<2)}}else i=t;}else if(o){if(!E){i=0|i+((0|B(d<<1,I))+(0|B(_<<1,0|S+-1))+(x<<2)+(v<<1));break}for(i=0|i+((0|B(E+_<<1,0|S+-1))+(x<<2)+(E+v+u<<1)),d=0;;){for(u=0|t+(E<<1),s=0,o=c;l[o>>2]=f[t>>1],(0|(s=0|s+1))!=(0|E);){t=0|t+2,o=0|o+4}if((0|(d=0|d+1))==(0|S))break;t=0|u+(_<<1),c=0|c+(C<<2)}}else i=t}while(0);i=0|i+(m<<1);break;case 4:t=0|i+(s<<2);do{if(S){if(!E){i=0|i+((0|B(d<<2,I))+(0|B(_<<2,0|S+-1))+(x<<3)+(v<<2));break}for(i=0|i+((0|B(E+_<<2,0|S+-1))+(x<<3)+(E+v+u<<2)),d=0;;){for(u=0|t+(E<<2),o=0,s=c;l[s>>2]=l[t>>2],(0|(o=0|o+1))!=(0|E);){t=0|t+4,s=0|s+4}if((0|(d=0|d+1))==(0|S))break;t=0|u+(_<<2),c=0|c+(C<<2)}}else i=t}while(0);i=0|i+(m<<2);}if((P=0|P+1)>>>0>=(0|l[T>>2])>>>0){i=1,e=66;break}e=0|e+52,n=0|n+52,M=0|M+52}return 66==(0|e)?0|i:0}function _t(e,t,i,n,r){e|=0,t|=0,n|=0,r|=0;var o,a,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,I=0,S=0;if(a=A,A=0|A+16,h=0|a+8,!(i|=0))return _e(n,1,14842,a),A=a,0|(y=0);if(c=0|l[e+112>>2],(s=0|B(0|l[e+116>>2],c))>>>0<=r>>>0)return l[h>>2]=r,l[h+4>>2]=s+-1,_e(n,1,14880,h),A=a,0|(y=0);if(y=0|(r>>>0)%(c>>>0),b=0|(r>>>0)/(c>>>0),s=0|(s=0|B(0|l[(c=0|e+100)>>2],y))+(0|l[(h=0|e+92)>>2]),l[i>>2]=s,s=s>>>0<(u=0|l[l[(o=0|e+80)>>2]>>2])>>>0?u:s,l[i>>2]=s,h=0|(y=0|B(0|l[c>>2],0|y+1))+(0|l[h>>2]),l[(y=0|i+8)>>2]=h,h=h>>>0>(c=0|l[8+(0|l[o>>2])>>2])>>>0?c:h,l[y>>2]=h,c=0|(c=0|B(0|l[(y=0|e+104)>>2],b))+(0|l[(u=0|e+96)>>2]),l[(_=0|i+4)>>2]=c,c=c>>>0<(m=0|l[4+(0|l[o>>2])>>2])>>>0?m:c,l[_>>2]=c,u=0|(b=0|B(0|l[y>>2],0|b+1))+(0|l[u>>2]),l[(b=0|i+12)>>2]=u,u=u>>>0>(y=0|l[12+(0|l[o>>2])>>2])>>>0?y:u,l[b>>2]=u,b=0|i+24,0|(_=0|l[(y=0|i+16)>>2]))for(m=0|l[24+(0|l[o>>2])>>2],p=0|s+-1,d=0|c+-1,f=0|h+-1,h=0|u+-1,s=0,c=0|l[b>>2];u=0|l[m+(0|52*s)+40>>2],l[c+40>>2]=u,I=0|(0|p+(S=0|l[c>>2]))/(0|S),l[c+16>>2]=I,x=0|(0|d+(g=0|l[c+4>>2]))/(0|g),l[c+20>>2]=x,S=0|(0|f+S)/(0|S),g=0|(0|h+g)/(0|g),w=0|Er(1,0,0|u),v=k,S=0|Ir(0|(S=0|gr(0|(S=0|gr(0|S,0|(0>(0|S))<<31>>31,-1,-1)),0|k,0|w,0|v)),0|k,0|u),I=0|Ir(0|(I=0|gr(0|(I=0|gr(0|I,0|(0>(0|I))<<31>>31,-1,-1)),0|k,0|w,0|v)),0|k,0|u),l[c+8>>2]=S-I,g=0|Ir(0|(g=0|gr(0|(g=0|gr(0|g,0|(0>(0|g))<<31>>31,-1,-1)),0|k,0|w,0|v)),0|k,0|u),u=0|Ir(0|(v=0|gr(0|(x=0|gr(0|x,0|(0>(0|x))<<31>>31,-1,-1)),0|k,0|w,0|v)),0|k,0|u),l[c+12>>2]=g-u,!((s=0|s+1)>>>0>=_>>>0);){c=0|c+52}if(0|(s=0|l[(d=0|e+84)>>2])&&ye(s),s=0|ge(),l[d>>2]=s,!s)return A=a,0|(S=0);if(ve(i,s),l[e+60>>2]=r,bi(0|l[(u=0|e+188)>>2],29,n),f=0|yi(u=0|l[u>>2]),s=0|gi(u),f){for(c=1,h=0;c=c?0!=(0|Jr[63&l[s>>2]](e,t,n)):0,(0|(h=0|h+1))!=(0|f);){s=0|s+4,c&=1}if(vi(u),!c)return ye(0|l[o>>2]),l[o>>2]=0,A=a,0|(S=0)}else vi(u);if(!(s=0|l[y>>2]))return A=a,0|(S=1);for(f=0,u=0|l[24+(0|l[d>>2])>>2],h=0|l[b>>2];;){if(l[h+(0|52*f)+36>>2]=l[u+(0|52*f)+36>>2],(c=0|l[h+(0|52*f)+44>>2])?(We(c),c=0|l[24+(0|l[d>>2])>>2],h=0|l[b>>2],s=0|l[y>>2]):c=u,S=0|c+(0|52*f)+44,l[h+(0|52*f)+44>>2]=l[S>>2],l[S>>2]=0,(f=0|f+1)>>>0>=s>>>0){s=1;break}u=c}return A=a,0|s}function mt(e,t,i){t|=0,i|=0;var n,r,o,a=0,s=0,c=0,h=0;o=A,A=0|A+16,r=o,l[168+(e|=0)>>2]=t,n=0|l[e+80>>2];e:do{if(0!=(0|n)&&(h=0|l[n+24>>2],0!=(0|h))&&(c=0|e+12,a=0|l[c>>2],0!=(0|a))&&(s=0|l[a+5584>>2],0!=(0|s))){if(a=0|l[n+16>>2]){if((0|l[s+4>>2])>>>0>t>>>0){e=0;do{if(l[h+(0|52*e)+40>>2]=t,(e=0|e+1)>>>0>=a>>>0){e=1;break e}}while((0|l[(0|l[5584+(0|l[c>>2])>>2])+(0|1080*e)+4>>2])>>>0>t>>>0)}_e(i,1,15074,r),e=0}else e=1;}else e=0}while(0);return A=o,0|e}function bt(e,t,i){t|=0,i|=0;var n,o,s,c,h,u,f,d,p,_,m,b,y,g,v,w,x,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0;if(x=A,A=0|A+48,w=0|x+32,v=0|x+24,g=0|x+16,y=0|x+8,b=x,k=0|l[(d=0|204+(e|=0))>>2],p=0|e+116,o=1==(0|(m=0|B(0|l[(_=0|e+112)>>2],0|l[p>>2]))),!m)return A=x,0|(N=1);s=0|e+200,c=0|e+12,h=0|e+164,u=0|e+8,f=0|k+20,n=0|k+24,V=0,P=0,k=0;e:for(;;){if((0|l[s>>2])!=(0|V)){N=5;break}if(z=V,V=0|V+1,U=0|B(0|l[p>>2],0|l[_>>2]),l[y>>2]=V,l[y+4>>2]=U,_e(i,4,15187,y),l[c>>2]=0,U=0|l[d>>2],l[U+12>>2]=l[(0|l[h>>2])+(0|5640*z)+5588>>2],l[u>>2]=0,!(0|ti(U,0|l[s>>2],i)))break;if(I=0|l[d>>2],M=0|l[16+(0|l[I+24>>2])>>2])if(o){E=0|l[20+(0|l[l[f>>2]>>2])>>2],C=0|l[24+(0|l[n>>2])>>2],S=0;do{l[E+(0|52*S)+32>>2]=l[C+(0|52*S)+44>>2],l[E+(0|52*S)+36>>2]=0,S=0|S+1}while(S>>>0<M>>>0)}else{S=0;do{if(!(0|ei(0|(0|l[20+(0|l[l[f>>2]>>2])>>2])+(0|52*S)))){N=14;break e}S=0|S+1,I=0|l[d>>2]}while(S>>>0<(0|l[16+(0|l[I+24>>2])>>2])>>>0)}if(U=0|ai(I),o)I=P;else{if(U>>>0>k>>>0){if(!(k=0|He(P,U))){N=20;break}I=k,k=U}else I=P;if(S=0|l[d>>2],E=0|l[(z=0|S+24)>>2],0|l[E+16>>2]){Z=0|S+20,S=I,L=0;do{R=0|l[20+(0|l[l[Z>>2]>>2])>>2],T=0|l[E+24>>2],H=0|((H=0|l[T+(0|52*L)+24>>2])>>>3)+(1&0!=(0|7&H)),O=0|(M=0|l[R+(0|52*L)+8>>2])-(P=0|l[R+(0|52*L)>>2]),F=0|(D=0|l[R+(0|52*L)+12>>2])-(R=0|l[R+(0|52*L)+4>>2]),j=0|l[E>>2],W=0|l[T+(0|52*L)>>2],C=0|l[T+(0|52*L)+4>>2],G=0|(0|W+~j+(0|l[E+8>>2]))/(0|W),C=0|P-(0|(0|j+-1+W)/(0|W))+(0|B(G,0|R-(0|(0|(0|l[E+4>>2])-1+C)/(0|C)))),C=0|(0|l[T+(0|52*L)+44>>2])+(C<<2);t:do{switch(0|1073741823&(3==(0|H)?4:H)){case 1:if(E=0==(0|O)|0==(0|F),0|l[T+(0|52*L)+32>>2]){if(E)break t;for(R=0|D+-1-R,D=S,E=C,C=0;;){for(M=0,P=D,T=E;r[P>>0]=l[T>>2],(0|(M=0|M+1))!=(0|O);){P=0|P+1,T=0|T+4}if((0|(C=0|C+1))==(0|F))break;D=0|D+O,E=0|E+(G<<2)}S=0|S+(O+(0|B(R,O)));break t}if(E)break t;for(R=0|D+-1-R,T=0,D=S;;){for(E=0,M=D,P=C;r[M>>0]=l[P>>2],(0|(E=0|E+1))!=(0|O);){M=0|M+1,P=0|P+4}if((0|(T=0|T+1))==(0|F))break;D=0|D+O,C=0|C+(G<<2)}S=0|S+(O+(0|B(R,O)));break t;case 2:if(E=0==(0|O)|0==(0|F),0|l[T+(0|52*L)+32>>2]){if(E)break t;for(R=0|(T=M-P<<1)+(0|B(0|D+-1-R,T)),T=S,D=0;;){for(E=T,M=0,P=C;a[E>>1]=l[P>>2],(0|(M=0|M+1))!=(0|O);){E=0|E+2,P=0|P+4}if((0|(D=0|D+1))==(0|F))break;T=0|T+(O<<1),C=0|C+(G<<2)}S=0|S+R;break t}if(E)break t;for(R=0|(T=M-P<<1)+(0|B(0|D+-1-R,T)),T=S,D=0;;){for(E=0,M=T,P=C;a[M>>1]=l[P>>2],(0|(E=0|E+1))!=(0|O);){M=0|M+2,P=0|P+4}if((0|(D=0|D+1))==(0|F))break;T=0|T+(O<<1),C=0|C+(G<<2)}S=0|S+R;break t;case 4:if(!(0==(0|O)|0==(0|F))){for(R=0|(T=M-P<<2)+(0|B(0|D+-1-R,T)),T=S,D=0;;){for(E=T,M=0,P=C;l[E>>2]=l[P>>2],(0|(M=0|M+1))!=(0|O);){E=0|E+4,P=0|P+4}if((0|(D=0|D+1))==(0|F))break;T=0|T+(O<<2),C=0|C+(G<<2)}S=0|S+R}}}while(0);L=0|L+1,E=0|l[z>>2]}while(L>>>0<(0|l[E+16>>2])>>>0);S=0|l[d>>2]}if(!(0|si(S,I,U))){N=61;break}}if(!(0|yt(e,t,i))){N=63;break}if(V>>>0>=m>>>0){N=65;break}P=I}if(5==(0|N))_e(i,1,15150,b);else{if(14==(0|N))return _e(i,1,15208,g),P?(We(P),A=x,0|(j=0)):(A=x,0|(j=0));if(20==(0|N))return 0|P&&We(P),_e(i,1,15246,v),A=x,0|(j=0);if(61==(0|N))return _e(i,1,15285,w),We(I),A=x,0|(j=0);if(63==(0|N))return I?(We(I),A=x,0|(j=0)):(A=x,0|(j=0));if(65==(0|N))return I?(We(I),A=x,0|(j=1)):(A=x,0|(j=1))}return P?(We(P),A=x,0|(j=0)):(A=x,0|(j=0))}function yt(e,t,i){t|=0,i|=0;var n,r,o,s,c,h,u,f,d,p,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0,R=0;if(p=A,A=0|A+32,u=0|p+16,B=0|p+8,v=p,h=0|p+20,d=0|l[40+(e|=0)>>2],x=0|l[(D=0|e+36)>>2],g=0|l[(k=0|e+204)>>2],l[g+16>>2]=0,l[(o=0|e+8)>>2]=0,ie(x,65424,2),ie(0|x+2,10,2),ie(0|x+4,0|l[(f=0|e+200)>>2],2),ie(0|x+10,0|l[(s=0|e+12)>>2],1),ie(0|x+11,0|l[(0|l[(c=0|e+164)>>2])+(0|5640*(0|l[f>>2]))+5588>>2],1),l[h>>2]=12,m=0|x+12,_=0|d+-12,4<=(65535&(0|a[(w=0|e+88)>>1])-3)&&(b=0|l[c>>2],y=0|l[f>>2],0!=(0|l[b+(0|5640*y)+420>>2]))?(l[h>>2]=0,gt(0|l[16+(0|l[e+80>>2])>>2],b,y,m,h),b=0|12+(T=0|l[h>>2]),m=0|m+T,_=0|_-T):b=12,l[h>>2]=0,ie(m,65427,2),l[g+4>>2]=l[o>>2],l[g+8>>2]=l[s>>2],0|l[s>>2]||(l[840+(0|l[l[g+20>>2]>>2])>>2]=0),l[h>>2]=0,!(0|ni(g,0|l[f>>2],0|m+2,h,0|_+-4,0)))return _e(i,1,15332,v),A=p,0|(D=0);_=0|2+(0|l[h>>2]),l[h>>2]=_,ie(0|x+6,_=0|_+b,4),4>(65535&(0|a[w>>1])-3)&&(ie(0|l[(T=0|e+28)>>2],0|l[f>>2],1),P=0|1+(0|l[T>>2]),l[T>>2]=P,ie(P,_,4),l[T>>2]=4+(0|l[T>>2])),b=0|x+_,T=0|d-_,n=0|l[k>>2],r=0|e+88,E=0|l[c>>2],w=0|vt(r,0,C=0|l[f>>2]),P=0|e+8,l[s>>2]=1+(0|l[s>>2]);e:{if(1<w>>>0){for(x=0|n+4,k=0|n+8,I=0|n+20,S=0|e+28,g=b,m=T,_=0,v=1;l[P>>2]=v,l[h>>2]=0,ie(g,65424,2),ie(0|g+2,10,2),ie(0|g+4,0|l[f>>2],2),ie(0|g+10,0|l[s>>2],1),ie(0|g+11,0|l[(0|l[c>>2])+(0|5640*(0|l[f>>2]))+5588>>2],1),b=0|g+12,l[h>>2]=0,ie(b,65427,2),l[x>>2]=l[o>>2],l[k>>2]=l[s>>2],0|l[s>>2]||(l[840+(0|l[l[I>>2]>>2])>>2]=0),l[h>>2]=0,0|ni(n,0|l[f>>2],0|g+14,h,0|m+-16,0);){if(R=0|2+(y=0|l[h>>2]),l[h>>2]=R,b=0|b+R,_=0|_+12+R,m=0|m+-12+(-2-y),ie(0|g+6,y=0|y+14,4),4>(65535&(0|a[r>>1])-3)&&(ie(0|l[S>>2],0|l[f>>2],1),R=0|1+(0|l[S>>2]),l[S>>2]=R,ie(R,y,4),l[S>>2]=4+(0|l[S>>2])),l[s>>2]=1+(0|l[s>>2]),(v=0|v+1)>>>0>=w>>>0){M=12;break e}g=b}_e(i,1,15332,B)}else m=T,_=0,M=12}e:do{if(12==(0|M)){I=0|E+(0|5640*C)+420;t:do{if(0|l[I>>2]){S=0|n+16,E=0|n+4,C=0|n+8,B=0|n+20,k=0|e+28,x=1;i:for(;;){if(l[S>>2]=x,w=0|vt(r,x,0|l[f>>2]))for(v=0;;){if(l[P>>2]=v,l[h>>2]=0,ie(b,65424,2),ie(0|b+2,10,2),ie(0|b+4,0|l[f>>2],2),ie(0|b+10,0|l[s>>2],1),ie(0|b+11,0|l[(0|l[c>>2])+(0|5640*(0|l[f>>2]))+5588>>2],1),y=0|b+12,l[h>>2]=0,ie(y,65427,2),l[E>>2]=l[o>>2],l[C>>2]=l[s>>2],0|l[s>>2]||(l[840+(0|l[l[B>>2]>>2])>>2]=0),l[h>>2]=0,!(0|ni(n,0|l[f>>2],0|b+14,h,0|m+-16,0)))break i;if(g=0|2+(R=0|l[h>>2]),l[h>>2]=g,_=0|_+12+g,g=0|y+g,m=0|m+-12+(-2-R),ie(0|b+6,y=0|R+14,4),4>(65535&(0|a[r>>1])-3)&&(ie(0|l[k>>2],0|l[f>>2],1),R=0|1+(0|l[k>>2]),l[k>>2]=R,ie(R,y,4),l[k>>2]=4+(0|l[k>>2])),l[s>>2]=1+(0|l[s>>2]),(v=0|v+1)>>>0>=w>>>0){b=g;break}b=g}if((x=0|x+1)>>>0>(0|l[I>>2])>>>0)break t}_e(i,1,15332,u);break e}}while(0);return R=0|_-T+d,(0|ce(t,0|l[D>>2],R,i))!=(0|R)?(A=p,0|(R=0)):(l[f>>2]=1+(0|l[f>>2]),A=p,0|(R=1))}}while(0);return A=p,0|(R=0)}function gt(e,t,i,n,r){e|=0,n|=0,r|=0;var o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0;if(h=0|l[(t|=0)+(0|5640*(i|=0))+5584>>2],c=0|1+(0|l[t+(0|5640*i)+420>>2]),s=0|4+(u=0|B(c,0|5+((a=257>e>>>0?1:2)<<1))),ie(n,65375,2),ie(0|n+2,0|u+2,2),c){for(u=0|t+(0|5640*i)+8,o=0|h+4,t=0|t+(0|5640*i)+424,i=0,h=0|n+4;ie(h,0|l[t>>2],1),ie(h=0|h+1,0|l[t+4>>2],a),ie(h=0|h+a,0|l[(p=0|t+8)>>2],2),ie(h=0|h+2,0|l[(f=0|t+12)>>2],1),ie(h=0|h+1,0|l[(n=0|t+16)>>2],a),ie(h=0|h+a,0|l[t+36>>2],1),_=0|l[p>>2],d=0|l[u>>2],l[p>>2]=(0|_)<(0|d)?_:d,p=0|l[f>>2],d=0|l[o>>2],l[f>>2]=(0|p)<(0|d)?p:d,f=0|l[n>>2],l[n>>2]=(0|f)<(0|e)?f:e,(0|(i=0|i+1))!=(0|c);){t=0|t+148,h=0|h+1}l[r>>2]=s}else l[r>>2]=s}function vt(e,t,i){t|=0,i|=0;var n,o,a=0,s=0,c=0,u=0,f=0,d=0;for(c=0|l[76+(e|=0)>>2],a=0|l[c+(0|5640*i)+4>>2],u=696;!(-1==(0|(f=0|l[u>>2]))|(0|f)==(0|a));){u=0|u+12}if(!(8&r[e+93>>0]))return 0|(e=1);switch(f=0|h[e+92>>0],s=0|c+(0|5640*i)+424+(0|148*t)+92,n=0|c+(0|5640*i)+424+(0|148*t)+88,o=0|c+(0|5640*i)+424+(0|148*t)+96,c=0|c+(0|5640*i)+424+(0|148*t)+84,0|(t=0|r[u+4>>0])){case 67:a=s,d=8;break;case 82:a=n,d=8;break;case 80:a=o,d=8;break;case 76:a=c,d=8;break;default:a=1;}if(8==(0|d)&&(a=0|l[a>>2]),(0|f)!=(0|t)){switch(0|(i=0|r[u+5>>0])){case 67:t=s,d=16;break;case 82:t=n,d=16;break;case 80:t=o,d=16;break;case 76:t=c,d=16;}if(16==(0|d)&&(a=0|B(0|l[t>>2],a)),(0|f)!=(0|i)){switch(0|(i=0|r[u+6>>0])){case 67:t=s,d=22;break;case 82:t=n,d=22;break;case 80:t=o,d=22;break;case 76:t=c,d=22;}if(22==(0|d)&&(a=0|B(0|l[t>>2],a)),(0|f)!=(0|i)){switch(0|(t=0|r[u+7>>0])){case 67:d=28;break;case 82:s=n,d=28;break;case 80:s=o,d=28;break;case 76:s=c,d=28;}if(28==(0|d)&&(a=0|B(0|l[s>>2],a)),(0|f)!=(0|t))return 0|(e=a);s=3}else s=2}else s=1}else s=0;return l[e+84>>2]=s,0|(e=a)}function At(e,t,i){t|=0,i|=0;var n,r=0,o=0,s=0,c=0;if(!(0|bi(0|l[(r=0|188+(e|=0))>>2],30,i)))return 0|(c=0);if(4>(65535&(0|a[e+88>>1])-3)&&0==(0|bi(0|l[r>>2],31,i)))return 0|(c=0);if(!(0|bi(0|l[r>>2],32,i)))return 0|(c=0);if(!(0|bi(0|l[r>>2],33,i)))return 0|(c=0);if(!(0|bi(0|l[r>>2],34,i)))return 0|(c=0);if(n=0|yi(c=0|l[r>>2]),r=0|gi(c),n)for(o=r,r=1,s=0;r=r?0!=(0|Jr[63&l[o>>2]](e,t,i)):0,r&=1,(0|(s=0|s+1))!=(0|n);){o=0|o+4}else r=1;return vi(c),0|(c=r)}function wt(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o,s=0,c=0,h=0,u=0;if(o=A,A=0|A+16,s=0|ge(),l[(r=0|e+80)>>2]=s,!s)return _e(n,1,15352,o),A=o,0|(n=0);if(ve(i,s),0|(h=0|l[i+24>>2])&&0|(u=0|l[i+16>>2])){s=0;do{0|(c=0|l[(i=0|h+(0|52*s)+44)>>2])&&(l[(0|l[24+(0|l[r>>2])>>2])+(0|52*s)+44>>2]=c,l[i>>2]=0),s=0|s+1}while(s>>>0<u>>>0)}if(!(0|bi(0|l[(s=0|e+192)>>2],35,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],36,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],37,n)))return A=o,0|(n=0);if(u=0|yi(h=0|l[s>>2]),s=0|gi(h),u){for(i=1,c=0;i=i?0!=(0|Jr[63&l[s>>2]](e,t,n)):0,(0|(c=0|c+1))!=(0|u);){s=0|s+4,i&=1}if(vi(h),!i)return A=o,0|(n=0)}else vi(h);if(!(0|bi(0|l[(s=0|e+188)>>2],38,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],39,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],40,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],41,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],42,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],43,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],44,n)))return A=o,0|(n=0);if(4>(65535&(0|a[(i=0|e+88)>>1])-3)){if(!(0|bi(0|l[s>>2],45,n)))return A=o,0|(n=0);if(4==(0|a[i>>1])&&0==(0|bi(0|l[s>>2],46,n)))return A=o,0|(n=0)}if(!(0|bi(0|l[s>>2],47,n)))return A=o,0|(n=0);if(0|l[e+108>>2]&&0==(0|bi(0|l[s>>2],48,n)))return A=o,0|(n=0);if(256&a[i>>1]&&0==(0|bi(0|l[s>>2],49,n)))return A=o,0|(n=0);if(0|l[e+196>>2]&&0==(0|bi(0|l[s>>2],50,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],51,n)))return A=o,0|(n=0);if(!(0|bi(0|l[s>>2],52,n)))return A=o,0|(n=0);if(h=0|yi(u=0|l[s>>2]),s=0|gi(u),h)for(i=s,s=1,c=0;s=s?0!=(0|Jr[63&l[i>>2]](e,t,n)):0,s&=1,(0|(c=0|c+1))!=(0|h);){i=0|i+4}else s=1;return vi(u),A=o,0|(n=s)}function xt(e,t,i,n,r,o){i|=0,n|=0,r|=0,o|=0;var a,s,c,h,u=0,f=0;h=A,A=0|A+16,s=0|h+8,a=h,c=0|l[(e|=0)+(0|5640*(t|=0))+5584>>2],t=0|l[c+(0|1080*i)+24>>2];do{if(1!=(0|t)){if(u=0|(e=0|3*(0|l[c+(0|1080*i)+4>>2]))-2,t)f=7;else{if(e=0|e+-1,(0|l[r>>2])>>>0<e>>>0)return _e(o,1,15741,a),A=h,0|(r=0);if(ie(n,l[c+(0|1080*i)+804>>2]<<5,1),!u)break;t=0;do{ie(n=0|n+1,l[c+(0|1080*i)+28+(t<<3)>>2]<<3,1),t=0|t+1}while((0|t)!=(0|u))}}else u=1,t=1,f=7}while(0);if(7==(0|f)){if(e=1|u<<1,(0|l[r>>2])>>>0<e>>>0)return _e(o,1,15741,s),A=h,0|(r=0);if(ie(n,0|(l[c+(0|1080*i)+804>>2]<<5)+t,1),u)for(n=0|n+1,t=0;ie(n,0|(l[c+(0|1080*i)+28+(t<<3)>>2]<<11)+(0|l[c+(0|1080*i)+28+(t<<3)+4>>2]),2),(0|(t=0|t+1))!=(0|u);){n=0|n+2}}return l[r>>2]=(0|l[r>>2])-e,A=h,0|(r=1)}function kt(e,t,i,n,r){var o,a,s;if(i|=0,n|=0,r|=0,s=A,A=0|A+16,o=0|l[(e|=0)+(0|5640*(t|=0))+5584>>2],5>(0|l[n>>2])>>>0)return _e(r,1,15813,s),A=s,0|(n=0);if(ie(i,0|(0|l[(a=0|o+4)>>2])-1,1),ie(0|i+1,0|(0|l[o+8>>2])-2,1),ie(0|i+2,0|(0|l[o+12>>2])-2,1),ie(0|i+3,0|l[o+16>>2],1),ie(0|i+4,0|l[o+20>>2],1),e=0|(0|l[n>>2])-5,l[n>>2]=e,!(1&l[o>>2]))return A=s,0|(n=1);if(e>>>0<(t=0|l[a>>2])>>>0)return _e(r,1,15813,0|s+8),A=s,0|(n=0);if(t){for(e=0|i+5,i=0;ie(e,0|(l[o+944+(i<<2)>>2]<<4)+(0|l[o+812+(i<<2)>>2]),1),!((i=0|i+1)>>>0>=(t=0|l[a>>2])>>>0);){e=0|e+1}e=0|l[n>>2]}else t=0;return l[n>>2]=e-t,A=s,0|(n=1)}function It(e,t,i,n,r,o){t|=0,i|=0,n|=0,r|=0,o|=0;var a,s,c,h,u=0,f=0,d=0,p=0;if(h=A,A=0|A+48,c=0|h+40,p=0|h+32,s=0|h+24,a=0|h+16,u=0|h+8,(0|l[(f=0|200+(e|=0))>>2])!=(0|t))return _e(o,1,15150,h),l[a>>2]=t,_e(o,1,16086,a),A=h,0;if(d=0|B(0|l[e+116>>2],0|l[e+112>>2]),l[u>>2]=t+1,l[u+4>>2]=d,_e(o,4,15187,u),l[e+12>>2]=0,u=0|l[(d=0|e+204)>>2],l[u+12>>2]=l[(0|l[e+164>>2])+(0|5640*t)+5588>>2],l[e+8>>2]=0,!(0|ti(u,0|l[f>>2],o)))return l[a>>2]=t,_e(o,1,16086,a),A=h,0;u=0|l[d>>2];e:do{if(0|l[16+(0|l[u+24>>2])>>2]){for(f=0;0|ei(0|(0|l[20+(0|l[l[u+20>>2]>>2])>>2])+(0|52*f));){if(f=0|f+1,u=0|l[d>>2],f>>>0>=(0|l[16+(0|l[u+24>>2])>>2])>>>0)break e}return _e(o,1,15208,s),A=h,0|(p=0)}}while(0);return 0|si(u,i,n)?0|yt(e,r,o)?(A=h,0|(p=1)):(l[c>>2]=t,_e(o,1,16143,c),A=h,0|(p=0)):(_e(o,1,15285,p),A=h,0|(p=0))}function St(e,t,i){e|=0,i|=0;var n,o,s,c,u,d,p,_,m,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0;m=A,A=0|A+80,E=0|m+72,_=0|m+64,p=0|m+56,d=0|m+48,u=0|m+40,c=0|m+32,s=0|m+24,S=0|m+16,x=0|m+8,w=m,b=0|l[8+(t|=0)>>2];e:{if(b){I=0|l[b>>2],k=0|a[b+4>>1],y=0|l[e+16>>2],0!=(0|(b=0|l[t+12>>2]))&&0!=(0|l[b+12>>2])&&(y=0|h[b+18>>0]);t:do{if(k<<16>>16){v=0;i:for(;;){if(y>>>0<=(g=0|f[I+(0|6*(t=65535&v))>>1])>>>0){v=14;break}switch((t=0|a[I+(0|6*t)+4>>1])<<16>>16){case 0:case-1:break;default:if((t=0|(65535&t)-1)>>>0>=y>>>0){v=17;break i}}if((65535&(v=v+1<<16>>16))>=(65535&k)){v=8;break}}if(8==(0|v))for(;;){y=0|y+-1,t=0;do{if((0|y)==(0|f[I+(0|6*(65535&t))>>1]))break;t=t+1<<16>>16}while((65535&t)<(65535&k));if(t<<16>>16==k<<16>>16)break t;if(!y)break e;v=8}else{if(14==(0|v))return l[w>>2]=g,l[w+4>>2]=y,_e(i,1,16331,w),A=m,0|(E=0);if(17==(0|v))return l[x>>2]=t,l[x+4>>2]=y,_e(i,1,16331,x),A=m,0|(E=0)}}else if(!y)break e}while(0);return _e(i,1,16368,S),A=m,0|(E=0)}b=0|l[t+12>>2]}if(!b)return A=m,0|(E=1);if(!(o=0|l[b+12>>2]))return A=m,0|(E=1);if(n=255&(k=0|r[b+18>>0]),S=0==k<<24>>24)b=1;else{v=0|e+16,b=1,g=0,t=0;do{t=0|f[o+(t<<2)>>1],(y=0|l[v>>2])>>>0<=t>>>0&&(l[s>>2]=t,l[s+4>>2]=y,_e(i,1,16331,s),b=0),t=65535&(g=g+1<<16>>16)}while(t>>>0<n>>>0)}if(!(I=0|Ue(n,4)))return _e(i,1,16401,c),A=m,0|(E=0);if(!S){w=0,x=0;do{g=255&(y=0|r[o+(x<<2)+3>>0]);do{if((255&y)<(255&k)){if(v=0|I+(g<<2),t=0|r[o+(x<<2)+2>>0],0!=(0|l[v>>2])&1==t<<24>>24){l[d>>2]=g,_e(i,1,16474,d),b=0;break}if(0!=t<<24>>24|0==y<<24>>24){l[v>>2]=1;break}l[p>>2]=x,l[p+4>>2]=g,_e(i,1,16505,p),b=0;break}l[u>>2]=g,_e(i,1,16418,u),b=0}while(0);x=65535&(w=w+1<<16>>16)}while(x>>>0<n>>>0);if(!S){y=0,t=0;do{0==(0|l[I+(t<<2)>>2])&&0!=(0|r[o+(t<<2)+2>>0])&&(l[_>>2]=t,_e(i,1,16541,_),b=0),t=65535&(y=y+1<<16>>16)}while(t>>>0<n>>>0)}}if(!b)return We(I),A=m,0|(E=0);e:do{if(!(1!=(0|l[e+16>>2])|S)){for(t=0,b=0;t=t+1<<16>>16,0|l[I+(b<<2)>>2];){if((b=65535&t)>>>0>=n>>>0)break e}l[E>>2]=b,_e(i,2,16579,E),b=0,t=0;do{r[o+(t<<2)+2>>0]=1,r[o+(t<<2)+3>>0]=b,t=65535&(b=b+1<<16>>16)}while(t>>>0<n>>>0)}}while(0);return We(I),A=m,0|(E=1)}function Et(e,t){e|=0;var i,n,o,s,c,u,d,p,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0;if(t=0|l[(p=0|12+(t|=0))>>2],v=0|l[t+8>>2],A=0|l[t+4>>2],o=0|l[t>>2],n=0|l[t+12>>2],t=0|r[t+18>>0],c=0|l[(s=0|e+24)>>2],d=0|ze(0|52*(u=255&t))){if(!(i=0==t<<24>>24)){y=0,g=0;do{if(t=0|a[n+(g<<2)>>1],0|r[n+(g<<2)+2>>0]){m=0|c+(0|52*(t&=65535)),b=0|52+(_=0|d+(0|52*(0|h[n+(g<<2)+3>>0])));do{l[_>>2]=l[m>>2],_=0|_+4,m=0|m+4}while((0|_)<(0|b))}else{m=0|c+(0|52*(t&=65535)),b=0|52+(_=0|d+(0|52*g));do{l[_>>2]=l[m>>2],_=0|_+4,m=0|m+4}while((0|_)<(0|b))}if(b=0|ze(0|B(l[c+(0|52*t)+8>>2]<<2,0|l[c+(0|52*t)+12>>2])),l[d+(0|52*g)+44>>2]=b,!b){w=7;break}l[d+(0|52*g)+24>>2]=h[v+g>>0],l[d+(0|52*g)+32>>2]=h[A+g>>0],g=65535&(y=y+1<<16>>16)}while(g>>>0<u>>>0);if(7==(0|w))return void We(d);if(A=0|(v=0|f[16+(0|l[p>>2])>>1])-1,!i){b=0,t=0;do{if(y=0|l[c+(0|52*(0|f[n+(t<<2)>>1]))+44>>2],m=0|h[n+(t<<2)+3>>0],g=0|B(0|l[d+(0|52*m)+12>>2],0|l[d+(0|52*m)+8>>2]),0|r[n+(t<<2)+2>>0]){if(_=0|l[d+(0|52*m)+44>>2],0|g){t=0;do{w=0|l[y+(t<<2)>>2],w=0|o+((0|B(0>(0|w)?0:(0|w)<(0|v)?w:A,u))+m<<2),l[_+(t<<2)>>2]=l[w>>2],t=0|t+1}while((0|t)!=(0|g))}}else if(_=0|l[d+(0|52*t)+44>>2],0|g){t=0;do{l[_+(t<<2)>>2]=l[y+(t<<2)>>2],t=0|t+1}while((0|t)!=(0|g))}t=65535&(b=b+1<<16>>16)}while(t>>>0<u>>>0)}}if(0|(b=0|l[(m=0|e+16)>>2])){_=0,t=0;do{0|(t=0|l[c+(0|52*t)+44>>2])&&We(t),t=65535&(_=_+1<<16>>16)}while(b>>>0>t>>>0)}We(c),l[s>>2]=d,l[m>>2]=u,We(0|l[4+(0|l[p>>2])>>2]),We(0|l[8+(0|l[p>>2])>>2]),We(0|l[l[p>>2]>>2]),t=0|l[p>>2],(_=0|l[t+12>>2])&&(We(_),t=0|l[p>>2]),We(t),l[p>>2]=0}}function Ct(e,t,i){e|=0,i|=0;var n,r,o,s,c,h,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0;if(h=A,A=0|A+80,s=0|h+8,o=h,r=0|h+16,u=0|l[(c=0|8+(t|=0))>>2],t=0|l[u>>2],(n=0|a[u+4>>1])<<16>>16){for(S=0|e+16,y=0|e+24,I=65535&n,x=1,k=0;;){v=65535&(g=0|a[t+(0|6*k)>>1]),e=0|l[S>>2];e:do{if(e>>>0>v>>>0){switch((u=0|a[t+(0|6*k)+4>>1])<<16>>16){case-1:case 0:a[(0|l[y>>2])+(0|52*v)+48>>1]=0|a[t+(0|6*k)+2>>1];break e;}if(w=65535&65535+(65535&u),e>>>0<=(_=65535&(b=u+-1<<16>>16))>>>0){l[s>>2]=_,l[s+4>>2]=e,_e(i,2,16290,s);break}if(m=0|t+(0|6*k)+2,g<<16>>16!=b<<16>>16&&0==(0|a[m>>1])){d=e=0|(u=0|l[y>>2])+(0|52*v),p=0|(f=r)+52;do{l[f>>2]=l[d>>2],f=0|f+4,d=0|d+4}while((0|f)<(0|p));d=0|u+(0|52*_),p=0|(f=e)+52;do{l[f>>2]=l[d>>2],f=0|f+4,d=0|d+4}while((0|f)<(0|p));d=r,p=0|52+(f=0|(0|l[y>>2])+(0|52*_));do{l[f>>2]=l[d>>2],f=0|f+4,d=0|d+4}while((0|f)<(0|p));if((65535&n)>(65535&k+1)){f=x;do{(u=0|a[(e=0|t+(0|6*f))>>1])<<16>>16!=g<<16>>16?u<<16>>16==b<<16>>16&&(u=g,E=14):(u=w,E=14),14==(0|E)&&(E=0,a[e>>1]=u),f=0|f+1}while(n<<16>>16!=(65535&f)<<16>>16)}}a[(0|l[y>>2])+(0|52*v)+48>>1]=0|a[m>>1]}else l[o>>2]=v,l[o+4>>2]=e,_e(i,2,16250,o)}while(0);if((0|(k=0|k+1))==(0|I))break;x=0|x+1}u=t=0|l[c>>2],t=0|l[t>>2]}return t?(We(t),We(E=0|l[c>>2]),l[c>>2]=0,void(A=h)):(We(E=u),l[c>>2]=0,void(A=h))}function Bt(e){var t=0,i=0,n=0;(e|=0)&&(Xe(0|l[e>>2]),l[e>>2]=0,0|(i=0|l[(t=0|e+72)>>2])&&(We(i),l[t>>2]=0),0|(i=0|l[(t=0|e+68)>>2])&&(We(i),l[t>>2]=0),0|(t=0|l[(i=0|e+108)>>2])&&(We(t),l[i>>2]=0),0|(t=0|l[(n=0|e+116)>>2])&&((i=0|l[t>>2])&&(We(i),t=0|l[n>>2],l[t>>2]=0),We(t),l[n>>2]=0),0|(t=0|l[(n=0|e+120)>>2])&&((i=0|l[t+12>>2])&&(We(i),t=0|l[n>>2],l[t+12>>2]=0),(i=0|l[t+4>>2])&&(We(i),t=0|l[n>>2],l[t+4>>2]=0),(i=0|l[t+8>>2])&&(We(i),t=0|l[n>>2],l[t+8>>2]=0),(i=0|l[t>>2])&&(We(i),t=0|l[n>>2],l[t>>2]=0),We(t),l[n>>2]=0),0|(i=0|l[(t=0|e+4)>>2])&&(mi(i),l[t>>2]=0),0|(i=0|l[(t=0|e+8)>>2])&&(mi(i),l[t>>2]=0),We(e))}function Mt(e){e|=0;var t=0;return(t=0|Ue(1,136))?(e=e?0|at():0|Ye(),l[t>>2]=e,e?(l[(e=0|t+108)>>2]=0,l[e+4>>2]=0,l[e+8>>2]=0,l[e+12>>2]=0,r[e+16>>0]=0,e=0|_i(),l[t+4>>2]=e,e?(e=0|_i(),l[t+8>>2]=e,0|e?0|t:(Bt(t),0|(t=0))):(Bt(t),0|(t=0))):(Bt(t),0|(t=0))):0|t}function Pt(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,c=0,h=0,u=0;if(n|=0){r=0;do{s=0|l[(u=0|e+(r<<2))>>2],a=0|l[(c=0|t+(r<<2))>>2],h=0|l[(o=0|i+(r<<2))>>2],l[u>>2]=(a<<1)+s+h>>2,l[c>>2]=h-a,l[o>>2]=s-a,r=0|r+1}while((0|r)!=(0|n))}}function Tt(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,c=0,h=0,u=0;if(n|=0){r=0;do{h=0|e+(r<<2),a=0|l[(c=0|t+(r<<2))>>2],u=0|l[(o=0|i+(r<<2))>>2],s=0|(0|l[h>>2])-(u+a>>2),l[h>>2]=s+u,l[c>>2]=s,l[o>>2]=s+a,r=0|r+1}while((0|r)!=(0|n))}}function Dt(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0;if(n|=0){r=0;do{v=0|l[(p=0|e+(r<<2))>>2],g=0|l[(h=0|t+(r<<2))>>2],y=0|l[(o=0|i+(r<<2))>>2],m=0|Sr(0|(m=0|gr(0|(m=0|yr(0|v,0|(c=(0>(0|v))<<31>>31),2449,0)),0|k,4096,0)),0|k,13),b=0|Sr(0|(b=0|gr(0|(b=0|yr(0|g,0|(s=(0>(0|g))<<31>>31),4809,0)),0|k,4096,0)),0|k,13),_=0|Sr(0|(_=0|gr(0|(_=0|yr(0|y,0|(a=(0>(0|y))<<31>>31),934,0)),0|k,4096,0)),0|k,13),u=0|Sr(0|(u=0|gr(0|(u=0|yr(0|v,0|c,1382,0)),0|k,4096,0)),0|k,13),f=0|Sr(0|(f=0|gr(0|(f=0|yr(0|g,0|s,2714,0)),0|k,4096,0)),0|k,13),d=0|Sr(0|(d=0|gr(0|(d=0|Er(0|y,0|a,12)),0|k,4096,0)),0|k,13),c=0|Sr(0|(c=0|gr(0|(c=0|Er(0|v,0|c,12)),0|k,4096,0)),0|k,13),s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|g,0|s,3430,0)),0|k,4096,0)),0|k,13),a=0|Sr(0|(a=0|gr(0|(a=0|yr(0|y,0|a,666,0)),0|k,4096,0)),0|k,13),l[p>>2]=b+m+_,l[h>>2]=d-(f+u),l[o>>2]=c-s-a,r=0|r+1}while((0|r)!=(0|n))}}function Rt(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,l=0,c=0,h=0;if(n|=0){r=0;do{s=+_[(h=0|e+(r<<2))>>2],a=+_[(l=0|t+(r<<2))>>2],c=+_[(o=0|i+(r<<2))>>2],_[h>>2]=s+1.4019999504089355*c,_[l>>2]=s-.3441300094127655*a-.714139997959137*c,_[o>>2]=s+1.7719999551773071*a,r=0|r+1}while((0|r)!=(0|n))}}function Gt(e,t,i,n,r){e|=0,t|=0,i|=0,r|=0;var o,a,s=0,c=0,h=0,u=0,f=0,d=0,p=0,m=0;if(!(a=0|ze((s=0|B(n|=0,n))+n<<2)))return 0|(t=0);if(o=0|a+(n<<2),0|s)for(r=e,e=0;l[o+(e<<2)>>2]=~~(8192*+_[r>>2]),(0|(e=0|e+1))!=(0|s);){r=0|r+4}e:do{if(0|t){if(n)d=0;else for(r=0;;){if((0|(r=0|r+1))==(0|t))break e}do{r=0;do{l[a+(r<<2)>>2]=l[l[i+(r<<2)>>2]>>2],r=0|r+1}while((0|r)!=(0|n));for(e=o,s=0;;){for(u=0|l[(h=0|i+(s<<2))>>2],l[u>>2]=0,r=0,c=e,f=0;p=0|l[c>>2],f=0|f+(p=0|Sr(0|(p=0|gr(0|(p=0|yr(0|(m=0|l[a+(r<<2)>>2]),0|(0>(0|m))<<31>>31,0|p,0|(0>(0|p))<<31>>31)),0|k,4096,0)),0|k,13)),l[u>>2]=f,(0|(r=0|r+1))!=(0|n);){c=0|c+4}if(l[h>>2]=u+4,(0|(s=0|s+1))==(0|n))break;e=0|e+(n<<2)}d=0|d+1}while((0|d)!=(0|t))}}while(0);return We(a),0|(m=1)}function Ot(e,t,i,n,r){e|=0,t|=0,i|=0,r|=0;var o,a,s=0,c=0,h=0,u=0,f=0,d=0;if(!(a=0|ze((n|=0)<<3)))return 0|(t=0);o=0|a+(n<<2);e:do{if(0|t){if(n)d=0;else for(r=0;;){if((0|(r=0|r+1))==(0|t))break e}do{r=0;do{l[a+(r<<2)>>2]=l[l[i+(r<<2)>>2]>>2],r=0|r+1}while((0|r)!=(0|n));for(s=e,h=0;;){for(_[(u=0|o+(h<<2))>>2]=0,r=0,c=s,f=0;f+=+_[c>>2]*+_[a+(r<<2)>>2],_[u>>2]=f,(0|(r=0|r+1))!=(0|n);){c=0|c+4}if(u=0|l[(c=0|i+(h<<2))>>2],l[c>>2]=u+4,_[u>>2]=f,(0|(h=0|h+1))==(0|n))break;s=0|s+(n<<2)}d=0|d+1}while((0|d)!=(0|t))}}while(0);return We(a),0|(t=1)}function Ft(e,t,i){e|=0,i|=0;var n=0,r=0,o=0,a=0,s=0,l=0;if(t|=0){o=0;do{for(b[(s=0|e+(o<<3))>>3]=0,n=0,r=o,a=0;a+=(l=+_[i+(r<<2)>>2])*l,(0|(n=0|n+1))!=(0|t);){r=0|r+t}l=+S(+a),b[s>>3]=l,o=0|o+1}while((0|o)!=(0|t))}}function Lt(e,t,i){e|=0,i|=0;var n,o,a,s,c,h,u,f,d,p,_,m,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0;if(m=A,A=0|A+32,S=0|m+28,x=0|m+24,E=0|m+20,n=0|m+16,C=0|m+12,o=0|m+8,k=0|m+4,w=m,_=0|l[(b=0|76+(t|=0))>>2],D=0|1+(0|l[(u=0|_+(0|5640*i)+420)>>2]),!(f=0|ze(0|528*(0|l[(I=0|e+16)>>2]))))return A=m,0|(D=0);if(!(d=0|ze(l[I>>2]<<2)))return We(f),A=m,0|(D=0);if(!(b=0|Zt(e,0|l[b>>2],i)))return We(f),We(d),A=m,0|(D=0);if(0|(v=0|l[I>>2]))for(y=f,g=0;l[d+(g<<2)>>2]=y,!((g=0|g+1)>>>0>=v>>>0);){y=0|y+528}if(zt(e,t,i,E,n,C,o,k,w,x,S,d),p=0|l[x>>2],s=0|B(0|l[I>>2],p),h=0|l[S>>2],a=0|B(h,s),l[(g=0|b+4)>>2]=0,a>>>0<=(0|4294967295/((y=0|1+(0|l[(c=0|_+(0|5640*i)+8)>>2]))>>>0))>>>0&&(T=0|Ue(0|B(y,a),2),l[g>>2]=T,0|T)){if(y=0|l[b+196>>2],T=0|l[e+24>>2],P=0|l[E>>2],l[b+200>>2]=P,M=0|l[C>>2],l[b+204>>2]=M,C=0|l[n>>2],l[b+208>>2]=C,E=0|l[o>>2],l[b+212>>2]=E,l[b+20>>2]=1,l[b+16>>2]=p,l[b+12>>2]=s,l[b+8>>2]=a,0|(I=0|l[b+192>>2]))for(k=T,t=y,w=0;;){if(y=0|l[t+12>>2],g=0|l[d+(w<<2)>>2],l[t>>2]=l[k>>2],l[t+4>>2]=l[k+4>>2],0|(x=0|l[t+8>>2]))for(v=0;l[y>>2]=l[g>>2],l[y+4>>2]=l[g+4>>2],l[y+8>>2]=l[g+8>>2],l[y+12>>2]=l[g+12>>2],!((v=0|v+1)>>>0>=x>>>0);){y=0|y+16,g=0|g+16}if((w=0|w+1)>>>0>=I>>>0)break;k=0|k+52,t=0|t+16}if(1<D>>>0){k=1,S=b;do{if(y=0|l[S+428>>2],l[S+432>>2]=P,l[S+436>>2]=M,l[S+440>>2]=C,l[S+444>>2]=E,l[S+252>>2]=1,l[S+248>>2]=p,l[S+244>>2]=s,l[S+240>>2]=a,0|(e=0|l[S+424>>2]))for(I=T,w=0;;){if(g=0|l[y+12>>2],v=0|l[d+(w<<2)>>2],l[y>>2]=l[I>>2],l[y+4>>2]=l[I+4>>2],0|(x=0|l[y+8>>2]))for(t=0;l[g>>2]=l[v>>2],l[g+4>>2]=l[v+4>>2],l[g+8>>2]=l[v+8>>2],l[g+12>>2]=l[v+12>>2],!((t=0|t+1)>>>0>=x>>>0);){g=0|g+16,v=0|v+16}if((w=0|w+1)>>>0>=e>>>0)break;I=0|I+52,y=0|y+16}l[S+236>>2]=l[S+4>>2],S=0|S+232,k=0|k+1}while((0|k)!=(0|D))}if(We(f),We(d),y=0==(0|(w=0|1+(0|l[u>>2]))),4&r[_+(0|5640*i)+5636>>0]){if(y)return A=m,0|(D=b);for(y=0|_+(0|5640*i)+424,g=b,v=0;l[g+80>>2]=l[y+36>>2],l[g+40>>2]=1,l[g+44>>2]=l[y>>2],l[g+48>>2]=l[y+4>>2],l[g+64>>2]=0,l[g+68>>2]=0,l[g+56>>2]=l[y+12>>2],l[g+60>>2]=l[y+16>>2],l[g+52>>2]=l[y+8>>2],l[g+72>>2]=p,(0|(v=0|v+1))!=(0|w);){y=0|y+148,g=0|g+232}return A=m,0|b}if(y)return A=m,0|(D=b);for(t=0|l[_+(0|5640*i)+4>>2],v=0|l[c>>2],y=0,g=b;l[g+80>>2]=t,l[g+40>>2]=1,l[g+44>>2]=0,l[g+48>>2]=0,l[g+64>>2]=0,l[g+68>>2]=0,l[g+56>>2]=h,l[g+60>>2]=l[g+192>>2],l[g+52>>2]=v,l[g+72>>2]=p,(0|(y=0|y+1))!=(0|w);){g=0|g+232}return A=m,0|b}if(We(f),We(d),0|(y=0|l[g>>2])&&(We(y),l[g>>2]=0),0|D)for(k=b,I=0;;){if(0|(y=0|l[(S=0|k+196)>>2])){if(g=0|l[(x=0|k+192)>>2]){for(w=0;(t=0|l[(v=0|y+12)>>2])&&(We(t),l[v>>2]=0,g=0|l[x>>2]),!((w=0|w+1)>>>0>=g>>>0);){y=0|y+16}y=0|l[S>>2]}We(y),l[S>>2]=0}if((0|(I=0|I+1))==(0|D))break;k=0|k+232}return We(b),A=m,0|(D=0)}function Zt(e,t,i){e|=0;var n,r=0,o=0,a=0,s=0,c=0,h=0,u=0;if(!(n=0|Ue(u=0|1+(0|l[(t|=0)+(0|5640*(i|=0))+420>>2]),232)))return 0|(u=0);if(!u)return 0|(u=n);s=0|t+(0|5640*i)+5584,o=n,a=0,e=0|l[(c=0|e+16)>>2];e:for(;;){if(t=0|Ue(e,16),l[(r=0|o+196)>>2]=t,!t){e=5;break}h=0|l[c>>2],l[o+192>>2]=h;t:do{if(h){if(e=0|4+(0|l[s>>2]),h=0|Ue(0|l[e>>2],16),l[t+12>>2]=h,!h){e=19;break e}for(i=0;;){if(l[t+(i<<4)+8>>2]=l[e>>2],(i=0|i+1)>>>0>=(e=0|l[c>>2])>>>0)break t;if(t=0|l[r>>2],e=0|(0|l[s>>2])+(0|1080*i)+4,h=0|Ue(0|l[e>>2],16),l[t+(i<<4)+12>>2]=h,!h){e=19;break e}}}else e=0}while(0);if((a=0|a+1)>>>0>=u>>>0){e=33;break}o=0|o+232}if(5==(0|e)){for((t=0|l[(e=0|n+4)>>2])?(We(t),l[e>>2]=0,s=n,c=0):(s=n,c=0);;){if(0|(e=0|l[(h=0|s+196)>>2])){if(t=0|l[(a=0|s+192)>>2]){for(o=0;(r=0|l[(i=0|e+12)>>2])&&(We(r),l[i>>2]=0,t=0|l[a>>2]),!((o=0|o+1)>>>0>=t>>>0);){e=0|e+16}e=0|l[h>>2]}We(e),l[h>>2]=0}if((0|(c=0|c+1))==(0|u))break;s=0|s+232}return We(n),0|(u=0)}if(19==(0|e)){for((t=0|l[(e=0|n+4)>>2])?(We(t),l[e>>2]=0,s=n,c=0):(s=n,c=0);;){if(0|(e=0|l[(h=0|s+196)>>2])){if(t=0|l[(a=0|s+192)>>2]){for(o=0;(r=0|l[(i=0|e+12)>>2])&&(We(r),l[i>>2]=0,t=0|l[a>>2]),!((o=0|o+1)>>>0>=t>>>0);){e=0|e+16}e=0|l[h>>2]}We(e),l[h>>2]=0}if((0|(c=0|c+1))==(0|u))break;s=0|s+232}return We(n),0|(u=0)}return 33==(0|e)?0|n:0}function zt(e,t,i,n,r,o,a,s,c,h,u,f){e|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0,h|=0,u|=0,f|=0;var d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0;if(d=0|l[(0|l[76+(t|=0)>>2])+(0|5640*i)+5584>>2],p=0|l[e+24>>2],C=0|l[t+24>>2],E=0|(0|B(0|l[(M=0|t+12)>>2],0|(i>>>0)%(C>>>0)))+(0|l[t+4>>2]),S=0|l[e>>2],l[n>>2]=E>>>0>S>>>0?E:S,E=0|gr(0|l[M>>2],0,0|E,0),E|=0-k,M=0|l[e+8>>2],l[r>>2]=E>>>0<M>>>0?E:M,C=0|(0|B(0|l[(M=0|t+16)>>2],0|(i>>>0)/(C>>>0)))+(0|l[t+8>>2]),E=0|l[e+4>>2],l[o>>2]=C>>>0>E>>>0?C:E,C=0|gr(0|l[M>>2],0,0|C,0),C|=0-k,M=0|l[e+12>>2],l[a>>2]=C>>>0<M>>>0?C:M,l[h>>2]=0,l[u>>2]=0,l[s>>2]=2147483647,l[c>>2]=2147483647,0|l[(M=0|e+16)>>2])for(S=0;;){if(v=0|l[f+(S<<2)>>2],_=0|l[p>>2],t=0|(0|(0|l[n>>2])-1+_)/(0|_),m=0|l[(E=0|p+4)>>2],i=0|(0|(0|l[o>>2])-1+m)/(0|m),_=0|(0|_+-1+(0|l[r>>2]))/(0|_),m=0|(0|m+-1+(0|l[a>>2]))/(0|m),(e=0|l[(C=0|d+4)>>2])>>>0>(0|l[u>>2])>>>0&&(l[u>>2]=e,e=0|l[C>>2]),0|e)for(x=0|gr(0|t,0|(0>(0|t))<<31>>31,-1,-1),I=k,A=0|gr(0|i,0|(0>(0|i))<<31>>31,-1,-1),w=k,g=0|gr(0|_,0|(0>(0|_))<<31>>31,-1,-1),y=k,m=0|gr(0|m,0|(0>(0|m))<<31>>31,-1,-1),b=k,_=0,i=v;e=0|e+-1,t=0|l[d+812+(_<<2)>>2],v=0|l[d+944+(_<<2)>>2],l[i>>2]=t,l[i+4>>2]=v,D=l[p>>2]<<t+e,F=l[E>>2]<<v+e,R=0|l[s>>2],l[s>>2]=(0|R)<(0|D)?R:D,D=0|l[c>>2],l[c>>2]=(0|D)<(0|F)?D:F,R=0|Ir(0|(R=0|gr(0|x,0|I,0|(F=0|Er(1,0,0|e)),0|(D=k))),0|k,0|e),P=0|Ir(0|(P=0|gr(0|A,0|w,0|F,0|D)),0|k,0|e),O=0|Ir(0|(O=0|gr(0|g,0|y,0|F,0|D)),0|k,0|e),D=0|Ir(0|(D=0|gr(0|m,0|b,0|F,0|D)),0|k,0|e),F=0|Er(1,0,0|t),G=k,G=0|Ir(0|(G=0|gr(0|(T=0|gr(0|O,0|(0>(0|O))<<31>>31,-1,-1)),0|k,0|F,0|G)),0|k,0|t),F=0|Er(1,0,0|v),T=k,T=0|Ir(0|(T=0|gr(0|gr(0|D,0|(0>(0|D))<<31>>31,-1,-1),0|k,0|F,0|T)),0|k,0|v),t=(0|R)==(0|O)?0:(G<<t)-(R>>t<<t)>>t,v=(0|P)==(0|D)?0:(T<<v)-(P>>v<<v)>>v,l[i+8>>2]=t,l[i+12>>2]=v,(t=0|B(v,t))>>>0>(0|l[h>>2])>>>0&&(l[h>>2]=t),!((_=0|_+1)>>>0>=(0|l[C>>2])>>>0);){i=0|i+16}if((S=0|S+1)>>>0>=(0|l[M>>2])>>>0)break;d=0|d+1080,p=0|p+52}}function Ut(e,t){t|=0;var i=0,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0;if(e|=0){if(0|(n=0|l[(i=0|e+4)>>2])&&(We(n),l[i>>2]=0),0|t)for(c=e,h=0;;){if(0|(i=0|l[(u=0|c+196)>>2])){if(n=0|l[(s=0|c+192)>>2]){for(a=0;(o=0|l[(r=0|i+12)>>2])&&(We(o),l[r>>2]=0,n=0|l[s>>2]),!((a=0|a+1)>>>0>=n>>>0);){i=0|i+16}i=0|l[u>>2]}We(i),l[u>>2]=0}if((0|(h=0|h+1))==(0|t))break;c=0|c+232}We(e)}}function Vt(e,t,i,n){e|=0,i|=0,n|=0;var o,s,c,u,f,d,p,_,m,b,y,g,v,w,x,k,I,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0;if(I=A,A=0|A+32,P=0|I+28,M=0|I+24,T=0|I+20,R=0|I+16,D=0|I+12,G=0|I+8,O=0|I+4,s=I,b=0|l[(w=0|76+(t|=0))>>2],L=0|1+(0|l[b+(0|5640*i)+420>>2]),!(y=0|ze(0|528*(0|l[(v=0|e+16)>>2]))))return A=I,0|(L=0);if(!(g=0|ze(l[v>>2]<<2)))return We(y),A=I,0|(L=0);if(!(o=0|Zt(e,0|l[w>>2],i)))return We(y),We(g),A=I,0|(L=0);if(0|(C=0|l[v>>2]))for(S=y,E=0;l[g+(E<<2)>>2]=S,!((E=0|E+1)>>>0>=C>>>0);){S=0|S+528}if(zt(e,t,i,T,R,D,G,O,s,M,P,g),k=0|l[M>>2],f=0|B(0|l[v>>2],k),x=0|l[P>>2],u=0|B(x,f),r[o>>0]=1&(0|h[t+93>>0])>>>3,F=0|Ue(0|B(0|l[b+(0|5640*i)+8>>2],u),2),l[(E=0|o+4)>>2]=F,!F){if(We(y),We(g),0|(S=0|l[E>>2])&&(We(S),l[E>>2]=0),0|L)for(T=o,D=0;;){if(0|(S=0|l[(R=0|T+196)>>2])){if(E=0|l[(e=0|T+192)>>2]){for(P=0;(M=0|l[(C=0|S+12)>>2])&&(We(M),l[C>>2]=0,E=0|l[e>>2]),!((P=0|P+1)>>>0>=E>>>0);){S=0|S+16}S=0|l[R>>2]}We(S),l[R>>2]=0}if((0|(D=0|D+1))==(0|L))break;T=0|T+232}return We(o),A=I,0|(L=0)}if(M=0|l[o+196>>2],c=0|l[e+24>>2],F=0|l[T>>2],l[o+200>>2]=F,m=0|l[D>>2],l[o+204>>2]=m,_=0|l[R>>2],l[o+208>>2]=_,p=0|l[G>>2],l[o+212>>2]=p,d=0|l[O>>2],l[o+224>>2]=d,O=0|l[s>>2],l[o+228>>2]=O,l[o+20>>2]=1,l[o+16>>2]=k,l[o+12>>2]=f,l[o+8>>2]=u,0|(D=0|l[o+192>>2]))for(T=c,P=0;;){if(S=0|l[M+12>>2],E=0|l[g+(P<<2)>>2],l[M>>2]=l[T>>2],l[M+4>>2]=l[T+4>>2],0|(e=0|l[M+8>>2]))for(C=0;l[S>>2]=l[E>>2],l[S+4>>2]=l[E+4>>2],l[S+8>>2]=l[E+8>>2],l[S+12>>2]=l[E+12>>2],!((C=0|C+1)>>>0>=e>>>0);){S=0|S+16,E=0|E+16}if((P=0|P+1)>>>0>=D>>>0)break;T=0|T+52,M=0|M+16}if(1<L>>>0){T=1,R=o;do{if(S=0|l[R+428>>2],l[R+432>>2]=F,l[R+436>>2]=m,l[R+440>>2]=_,l[R+444>>2]=p,l[R+456>>2]=d,l[R+460>>2]=O,l[R+252>>2]=1,l[R+248>>2]=k,l[R+244>>2]=f,l[R+240>>2]=u,0|(G=0|l[R+424>>2]))for(D=c,P=0;;){if(E=0|l[S+12>>2],C=0|l[g+(P<<2)>>2],l[S>>2]=l[D>>2],l[S+4>>2]=l[D+4>>2],0|(e=0|l[S+8>>2]))for(M=0;l[E>>2]=l[C>>2],l[E+4>>2]=l[C+4>>2],l[E+8>>2]=l[C+8>>2],l[E+12>>2]=l[C+12>>2],!((M=0|M+1)>>>0>=e>>>0);){E=0|E+16,C=0|C+16}if((P=0|P+1)>>>0>=G>>>0)break;D=0|D+52,S=0|S+16}l[R+236>>2]=l[R+4>>2],R=0|R+232,T=0|T+1}while((0|T)!=(0|L))}We(y),We(g);do{if(4&r[b+(0|5640*i)+5636>>0]){if(2<(65535&(S=0|a[t>>1]))){if(!(1==(0|n)|7>(65535&S)))break}else if(1!=(0|n))break;return Nt(0|l[w>>2],i,F,_,m,p,k,d,O),A=I,0|(L=o)}}while(0);if(e=0|l[v>>2],S=0|l[w>>2],!(C=0|1+(0|l[S+(0|5640*i)+420>>2])))return A=I,0|(L=o);for(M=0|l[S+(0|5640*i)+8>>2],P=0|l[S+(0|5640*i)+4>>2],E=0,S=0|S+(0|5640*i)+424;l[S+76>>2]=0,l[S+92>>2]=e,l[S+72>>2]=0,l[S+88>>2]=x,l[S+68>>2]=0,l[S+84>>2]=M,l[S+36>>2]=P,l[S+80>>2]=0,l[S+96>>2]=k,l[S+100>>2]=F,l[S+104>>2]=_,l[S+108>>2]=m,l[S+112>>2]=p,l[S+116>>2]=d,l[S+120>>2]=O,(0|(E=0|E+1))!=(0|C);){S=0|S+148}return A=I,0|o}function Nt(e,t,i,n,r,o,a,s,c){i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0;var h,u=0;if(h=0|1+(0|l[(e|=0)+(0|5640*(t|=0))+420>>2]),l[e+(0|5640*t)+500>>2]=l[e+(0|5640*t)+428>>2],l[e+(0|5640*t)+516>>2]=l[e+(0|5640*t)+440>>2],l[e+(0|5640*t)+496>>2]=l[e+(0|5640*t)+424>>2],l[e+(0|5640*t)+512>>2]=l[e+(0|5640*t)+436>>2],l[e+(0|5640*t)+508>>2]=l[e+(0|5640*t)+432>>2],l[e+(0|5640*t)+492>>2]=0,l[e+(0|5640*t)+460>>2]=l[e+(0|5640*t)+456>>2],l[e+(0|5640*t)+504>>2]=0,l[e+(0|5640*t)+520>>2]=a,l[e+(0|5640*t)+524>>2]=i,l[e+(0|5640*t)+528>>2]=n,l[e+(0|5640*t)+532>>2]=r,l[e+(0|5640*t)+536>>2]=o,l[e+(0|5640*t)+540>>2]=s,l[e+(0|5640*t)+544>>2]=c,!(1>=h>>>0))for(u=1,e=0|e+(0|5640*t)+572;l[e+76>>2]=l[e+4>>2],l[e+92>>2]=l[e+16>>2],l[e+72>>2]=l[e>>2],l[e+88>>2]=l[e+12>>2],t=0|l[e+8>>2],l[e+84>>2]=t,l[e+36>>2]=l[e+32>>2],l[e+80>>2]=0,l[e+68>>2]=t>>>0>(0|l[e+-64>>2])>>>0?t:0,l[e+96>>2]=a,l[e+100>>2]=i,l[e+104>>2]=n,l[e+108>>2]=r,l[e+112>>2]=o,l[e+116>>2]=s,l[e+120>>2]=c,(0|(u=0|u+1))!=(0|h);){e=0|e+148}}function Ht(e,t,i,n,o,s,c){e|=0,i|=0,n|=0,o|=0,s|=0,c|=0;var h,u,f,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0,Y=0,X=0,Q=0,J=0;J=0|l[76+(t|=0)>>2],h=0|function(e){e|=0;var t=0,i=0;for(t=696;!(-1==(0|(i=0|l[t>>2]))|(0|i)==(0|e));){t=0|t+12}return 0|t+4}(0|l[(f=0|J+(0|5640*i)+424+(0|148*n)+36)>>2]),l[e+(0|232*n)+40>>2]=1,u=0|e+(0|232*n)+44,l[e+(0|232*n)+80>>2]=l[f>>2];do{if(8&r[t+93>>0]){if(2<(65535&(d=0|a[t>>1]))){if(!(1==(0|c)&6<(65535&d)|4>(65535&d+-3)))break}else if(!(1==(0|c)|4>(65535&d+-3)))break;e:do{if(3>(0|s))for(y=0|J+(0|5640*i)+424+(0|148*n)+72,g=0|J+(0|5640*i)+424+(0|148*n)+88,v=0|e+(0|232*n)+56,A=0|J+(0|5640*i)+424+(0|148*n)+76,w=0|e+(0|232*n)+48,x=0|J+(0|5640*i)+424+(0|148*n)+92,k=0|e+(0|232*n)+60,I=0|J+(0|5640*i)+424+(0|148*n)+68,S=0|e+(0|232*n)+64,E=0|J+(0|5640*i)+424+(0|148*n)+84,C=0|e+(0|232*n)+52,B=0|J+(0|5640*i)+424+(0|148*n)+80,M=0|e+(0|232*n)+68,P=0|J+(0|5640*i)+424+(0|148*n)+96,T=0|e+(0|232*n)+72,D=0|J+(0|5640*i)+424+(0|148*n)+100,R=0|e+(0|232*n)+96,G=0|J+(0|5640*i)+424+(0|148*n)+108,O=0|e+(0|232*n)+104,F=0|J+(0|5640*i)+424+(0|148*n)+104,L=0|e+(0|232*n)+100,Z=0|J+(0|5640*i)+424+(0|148*n)+112,z=0|e+(0|232*n)+108,d=s;;){switch(c=d,0|r[h+(d=0|d+1)>>0]){case 82:p=v,_=g,m=u,b=y,Q=10;break;case 67:p=k,_=x,m=w,b=A,Q=10;break;case 76:p=C,_=E,m=S,b=I,Q=10;break;case 80:2>(0|l[f>>2])>>>0?(p=T,_=P,m=M,b=B,Q=10):(l[R>>2]=l[D>>2],l[O>>2]=l[G>>2],p=z,_=Z,m=L,b=F,Q=10);}if(10==(0|Q)&&(Q=0,l[m>>2]=l[b>>2],l[p>>2]=l[_>>2]),2<=(0|c))break e}}while(0);if(d=-1<(0|s),!o){if(!d)return;for(_=0|J+(0|5640*i)+424+(0|148*n)+76,m=0|J+(0|5640*i)+424+(0|148*n)+132,b=0|e+(0|232*n)+48,y=0|e+(0|232*n)+60,g=0|J+(0|5640*i)+424+(0|148*n)+72,v=0|J+(0|5640*i)+424+(0|148*n)+128,A=0|e+(0|232*n)+56,w=0|J+(0|5640*i)+424+(0|148*n)+68,x=0|J+(0|5640*i)+424+(0|148*n)+124,k=0|e+(0|232*n)+64,I=0|e+(0|232*n)+52,S=0|J+(0|5640*i)+424+(0|148*n)+80,E=0|J+(0|5640*i)+424+(0|148*n)+136,C=0|e+(0|232*n)+68,B=0|e+(0|232*n)+72,M=0|J+(0|5640*i)+424+(0|148*n)+100,P=0|J+(0|5640*i)+424+(0|148*n)+140,T=0|J+(0|5640*i)+424+(0|148*n)+108,D=0|J+(0|5640*i)+424+(0|148*n)+144,R=0|e+(0|232*n)+96,G=0|J+(0|5640*i)+424+(0|148*n)+116,O=0|e+(0|232*n)+100,F=0|e+(0|232*n)+104,p=0|J+(0|5640*i)+424+(0|148*n)+120,c=0|e+(0|232*n)+108,d=s;;){e:do{switch(0|r[h+d>>0]){case 67:n=0|l[_>>2],l[b>>2]=n,n=0|n+1,l[y>>2]=n,l[m>>2]=n;break;case 82:n=0|l[g>>2],l[u>>2]=n,n=0|n+1,l[A>>2]=n,l[v>>2]=n;break;case 76:n=0|l[w>>2],l[k>>2]=n,n=0|n+1,l[I>>2]=n,l[x>>2]=n;break;case 80:if(2>(0|l[f>>2])>>>0){n=0|l[S>>2],l[C>>2]=n,n=0|n+1,l[B>>2]=n,l[E>>2]=n;break e}n=0|l[M>>2],s=0|l[T>>2],l[R>>2]=n,i=0|(i=0|l[G>>2])+n-(0|(n>>>0)%(i>>>0)),l[O>>2]=i,l[F>>2]=s,n=0|(n=0|l[p>>2])+s-(0|(s>>>0)%(n>>>0)),l[c>>2]=n,l[P>>2]=i,l[D>>2]=n;break e;}}while(0);if(!(0<(0|d)))break;d=0|d+-1}return}if(!d)return;for(H=0|J+(0|5640*i)+424+(0|148*n)+128,W=0|J+(0|5640*i)+424+(0|148*n)+88,j=0|J+(0|5640*i)+424+(0|148*n)+72,Y=0|e+(0|232*n)+56,X=0|J+(0|5640*i)+424+(0|148*n)+132,w=0|J+(0|5640*i)+424+(0|148*n)+92,x=0|J+(0|5640*i)+424+(0|148*n)+76,k=0|e+(0|232*n)+48,I=0|e+(0|232*n)+60,S=0|J+(0|5640*i)+424+(0|148*n)+124,E=0|J+(0|5640*i)+424+(0|148*n)+84,C=0|J+(0|5640*i)+424+(0|148*n)+68,B=0|e+(0|232*n)+64,M=0|e+(0|232*n)+52,P=0|J+(0|5640*i)+424+(0|148*n)+136,T=0|J+(0|5640*i)+424+(0|148*n)+96,D=0|J+(0|5640*i)+424+(0|148*n)+80,R=0|e+(0|232*n)+68,G=0|e+(0|232*n)+72,O=0|J+(0|5640*i)+424+(0|148*n)+140,F=0|J+(0|5640*i)+424+(0|148*n)+104,L=0|e+(0|232*n)+96,Z=0|J+(0|5640*i)+424+(0|148*n)+116,z=0|e+(0|232*n)+100,o=0|J+(0|5640*i)+424+(0|148*n)+144,U=0|J+(0|5640*i)+424+(0|148*n)+112,V=0|e+(0|232*n)+104,N=0|J+(0|5640*i)+424+(0|148*n)+120,v=0|e+(0|232*n)+108,A=0|J+(0|5640*i)+424+(0|148*n)+100,g=0|J+(0|5640*i)+424+(0|148*n)+108,d=1,y=s;;){b=0|h+y;e:{switch(0|r[b>>0]){case 67:c=I,p=X,_=0|(0|l[X>>2])-1,m=k,Q=35;break;case 82:c=Y,p=H,_=0|(0|l[H>>2])-1,m=u,Q=35;break;case 76:c=M,p=S,_=0|(0|l[S>>2])-1,m=B,Q=35;break;case 80:if(2>(0|l[f>>2])>>>0){c=G,p=P,_=0|(0|l[P>>2])-1,m=R,Q=35;break e}m=0|l[O>>2],_=0|l[Z>>2],l[L>>2]=m-_-(0|(m>>>0)%(_>>>0)),l[z>>2]=m,c=v,p=o,_=0|(m=0|l[o>>2])-(_=0|l[N>>2])-(0|(m>>>0)%(_>>>0)),m=V,Q=35;break e;}}35==(0|Q)&&(Q=0,l[m>>2]=_,l[c>>2]=l[p>>2]);e:do{if(1==(0|d))switch(0|r[b>>0]){case 82:if((0|(d=0|l[H>>2]))!=(0|l[W>>2])){l[u>>2]=d,d=0|d+1,l[Y>>2]=d,l[H>>2]=d,d=0;break e}if(!(0|Wt(0|y+-1,t,i,n,h))){d=0;break e}d=0|l[j>>2],l[u>>2]=d,d=0|d+1,l[Y>>2]=d,l[H>>2]=d,d=1;break e;case 67:if((0|(d=0|l[X>>2]))!=(0|l[w>>2])){l[k>>2]=d,d=0|d+1,l[I>>2]=d,l[X>>2]=d,d=0;break e}if(!(0|Wt(0|y+-1,t,i,n,h))){d=0;break e}d=0|l[x>>2],l[k>>2]=d,d=0|d+1,l[I>>2]=d,l[X>>2]=d,d=1;break e;case 76:if((0|(d=0|l[S>>2]))!=(0|l[E>>2])){l[B>>2]=d,d=0|d+1,l[M>>2]=d,l[S>>2]=d,d=0;break e}if(!(0|Wt(0|y+-1,t,i,n,h))){d=0;break e}d=0|l[C>>2],l[B>>2]=d,d=0|d+1,l[M>>2]=d,l[S>>2]=d,d=1;break e;case 80:if(2>(0|l[f>>2])>>>0){if((0|(d=0|l[P>>2]))!=(0|l[T>>2])){l[R>>2]=d,d=0|d+1,l[G>>2]=d,l[P>>2]=d,d=0;break e}if(!(0|Wt(0|y+-1,t,i,n,h))){d=0;break e}d=0|l[D>>2],l[R>>2]=d,d=0|d+1,l[G>>2]=d,l[P>>2]=d,d=1;break e}if((d=0|l[O>>2])>>>0<(0|l[F>>2])>>>0){l[L>>2]=d,d=0|(s=0|l[Z>>2])+d-(0|(d>>>0)%(s>>>0)),l[z>>2]=d,l[O>>2]=d,d=0;break e}if((c=0|l[o>>2])>>>0<(0|l[U>>2])>>>0)l[V>>2]=c,d=0,p=0|(s=0|l[N>>2])+c,c=0|(c>>>0)%(s>>>0);else{if(!(0|Wt(0|y+-1,t,i,n,h))){d=0;break e}s=0|l[g>>2],l[o>>2]=s,l[V>>2]=s,d=1,p=0|(c=0|l[N>>2])+s,c=0|(s>>>0)%(c>>>0)}J=0|p-c,l[v>>2]=J,l[o>>2]=J,J=0|l[A>>2],l[L>>2]=J,s=0|(s=0|l[Z>>2])+J-(0|(J>>>0)%(s>>>0)),l[z>>2]=s,l[O>>2]=s;break e;default:d=1;break e;}}while(0);if(!(0<(0|y)))break;y=0|y+-1}return}}while(0);l[u>>2]=l[J+(0|5640*i)+424+(0|148*n)+72>>2],l[e+(0|232*n)+56>>2]=l[J+(0|5640*i)+424+(0|148*n)+88>>2],l[e+(0|232*n)+48>>2]=l[J+(0|5640*i)+424+(0|148*n)+76>>2],l[e+(0|232*n)+60>>2]=l[J+(0|5640*i)+424+(0|148*n)+92>>2],l[e+(0|232*n)+64>>2]=l[J+(0|5640*i)+424+(0|148*n)+68>>2],l[e+(0|232*n)+52>>2]=l[J+(0|5640*i)+424+(0|148*n)+84>>2],l[e+(0|232*n)+68>>2]=l[J+(0|5640*i)+424+(0|148*n)+80>>2],l[e+(0|232*n)+72>>2]=l[J+(0|5640*i)+424+(0|148*n)+96>>2],l[e+(0|232*n)+96>>2]=l[J+(0|5640*i)+424+(0|148*n)+100>>2],l[e+(0|232*n)+104>>2]=l[J+(0|5640*i)+424+(0|148*n)+108>>2],l[e+(0|232*n)+100>>2]=l[J+(0|5640*i)+424+(0|148*n)+104>>2],l[e+(0|232*n)+108>>2]=l[J+(0|5640*i)+424+(0|148*n)+112>>2]}function Wt(e,t,i,n,o){e|=0,i|=0,n|=0,o|=0;var a,s=0,c=0;if(a=0|l[76+(t|=0)>>2],!(-1<(0|e)))return c=0,0|(c&=1);s=e;e:for(;;){switch(0|r[o+s>>0]){case 82:c=3;break e;case 67:c=5;break e;case 76:c=7;break e;case 80:c=9;break e;}s=0|s+-1}return 3==(0|c)?(0|l[a+(0|5640*i)+424+(0|148*n)+128>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+88>>2])?(c=1,0|(c&=1)):(c=0!=(0|Wt(0|e+-1,t,i,n,o)),0|(c&=1)):5==(0|c)?(0|l[a+(0|5640*i)+424+(0|148*n)+132>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+92>>2])?(c=1,0|(c&=1)):(c=0!=(0|Wt(0|e+-1,t,i,n,o)),0|(c&=1)):7==(0|c)?(0|l[a+(0|5640*i)+424+(0|148*n)+124>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+84>>2])?(c=1,0|(c&=1)):(c=0!=(0|Wt(0|e+-1,t,i,n,o)),0|(c&=1)):9==(0|c)?2>(0|l[a+(0|5640*i)+424+(0|148*n)+36>>2])>>>0?(0|l[a+(0|5640*i)+424+(0|148*n)+136>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+96>>2])?(c=1,0|(c&=1)):(c=0!=(0|Wt(0|s+-1,t,i,n,o)),0|(c&=1)):(0|l[a+(0|5640*i)+424+(0|148*n)+140>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+104>>2])?(c=1,0|(c&=1)):(0|l[a+(0|5640*i)+424+(0|148*n)+144>>2])!=(0|l[a+(0|5640*i)+424+(0|148*n)+112>>2])?(c=1,0|(c&=1)):(c=0!=(0|Wt(0|s+-1,t,i,n,o)),0|(c&=1)):0}function jt(e,t,i){e|=0,i|=0;var n,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0;if(n=0|l[76+(t|=0)>>2],O=0|(i>>>0)%((D=0|l[t+24>>2])>>>0),D=0|(i>>>0)/(D>>>0),R=0|l[t+4>>2],M=0|l[t+12>>2],G=(0|(C=0|(0|B(M,O))+R))>(0|(G=0|l[e>>2]))?C:G,O=(0|(R=0|(0|B(M,0|O+1))+R))<(0|(O=0|l[e+8>>2]))?R:O,R=0|l[t+8>>2],M=0|l[t+16>>2],T=(0|(C=0|(0|B(M,D))+R))>(0|(T=0|l[e+4>>2]))?C:T,D=(0|(R=0|(0|B(M,0|D+1))+R))<(0|(D=0|l[e+12>>2]))?R:D,R=0|l[e+16>>2])for(S=0|G+-1,E=0|T+-1,C=0|O+-1,M=0|D+-1,u=2147483647,I=0|l[n+(0|5640*i)+5584>>2],w=0|l[e+24>>2],x=0,h=2147483647,f=0,o=0;;){if(t=0|(0|S+(g=0|l[w>>2]))/(0|g),e=0|(0|E+(v=0|l[w+4>>2]))/(0|v),a=0|(0|C+g)/(0|g),s=0|(0|M+v)/(0|v),(A=0|l[I+4>>2])>>>0<=f>>>0?A&&(P=5):(f=A,P=5),5==(0|P)&&(P=0,b=0|gr(0|t,0|(0>(0|t))<<31>>31,-1,-1),y=k,_=0|gr(0|e,0|(0>(0|e))<<31>>31,-1,-1),m=k,d=0|gr(0|a,0|(0>(0|a))<<31>>31,-1,-1),p=k,s=0|gr(0|s,0|(0>(0|s))<<31>>31,-1,-1),c=k,L=0|l[I+812>>2],t=v<<(a=0|l[I+944>>2])+(F=0|A+-1),h=h>>>0<(z=g<<F+L)>>>0?h:z,u=u>>>0<t>>>0?u:t,Z=0|Ir(0|(Z=0|gr(0|b,0|y,0|(t=0|Er(1,0,0|F)),0|(z=k))),0|k,0|F),e=0|Ir(0|(e=0|gr(0|_,0|m,0|t,0|z)),0|k,0|F),U=0|Ir(0|(U=0|gr(0|d,0|p,0|t,0|z)),0|k,0|F),F=0|Ir(0|(z=0|gr(0|s,0|c,0|t,0|z)),0|k,0|F),z=0|Ir(0|(z=0|gr(0|(z=0|gr(0|(z=0|Er(1,0,0|L)),0|k,-1,-1)),0|k,0|U,0|(0>(0|U))<<31>>31)),0|k,0|L),t=0|Ir(0|(t=0|gr(0|(t=0|gr(0|(t=0|Er(1,0,0|a)),0|k,-1,-1)),0|k,0|F,0|(0>(0|F))<<31>>31)),0|k,0|a),o=(a=0|B((0|Z)==(0|U)?0:(z<<L)-(Z>>L<<L)>>L,(0|e)==(0|F)?0:(t<<a)-(e>>a<<a)>>a))>>>0>o>>>0?a:o,1<A>>>0))for(e=-1,a=1;L=0|l[I+812+(a<<2)>>2],z=v<<(t=0|l[I+944+(a<<2)>>2])+(Z=0|e+-1+A),h=h>>>0<(e=g<<Z+L)>>>0?h:e,u=u>>>0<z>>>0?u:z,F=0|Ir(0|(F=0|gr(0|b,0|y,0|(z=0|Er(1,0,0|Z)),0|(e=k))),0|k,0|Z),U=0|Ir(0|(U=0|gr(0|_,0|m,0|z,0|e)),0|k,0|Z),V=0|Ir(0|(V=0|gr(0|d,0|p,0|z,0|e)),0|k,0|Z),Z=0|Ir(0|(e=0|gr(0|s,0|c,0|z,0|e)),0|k,0|Z),e=0|Ir(0|(e=0|gr(0|(e=0|gr(0|(e=0|Er(1,0,0|L)),0|k,-1,-1)),0|k,0|V,0|(0>(0|V))<<31>>31)),0|k,0|L),z=0|Ir(0|(z=0|gr(0|(z=0|gr(0|(z=0|Er(1,0,0|t)),0|k,-1,-1)),0|k,0|Z,0|(0>(0|Z))<<31>>31)),0|k,0|t),o=(t=0|B((0|F)==(0|V)?0:(e<<L)-(F>>L<<L)>>L,(0|U)==(0|Z)?0:(z<<t)-(U>>t<<t)>>t))>>>0>o>>>0?t:o,(t=0|a+1)>>>0<A>>>0;){e=~a,a=t}if((x=0|x+1)>>>0>=R>>>0)break;I=0|I+1080,w=0|w+52}else f=0,u=2147483647,h=2147483647,o=0;if(4&r[n+(0|5640*i)+5636>>0])Nt(n,i,G,O,T,D,o,h,u);else if(a=0|1+(0|l[n+(0|5640*i)+420>>2]))for(s=0|l[n+(0|5640*i)+8>>2],c=0|l[n+(0|5640*i)+4>>2],e=0,t=0|n+(0|5640*i)+424;l[t+76>>2]=0,l[t+92>>2]=R,l[t+72>>2]=0,l[t+88>>2]=f,l[t+68>>2]=0,l[t+84>>2]=s,l[t+36>>2]=c,l[t+80>>2]=0,l[t+96>>2]=o,l[t+100>>2]=G,l[t+104>>2]=O,l[t+108>>2]=T,l[t+112>>2]=D,l[t+116>>2]=h,l[t+120>>2]=u,(0|(e=0|e+1))!=(0|a);){t=0|t+148}}function Yt(e){var t=0,i=0,n=0,o=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0,Be=0,Me=0,Pe=0,Te=0,De=0,Re=0,Ge=0,Oe=0,Fe=0,Le=0,Ze=0,ze=0,Ue=0,Ve=0,Ne=0,He=0,We=0,je=0,Ye=0,Xe=0,Qe=0,Je=0,qe=0,Ke=0,$e=0,et=0,tt=0,it=0,nt=0,rt=0,ot=0,at=0,st=0,lt=0,ct=0,ht=0,ut=0,ft=0,dt=0;switch(0|l[80+(e|=0)>>2]){case 0:for(0|l[(t=0|e+40)>>2]?(l[t>>2]=0,A=0|l[e+64>>2],l[e+36>>2]=A,i=5):(u=P=0|e+32,P=0|l[P>>2],i=18);;){if(5==(0|i)){if(A>>>0>=(0|l[e+52>>2])>>>0){dt=0,i=153;break}I=0|l[e+44>>2],l[e+28>>2]=I,i=7}else 18==(0|i)&&(c=0|P+1,l[u>>2]=c,o=u,i=14);for(;;){if(7==(0|i)){if(i=0,I>>>0>=(0|l[e+56>>2])>>>0){i=21;break}S=0|l[e+48>>2],l[(_=0|e+24)>>2]=S}else if(14==(0|i)){if(c>>>0<(0|l[e+72>>2])>>>0){i=16;break}d=T=0|e+24,T=0|l[T>>2],i=19}for(;;){if(19==(0|i)&&(i=0,S=0|T+1,l[d>>2]=S,_=d),S>>>0>=(0|l[e+60>>2])>>>0){i=20;break}if(E=0|l[e+196>>2],(C=0|l[e+28>>2])>>>0<(0|l[E+(S<<4)+8>>2])>>>0)break;d=_,T=S,i=19}20!=(0|i)?(t=0|l[E+(S<<4)+12>>2],0|r[e>>0]||(ft=0|B(0|l[t+(C<<4)+12>>2],0|l[t+(C<<4)+8>>2]),l[e+72>>2]=ft),c=0|l[e+68>>2],l[(o=0|e+32)>>2]=c,i=14):(I=0|1+(0|l[(i=0|e+28)>>2]),l[i>>2]=I,i=7)}if(16==(0|i)){if(i=0,M=0|B(0|l[e+8>>2],0|l[e+36>>2]),M=0|(M=0|(M=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+M)+(0|B(0|l[e+16>>2],0|l[e+24>>2])))+(0|B(0|l[e+20>>2],c)),M=0|(0|l[e+4>>2])+(M<<1),0|a[M>>1]){u=o,P=c,i=18;continue}break}21!=(0|i)||(A=0|1+(0|l[(i=0|e+36)>>2]),l[i>>2]=A,i=5)}return 153==(0|i)?0|dt:(a[M>>1]=1,0|(e=1));case 1:for(0|l[(t=0|e+40)>>2]?(l[t>>2]=0,D=0|l[e+44>>2],l[e+28>>2]=D,i=25):(h=x=0|e+32,x=0|l[x>>2],i=38);;){if(25==(0|i)){if(D>>>0>=(0|l[e+56>>2])>>>0){dt=0,i=153;break}b=0|l[e+64>>2],l[e+36>>2]=b,i=27}else 38==(0|i)&&(s=0|x+1,l[h>>2]=s,n=h,i=34);for(;;){if(27==(0|i)){if(i=0,b>>>0>=(0|l[e+52>>2])>>>0){i=41;break}y=0|l[e+48>>2],l[(p=0|e+24)>>2]=y}else if(34==(0|i)){if(s>>>0<(0|l[e+72>>2])>>>0){i=36;break}f=k=0|e+24,k=0|l[k>>2],i=39}for(;;){if(39==(0|i)&&(i=0,y=0|k+1,l[f>>2]=y,p=f),y>>>0>=(0|l[e+60>>2])>>>0){i=40;break}if(g=0|l[e+196>>2],(v=0|l[e+28>>2])>>>0<(0|l[g+(y<<4)+8>>2])>>>0)break;f=p,k=y,i=39}40!=(0|i)?(t=0|l[g+(y<<4)+12>>2],0|r[e>>0]||(ft=0|B(0|l[t+(v<<4)+12>>2],0|l[t+(v<<4)+8>>2]),l[e+72>>2]=ft),s=0|l[e+68>>2],l[(n=0|e+32)>>2]=s,i=34):(b=0|1+(0|l[(i=0|e+36)>>2]),l[i>>2]=b,i=27)}if(36==(0|i)){if(i=0,w=0|B(0|l[e+8>>2],0|l[e+36>>2]),w=0|(w=0|(w=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+w)+(0|B(0|l[e+16>>2],0|l[e+24>>2])))+(0|B(0|l[e+20>>2],s)),w=0|(0|l[e+4>>2])+(w<<1),0|a[w>>1]){h=n,x=s,i=38;continue}break}41!=(0|i)||(D=0|1+(0|l[(i=0|e+28)>>2]),l[i>>2]=D,i=25)}return 153==(0|i)?0|dt:(a[w>>1]=1,0|(e=1));case 2:if(0|l[(t=0|e+40)>>2]){if(l[t>>2]=0,l[(_=0|e+224)>>2]=0,l[(m=0|e+228)>>2]=0,0|(b=0|l[e+192>>2])){y=0|l[e+196>>2],p=0,i=0,t=0;do{if(c=0|l[y+(p<<4)+8>>2]){if(h=0|l[y+(p<<4)+12>>2],u=0|l[y+(p<<4)>>2],f=0|l[y+(p<<4)+4>>2],d=0|c+-1,Ne=u<<(0|l[h>>2])+d,He=f<<(0|l[h+4>>2])+d,i=0==(0|i)?Ne:i>>>0<Ne>>>0?i:Ne,t=0==(0|t)?He:t>>>0<He>>>0?t:He,1!=(0|c))for(o=-1,s=1;He=u<<(n=0|d+o)+(0|l[h+(s<<4)>>2]),n=f<<(0|l[h+(s<<4)+4>>2])+n,i=0==(0|i)?He:i>>>0<He>>>0?i:He,t=0==(0|t)?n:t>>>0<n>>>0?t:n,(n=0|s+1)>>>0<c>>>0;){o=~s,s=n}l[_>>2]=i,l[m>>2]=t}p=0|p+1}while((0|p)!=(0|b))}0|r[e>>0]||(l[e+104>>2]=l[e+204>>2],l[e+96>>2]=l[e+200>>2],l[e+108>>2]=l[e+212>>2],l[e+100>>2]=l[e+208>>2]),O=0|l[e+44>>2],l[e+28>>2]=O,i=54}else We=ut=0|e+36,ut=0|l[ut>>2],i=75;for(;;){if(54==(0|i)){if(O>>>0>=(0|l[e+56>>2])>>>0){dt=0,i=153;break}Qe=0|l[e+104>>2],l[e+220>>2]=Qe,i=56}else 75==(0|i)&&(ct=0|ut+1,l[We>>2]=ct,je=We,i=71);for(;;){if(56==(0|i)){if((0|Qe)>=(0|l[e+108>>2])){i=79;break}Je=0|l[e+96>>2],l[e+216>>2]=Je,i=58}else if(71==(0|i)){if(ct>>>0<(0|l[e+52>>2])>>>0){i=73;break}Ye=ft=0|e+24,ft=0|l[ft>>2],i=76}for(;;){if(58==(0|i)){if((0|Je)>=(0|l[e+100>>2])){i=78;break}qe=0|l[e+48>>2],l[(Xe=0|e+24)>>2]=qe}else 76==(0|i)&&(qe=0|ft+1,l[Ye>>2]=qe,Xe=Ye);if(qe>>>0>=(0|l[e+60>>2])>>>0)Je=0|l[e+224>>2],Je=0|(He=0|l[(i=0|e+216)>>2])+Je-(0|(0|He)%(0|Je)),l[i>>2]=Je,i=58;else if(i=0|l[e+196>>2],(f=0|l[e+28>>2])>>>0>=(t=0|l[i+(qe<<4)+8>>2])>>>0)Ye=Xe,ft=qe,i=76;else{if(d=0|l[i+(qe<<4)+12>>2],s=0|t+~f,$e=0|(0|(c=0|l[e+200>>2])-1+(Ke=(h=0|l[i+(qe<<4)>>2])<<s))/(0|Ke),tt=0|(0|(u=0|l[e+204>>2])-1+(et=(He=0|l[i+(qe<<4)+4>>2])<<s))/(0|et),t=0|(0|(it=0|Ke+-1)+(0|l[e+208>>2]))/(0|Ke),i=0|(0|(nt=0|et+-1)+(0|l[e+212>>2]))/(0|et),n=0|(rt=0|l[d+(f<<4)>>2])+s,o=0|(ot=0|l[d+(f<<4)+4>>2])+s,0|(0|(at=0|l[e+220>>2]))%(0|He<<o)){if((0|at)!=(0|u)){Ye=Xe,ft=qe,i=76;continue}if(!(0|(0|tt<<s)%(0|1<<o))){Ye=Xe,ft=qe,i=76;continue}}if(0|(0|(st=0|l[e+216>>2]))%(0|h<<n)){if((0|st)!=(0|c)){Ye=Xe,ft=qe,i=76;continue}if(!(0|(0|$e<<s)%(0|1<<n))){Ye=Xe,ft=qe,i=76;continue}}if(lt=0|l[d+(f<<4)+8>>2]){if(!((0|tt)==(0|i)|((0|$e)==(0|t)?1:0==(0|l[d+(f<<4)+12>>2])))){i=70;break}Ye=Xe,ft=qe,i=76}else Ye=Xe,ft=qe,i=76}}70!=(0|i)?78!=(0|i)||(Qe=0|l[e+228>>2],Qe=0|(He=0|l[(i=0|e+220)>>2])+Qe-(0|(0|He)%(0|Qe)),l[i>>2]=Qe,i=56):(ct=0|((0|(0|it+st)/(0|Ke))>>rt)-($e>>rt)+(0|B(0|((0|(0|nt+at)/(0|et))>>ot)-(tt>>ot),lt)),l[e+32>>2]=ct,ct=0|l[e+64>>2],l[(je=0|e+36)>>2]=ct,i=71)}if(73==(0|i)){if(i=0,ht=0|B(0|l[e+8>>2],ct),ht=0|(ht=0|(ht=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+ht)+(0|B(0|l[e+16>>2],0|l[e+24>>2])))+(0|B(0|l[e+20>>2],0|l[e+32>>2])),ht=0|(0|l[e+4>>2])+(ht<<1),0|a[ht>>1]){We=je,ut=ct,i=75;continue}break}79!=(0|i)||(O=0|1+(0|l[(i=0|e+28)>>2]),l[i>>2]=O,i=54)}return 153==(0|i)?0|dt:(a[ht>>1]=1,0|(e=1));case 3:if(0|l[(i=0|e+40)>>2]){if(l[i>>2]=0,l[(_=0|e+224)>>2]=0,l[(m=0|e+228)>>2]=0,0|(b=0|l[e+192>>2])){y=0|l[e+196>>2],p=0,i=0,t=0;do{if(c=0|l[y+(p<<4)+8>>2]){if(h=0|l[y+(p<<4)+12>>2],u=0|l[y+(p<<4)>>2],f=0|l[y+(p<<4)+4>>2],d=0|c+-1,ut=u<<(0|l[h>>2])+d,ft=f<<(0|l[h+4>>2])+d,i=0==(0|i)?ut:i>>>0<ut>>>0?i:ut,t=0==(0|t)?ft:t>>>0<ft>>>0?t:ft,1!=(0|c))for(o=-1,s=1;ft=u<<(n=0|d+o)+(0|l[h+(s<<4)>>2]),n=f<<(0|l[h+(s<<4)+4>>2])+n,i=0==(0|i)?ft:i>>>0<ft>>>0?i:ft,t=0==(0|t)?n:t>>>0<n>>>0?t:n,(n=0|s+1)>>>0<c>>>0;){o=~s,s=n}l[_>>2]=i,l[m>>2]=t}p=0|p+1}while((0|p)!=(0|b))}0|r[e>>0]?t=0|l[e+104>>2]:(t=0|l[e+204>>2],l[e+104>>2]=t,l[e+96>>2]=l[e+200>>2],l[e+108>>2]=l[e+212>>2],l[e+100>>2]=l[e+208>>2]),l[e+220>>2]=t,i=93}else Ne=0|l[e+24>>2],ze=0|e+36,be=0|(0|l[e+196>>2])+(Ne<<4),ge=ze,ze=0|l[ze>>2],i=113;for(;;){if(93==(0|i)){if((0|t)>=(0|l[e+108>>2])){dt=0,i=153;break}xe=0|l[e+96>>2],l[e+216>>2]=xe,i=95}else 113==(0|i)&&(Fe=0|ze+1,l[ge>>2]=Fe,me=be,ve=ge,Le=Ne,i=109);for(;;){if(95==(0|i)){if((0|xe)>=(0|l[e+100>>2])){i=117;break}ke=0|l[e+48>>2],l[e+24>>2]=ke,i=97}else if(109==(0|i)){if(Fe>>>0<(0|l[e+52>>2])>>>0){i=111;break}ye=me,Ae=Ue=0|e+28,Ue=0|l[Ue>>2],He=Le,i=114}for(;;){if(97==(0|i)){if(ke>>>0>=(0|l[e+60>>2])>>>0){i=116;break}_e=0|(0|l[e+196>>2])+(ke<<4),Ie=0|l[e+44>>2],l[(we=0|e+28)>>2]=Ie,Ve=ke}else 114==(0|i)&&(Ie=0|Ue+1,l[Ae>>2]=Ie,_e=ye,we=Ae,Ve=He);if(Ie>>>0>=((ft=0|l[e+56>>2])>>>0<(i=0|l[_e+8>>2])>>>0?ft:i)>>>0)ke=0|Ve+1,l[e+24>>2]=ke,i=97;else{if(d=0|l[_e+12>>2],i=0|i+~Ie,Ee=0|(0|(n=0|l[e+200>>2])-1+(Se=(o=0|l[_e>>2])<<i))/(0|Se),Be=0|(0|(s=0|l[e+204>>2])-1+(Ce=(ft=0|l[_e+4>>2])<<i))/(0|Ce),c=0|(0|(Me=0|Se+-1)+(0|l[e+208>>2]))/(0|Se),h=0|(0|(Pe=0|Ce+-1)+(0|l[e+212>>2]))/(0|Ce),u=0|(Te=0|l[d+(Ie<<4)>>2])+i,f=0|(De=0|l[d+(Ie<<4)+4>>2])+i,0|(0|(Re=0|l[e+220>>2]))%(0|ft<<f)){if((0|Re)!=(0|s)){ye=_e,Ae=we,Ue=Ie,He=Ve,i=114;continue}if(!(0|(0|Be<<i)%(0|1<<f))){ye=_e,Ae=we,Ue=Ie,He=Ve,i=114;continue}}if(0|(0|(Ge=0|l[e+216>>2]))%(0|o<<u)){if((0|Ge)!=(0|n)){ye=_e,Ae=we,Ue=Ie,He=Ve,i=114;continue}if(!(0|(0|Ee<<i)%(0|1<<u))){ye=_e,Ae=we,Ue=Ie,He=Ve,i=114;continue}}if(Oe=0|l[d+(Ie<<4)+8>>2]){if(!((0|Be)==(0|h)|((0|Ee)==(0|c)?1:0==(0|l[d+(Ie<<4)+12>>2])))){i=108;break}ye=_e,Ae=we,Ue=Ie,He=Ve,i=114}else ye=_e,Ae=we,Ue=Ie,He=Ve,i=114}}108!=(0|i)?116!=(0|i)||(xe=0|l[e+224>>2],xe=0|(ft=0|l[(i=0|e+216)>>2])+xe-(0|(0|ft)%(0|xe)),l[i>>2]=xe,i=95):(Fe=0|((0|(0|Me+Ge)/(0|Se))>>Te)-(Ee>>Te)+(0|B(0|((0|(0|Pe+Re)/(0|Ce))>>De)-(Be>>De),Oe)),l[e+32>>2]=Fe,Fe=0|l[e+64>>2],l[(ve=0|e+36)>>2]=Fe,me=_e,Le=Ve,i=109)}if(111==(0|i)){if(i=0,Ze=0|B(0|l[e+8>>2],Fe),Ze=0|(Ze=0|(Ze=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+Ze)+(0|B(0|l[e+16>>2],Le)))+(0|B(0|l[e+20>>2],0|l[e+32>>2])),Ze=0|(0|l[e+4>>2])+(Ze<<1),0|a[Ze>>1]){be=me,ge=ve,ze=Fe,Ne=Le,i=113;continue}break}117!=(0|i)||(t=0|l[e+228>>2],t=0|(ft=0|l[(i=0|e+220)>>2])+t-(0|(0|ft)%(0|t)),l[i>>2]=t,i=93)}return 153==(0|i)?0|dt:(a[Ze>>1]=1,0|(e=1));case 4:for(0|l[(t=0|e+40)>>2]?(l[t>>2]=0,j=0|l[e+48>>2],l[e+24>>2]=j,i=121):(ue=0|l[e+24>>2],ce=0|e+36,z=0|(0|l[e+196>>2])+(ue<<4),V=ce,ce=0|l[ce>>2],i=148);;){if(121==(0|i)){if(j>>>0>=(0|l[e+60>>2])>>>0){dt=0,i=153;break}if(m=0|(t=0|l[e+196>>2])+(j<<4),l[(p=0|e+224)>>2]=0,l[(_=0|e+228)>>2]=0,0|(u=0|l[t+(j<<4)+8>>2])){if(f=0|l[t+(j<<4)+12>>2],d=0|l[m>>2],c=0|l[t+(j<<4)+4>>2],h=0|u+-1,i=d<<(0|l[f>>2])+h,t=c<<(0|l[f+4>>2])+h,1!=(0|u))for(o=-1,s=1;ft=d<<(n=0|h+o)+(0|l[f+(s<<4)>>2]),n=c<<(0|l[f+(s<<4)+4>>2])+n,i=0==(0|i)?ft:i>>>0<ft>>>0?i:ft,t=0==(0|t)?n:t>>>0<n>>>0?t:n,(n=0|s+1)>>>0<u>>>0;){o=~s,s=n}l[p>>2]=i,l[_>>2]=t}0|r[e>>0]?t=0|l[e+104>>2]:(t=0|l[e+204>>2],l[e+104>>2]=t,l[e+96>>2]=l[e+200>>2],l[e+108>>2]=l[e+212>>2],l[e+100>>2]=l[e+208>>2]),l[e+220>>2]=t,R=t,G=j,i=130}else 148==(0|i)&&(ae=0|ce+1,l[V>>2]=ae,Z=z,N=V,se=ue,i=144);for(;;){if(130==(0|i)){if((0|R)>=(0|l[e+108>>2])){i=152;break}Y=0|l[e+96>>2],l[e+216>>2]=Y,F=m,fe=G,i=132}else if(144==(0|i)){if(ae>>>0<(0|l[e+52>>2])>>>0){i=146;break}U=Z,H=he=0|e+28,he=0|l[he>>2],pe=se,i=149}for(;;){if(132==(0|i)){if((0|Y)>=(0|l[e+100>>2])){i=151;break}X=0|l[e+44>>2],l[(W=0|e+28)>>2]=X,L=F,de=fe}else 149==(0|i)&&(X=0|he+1,l[H>>2]=X,L=U,W=H,de=pe);if(X>>>0>=((ft=0|l[e+56>>2])>>>0<(t=0|l[L+8>>2])>>>0?ft:t)>>>0)Y=0|l[e+224>>2],Y=0|(fe=0|l[(F=0|e+216)>>2])+Y-(0|(0|fe)%(0|Y)),l[F>>2]=Y,F=L,fe=de,i=132;else{if(f=0|l[L+12>>2],t=0|t+~X,J=0|(0|(i=0|l[e+200>>2])-1+(Q=(n=0|l[L>>2])<<t))/(0|Q),K=0|(0|(o=0|l[e+204>>2])-1+(q=(ft=0|l[L+4>>2])<<t))/(0|q),s=0|(0|($=0|Q+-1)+(0|l[e+208>>2]))/(0|Q),c=0|(0|(ee=0|q+-1)+(0|l[e+212>>2]))/(0|q),h=0|(te=0|l[f+(X<<4)>>2])+t,u=0|(ie=0|l[f+(X<<4)+4>>2])+t,0|(0|(ne=0|l[e+220>>2]))%(0|ft<<u)){if((0|ne)!=(0|o)){U=L,H=W,he=X,pe=de,i=149;continue}if(!(0|(0|K<<t)%(0|1<<u))){U=L,H=W,he=X,pe=de,i=149;continue}}if(0|(0|(re=0|l[e+216>>2]))%(0|n<<h)){if((0|re)!=(0|i)){U=L,H=W,he=X,pe=de,i=149;continue}if(!(0|(0|J<<t)%(0|1<<h))){U=L,H=W,he=X,pe=de,i=149;continue}}if(oe=0|l[f+(X<<4)+8>>2]){if(!((0|K)==(0|c)|((0|J)==(0|s)?1:0==(0|l[f+(X<<4)+12>>2])))){i=143;break}U=L,H=W,he=X,pe=de,i=149}else U=L,H=W,he=X,pe=de,i=149}}143!=(0|i)?151!=(0|i)||(R=0|l[e+228>>2],R=0|(G=0|l[(m=0|e+220)>>2])+R-(0|(0|G)%(0|R)),l[m>>2]=R,m=F,G=fe,i=130):(ae=0|((0|(0|$+re)/(0|Q))>>te)-(J>>te)+(0|B(0|((0|(0|ee+ne)/(0|q))>>ie)-(K>>ie),oe)),l[e+32>>2]=ae,ae=0|l[e+64>>2],l[(N=0|e+36)>>2]=ae,Z=L,se=de,i=144)}if(146==(0|i)){if(i=0,le=0|B(0|l[e+8>>2],ae),le=0|(le=0|(le=0|(0|B(0|l[e+12>>2],0|l[e+28>>2]))+le)+(0|B(0|l[e+16>>2],se)))+(0|B(0|l[e+20>>2],0|l[e+32>>2])),le=0|(0|l[e+4>>2])+(le<<1),0|a[le>>1]){z=Z,V=N,ce=ae,ue=se,i=148;continue}break}152!=(0|i)||(j=0|G+1,l[e+24>>2]=j,i=121)}return 153==(0|i)?0|dt:(a[le>>1]=1,0|(e=1));default:return 0|(e=0);}return 0}function Xt(e){e|=0;var t=0,i=0;return(t=0|Ue(1,44))?(r[(i=0|t+40)>>0]=-2&r[i>>0]|0!=(0|e),e=0|Ue(1,4),l[t+20>>2]=e,0|e?0|(i=t):(We(t),0|(i=0))):0|(t=0)}function Qt(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0;if(d=A,A=0|A+1200,u=d,p=0|l[l[20+(e|=0)>>2]>>2],_=0|l[(f=0|p+16)>>2]){s=0|p+20,c=0|8+(0|l[e+32>>2]),h=0|88+(0|l[e+28>>2]),o=0|e+24,a=0==(0|t),n=0==(0|i),r=0|t+-1,U=0,p=_;do{if(y=0|l[s>>2],g=0|l[c>>2],v=0|l[(Z=0|y+(0|52*U)+16)>>2],g){if(v){_=0|l[h>>2],m=.0625*+((0|l[(0|l[24+(0|l[o>>2])>>2])+(0|52*U)+24>>2])>>>0),e=0;do{b=0|B(v,e),i=0;do{z=0|3*(0|b+i),l[u+(0|120*e)+(0|12*i)>>2]=~~(+(0|l[_+(z<<2)>>2])*m),l[u+(0|120*e)+(0|12*i)+4>>2]=~~(+(0|l[_+(z+1<<2)>>2])*m),l[u+(0|120*e)+(0|12*i)+8>>2]=~~(+(0|l[_+(z+2<<2)>>2])*m),i=0|i+1}while(i>>>0<v>>>0);e=0|e+1}while(e>>>0<g>>>0);z=9}}else z=9;if(9==(0|z)&&(z=0,v)){L=0|y+(0|52*U)+24,F=0,p=v;do{if(G=0|l[L>>2],e=0|l[(O=0|G+(0|136*F)+24)>>2]){D=0|G+(0|136*F)+16,T=0,i=0|l[(R=0|G+(0|136*F)+20)>>2],p=0|l[D>>2];do{if(0|B(i,p)){C=0|G+(0|136*F)+28+(0|36*T)+20,M=0|u+(0|120*t)+(0|12*F)+(T<<2),P=0|u+(0|120*r)+(0|12*F)+(T<<2),E=0;do{p=0|l[C>>2],S=0|B(0|l[p+(0|40*E)+20>>2],0|l[p+(0|40*E)+16>>2]);e:do{if(0|S){if(I=0|p+(0|40*E)+24,y=0|l[M>>2],a)for(p=0;;){if(i=0|l[I>>2],_=0|l[i+(0|52*p)+4>>2],e=(0|y)>(0|(e=0|(0|l[(0|l[24+(0|l[o>>2])>>2])+(0|52*U)+24>>2])-(0|l[i+(0|52*p)+28>>2])))?0|y-e:0,l[(b=0|i+(0|52*p)+44)>>2]=0,e=0==(0|e)?0:0|(0|3*e)-2,l[_>>2]=e,0|e&&(k=0|l[i+(0|52*p)>>2],l[_+4>>2]=l[(0|l[i+(0|52*p)+8>>2])+(0|24*(0|e+-1))>>2],l[_+16>>2]=k,!n)&&(l[b>>2]=e),(p=0|p+1)>>>0>=S>>>0)break e}x=0|y-(k=0|l[P>>2]),g=0;do{i=0|(e=0|l[I>>2])+(0|52*g),v=0|l[e+(0|52*g)+4>>2],p=0|x+(k-(w=0|(0|l[(0|l[24+(0|l[o>>2])>>2])+(0|52*U)+24>>2])-(0|l[e+(0|52*g)+28>>2]))),p=(0|k)>(0|w)?x:0<(0|p)?p:0,p=0|(y=(b=0==(0|(_=0|l[(w=0|e+(0|52*g)+44)>>2])))?0==(0|p)?0:0|(0|3*p)-2:0|(0|3*p)+_)-_,l[v+(0|24*t)>>2]=p;do{if(0|p){if(e=0|l[e+(0|52*g)+8>>2],p=0|l[e+(0|24*(0|y+-1))>>2],b?e=0|l[i>>2]:(b=0|l[e+(0|24*(0|_+-1))>>2],e=0|(0|l[i>>2])+b,p=0|p-b),l[v+(0|24*t)+4>>2]=p,l[v+(0|24*t)+16>>2]=e,n)break;l[w>>2]=y}}while(0);g=0|g+1}while(g>>>0<S>>>0)}}while(0);E=0|E+1,p=0|l[D>>2],i=0|l[R>>2]}while(E>>>0<(0|B(i,p))>>>0);e=0|l[O>>2]}T=0|T+1}while(T>>>0<e>>>0);p=0|l[Z>>2]}F=0|F+1}while(F>>>0<p>>>0);p=0|l[f>>2]}U=0|U+1}while(U>>>0<p>>>0);A=d}else A=d}function Jt(e,t,i,n){t|=0,i=+i,n|=0;var r,o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0,m=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0;if(e=0|l[l[20+(e|=0)>>2]>>2],b[(s=0|e+40+(t<<3))>>3]=0,h=0|l[(c=0|e+16)>>2]){o=0|e+20,a=0==(0|t),r=0==(0|n),R=0,e=h;do{if(n=0|l[o>>2],h=0|l[(D=0|n+(0|52*R)+16)>>2]){T=0|n+(0|52*R)+24,P=0,e=h;do{if(C=0|l[T>>2],n=0|l[(M=0|C+(0|136*P)+24)>>2]){S=0|C+(0|136*P)+16,I=0,h=0|l[(E=0|C+(0|136*P)+20)>>2],e=0|l[S>>2];do{if(0|B(h,e)){k=0|C+(0|136*P)+28+(0|36*I)+20,x=0;do{if(n=0|l[k>>2],w=0|B(0|l[n+(0|40*x)+20>>2],0|l[n+(0|40*x)+16>>2])){g=0|n+(0|40*x)+24,y=0;do{if(_=0|(p=0|l[g>>2])+(0|52*y),v=0|l[p+(0|52*y)+4>>2],A=0|p+(0|52*y)+44,a?(l[A>>2]=0,m=0):m=0|l[A>>2],m>>>0<(f=0|l[p+(0|52*y)+48>>2])>>>0){d=0|l[p+(0|52*y)+8>>2],e=m,h=m;do{n=0|l[d+(0|24*h)>>2],e?(G=0|e+-1,u=+b[d+(0|24*h)+8>>3]-+b[d+(0|24*G)+8>>3],n=0|n-(0|l[d+(0|24*G)>>2])):u=+b[d+(0|24*h)+8>>3],h=0|h+1,e=(n=n?2220446049250313e-31>i-u/+(n>>>0):0!=u)?h:e}while(h>>>0<f>>>0);f=e}else f=m;G=0|f-m,l[v+(0|24*t)>>2]=G,G?(n=0|l[p+(0|52*y)+8>>2],e=0|l[n+(0|24*(h=0|f+-1))>>2],m?(G=0|l[n+(0|24*(m=0|m+-1))>>2],l[v+(0|24*t)+16>>2]=(0|l[_>>2])+G,u=+b[n+(0|24*h)+8>>3]-+b[n+(0|24*m)+8>>3],e=0|e-G):(l[v+(0|24*t)+16>>2]=l[_>>2],u=+b[n+(0|24*h)+8>>3]),l[v+(0|24*t)+4>>2]=e,b[v+(0|24*t)+8>>3]=u,b[s>>3]=u+ +b[s>>3],r||(l[A>>2]=f)):b[v+(0|24*t)+8>>3]=0,y=0|y+1}while(y>>>0<w>>>0);h=0|l[E>>2],e=0|l[S>>2]}x=0|x+1}while(x>>>0<(0|B(h,e))>>>0);n=0|l[M>>2]}I=0|I+1}while(I>>>0<n>>>0);e=0|l[D>>2]}P=0|P+1}while(P>>>0<e>>>0);e=0|l[c>>2]}R=0|R+1}while(R>>>0<e>>>0)}}function qt(e,t,i,n,o){t|=0,i|=0,n|=0,o|=0;var s,c,h,u,f,d,p=0,m=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0;if(d=A,A=0|A+800,u=d,f=0|l[28+(e|=0)>>2],c=0|l[l[e+20>>2]>>2],h=0|l[e+32>>2],l[(s=0|c+24)>>2]=0,q=0|l[c+16>>2]){K=0|e+24,J=0|l[c+20>>2],Q=0,g=17976931348623157e292,v=0,y=0,p=0;do{if(l[(Y=0|J+(0|52*Q)+48)>>2]=0,X=0|l[J+(0|52*Q)+16>>2]){j=0|l[J+(0|52*Q)+24>>2],W=0,m=0;do{if(U=0|l[j+(0|136*W)+24>>2]){N=0==(0|(V=0|B(0|l[j+(0|136*W)+20>>2],0|l[j+(0|136*W)+16>>2]))),z=0;do{if(!N){Z=0|l[j+(0|136*W)+28+(0|36*z)+20>>2],L=0;do{if(O=0|B(0|l[Z+(0|40*L)+20>>2],0|l[Z+(0|40*L)+16>>2])){F=0|Z+(0|40*L)+24,G=0;do{if(D=0|l[F>>2],M=0|l[D+(0|52*G)+48>>2]){T=0|8+(P=0|l[D+(0|52*G)+8>>2]),S=0;do{I=0|l[P+(0|24*S)>>2],S?(ee=0|S+-1,w=+b[P+(0|24*S)+8>>3]-+b[P+(0|24*ee)+8>>3],I=0|I-(0|l[P+(0|24*ee)>>2])):w=+b[T>>3],I&&(g=(H=w/+(0|I))<g?H:g,v=H>v?H:v),S=0|S+1}while(S>>>0<M>>>0)}p=0|(ee=0|B(0|(0|l[D+(0|52*G)+24>>2])-(0|l[D+(0|52*G)+16>>2]),0|(0|l[D+(0|52*G)+20>>2])-(0|l[D+(0|52*G)+12>>2])))+p,l[s>>2]=p,m=0|ee+m,l[Y>>2]=m,G=0|G+1}while(G>>>0<O>>>0)}L=0|L+1}while(L>>>0<V>>>0)}z=0|z+1}while(z>>>0<U>>>0)}W=0|W+1}while(W>>>0<X>>>0)}else m=0;y+=(H=+(0|1<<l[(0|l[24+(0|l[K>>2])>>2])+(0|52*Q)+24>>2])-1)*H*+(0|m),Q=0|Q+1}while(Q>>>0<q>>>0);H=g}else H=17976931348623157e292,v=0,y=0,p=0;if(N=0!=(0|o)){if(q=0|l[o+88>>2],K=0|l[e+36>>2],l[q+(0|592*K)+552>>2]=p,b[q+(0|592*K)+560>>3]=+b[c+32>>3],ee=0|ze(l[(p=0|h+8)>>2]<<3),l[q+(0|592*K)>>2]=ee,!ee)return A=d,0|(ee=0)}else p=0|h+8;if(!(0|l[p>>2]))return A=d,0|(ee=1);for(G=0|c+32,O=0|f+93,F=0|o+88,L=0|e+36,Z=0|c+40,z=0|e+24,U=0|e+8,V=0|e+16,D=0;;){if(M=(K=0<(k=+_[h+20+(D<<2)>>2]))&(M=~~+C(+k)>>>0)>>>0<n>>>0?M:n,k=+_[h+5184+(D<<2)>>2],R=+b[G>>3]-y/+E(10,+k/10),0==(1&(ee=0|r[O>>0]))|1^K&&!(0!=(4&ee)&0<k))g=H;else{if(!(T=0|Qi(0|l[z>>2],f))){p=0,$=56;break}if(P=0|D+1,I=0|u+(D+-1<<3),S=0|c+40+(D<<3),D){m=0,g=0,x=v,k=H;do{Jt(e,D,w=.5*(k+x),0);do{if(4&r[O>>0]){if(4<=(65535&(0|a[f>>1])-3)){if(+b[I>>3]+ +b[S>>3]<R){g=w,x=w;break}k=w,$=47;break}0|ji(T,0|l[L>>2],c,P,t,i,M,o,0|l[U>>2],0|l[e>>2],0|l[V>>2],0)?+b[I>>3]+ +b[S>>3]<R?(g=w,x=w):(k=w,$=47):k=w}else 0|ji(T,0|l[L>>2],c,P,t,i,M,o,0|l[U>>2],0|l[e>>2],0|l[V>>2],0)?(g=w,x=w,$=47):k=w}while(0);47==(0|$)&&($=0),m=0|m+1}while(128!=(0|m))}else{m=0,g=0,x=v,k=H;do{Jt(e,0,w=.5*(k+x),0);do{if(4&r[O>>0]){if(4<=(65535&(0|a[f>>1])-3)){if(+b[Z>>3]<R){g=w,x=w;break}k=w,$=39;break}0|ji(T,0|l[L>>2],c,P,t,i,M,o,0|l[U>>2],0|l[e>>2],0|l[V>>2],0)?+b[Z>>3]<R?(g=w,x=w):(k=w,$=39):k=w}else 0|ji(T,0|l[L>>2],c,P,t,i,M,o,0|l[U>>2],0|l[e>>2],0|l[V>>2],0)?(g=w,x=w,$=39):k=w}while(0);39==(0|$)&&($=0),m=0|m+1}while(128!=(0|m))}Ji(T),g=0==g?w:g}if(N&&(b[(0|l[(0|l[F>>2])+(0|592*(0|l[L>>2]))>>2])+(D<<3)>>3]=g),Jt(e,D,g,1),g=D?+b[u+(D+-1<<3)>>3]+ +b[c+40+(D<<3)>>3]:+b[Z>>3],b[u+(D<<3)>>3]=g,(D=0|D+1)>>>0>=(0|l[p>>2])>>>0){p=1,$=56;break}}return 56==(0|$)?(A=d,0|p):0}function Kt(e,t,i){t|=0,i|=0;var n,r=0,o=0;return l[24+(e|=0)>>2]=t,l[e+28>>2]=i,r=0|Ue(1,848),l[l[(n=0|e+20)>>2]>>2]=r,r?(o=0|Ue(0|l[(r=0|t+16)>>2],52),t=0|l[l[n>>2]>>2],l[t+20>>2]=o,o?(l[t+16>>2]=l[r>>2],l[e>>2]=l[i+84>>2],0|(o=1)):0|(o=0)):0|(i=0)}function $t(e){var t,i=0,n=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0;if(e|=0){i=0|l[(t=0|e+20)>>2];do{if(0|i){if(y=0==(1&r[e+40>>0])?3:4,n=0|l[i>>2]){if(i=0|l[(_=0|n+20)>>2],0|l[(p=0|n+16)>>2]){for(d=0;;){if(0|(n=0|l[(f=0|i+24)>>2])){if(u=0|((h=0|l[i+28>>2])>>>0)/136,135<h>>>0){for(h=0;;){if(0|(o=0|l[(c=0|n+48)>>2])){if(s=0|((a=0|l[n+52>>2])>>>0)/40,39<a>>>0){for(a=0;ui(0|l[(g=0|o+32)>>2]),l[g>>2]=0,ui(0|l[(g=0|o+36)>>2]),l[g>>2]=0,io[7&y](o),!((a=0|a+1)>>>0>=s>>>0);){o=0|o+40}o=0|l[c>>2]}We(o),l[c>>2]=0}if(0|(o=0|l[(c=0|n+84)>>2])){if(s=0|((g=0|l[n+88>>2])>>>0)/40,39<g>>>0){for(a=0;ui(0|l[(g=0|o+32)>>2]),l[g>>2]=0,ui(0|l[(g=0|o+36)>>2]),l[g>>2]=0,io[7&y](o),!((a=0|a+1)>>>0>=s>>>0);){o=0|o+40}o=0|l[c>>2]}We(o),l[c>>2]=0}if(0|(o=0|l[(c=0|n+120)>>2])){if(s=0|((g=0|l[n+124>>2])>>>0)/40,39<g>>>0){for(a=0;ui(0|l[(g=0|o+32)>>2]),l[g>>2]=0,ui(0|l[(g=0|o+36)>>2]),l[g>>2]=0,io[7&y](o),!((a=0|a+1)>>>0>=s>>>0);){o=0|o+40}o=0|l[c>>2]}We(o),l[c>>2]=0}if((h=0|h+1)>>>0>=u>>>0)break;n=0|n+136}n=0|l[f>>2]}We(n),l[f>>2]=0}if(0|l[i+36>>2]&&0|(b=0|l[(m=0|i+32)>>2])&&(Ne(b),l[m>>2]=0,l[m+4>>2]=0,l[m+8>>2]=0,l[m+12>>2]=0),(d=0|d+1)>>>0>=(0|l[p>>2])>>>0)break;i=0|i+52}i=0|l[_>>2]}if(We(i),l[_>>2]=0,We(0|l[l[t>>2]>>2]),i=0|l[t>>2],l[i>>2]=0,!i)break}We(i),l[t>>2]=0}}while(0);We(e)}}function ei(e){var t,i,n,r=0,o=0,a=0;r=0|l[(n=0|32+(e|=0))>>2],i=0|l[(t=0|e+40)>>2];do{if(r){if(i>>>0<=(0|l[(o=0|e+44)>>2])>>>0)return 0|(a=1);if(0|l[e+36>>2]){if(Ne(r),r=0|Ve(0|l[t>>2]),l[n>>2]=r,0|r){l[o>>2]=l[t>>2];break}return l[o>>2]=0,l[t>>2]=0,l[e+36>>2]=0,0|(a=0)}a=4}else a=4}while(0);do{if(4==(0|a)){if(a=0|Ve(i),l[n>>2]=a,a){l[e+44>>2]=l[t>>2];break}return 0|(a=0)}}while(0);return l[e+36>>2]=1,0|(a=1)}function ti(e,t,i){return 0|ii(e|=0,t|=0,1,1,52,i|=0)}function ii(e,t,i,n,o,a){t|=0,i|=0,n=+n,o|=0,a|=0;var s,c,h,u,f,d,p,m,b,y,g,v,w,x,I,S,E,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,fe=0,de=0,pe=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0,Be=0,Me=0,Pe=0,Te=0,De=0,Re=0,Ge=0,Oe=0,Fe=0,Le=0,Ze=0,je=0,Ye=0,Xe=0,Qe=0,Je=0,qe=0,Ke=0,$e=0,et=0,tt=0,it=0;if(E=A,A=0|A+112,x=0|E+104,w=0|E+96,v=0|E+88,g=0|E+80,y=0|E+72,b=0|E+64,m=0|E+56,p=0|E+48,tt=0|E+40,S=0|E+32,I=0|E+24,P=0|l[28+(e|=0)>>2],d=0|l[l[e+20>>2]>>2],T=0|l[(0|l[P+76>>2])+(0|5640*t)+5584>>2],D=0|l[d+20>>2],M=0|l[e+24>>2],R=0|l[M+24>>2],C=0|l[P+24>>2],F=0|l[P+12>>2],G=(et=0|(0|B(F,0|(t>>>0)%(C>>>0)))+(0|l[P+4>>2]))>>>0>(G=0|l[M>>2])>>>0?et:G,l[d>>2]=G,et=0|gr(0|F,0,0|et,0),F=(et|=0-k)>>>0<(F=0|l[M+8>>2])>>>0?et:F,l[(et=0|d+8)>>2]=F,!(-1<(0|G)&(0|F)>(0|G)))return _e(a,1,19655,E),A=E,0|(tt=0);if(O=0|l[P+16>>2],C=(Ke=0|(0|B(O,0|(t>>>0)/(C>>>0)))+(0|l[P+8>>2]))>>>0>(C=0|l[M+4>>2])>>>0?Ke:C,l[(f=0|d+4)>>2]=C,Ke=0|gr(0|O,0,0|Ke,0),O=(Ke|=0-k)>>>0<(O=0|l[M+12>>2])>>>0?Ke:O,l[(Ke=0|d+12)>>2]=O,!(-1<(0|C)&(0|O)>(0|C)))return _e(a,1,19693,0|E+8),A=E,0|(tt=0);if(!(0|l[T+4>>2]))return _e(a,1,19731,0|E+16),A=E,0|(tt=0);if(!(0|l[(u=0|d+16)>>2]))return A=E,0|(tt=1);h=0|P+80,c=0|e+40,s=0==(0|i),t=0,qe=D,M=G,P=F,e=O;e:for(;;){if(l[R+36>>2]=0,Ye=0|(0|M+-1+(Qe=0|l[R>>2]))/(0|Qe),l[qe>>2]=Ye,M=0|(0|C+-1+(Xe=0|l[R+4>>2]))/(0|Xe),l[(Je=0|qe+4)>>2]=M,P=0|(0|P+-1+Qe)/(0|Qe),l[(Qe=0|qe+8)>>2]=P,C=0|(0|e+-1+Xe)/(0|Xe),l[(Xe=0|qe+12)>>2]=C,P=0|P-Ye){if((0|4294967295/(P>>>0))>>>0<(C=0|C-M)>>>0){$e=12;break}}else C=0|C-M;if(1073741823<(C=0|B(C,P))>>>0){$e=14;break}M=C<<2,C=0|l[T+4>>2],l[(Ye=0|qe+16)>>2]=C,P=0|l[h>>2],l[qe+20>>2]=C>>>0<P>>>0?1:0|C-P,l[(P=0|qe+40)>>2]=M;do{if(1&r[c>>0]){if(i=0|l[(e=0|qe+32)>>2]){if(M>>>0<=(0|l[(D=0|qe+44)>>2])>>>0)break;if(0|l[(C=0|qe+36)>>2]){if(Ne(i),je=0|Ve(0|l[P>>2]),l[e>>2]=je,!je){$e=22;break e}l[D>>2]=l[P>>2]}else $e=19}else $e=19;if(19==(0|$e)){if($e=0,je=0|Ve(M),l[e>>2]=je,!je)break e;l[qe+44>>2]=l[P>>2],C=0|qe+36}l[C>>2]=1,C=0|l[Ye>>2]}}while(0);if(P=0|136*C,C=0|l[(e=0|qe+24)>>2]){if(P>>>0>(0|l[(M=0|qe+28)>>2])>>>0){if(!(C=0|He(C,P))){$e=31;break}l[e>>2]=C,Mr(0|C+(je=0|l[M>>2]),0,0|P-je),l[M>>2]=P}}else{if(C=0|ze(P),l[e>>2]=C,!C){t=0,$e=100;break}l[qe+28>>2]=P,Mr(0|C,0,0|P)}if(je=0==(0|l[T+20>>2])?7:8,0|(C=0|l[Ye>>2]))for(Oe=0|T+8,Fe=0|T+12,Le=0|R+24,Ze=0|T+804,Ge=0,Re=0|l[e>>2],O=0|T+28;;){if(Ce=C,C=0|C+-1,De=0|l[qe>>2],De=0|Ir(0|(De=0|gr(0|(Pe=0|gr(0|(Be=0|Er(1,0,0|C)),0|(Me=k),-1,-1)),0|(Te=k),0|De,0|(0>(0|De))<<31>>31)),0|k,0|C),l[Re>>2]=De,Ie=0|Ir(0|(Ie=0|gr(0|Pe,0|Te,0|(Ie=0|l[Je>>2]),0|(0>(0|Ie))<<31>>31)),0|k,0|C),l[Re+4>>2]=Ie,M=0|Ir(0|(M=0|gr(0|Pe,0|Te,0|(M=0|l[Qe>>2]),0|(0>(0|M))<<31>>31)),0|k,0|C),l[Re+8>>2]=M,Se=0|Ir(0|(Se=0|gr(0|Pe,0|Te,0|(Se=0|l[Xe>>2]),0|(0>(0|Se))<<31>>31)),0|k,0|C),l[Re+12>>2]=Se,G=De>>(i=0|l[T+812+(Ge<<2)>>2])<<i,D=Ie>>(e=0|l[T+944+(Ge<<2)>>2])<<e,Ee=0|Ir(0|(Ee=0|gr(0|(Ee=0|gr(0|(Ee=0|Er(1,0,0|i)),0|k,-1,-1)),0|k,0|M,0|(0>(0|M))<<31>>31)),0|k,0|i),P=0|Ir(0|(P=0|gr(0|(P=0|gr(0|(P=0|Er(1,0,0|e)),0|k,-1,-1)),0|k,0|Se,0|(0>(0|Se))<<31>>31)),0|k,0|e),Ee=(Ee<<i)-G>>i,M=(0|De)==(0|M)?0:Ee,l[(De=0|Re+16)>>2]=M,P=(0|Ie)==(0|Se)?0:(P<<e)-D>>e,l[Re+20>>2]=P,0|M&&(0|4294967295/(Ee>>>0))>>>0<P>>>0){$e=37;break e}if(107374182<(Ie=0|B(P,M))>>>0){$e=39;break e}for(Se=0|40*Ie,(Ee=0==(0|Ge))?M=1:(G=0|Sr(0|(G=0|gr(0|G,0|(0>(0|G))<<31>>31,1,0)),0|k,1),D=0|Sr(0|(D=0|gr(0|D,0|(0>(0|D))<<31>>31,1,0)),0|k,1),e=0|e+-1,i=0|i+-1,M=3),l[(ke=0|Re+24)>>2]=M,se=(se=0|l[Oe>>2])>>>0<i>>>0?se:i,le=(le=0|l[Fe>>2])>>>0<e>>>0?le:e,ce=0!=(0|Ie),he=0==(0|Ie),ue=1<<i,fe=1<<e,de=0|gr(0|(de=0|Er(1,0,0|se)),0|k,-1,-1),pe=k,me=0|gr(0|(me=0|Er(1,0,0|le)),0|k,-1,-1),be=k,ye=1<<se,ge=1<<le,we=0|gr(0|(ve=0|Er(1,0,0|Ce)),0|(Ae=k),-1,-1),xe=k,oe=0,ae=0|Re+28;;){if(Ee?(M=0|Ir(0|(M=0|gr(0|Pe,0|Te,0|(M=0|l[qe>>2]),0|(0>(0|M))<<31>>31)),0|k,0|C),P=0|Ir(0|(P=0|gr(0|Pe,0|Te,0|(P=0|l[Je>>2]),0|(0>(0|P))<<31>>31)),0|k,0|C),F=0|Ir(0|(F=0|gr(0|Pe,0|Te,0|(F=0|l[Qe>>2]),0|(0>(0|F))<<31>>31)),0|k,0|C),N=0,L=Z=0|l[Xe>>2],Z=(0>(0|Z))<<31>>31,z=Be,U=Me,V=C):(N=0|oe+1,M=0|l[qe>>2],M=0|Ir(0|(M=0|gr(0|(U=0|vr(0|we,0|xe,0|(U=0|Er(0|1&N,0,0|C)),0|k)),0|(z=k),0|M,0|(0>(0|M))<<31>>31)),0|k,0|Ce),P=0|l[Je>>2],P=0|Ir(0|(P=0|gr(0|(F=0|vr(0|we,0|xe,0|(Z=0|Er(0|N>>>1,0,0|C)),0|(L=k))),0|k,0|P,0|(0>(0|P))<<31>>31)),0|k,0|Ce),F=0|Ir(0|(F=0|gr(0|U,0|z,0|(F=0|l[Qe>>2]),0|(0>(0|F))<<31>>31)),0|k,0|Ce),L=0|vr(0|(z=0|l[Xe>>2]),0|(0>(0|z))<<31>>31,0|Z,0|L),Z=k,z=ve,U=Ae,V=Ce),l[ae+16>>2]=N,l[ae>>2]=M,l[(re=0|ae+4)>>2]=P,l[(ne=0|ae+8)>>2]=F,F=0|Ir(0|(F=0|gr(0|(F=0|gr(0|L,0|Z,-1,-1)),0|k,0|z,0|U)),0|k,0|V),l[(ie=0|ae+12)>>2]=F,F=0|Xr[15&je](N),it=.00048828125*+(0|l[O+4>>2])+1,it=+fr(1,0|(0|l[Le>>2])+F-(0|l[O>>2]))*it*n,_[ae+32>>2]=it,l[ae+28>>2]=(0|l[O>>2])-1+(0|l[Ze>>2]),ce&0==(0|(P=0|l[(F=0|ae+20)>>2]))){if(M=0|ze(Se),l[F>>2]=M,!M){$e=48;break e}Mr(0|M,0,0|Se),M=0|ae+24,$e=54}else if((0|l[(M=0|ae+24)>>2])>>>0<Se>>>0){if(!(P=0|He(P,Se))){$e=53;break e}l[F>>2]=P,Mr(0|P+($e=0|l[M>>2]),0,0|Se-$e),$e=54}if(54==(0|$e)&&($e=0,l[M>>2]=Se),!he)for(te=0,j=0|l[F>>2];;){X=0|(q=0|((0|(te>>>0)%((Y=0|l[De>>2])>>>0))<<i)+G)+ue,Q=0|(Y=0|((0|(te>>>0)/(Y>>>0))<<e)+D)+fe,J=(0|q)>(0|(J=0|l[ae>>2]))?q:J,l[j>>2]=J,q=(0|Y)>(0|(q=0|l[re>>2]))?Y:q,l[(Y=0|j+4)>>2]=q,F=(0|X)<(0|(F=0|l[ne>>2]))?X:F,l[(X=0|j+8)>>2]=F,P=(0|Q)<(0|(P=0|l[ie>>2]))?Q:P,l[(Q=0|j+12)>>2]=P,J=J>>se<<se,q=q>>le<<le,F=0|Ir(0|(F=0|gr(0|de,0|pe,0|F,0|(0>(0|F))<<31>>31)),0|k,0|se),P=0|Ir(0|(P=0|gr(0|me,0|be,0|P,0|(0>(0|P))<<31>>31)),0|k,0|le),F=(F<<se)-J>>se,l[(K=0|j+16)>>2]=F,P=(P<<le)-q>>le,l[(z=0|j+20)>>2]=P,$=0|B(F,P),Z=0|B($,o),L=0|l[(ee=0|j+24)>>2];do{if(0==(0|L)&0!=(0|$)){if(M=0|ze(Z),l[ee>>2]=M,!M){t=0,$e=100;break e}Mr(0|M,0,0|Z),M=0|j+28,$e=64}else{if(Z>>>0<=(0|l[(M=0|j+28)>>2])>>>0)break;if(!(P=0|He(L,Z))){$e=63;break e}l[ee>>2]=P,Mr(0|P+($e=0|l[M>>2]),0,0|Z-$e),$e=64}}while(0);if(64==(0|$e)&&($e=0,l[M>>2]=Z,F=0|l[K>>2],P=0|l[z>>2]),M=(M=0|l[(L=0|j+32)>>2])?0|hi(M,F,P,a):0|li(F,P,a),l[L>>2]=M,M||_e(a,2,19944,w),P=0|l[(L=0|j+36)>>2],F=0|l[K>>2],M=0|l[z>>2],M=P?0|hi(P,F,M,a):0|li(F,M,a),l[L>>2]=M,M||_e(a,2,19966,x),0|$){W=0;do{N=0|(U=0|((0|(W>>>0)%((V=0|l[K>>2])>>>0))<<se)+J)+ye,H=0|(V=0|((0|(W>>>0)/(V>>>0))<<le)+q)+ge;do{if(s){if(z=0|l[ee>>2],0|l[(M=0|z+(0|56*W))>>2]){F=0|l[(P=0|z+(0|56*W)+32)>>2],Z=0|44+(L=M=0|z+(0|56*W)+8);do{l[L>>2]=0,L=0|L+4}while((0|L)<(0|Z));l[P>>2]=F}else{if(Z=0|ze(8192),l[M>>2]=Z,!Z){t=0,$e=100;break e}if(l[z+(0|56*W)+32>>2]=8192,Z=0|Ue(10,32),l[z+(0|56*W)+4>>2]=Z,!Z){t=0,$e=100;break e}l[z+(0|56*W)+52>>2]=10,M=0|z+(0|56*W)+8}Z=0|l[j>>2],l[M>>2]=(0|U)>(0|Z)?U:Z,U=0|l[Y>>2],l[z+(0|56*W)+12>>2]=(0|V)>(0|U)?V:U,V=0|l[X>>2],l[z+(0|56*W)+16>>2]=(0|N)<(0|V)?N:V,N=0|l[Q>>2],l[z+(0|56*W)+20>>2]=(0|H)<(0|N)?H:N}else{if(P=0|l[ee>>2],0==(0|l[(M=0|P+(0|52*W)+4)>>2])&&(z=0|Ue(100,24),l[M>>2]=z,0==(0|z))){t=0,$e=100;break e}if(0==(0|l[(M=0|P+(0|52*W)+8)>>2])&&(z=0|Ue(100,24),l[M>>2]=z,0==(0|z))){t=0,$e=100;break e}if(F=(0|U)>(0|(F=0|l[j>>2]))?U:F,l[P+(0|52*W)+12>>2]=F,V=(0|V)>(0|(L=0|l[Y>>2]))?V:L,l[P+(0|52*W)+16>>2]=V,L=(0|N)<(0|(L=0|l[X>>2]))?N:L,l[P+(0|52*W)+20>>2]=L,H=(0|H)<(0|(N=0|l[Q>>2]))?H:N,l[P+(0|52*W)+24>>2]=H,(F=0|B(0|H-V,L-F<<2))>>>0<=(0|l[(L=0|P+(0|52*W)+36)>>2])>>>0)break;if(0|(M=0|l[(P=0|P+(0|52*W))>>2])&&We(0|M+-1),M=0|ze(1|F),l[P>>2]=M,!M){$e=87;break e}l[L>>2]=F,r[M>>0]=0,l[P>>2]=1+(0|l[P>>2])}}while(0);W=0|W+1}while(W>>>0<$>>>0)}if((te=0|te+1)>>>0>=Ie>>>0)break;j=0|j+40}if(O=0|O+8,(oe=0|oe+1)>>>0>=(0|l[ke>>2])>>>0)break;ae=0|ae+36}if((Ge=0|Ge+1)>>>0>=(0|l[Ye>>2])>>>0)break;Re=0|Re+136}if((t=0|t+1)>>>0>=(0|l[u>>2])>>>0){t=1,$e=100;break}T=0|T+1080,qe=0|qe+52,R=0|R+52,M=0|l[d>>2],C=0|l[f>>2],P=0|l[et>>2],e=0|l[Ke>>2]}switch(0|$e){case 12:return _e(a,1,19770,I),A=E,0|(tt=0);case 14:return _e(a,1,19770,S),A=E,0|(tt=0);case 22:l[D>>2]=0,l[P>>2]=0,l[C>>2]=0;break;case 31:return _e(a,1,19803,p),We(0|l[e>>2]),l[e>>2]=0,l[M>>2]=0,A=E,0|(tt=0);case 37:return _e(a,1,19770,m),A=E,0|(tt=0);case 39:return _e(a,1,19770,b),A=E,0|(tt=0);case 48:return _e(a,1,19843,y),A=E,0|(tt=0);case 53:return _e(a,1,19843,g),We(0|l[F>>2]),l[F>>2]=0,l[M>>2]=0,A=E,0|(tt=0);case 63:return We(0|l[ee>>2]),l[ee>>2]=0,l[M>>2]=0,_e(a,1,19886,v),A=E,0|(tt=0);case 87:return l[L>>2]=0,A=E,0|(tt=0);case 100:return A=E,0|t;}return _e(a,1,19770,tt),A=E,0|(tt=0)}function ni(e,t,i,n,o,a){t|=0,i|=0,n|=0,o|=0,a|=0;var s,c,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0;if(c=A,A=0|A+16,s=c,!(0|l[8+(e|=0)>>2])){if(l[e+36>>2]=t,h=0|l[76+(0|l[(w=0|e+28)>>2])>>2],l[(k=0|e+32)>>2]=h+(0|5640*t),v=0|e+20,!(x=0==(0|a))){if(u=0|l[20+(0|l[l[v>>2]>>2])>>2],_=0|l[h+(0|5640*t)+5584>>2],0|l[(m=0|u+16)>>2]){d=0|l[u+24>>2],p=0|l[(h=0|a+88)>>2],u=0,f=0;do{g=0|d+(0|136*f)+16,l[p+(0|592*t)+20+(f<<2)>>2]=l[g>>2],y=0|d+(0|136*f)+20,l[p+(0|592*t)+152+(f<<2)>>2]=l[y>>2],u=0|(0|B(0|l[y>>2],0|l[g>>2]))+u,l[p+(0|592*t)+284+(f<<2)>>2]=l[_+812+(f<<2)>>2],l[p+(0|592*t)+416+(f<<2)>>2]=l[_+944+(f<<2)>>2],f=0|f+1}while(f>>>0<(0|l[m>>2])>>>0)}else u=0,h=0|a+88;if(g=0|Ue(0|B(0|B(0|l[a+52>>2],u),0|l[a+56>>2]),32),l[(0|l[h>>2])+(0|592*t)+548>>2]=g,!g)return A=c,0|(a=0)}if(h=0|l[l[v>>2]>>2],0|l[(g=0|h+16)>>2])for(p=0|l[k>>2],t=0,b=u=0|l[h+20>>2],y=0|l[p+5584>>2];;){if(_=0|l[b+32>>2],h=0!=(0|(m=0|B(0|(0|l[b+12>>2])-(0|l[b+4>>2]),0|(0|l[b+8>>2])-(0|l[b>>2])))),1==(0|l[y+20>>2])){if(h)for(d=0|y+1076,f=0,h=_;l[h>>2]=(0|l[h>>2])-(0|l[d>>2]),(0|(f=0|f+1))!=(0|m);){h=0|h+4}}else if(h)for(d=0|y+1076,h=_,f=0;l[h>>2]=(0|l[h>>2])-(0|l[d>>2])<<11,(0|(f=0|f+1))!=(0|m);){h=0|h+4}if((t=0|t+1)>>>0>=(h=0|l[g>>2])>>>0)break;b=0|b+52,y=0|y+1080}else u=0|l[h+20>>2],p=0|l[k>>2],h=0;_=0|B(0|(0|l[u+12>>2])-(0|l[u+4>>2]),0|(0|l[u+8>>2])-(0|l[u>>2]));e:{switch(0|l[p+16>>2]){case 0:break;case 2:if(0|l[p+5608>>2]){if(!(d=0|ze(h<<2)))return A=c,0|(a=0);if(h=0|l[g>>2])for(f=0;l[d+(f<<2)>>2]=l[u+32>>2],(0|(f=0|f+1))!=(0|h);){u=0|u+52}else h=0;if(g=0==(0|Gt(0|l[5608+(0|l[k>>2])>>2],_,d,h,0|l[32+(0|l[24+(0|l[e+24>>2])>>2])>>2])),We(d),g)return A=c,0|(a=0)}break;default:if(f=0|l[u+32>>2],d=0|l[u+84>>2],h=0|l[u+136>>2],0|l[20+(0|l[p+5584>>2])>>2]){Pt(f,d,h,_);break e}Dt(f,d,h,_);break e;}}d=0|16+(h=0|l[l[v>>2]>>2]);e:do{if(0|l[d>>2]){f=0|l[5584+(0|l[k>>2])>>2],h=0|l[h+20>>2],u=0;t:for(;;){switch(0|l[f+20>>2]){case 1:if(!(0|Ei(h))){h=0,u=53;break t}break;case 0:if(!(0|Ti(h))){h=0,u=53;break t}}if((u=0|u+1)>>>0>=(0|l[d>>2])>>>0)break e;f=0|f+1080,h=0|h+52}if(53==(0|u))return A=c,0|h}}while(0);if(f=0|l[k>>2],!(d=0|zi(1)))return A=c,0|(a=0);do{if(1==(0|l[f+16>>2])){if(0|l[20+(0|l[f+5584>>2])>>2]){h=3,u=8;break}h=3,u=32;break}h=0|l[16+(0|l[e+24>>2])>>2],u=0|l[f+5600>>2]}while(0);if(v=0==(0|Wi(d,0|l[l[v>>2]>>2],f,u,h)),Ui(d),v)return A=c,0|(a=0);if(h=0|l[w>>2],l[s>>2]=0,x||(l[a+12>>2]=0),5&r[h+93>>0]){if(!(0|qt(e,i,s,o,a)))return A=c,0|(a=0)}else if(0|l[8+(0|l[k>>2])>>2]){h=0;do{Qt(e,h,1),h=0|h+1}while(h>>>0<(0|l[8+(0|l[k>>2])>>2])>>>0)}}return 0|a&&(l[a+12>>2]=1),(h=0|Qi(0|l[e+24>>2],0|l[e+28>>2]))?(a=0!=(0|ji(h,0|l[e+36>>2],0|l[l[e+20>>2]>>2],0|l[8+(0|l[e+32>>2])>>2],i,n,o,a,0|l[e+4>>2],0|l[e>>2],0|l[e+16>>2],1)),Ji(h),A=c,0|(a&=1)):(A=c,0|(a=0))}function ri(e,t,i,n,r,o){t|=0,i|=0,n|=0,r|=0,o|=0;var a,s,c=0,h=0,u=0,f=0,d=0,p=0,m=0,b=0,y=0,g=0,v=0;if(s=A,A=0|A+16,f=0|s+8,u=s,c=0|s+12,l[(h=0|36+(e|=0))>>2]=n,b=0|l[e+28>>2],l[(a=0|e+32)>>2]=(0|l[b+76>>2])+(0|5640*n),l[c>>2]=0,!(n=0|Qi(0|l[(y=0|e+24)>>2],b)))return A=s,0|(v=0);if(d=0|e+20,b=0==(0|function(e,t,i,n,r,o,a,s){t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0;var c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0;if(K=A,A=0|A+112,q=0|K+64,Y=0|K+32,j=K,H=0|K+96,W=0|K+92,c=0|l[(e|=0)>>2],N=0|l[(L=0|e+4)>>2],a=0|l[N+76>>2],Z=0|a+(0|5640*t),V=0|1+(0|l[(z=0|a+(0|5640*t)+420)>>2]),!(N=0|Lt(c,N,t)))return A=K,0|($=0);U=0|c+16,F=0|a+(0|5640*t)+12,O=0|i+20,R=0|c+24,D=N,e=o,a=n,T=0;e:for(;;){if(-1==(0|l[D+80>>2])){$=4;break}if(!(G=0|ze(l[U>>2]<<2))){$=6;break}if(Mr(0|G,1,0|l[U>>2]<<2),0|Yt(D))for(E=0|D+24,C=0|D+28,M=0|D+36,P=0|D+32,S=a;;){if((0|l[F>>2])>>>0>(0|l[M>>2])>>>0){if(a=0|l[O>>2],t=0|l[E>>2],(0|l[C>>2])>>>0<(0|l[a+(0|52*t)+20>>2])>>>0){if(l[G+(t<<2)>>2]=0,I=0|l[L>>2],l[W>>2]=0,!(0|Xi(I,a,Z,D,H,S,W,e,s))){$=45;break e}if(a=0|l[W>>2],0|l[H>>2]){k=0|e-a,I=0|S+a,l[W>>2]=0,t=0|l[(0|l[O>>2])+(0|52*(0|l[E>>2]))+24>>2],i=0|l[C>>2],o=0|l[(w=0|t+(0|136*i)+24)>>2];t:do{if(o){x=0|S+e,c=0,v=0|t+(0|136*i)+28,t=I,i=o;i:for(;;){if(o=0|l[v+20>>2],h=0|l[P>>2],(0|l[v+8>>2])!=(0|l[v>>2])&&(0|l[v+12>>2])!=(0|l[v+4>>2])&&0!=(0|(J=0|B(0|l[o+(0|40*h)+20>>2],0|l[o+(0|40*h)+16>>2])))){for(i=0,g=0|l[o+(0|40*h)+24>>2];;){if(0|l[(b=0|g+40)>>2]){o=0|l[(y=0|g+44)>>2],h=0|l[g+4>>2];do{if(o){if((0|l[h+((u=0|o+-1)<<5)+8>>2])!=(0|l[h+(u<<5)+20>>2])){h=0|h+(u<<5);break}l[y>>2]=o+1,h=0|h+(o<<5)}else l[y>>2]=1,l[g+36>>2]=0}while(0);if(_=0|g+36,m=0|g+32,p=t,(0|(o=0|l[(d=0|h+28)>>2])+p)>>>0<p>>>0|(0|t+o)>>>0>x>>>0){t=o;break i}for(u=o,f=0|l[_>>2],p=d;;){if((d=0|u+f)>>>0<f>>>0){$=29;break e}if(o=0|l[g>>2],d>>>0>(0|l[m>>2])>>>0){if(!(o=0|He(o,d))){$=33;break e}f=0|l[_>>2],u=0|l[p>>2],l[m>>2]=u+f,l[g>>2]=o}if(Br(0|o+f,0|t,0|u),(u=0|l[(o=0|h+8)>>2])?f=0|l[_>>2]:(l[h>>2]=g,f=0|l[_>>2],l[h+4>>2]=f),ee=0|l[p>>2],t=0|t+ee,p=0|l[h+24>>2],d=0|p+u,l[o>>2]=d,p=0|(0|l[b>>2])-p,l[b>>2]=p,l[h+12>>2]=d,f=0|ee+f,l[_>>2]=f,l[(d=0|h+16)>>2]=(0|l[d>>2])+ee,!p)break;if(l[y>>2]=1+(0|l[y>>2]),ee=t,(0|(o=0|l[(p=0|h+60)>>2])+ee)>>>0<ee>>>0|(0|t+o)>>>0>x>>>0){t=o;break i}h=0|h+32,u=o}l[g+48>>2]=l[y>>2]}if(!((i=0|i+1)>>>0<J>>>0))break;g=0|g+56}i=0|l[w>>2]}if(!((c=0|c+1)>>>0<i>>>0)){$=43;break t}v=0|v+36}x=0|l[P>>2],I=0|l[C>>2],ee=0|l[E>>2],l[j>>2]=t,l[j+4>>2]=k,l[j+8>>2]=i,l[j+12>>2]=x,l[j+16>>2]=c,l[j+20>>2]=I,l[j+24>>2]=ee,_e(s,2,21892,j),t=0}else t=I,$=43}while(0);43==(0|$)&&($=0,t=0|t-I,l[W>>2]=t),a=0|t+a}ee=0|l[E>>2],k=0|l[C>>2],t=0|(0|l[R>>2])+(0|52*ee)+36,I=0|l[t>>2],l[t>>2]=k>>>0>I>>>0?k:I,t=a,a=ee}else $=47;}else a=0|l[O>>2],$=47;if(47==(0|$)){if($=0,ee=0|l[L>>2],l[W>>2]=0,!(0|Xi(ee,a,Z,D,H,S,W,e,s)))break e;if(t=0|l[W>>2],0|l[H>>2]){if(v=0|e-t,x=0|l[E>>2],a=0|l[(0|l[O>>2])+(0|52*x)+24>>2],w=0|l[C>>2],l[W>>2]=0,y=0|l[a+(0|136*w)+24>>2]){for(g=0|l[P>>2],c=0,b=0|a+(0|136*w)+28,a=0;;){if(i=0|l[b+20>>2],(0|l[b+8>>2])!=(0|l[b>>2])&&(0|l[b+12>>2])!=(0|l[b+4>>2])&&0!=(0|(X=0|B(0|l[i+(0|40*g)+20>>2],0|l[i+(0|40*g)+16>>2]))))for(m=0|l[i+(0|40*g)+24>>2],i=0,d=a;;){if(f=0|l[(p=0|m+40)>>2]){h=0|l[(_=0|m+44)>>2],a=0|l[m+4>>2];do{if(h){if(u=0|h+1,(0|l[a+((o=0|h+-1)<<5)+8>>2])!=(0|l[a+(o<<5)+20>>2])){o=0|a+(o<<5),u=h;break}l[_>>2]=u,o=0|a+(h<<5)}else l[_>>2]=1,l[m+36>>2]=0,o=a,u=1}while(0);if(a=0|l[o+28>>2],(h=0|a+d)>>>0<d>>>0|h>>>0>v>>>0){$=67;break e}for(d=o;ee=0|l[d+24>>2],l[(I=0|d+8)>>2]=(0|l[I>>2])+ee,f=0|f-ee;){if(u=0|u+1,l[_>>2]=u,a=0|l[d+60>>2],(o=0|a+h)>>>0<h>>>0|o>>>0>v>>>0){$=68;break e}d=0|d+32,h=o}l[p>>2]=0,a=h}else a=d;if(!((i=0|i+1)>>>0<X>>>0))break;m=0|m+56,d=a}if(!((c=0|c+1)>>>0<y>>>0))break;b=0|b+36}l[W>>2]=a}else a=0;t=0|a+t,a=x}else a=0|l[E>>2]}if(0|l[G+(a<<2)>>2]&&(Q=0|(0|l[R>>2])+(0|52*a)+36,0==(0|l[Q>>2]))&&(l[Q>>2]=(0|l[(0|l[O>>2])+(0|52*a)+20>>2])-1),a=0|S+t,e=0|e-t,!(0|Yt(D)))break;S=a}if(We(G),(T=0|T+1)>>>0>(0|l[z>>2])>>>0){$=79;break}D=0|D+232}if(4==(0|$))return Ut(N,V),A=K,0|(ee=0);if(6==(0|$))return Ut(N,V),A=K,0|(ee=0);if(29==(0|$))J=0|l[P>>2],q=0|l[C>>2],ee=0|l[E>>2],l[Y>>2]=u,l[Y+4>>2]=f,l[Y+8>>2]=~u,l[Y+12>>2]=i,l[Y+16>>2]=J,l[Y+20>>2]=c,l[Y+24>>2]=q,l[Y+28>>2]=ee,_e(s,1,21977,Y),$=45;else if(33==(0|$))We(0|l[g>>2]),l[g>>2]=0,l[m>>2]=0,$=45;else if(67==(0|$))l[W>>2]=d,$=69;else if(68==(0|$))l[W>>2]=h,l[p>>2]=f,$=69;else if(79==(0|$))return Ut(N,V),l[r>>2]=a-n,A=K,0|(ee=1);return 45==(0|$)?(Ut(N,V),We(G),A=K,0|(ee=0)):(69==(0|$)&&(l[q>>2]=a,l[q+4>>2]=v,l[q+8>>2]=i,l[q+12>>2]=g,l[q+16>>2]=c,l[q+20>>2]=w,l[q+24>>2]=x,_e(s,1,22076,q)),Ut(N,V),We(G),A=K,0|(ee=0))}(n,0|l[h>>2],0|l[l[d>>2]>>2],t,c,i,r,o)),Ji(n),b)return A=s,0|(v=0);if(n=0|l[l[d>>2]>>2],i=0|l[5584+(0|l[a>>2])>>2],e=0|l[n+20>>2],!(c=0|zi(0)))return A=s,0|(v=0);r=0|n+16;e:do{if(0|l[r>>2]){for(t=0,n=i;0|Vi(c,e,n);){if((t=0|t+1)>>>0>=(0|l[r>>2])>>>0)break e;e=0|e+52,n=0|n+1080}return Ui(c),A=s,0|(v=0)}}while(0);Ui(c),c=0|16+(n=0|l[l[d>>2]>>2]);do{if(0|l[c>>2]){for(r=0|l[5584+(0|l[a>>2])>>2],n=0|l[n+20>>2],e=0,t=0|l[24+(0|l[y>>2])>>2];;){if(i=0|1+(0|l[t+36>>2]),1==(0|l[r+20>>2])){if(!(0|Bi(n,i))){n=0,e=47;break}}else if(!(0|Gi(n,i))){n=0,e=47;break}if((e=0|e+1)>>>0>=(0|l[c>>2])>>>0){e=14;break}r=0|r+1080,n=0|n+52,t=0|t+52}if(14==(0|e)){n=0|l[l[d>>2]>>2];break}if(47==(0|e))return A=s,0|n}}while(0);i=0|l[a>>2],e=0|l[n+20>>2],t=0|l[i+16>>2];do{if(0|t){if(h=0|B(0|(0|l[e+12>>2])-(0|l[e+4>>2]),0|(0|l[e+8>>2])-(0|l[e>>2])),2>=(n=0|l[(c=0|n+16)>>2])>>>0){l[f>>2]=n,_e(o,1,20049,f);break}if((0|B(0|(0|l[e+64>>2])-(0|l[e+56>>2]),0|(0|l[e+60>>2])-(0|l[e+52>>2])))>=(0|h)&&(0|B(0|(0|l[e+116>>2])-(0|l[e+108>>2]),0|(0|l[e+112>>2])-(0|l[e+104>>2])))>=(0|h)){if(2!=(0|t)){if(n=0|l[e+32>>2],1==(0|l[20+(0|l[i+5584>>2])>>2])){Tt(n,0|l[e+84>>2],0|l[e+136>>2],h);break}Rt(n,0|l[e+84>>2],0|l[e+136>>2],h);break}if(!(0|l[(r=0|i+5604)>>2]))break;if(!(i=0|ze(n<<2)))return A=s,0|(v=0);if(n=0|l[c>>2])for(t=0;l[i+(t<<2)>>2]=l[e+32>>2],(0|(t=0|t+1))!=(0|n);){e=0|e+52}else n=0;if(b=0==(0|Ot(0|l[r>>2],h,i,n,0|l[32+(0|l[24+(0|l[y>>2])>>2])>>2])),We(i),!b)break;return A=s,0|(n=0)}return _e(o,1,19988,u),A=s,0|(v=0)}}while(0);if(n=0|l[l[d>>2]>>2],!(0|l[(b=0|n+16)>>2]))return A=s,0|(v=1);for(m=0,p=0|l[n+20>>2],d=0|l[5584+(0|l[a>>2])>>2],h=0|l[24+(0|l[y>>2])>>2];;){if(f=0|l[p+24>>2],u=0|l[h+36>>2],o=0|(0|l[f+(0|136*u)+8>>2])-(0|l[f+(0|136*u)>>2]),u=0|(0|l[f+(0|136*u)+12>>2])-(0|l[f+(0|136*u)+4>>2]),f=0|(0|l[p+8>>2])-(0|l[p>>2]),n=0|l[h+24>>2],0|l[h+32>>2]?(n=c=1<<n+-1,c=0|0-c):(n=1<<n,c=0),r=0|n+-1,e=0|l[p+32>>2],n=0!=(0|u),1==(0|l[d+20>>2])){if(n&&(v=0|d+1076,0|o))for(n=0;;){for(t=0,i=e;y=0|(0|l[v>>2])+(0|l[i>>2]),l[i>>2]=(0|y)<(0|c)?c:(0|y)>(0|r)?r:y,(0|(t=0|t+1))!=(0|o);){i=0|i+4}if((0|(n=0|n+1))==(0|u))break;e=0|e+(f<<2)}}else if(n&&(g=0|d+1076,0|o))for(i=0;;){for(n=0,t=e;y=0|dr(+_[t>>2]),y=0|(0|l[g>>2])+y,l[t>>2]=(0|y)<(0|c)?c:(0|y)>(0|r)?r:y,(0|(n=0|n+1))!=(0|o);){t=0|t+4}if((0|(i=0|i+1))==(0|u))break;e=0|e+(f<<2)}if((m=0|m+1)>>>0>=(0|l[b>>2])>>>0){n=1;break}p=0|p+52,d=0|d+1080,h=0|h+52}return A=s,0|n}function oi(e,t,i){t|=0,i|=0;var n=0,o=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;if(n=0|l[(b=0|24+(e|=0))>>2],u=0==(0|(c=0|l[n+16>>2])))return 0|(b=1);for(f=0|l[n+24>>2],n=h=0|l[20+(0|l[l[e+20>>2]>>2])>>2],e=f,o=0,s=0;_=0|((_=0|l[e+24>>2])>>>3)+(1&0!=(0|7&_)),m=0|(0|l[n+24>>2])+(0|136*(0|l[n+20>>2]))-136,o=0|(0|B(0|B(3==(0|_)?4:_,0|(0|l[m+8>>2])-(0|l[m>>2])),0|(0|l[m+12>>2])-(0|l[m+4>>2])))+o,(0|(s=0|s+1))!=(0|c);){n=0|n+52,e=0|e+52}if((n=o>>>0>i>>>0)|u)return 0|(b=1&(1^n));for(m=0;;){u=0|l[f+24>>2],p=0|l[h+24>>2],c=0|l[f+36>>2],d=0|(o=0|l[p+(0|136*c)+8>>2])-(s=0|l[p+(0|136*c)>>2]),p=0|(i=0|l[p+(0|136*c)+12>>2])-(c=0|l[p+(0|136*c)+4>>2]),_=0|(0|l[h+8>>2])-(0|l[h>>2]),u=0|(u>>>3)+(1&0!=(0|7&u));e:do{switch(0|1073741823&(3==(0|u)?4:u)){case 1:if(e=0|l[h+32>>2],n=0==(0|p)|0==(0|d),0|l[f+32>>2]){if(n)break e;for(u=0|o+(0|B(0|i+-1-c,d))-s,n=e,e=t,o=0;;){for(s=0,i=n,c=e;r[c>>0]=l[i>>2],(0|(s=0|s+1))!=(0|d);){i=0|i+4,c=0|c+1}if((0|(o=0|o+1))==(0|p))break;n=0|n+(_<<2),e=0|e+d}t=0|t+u;break e}if(n)break e;for(u=0|o+(0|B(0|i+-1-c,d))-s,c=0,o=t;;){for(n=0,s=e,i=o;r[i>>0]=l[s>>2],(0|(n=0|n+1))!=(0|d);){s=0|s+4,i=0|i+1}if((0|(c=0|c+1))==(0|p))break;e=0|e+(_<<2),o=0|o+d}t=0|t+u;break e;case 2:if(n=0|l[h+32>>2],e=0==(0|p)|0==(0|d),0|l[f+32>>2]){if(e)break e;for(c=0|t+((0|B(0|i+-1-c,0|(u=o<<1)-(s<<=1)))+u-s),s=0;;){for(e=t,o=n,i=0;a[e>>1]=l[o>>2],(0|(i=0|i+1))!=(0|d);){e=0|e+2,o=0|o+4}if((0|(s=0|s+1))==(0|p)){t=c;break}t=0|t+(d<<1),n=0|n+(_<<2)}}else{if(e)break e;for(c=0|t+((0|B(0|i+-1-c,0|(u=o<<1)-(o=s<<1)))+u-o),o=0;;){for(e=n,s=0,i=t;a[i>>1]=l[e>>2],(0|(s=0|s+1))!=(0|d);){e=0|e+4,i=0|i+2}if((0|(o=0|o+1))==(0|p)){t=c;break}n=0|n+(_<<2),t=0|t+(d<<1)}}break;case 4:if(!(0==(0|p)|0==(0|d)))for(c=0|t+((0|B(0|i+-1-c,0|(u=o<<2)-(n=s<<2)))+u-n),n=0|l[h+32>>2],s=0;;){for(e=t,o=n,i=0;l[e>>2]=l[o>>2],(0|(i=0|i+1))!=(0|d);){e=0|e+4,o=0|o+4}if((0|(s=0|s+1))==(0|p)){t=c;break}t=0|t+(d<<2),n=0|n+(_<<2)}}}while(0);if((m=0|m+1)>>>0>=(0|l[16+(0|l[b>>2])>>2])>>>0){t=1;break}h=0|h+52,f=0|f+52}return 0|t}function ai(e){var t=0,i=0,n=0,r=0,o=0;if(t=0|l[24+(e|=0)>>2],!(r=0|l[t+16>>2]))return 0|(r=0);for(n=0|l[20+(0|l[l[e+20>>2]>>2])>>2],t=0|l[t+24>>2],e=0,i=0;o=0|((o=0|l[t+24>>2])>>>3)+(1&0!=(0|7&o)),e=0|(0|B(0|B(0|(0|l[n+12>>2])-(0|l[n+4>>2]),0|(0|l[n+8>>2])-(0|l[n>>2])),3==(0|o)?4:o))+e,!((i=0|i+1)>>>0>=r>>>0);){n=0|n+52,t=0|t+52}return 0|e}function si(e,t,i){t|=0,i|=0;var n,o,s=0,c=0,u=0,d=0,p=0,_=0,m=0;if(n=0|l[24+(e|=0)>>2],_=0==(0|(p=0|l[(o=0|n+16)>>2])))s=0;else for(c=0|l[20+(0|l[l[e+20>>2]>>2])>>2],u=0|l[n+24>>2],s=0,d=0;m=0|((m=0|l[u+24>>2])>>>3)+(1&0!=(0|7&m)),s=0|(0|B(0|B(0|(0|l[c+12>>2])-(0|l[c+4>>2]),0|(0|l[c+8>>2])-(0|l[c>>2])),3==(0|m)?4:m))+s,(0|(d=0|d+1))!=(0|p);){c=0|c+52,u=0|u+52}if((s=(0|s)!=(0|i))|_)return 0|(m=1&(1^s));for(e=0|l[20+(0|l[l[e+20>>2]>>2])>>2],i=0|l[n+24>>2],_=0;;){m=0|l[i+24>>2],c=0|(0|l[e+8>>2])-(0|l[e>>2]),u=0|(0|l[e+12>>2])-(0|l[e+4>>2]),p=0|B(u,c),m=0|(m>>>3)+(1&0!=(0|7&m));e:do{switch(0|1073741823&(3==(0|m)?4:m)){case 1:if(c=0|l[e+32>>2],s=0!=(0|p),0|l[i+32>>2]){if(!s)break e;for(s=c,c=t,u=0;l[s>>2]=r[c>>0],(0|(u=0|u+1))!=(0|p);){s=0|s+4,c=0|c+1}t=0|t+p;break e}if(!s)break e;for(u=0,s=c,c=t;l[s>>2]=h[c>>0],(0|(u=0|u+1))!=(0|p);){s=0|s+4,c=0|c+1}t=0|t+p;break e;case 2:if(s=0|l[e+32>>2],d=0!=(0|p),0|l[i+32>>2]){if(!d)break e;for(u=0|t+(0|B(u<<1,c)),c=0;;){if(l[s>>2]=a[t>>1],(0|(c=0|c+1))==(0|p)){t=u;break}t=0|t+2,s=0|s+4}}else{if(!d)break e;for(u=0|t+(0|B(u<<1,c)),c=0;;){if(l[s>>2]=f[t>>1],(0|(c=0|c+1))==(0|p)){t=u;break}t=0|t+2,s=0|s+4}}break;case 4:if(p)for(u=0|t+(0|B(u<<2,c)),c=0|l[e+32>>2],s=0;;){if(l[c>>2]=l[t>>2],(0|(s=0|s+1))==(0|p)){t=u;break}c=0|c+4,t=0|t+4}}}while(0);if((_=0|_+1)>>>0>=(0|l[o>>2])>>>0){t=1;break}e=0|e+52,i=0|i+52}return 0|t}function li(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0;if(o=A,A=0|A+288,u=0|o+16,c=0|o+8,r=0|o+152,g=0|o+24,!(n=0|Ue(1,20)))return _e(i,1,20123,o),A=o,0|(g=0);for(l[n>>2]=e,l[(f=0|n+4)>>2]=t,l[r>>2]=e,l[g>>2]=t,l[(h=0|n+8)>>2]=0,y=0,s=0;b=0|B(t,e),e=0|(0|e+1)/2,l[r+((a=0|y+1)<<2)>>2]=e,t=0|(0|t+1)/2,l[g+(a<<2)>>2]=t,s=0|s+b,!(1>=b>>>0);){y=a}if(l[h>>2]=s,!s)return We(n),_e(i,2,20161,c),A=o,0|(g=0);if(t=0|Ue(s,16),l[n+12>>2]=t,!t)return _e(i,1,20211,u),We(n),A=o,0|(g=0);if(b=0|l[h>>2],l[n+16>>2]=b<<4,e=0|t+((0|B(0|l[f>>2],0|l[n>>2]))<<4),y){m=0,s=e,a=e,e=t;do{p=0|l[g+(m<<2)>>2];e:do{if(0<(0|p)){if(0>=(0|(_=0|l[r+(m<<2)>>2])))for(h=0|p+-1,i=0;;){if(c=(d=0!=(0|1&i)|(0|i)==(0|h))?a:s,s=d?a:0|s+(_<<4),(0|(i=0|i+1))>=(0|p)){a=c;break e}a=c}f=(0|_+2+(-3<(0|(f=~_))?f:-3))>>>1,d=0|p+-1,u=0;do{for(h=0|a+16,i=_;;){if(l[e>>2]=a,c=0|e+16,1==(0|i)){e=c;break}if(l[c>>2]=a,e=0|e+32,!(2<(0|i)))break;i=0|i+-2,a=0|a+16}h=0|h+(f<<4),a=(i=0!=(0|1&u)|(0|u)==(0|d))?h:s,s=i?h:0|s+(_<<4),u=0|u+1}while((0|u)<(0|p))}}while(0);m=0|m+1}while((0|m)!=(0|y))}else e=t;if(l[e>>2]=0,!b)return A=o,0|(g=n);for(e=0;l[t+4>>2]=999,l[t+8>>2]=0,l[t+12>>2]=0,(0|(e=0|e+1))!=(0|b);){t=0|t+16}return A=o,0|n}function ci(e){var t,i=0;if((e|=0)&&(t=0|l[e+8>>2]))for(i=0,e=0|l[e+12>>2];l[e+4>>2]=999,l[e+8>>2]=0,l[e+12>>2]=0,!((i=0|i+1)>>>0>=t>>>0);){e=0|e+16}}function hi(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0;if(o=A,A=0|A+272,d=o,r=0|o+136,y=0|o+8,!(e|=0))return A=o,0|(y=0);if(f=0|e+4,(0|l[e>>2])==(0|t)&&(0|l[f>>2])==(0|i))a=0|e+8;else{for(l[e>>2]=t,l[f>>2]=i,l[r>>2]=t,l[y>>2]=i,l[(a=0|e+8)>>2]=0,b=0,s=i,c=t,u=0;m=0|B(s,c),c=0|(0|c+1)/2,l[r+((h=0|b+1)<<2)>>2]=c,s=0|(0|s+1)/2,l[y+(h<<2)>>2]=s,u=0|u+m,!(1>=m>>>0);){b=h}if(l[a>>2]=u,!u)return 0|(s=0|l[(a=0|e+12)>>2])&&(We(s),l[a>>2]=0),We(e),A=o,0|(y=0);c=u<<4,h=0|e+16,u=0|e+12;do{if(c>>>0>(0|l[h>>2])>>>0){if(0|(s=0|He(0|l[u>>2],c))){l[u>>2]=s,Mr(0|s+(i=0|l[h>>2]),0,0|c-i),l[h>>2]=c,i=0|l[f>>2],t=0|l[e>>2];break}return _e(n,1,20255,d),0|(a=0|l[u>>2])&&(We(a),l[u>>2]=0),We(e),A=o,0|(y=0)}}while(0);if(t=0|(s=0|l[u>>2])+((0|B(i,t))<<4),b){i=t,m=0;do{p=0|l[y+(m<<2)>>2];e:do{if(0<(0|p)){if(0>=(0|(_=0|l[r+(m<<2)>>2])))for(u=0|p+-1,h=0;;){if(c=(d=0!=(0|1&h)|(0|h)==(0|u))?t:0|i+(_<<4),t=d?t:i,(0|(h=0|h+1))>=(0|p)){i=c;break e}i=c}for(f=(0|_+2+(-3<(0|(f=~_))?f:-3))>>>1,d=0|p+-1,n=0;;){for(u=0|t+16,h=_;;){if(l[s>>2]=t,c=0|s+16,1==(0|h)){s=c;break}if(l[c>>2]=t,s=0|s+32,!(2<(0|h)))break;h=0|h+-2,t=0|t+16}if(t=0|u+(f<<4),c=(u=0!=(0|1&n)|(0|n)==(0|d))?t:0|i+(_<<4),t=u?t:i,(0|(n=0|n+1))>=(0|p)){i=c;break}i=c}}}while(0);m=0|m+1}while((0|m)!=(0|b))}l[s>>2]=0}if(!(t=0|l[a>>2]))return A=o,0|(y=e);for(a=0,s=0|l[e+12>>2];l[s+4>>2]=999,l[s+8>>2]=0,l[s+12>>2]=0,(0|(a=0|a+1))!=(0|t);){s=0|s+16}return A=o,0|e}function ui(e){var t,i;(e|=0)&&(0|(i=0|l[(t=0|e+12)>>2])&&(We(i),l[t>>2]=0),We(e))}function fi(e,t,i){if(t|=0,i|=0,e=0|(0|l[12+(e|=0)>>2])+(t<<4))for(;;){if((0|l[(t=0|e+4)>>2])<=(0|i)){e=4;break}if(l[t>>2]=i,!(e=0|l[e>>2])){e=4;break}}}function di(e,t,i,n){e|=0,i|=0,n|=0;var r,o,a=0,s=0,c=0;if(o=A,A=0|A+128,r=o,i=0|(0|l[12+(t|=0)>>2])+(i<<4),t=0|l[i>>2])for(a=0,s=t;;){if(c=0|a+1,l[r+(a<<2)>>2]=i,!(t=0|l[s>>2])){t=0,i=s;break}i=s,a=c,s=t}else t=0,c=0;for(;;){(0|t)>(0|(a=0|l[(s=0|i+8)>>2]))?l[s>>2]=t:t=a;e:do{if((0|t)<(0|n)){for(a=0|i+4;!((0|t)>=(0|l[a>>2]));){if(ki(e,0,1),(0|(t=0|t+1))>=(0|n))break e}0|l[(i=0|i+12)>>2]||(ki(e,1,1),l[i>>2]=1)}}while(0);if(l[s>>2]=t,!c)break;i=0|l[r+((s=0|c+-1)<<2)>>2],c=s}A=o}function pi(e,t,i,n){e|=0,i|=0,n|=0;var r,o,a=0,s=0,c=0;if(o=A,A=0|A+128,r=o,t=0|(0|l[12+(t|=0)>>2])+(i<<4),i=0|l[t>>2])for(a=0;;){if(s=0|a+1,l[r+(a<<2)>>2]=t,!(t=0|l[i>>2])){a=0,t=i;break}c=i,a=s,i=t,t=c}else a=0,s=0;for(;;){(0|a)>(0|(i=0|l[(c=0|t+8)>>2]))&&(l[c>>2]=a,i=a),a=0|t+4;e:do{if((0|i)<(0|n)){for(t=i;;){if((0|t)>=(0|l[a>>2]))break e;if(0|Ii(e,1))break;if((0|(t=0|t+1))>=(0|n))break e}l[a>>2]=t}else t=i}while(0);if(l[c>>2]=t,!s)break;a=t,t=0|l[r+((c=0|s+-1)<<2)>>2],s=c}return A=o,0|(0|l[a>>2])<(0|n)}function _i(){var e=0,t=0;return(e=0|Ue(1,12))?(l[e+4>>2]=10,t=0|Ue(10,4),l[e+8>>2]=t,0|t?0|(t=e):(We(e),0|(t=0))):0|(e=0)}function mi(e){var t;(e|=0)&&(0|(t=0|l[e+8>>2])&&We(t),We(e))}function bi(e,t,i){t|=0,i|=0;var n,r,o,a=0,s=0;o=A,A=0|A+16,r=o,s=0|l[(n=0|4+(e|=0))>>2],a=0|l[e>>2];do{if((0|s)==(0|a)){if(s=0|s+10,l[n>>2]=s,0|(s=0|He(0|l[(a=0|e+8)>>2],s<<2))){l[a>>2]=s,a=0|l[e>>2];break}return We(0|l[a>>2]),l[n>>2]=0,l[e>>2]=0,_e(i,1,20303,r),A=o,0|(t=0)}s=0|l[e+8>>2]}while(0);return l[s+(a<<2)>>2]=t,l[e>>2]=a+1,A=o,0|(t=1)}function yi(e){return 0|l[(e|=0)>>2]}function gi(e){return 0|l[8+(e|=0)>>2]}function vi(e){l[(e|=0)>>2]=0}function Ai(){return 0|ze(20)}function wi(e){(e|=0)&&We(e)}function xi(e){return 0|(0|l[8+(e|=0)>>2])-(0|l[e>>2])}function ki(e,t,i){e|=0,t|=0;var n,o,a,s,c=0,h=0,u=0,f=0;if(i|=0){a=0|e+12,s=0|e+8,n=0|e+4,u=0|i+-1,e=0|l[(o=0|e+16)>>2];do{f=1&t>>>u,e||(e=65280&(c=0|l[a>>2])<<8,l[a>>2]=e,e=65280==(0|e)?7:8,l[o>>2]=e,h=0|l[s>>2],(0|l[n>>2])>>>0>h>>>0&&(l[s>>2]=h+1,r[h>>0]=c,e=0|l[o>>2])),e=0|e+-1,l[o>>2]=e,l[a>>2]=l[a>>2]|f<<e,u=0|u+-1}while(u>>>0<i>>>0)}}function Ii(e,t){e|=0;var i,n,r,o=0,a=0,s=0,c=0,u=0;if(!(t|=0))return 0|(u=0);n=0|e+16,r=0|e+12,u=0|e+8,i=0|e+4,c=0|t+-1,e=0,o=0|l[r>>2],a=0|l[n>>2];do{a||(o=65280&o<<8,l[r>>2]=o,a=65280==(0|o)?7:8,l[n>>2]=a,s=0|l[u>>2],(0|l[i>>2])>>>0>s>>>0&&(l[u>>2]=s+1,o=0|o|h[s>>0],l[r>>2]=o)),a=0|a+-1,l[n>>2]=a,e|=(1&o>>>a)<<c,c=0|c+-1}while(c>>>0<t>>>0);return 0|e}function Si(e){var t=0,i=0,n=0,r=0,o=0;t=0|l[(o=0|12+(e|=0))>>2];do{if(255==(0|255&t)){if(r=65280&t<<8,l[o>>2]=r,l[(t=0|e+16)>>2]=65280==(0|r)?7:8,n=0|l[(i=0|e+8)>>2],(0|l[e+4>>2])>>>0>n>>>0){l[i>>2]=n+1,l[o>>2]=0|r|h[n>>0];break}return 0|(o=0)}t=0|e+16}while(0);return l[t>>2]=0,0|(o=1)}function Ei(e){return 0|Ci(e|=0,1)}function Ci(e,t){t|=0;var i,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0;if(I=0|(0|l[8+(e|=0)>>2])-(0|l[e>>2]),n=0|(s=0|l[e+16>>2])-1,i=0|l[e+32>>2],a=0|(e=0|l[e+24>>2])+(0|136*n),o=0==(0|n))e=0;else{r=0;do{x=e,e=0|e+136,r=(k=r>>>0<(k=0|(0|l[x+144>>2])-(0|l[e>>2]))>>>0?k:r)>>>0<(x=0|(0|l[x+148>>2])-(0|l[x+140>>2]))>>>0?x:k,n=0|n+-1}while(0!=(0|n));e=r<<2}if(!(0==(0|e)|0!=(0|(k=0|ze(e)))))return 0|(I=0);if(!o)for(x=0|k+4,g=0|s+-2;;){h=a,a=0|a+-136,w=0|l[h>>2],y=0|(0|l[h+8>>2])-w,f=0|l[h+4>>2],v=0|(0|l[h+12>>2])-f,A=0|(0|l[h+-128>>2])-(0|l[a>>2]),w&=1,f&=1,d=0|v-(h=0|(0|l[h+-124>>2])-(0|l[h+-132>>2])),b=0<(0|y);e:{if(b){if(c=0==(0|h),p=0==(0|d),_=0|x+(0-f<<2),m=0|B(h,I),u=0|k+(f<<2),0<(0|v))for(s=0;;){o=0|i+(s<<2),e=0;do{r=0|o+((0|B(e,I))<<2),l[k+(e<<2)>>2]=l[r>>2],e=0|e+1}while((0|e)!=(0|v));if(oo[3&t](k,d,h,f),!c)for(e=o,n=h,r=u;n=0|n+-1,l[e>>2]=l[r>>2],n;){e=0|e+(I<<2),r=0|r+8}if(!p)for(e=0|o+(m<<2),n=d,r=_;n=0|n+-1,l[e>>2]=l[r>>2],n;){e=0|e+(I<<2),r=0|r+8}if((0|(s=0|s+1))==(0|y))break e}if(c)for(e=0;;){if(oo[3&t](k,d,0,f),!p)for(n=0|i+(e<<2)+(m<<2),r=d,o=_;r=0|r+-1,l[n>>2]=l[o>>2],r;){n=0|n+(I<<2),o=0|o+8}if((0|(e=0|e+1))==(0|y))break e}else s=0;do{for(o=0|i+(s<<2),oo[3&t](k,d,h,f),e=o,n=h,r=u;n=0|n+-1,l[e>>2]=l[r>>2],n;){e=0|e+(I<<2),r=0|r+8}if(!p)for(e=0|o+(m<<2),n=d,r=_;n=0|n+-1,l[e>>2]=l[r>>2],n;){e=0|e+(I<<2),r=0|r+8}s=0|s+1}while((0|s)!=(0|y))}}u=0|y-A;e:do{if(0<(0|v)){if(c=0<(0|A),h=0|k+(w<<2),f=0<(0|u),d=0|x+(0-w<<2),b)for(s=0;;){o=0|i+((0|B(s,I))<<2),e=0;do{l[k+(e<<2)>>2]=l[o+(e<<2)>>2],e=0|e+1}while((0|e)!=(0|y));if(oo[3&t](k,u,A,w),c)for(e=o,n=0,r=h;l[e>>2]=l[r>>2],(0|(n=0|n+1))!=(0|A);){e=0|e+4,r=0|r+8}if(f)for(e=0|o+(A<<2),n=0,r=d;l[e>>2]=l[r>>2],(0|(n=0|n+1))!=(0|u);){e=0|e+4,r=0|r+8}if((0|(s=0|s+1))==(0|v))break e}if(c)s=0;else for(e=0;;){if(oo[3&t](k,u,A,w),f)for(n=0|i+((0|B(e,I))<<2)+(A<<2),r=0,o=d;l[n>>2]=l[o>>2],(0|(r=0|r+1))!=(0|u);){n=0|n+4,o=0|o+8}if((0|(e=0|e+1))==(0|v))break e}do{for(o=0|i+((0|B(s,I))<<2),oo[3&t](k,u,A,w),e=o,n=0,r=h;l[e>>2]=l[r>>2],(0|(n=0|n+1))!=(0|A);){e=0|e+4,r=0|r+8}if(f)for(e=0|o+(A<<2),n=0,r=d;l[e>>2]=l[r>>2],(0|(n=0|n+1))!=(0|u);){e=0|e+4,r=0|r+8}s=0|s+1}while((0|s)!=(0|v))}}while(0);if(!g)break;g=0|g+-1}return We(k),0|(I=1)}function Bi(e,t){t|=0;var i,n,r,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0;if(r=A,A=0|A+32,n=0|r+16,D=r,h=0|l[24+(e|=0)>>2],c=0|(0|l[h+8>>2])-(0|l[h>>2]),u=0|(0|l[h+12>>2])-(0|l[h+4>>2]),i=0|(0|l[e+8>>2])-(0|l[e>>2]),1==(0|t))return A=r,0|(D=1);if(s=0==(0|(f=0|t+-1)))t=0;else{t=h,o=0,a=f;do{P=t,t=0|t+136,o=(T=o>>>0<(T=0|(0|l[P+144>>2])-(0|l[t>>2]))>>>0?T:o)>>>0<(P=0|(0|l[P+148>>2])-(0|l[P+140>>2]))>>>0?P:T,a=0|a+-1}while(0!=(0|a));t=o<<2}if(T=0|Ve(t),l[n>>2]=T,!T)return A=r,0|(D=0);if(l[D>>2]=T,!s){x=0|e+32,k=0|n+8,I=0|D+8,S=0|n+4,E=0|n+12,C=0|D+4,M=0|D+12,P=0|T+4;do{if(w=0|l[x>>2],y=h,h=0|h+136,l[k>>2]=c,l[I>>2]=u,o=0|l[h>>2],m=c,c=0|(0|l[y+144>>2])-o,t=0|l[(b=0|y+140)>>2],v=u,u=0|(0|l[y+148>>2])-t,y=0|c-m,l[S>>2]=y,o=0|(0|o)%2,l[E>>2]=o,!(g=0==(0|u))){for(d=c<<2,p=0==(0|m),_=0==(0|y),t=0;;){if(e=0|w+((0|B(t,i))<<2),p)a=0;else{for(o=0|T+(o<<2),a=e,s=m;s=0|s+-1,l[o>>2]=l[a>>2],s;){o=0|o+8,a=0|a+4}o=0|l[E>>2],a=m}if(!_)for(s=0|P+(0-o<<2),o=0|e+(a<<2),a=y;a=0|a+-1,l[s>>2]=l[o>>2],a;){s=0|s+8,o=0|o+4}if(Mi(n),Br(0|e,0|T,0|d),(0|(t=0|t+1))==(0|u))break;o=0|l[E>>2]}t=0|l[b>>2]}_=0|u-v,l[C>>2]=_,o=0|(0|t)%2,l[M>>2]=o;e:do{if(0|c){if(d=0==(0|v),p=0==(0|_),g)for(t=0;;){if(e=0|w+(t<<2),d)a=0;else{for(o=0|T+(o<<2),a=e,s=v;s=0|s+-1,l[o>>2]=l[a>>2],s;){o=0|o+8,a=0|a+(i<<2)}o=0|l[M>>2],a=v}if(!p)for(s=0|P+(0-o<<2),o=0|e+((0|B(a,i))<<2),a=_;a=0|a+-1,l[s>>2]=l[o>>2],a;){s=0|s+8,o=0|o+(i<<2)}if(Mi(D),(0|(t=0|t+1))==(0|c))break e;o=0|l[M>>2]}else t=0;for(;;){if(e=0|w+(t<<2),d)a=0;else{for(o=0|T+(o<<2),a=e,s=v;s=0|s+-1,l[o>>2]=l[a>>2],s;){o=0|o+8,a=0|a+(i<<2)}o=0|l[M>>2],a=v}if(!p)for(s=0|P+(0-o<<2),o=0|e+((0|B(a,i))<<2),a=_;a=0|a+-1,l[s>>2]=l[o>>2],a;){s=0|s+8,o=0|o+(i<<2)}Mi(D),o=0;do{g=0|w+((0|B(o,i))+t<<2),l[g>>2]=l[T+(o<<2)>>2],o=0|o+1}while((0|o)!=(0|u));if((0|(t=0|t+1))==(0|c))break e;o=0|l[M>>2]}}}while(0);f=0|f+-1}while(0!=(0|f))}return Ne(T),A=r,0|(D=1)}function Mi(e){var t,i,n,r=0,o=0,a=0;if(t=0|l[(e|=0)>>2],i=0|l[e+4>>2],n=0|l[e+8>>2],0|l[e+12>>2]){if(1==(0|i)&0==(0|n))l[t>>2]=0|(0|l[t>>2])/2;else{if(0<(0|n)){r=0|i+-1,e=0;do{o=e,e=0|e+1,l[(a=0|t+((1|o<<1)<<2))>>2]=(0|l[a>>2])-(2+(0|l[t+(((0|o)>=(0|i)?r:o)<<1<<2)>>2])+(0|l[t+(((0|e)>=(0|i)?r:e)<<1<<2)>>2])>>2)}while((0|e)!=(0|n))}if(!(0>=(0|i))){r=0|n+-1,e=0;do{l[(a=0|t+(e<<1<<2))>>2]=((0|l[t+((1>(0|e)?1:0|(((0|e)>(0|n)?n:e)<<1)-1)<<2)>>2])+(0|l[t+((1|((0|e)>=(0|n)?r:e)<<1)<<2)>>2])>>1)+(0|l[a>>2]),e=0|e+1}while((0|e)!=(0|i))}}}else{if(!((o=0<(0|i))|1<(0|n)))return;if(0<(0|n)){r=0|i+-1,e=0;do{l[(a=0|t+(e<<1<<2))>>2]=(0|l[a>>2])-(2+(0|l[t+((1>(0|e)?1:0|(((0|e)>(0|i)?i:e)<<1)-1)<<2)>>2])+(0|l[t+((1|((0|e)>=(0|i)?r:e)<<1)<<2)>>2])>>2),e=0|e+1}while((0|e)!=(0|n))}if(!o)return;r=0|n+-1,e=0;do{o=e,e=0|e+1,l[(a=0|t+((1|o<<1)<<2))>>2]=((0|l[t+(((0|e)>=(0|n)?r:e)<<1<<2)>>2])+(0|l[t+(((0|o)>=(0|n)?r:o)<<1<<2)>>2])>>1)+(0|l[a>>2])}while((0|e)!=(0|i))}}function Pi(e,t){return+ +b[56+(0|80*(t|=0))+((e|=0)<<3)>>3]}function Ti(e){return 0|Ci(e|=0,2)}function Di(e,t){return+ +b[376+(0|80*(t|=0))+((e|=0)<<3)>>3]}function Ri(e,t){t|=0;var i,n,r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0;if(n=0|(0|3*(0|l[(i=0|4+(e|=0))>>2]))-2){r=0|e+20,o=0|e+24,d=0;do{if(d?(s=0|1+(0|((c=0|d+-1)>>>0)%3),c=0|1+(0|(c>>>0)/3)):(s=0,c=0),h=0==(0|s)|0==(0|l[r>>2])?0:2>(0|s+-1)>>>0?1:2,a=0|l[o>>2]?+(0|1<<h)/+b[376+(0|80*s)+((0|l[i>>2])+~c<<3)>>3]:1,u=0|h+t,1<(0|(f=~~+I(8192*a)))){for(s=f,h=0;;){if(!(3<s>>>0)){s=f,c=0;break}s>>>=1,h=0|h+1}for(;3<s>>>0;){s>>>=1,c=0|c+1}c=0|10-c,s=0|h+-12}else c=11,s=-13;l[e+28+(d<<3)+4>>2]=2047&(0>(0|c)?f>>0-c:f<<c),l[e+28+(d<<3)>>2]=u-s,d=0|d+1}while((0|d)!=(0|n))}}function Gi(e,t){t|=0;var i,n,r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0;if(o=A,A=0|A+32,r=0|o+16,W=o,d=0|l[24+(e|=0)>>2],h=0|l[d+8>>2],u=0|l[d>>2],b=0|l[d+12>>2],y=0|l[d+4>>2],n=0|(_=0|l[(i=0|e+8)>>2])-(m=0|l[e>>2]),c=0==(0|(f=0|t+-1)))t=80;else{t=d,a=0,s=f;do{V=t,t=0|t+136,a=(N=a>>>0<(N=0|(0|l[V+144>>2])-(0|l[t>>2]))>>>0?N:a)>>>0<(V=0|(0|l[V+148>>2])-(0|l[V+140>>2]))>>>0?V:N,s=0|s+-1}while(0!=(0|s));t=0|80+(a<<4)}if(p=0|Ve(t),l[r>>2]=p,!p)return A=o,0|(W=0);l[W>>2]=p;e:do{if(c)t=p;else for(M=0|e+32,P=0|e+12,T=0|e+4,D=0|r+8,R=0|W+8,G=0|r+4,O=0|r+12,F=n<<2,L=n<<1,Z=0|3*n,z=0|W+4,U=0|W+12,V=_-m<<2,N=m-_<<2,g=0|h-u,a=f,t=p,s=p,h=_,c=m,k=0|b-y,b=p;;){I=0|l[M>>2],c=0|B(0|(0|l[P>>2])-(0|l[T>>2]),0|h-c),l[D>>2]=g,l[R>>2]=k,S=0|d+136,E=0|(y=0|l[d+144>>2])-(v=0|l[S>>2]),C=0|(u=0|l[d+148>>2])-(h=0|l[(m=0|d+140)>>2]),l[G>>2]=E-g,l[O>>2]=0|(0|v)%2;do{if(3<(0|C)){if(_=0|I+(F<<2)+((0|B(V,p=(0|u+4+(-8<(0|(p=0|h+-1-u))?p:-8)-h)>>>2))<<2),p=0|B(N,p),!(0<(0|E))){for(h=C,u=c,f=I;Oi(r,f,n,u),Fi(r),7<(0|h);){h=0|h+-4,u=0|u-F,f=0|f+(F<<2)}c=0|N+c+p,u=_;break}for(h=C,u=c,f=I;;){Oi(r,f,n,u),Fi(r),d=E;do{x=d,l[f+((d=0|d+-1)<<2)>>2]=l[b+(d<<4)>>2],l[f+(d+n<<2)>>2]=l[b+(d<<4)+4>>2],l[f+(d+L<<2)>>2]=l[b+(d<<4)+8>>2],l[f+(d+Z<<2)>>2]=l[b+(d<<4)+12>>2]}while(1<(0|x));if(!(7<(0|h)))break;h=0|h+-4,u=0|u-F,f=0|f+(F<<2)}c=0|N+c+p,u=_}else u=I}while(0);t:do{if(3&C){if(Oi(r,u,n,c),Fi(r),c=0|E+-1,0>=(0|E)){_=0|C-k,l[z>>2]=_,p=0|(0|l[m>>2])%2,l[U>>2]=p,m=I;break}switch(h=0|l[r>>2],3&C){case 3:for(t=c;;){if(l[u+(t+L<<2)>>2]=l[h+(t<<4)+8>>2],l[u+(t+n<<2)>>2]=l[h+(t<<4)+4>>2],l[u+(t<<2)>>2]=l[h+(t<<4)>>2],!(0<(0|t))){t=h,x=h,H=22;break}t=0|t+-1}break;case 2:for(t=c;;){if(l[u+(t+n<<2)>>2]=l[h+(t<<4)+4>>2],l[u+(t<<2)>>2]=l[h+(t<<4)>>2],!(0<(0|t))){t=h,x=h,H=22;break}t=0|t+-1}break;case 1:for(t=c;;){if(l[u+(t<<2)>>2]=l[h+(t<<4)>>2],!(0<(0|t))){t=h,x=h,H=22;break}t=0|t+-1}break;default:t=h,x=h,H=22;break t;}}else x=b,H=22}while(0);do{if(22==(0|H))if(H=0,w=0|C-k,l[z>>2]=w,g=0|(0|l[m>>2])%2,l[U>>2]=g,3<(0|E)){if(y=-4&y+4+(-8<(0|(b=0|v+-1-y))?b:-8)-v,!C){for(p=0<(0|k),_=0|B(k,n),m=0|0-g,b=0<(0|w),f=I,d=E;;){if(h=0|(s=0|l[W>>2])+(g<<4),p){c=0;do{v=0|h+(c<<1<<4),u=0|f+((0|B(c,n))<<2),l[v>>2]=l[u>>2],l[v+4>>2]=l[u+4>>2],l[v+8>>2]=l[u+8>>2],l[v+12>>2]=l[u+12>>2],c=0|c+1}while((0|c)!=(0|k))}if(h=0|f+(_<<2),u=0|s+16+(m<<4),b){c=0;do{v=0|u+(c<<1<<4),j=0|h+((0|B(c,n))<<2),l[v>>2]=l[j>>2],l[v+4>>2]=l[j+4>>2],l[v+8>>2]=l[j+8>>2],l[v+12>>2]=l[j+12>>2],c=0|c+1}while((0|c)!=(0|w))}if(Fi(W),!(7<(0|d)))break;f=0|f+16,d=0|d+-4}m=0|I+16+(y<<2),p=g,_=w,b=x;break}for(p=0<(0|(d=0|l[R>>2])),_=0|B(d,n),m=0|0-g,b=0<(0|w),u=I,f=E;;){if(h=0|s+(g<<4),p){c=0;do{j=0|h+(c<<1<<4),k=0|u+((0|B(c,n))<<2),l[j>>2]=l[k>>2],l[j+4>>2]=l[k+4>>2],l[j+8>>2]=l[k+8>>2],l[j+12>>2]=l[k+12>>2],c=0|c+1}while((0|c)!=(0|d))}if(h=0|u+(_<<2),c=0|s+16+(m<<4),b){s=0;do{j=0|c+(s<<1<<4),k=0|h+((0|B(s,n))<<2),l[j>>2]=l[k>>2],l[j+4>>2]=l[k+4>>2],l[j+8>>2]=l[k+8>>2],l[j+12>>2]=l[k+12>>2],s=0|s+1}while((0|s)!=(0|w))}Fi(W),c=0;do{j=0|u+((0|B(c,n))<<2),k=0|(s=0|l[W>>2])+(c<<4),l[j>>2]=l[k>>2],l[j+4>>2]=l[k+4>>2],l[j+8>>2]=l[k+8>>2],l[j+12>>2]=l[k+12>>2],c=0|c+1}while((0|c)!=(0|C));if(!(7<(0|f)))break;u=0|u+16,f=0|f+-4}m=0|I+16+(y<<2),p=g,_=w,b=x}else m=I,p=g,_=w,b=x}while(0);if(f=3&E){if(c=0|(d=0|l[W>>2])+(p<<4),0<(0|(h=0|l[R>>2]))){u=f<<2,s=0;do{Br(0|c+(s<<1<<4),0|m+((0|B(s,n))<<2),0|u),s=0|s+1}while((0|s)!=(0|h))}if(u=0|m+((0|B(h,n))<<2),c=0|d+16+(0-p<<4),0<(0|_)){h=f<<2,s=0;do{Br(0|c+(s<<1<<4),0|u+((0|B(s,n))<<2),0|h),s=0|s+1}while((0|s)!=(0|_))}if(Fi(W),C){c=f<<2,s=0;do{Br(0|m+((0|B(s,n))<<2),0|d+(s<<4),0|c),s=0|s+1}while((0|s)!=(0|C));s=d}else s=d}if(!(a=0|a+-1))break e;g=E,d=S,h=0|l[i>>2],c=0|l[e>>2],k=C}}while(0);return Ne(t),A=o,0|(j=1)}function Oi(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;if(u=0|(f=0|l[(e|=0)>>2])+((r=0|l[e+12>>2])<<4),o=0|l[e+8>>2],a=0|3*i,c=0|f+16+(0-r<<4),s=0|l[e+4>>2],(0|o+a)<(0|n)&&0==(0|15&t)&&0==(0|15&(u|i))){if(0<(0|o)){e=0;do{l[f+(r<<4)+((u=e<<3)<<2)>>2]=l[t+(e<<2)>>2],b=0|e+i,l[f+(r<<4)+((1|u)<<2)>>2]=l[t+(b<<2)>>2],b=0|b+i,l[f+(r<<4)+((2|u)<<2)>>2]=l[t+(b<<2)>>2],l[f+(r<<4)+((3|u)<<2)>>2]=l[t+(b+i<<2)>>2],e=0|e+1}while((0|e)!=(0|o))}}else h=2;if(2==(0|h)&&0<(0|o)){e=0;do{l[f+(r<<4)+((h=e<<3)<<2)>>2]=l[t+(e<<2)>>2],(0|(u=0|e+i))<(0|n)&&(l[f+(r<<4)+((1|h)<<2)>>2]=l[t+(u<<2)>>2],(0|(d=0|u+i))<(0|n))&&(l[f+(r<<4)+((2|h)<<2)>>2]=l[t+(d<<2)>>2],(0|(p=0|d+i))<(0|n))&&(l[f+(r<<4)+((3|h)<<2)>>2]=l[t+(p<<2)>>2]),e=0|e+1}while((0|e)!=(0|o))}if(f=0|t+(o<<2),(0|s+a)<(0|(t=0|n-o))&&0==(0|15&f)&&0==(0|15&(c|i))){if(!(0<(0|s)))return;e=0;do{l[c+((b=e<<3)<<2)>>2]=l[f+(e<<2)>>2],m=0|e+i,l[c+((1|b)<<2)>>2]=l[f+(m<<2)>>2],m=0|m+i,l[c+((2|b)<<2)>>2]=l[f+(m<<2)>>2],l[c+((3|b)<<2)>>2]=l[f+(m+i<<2)>>2],e=0|e+1}while((0|e)!=(0|s))}else if(0<(0|s)){e=0;do{l[c+((h=e<<3)<<2)>>2]=l[f+(e<<2)>>2],(0|(u=0|e+i))<(0|t)&&(l[c+((1|h)<<2)>>2]=l[f+(u<<2)>>2],(0|(_=0|u+i))<(0|t))&&(l[c+((2|h)<<2)>>2]=l[f+(_<<2)>>2],(0|(m=0|_+i))<(0|t))&&(l[c+((3|h)<<2)>>2]=l[f+(m<<2)>>2]),e=0|e+1}while((0|e)!=(0|s))}}function Fi(e){e|=0;var t=0,i=0,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0;do{if(0|l[e+12>>2]){if(0>=(0|(n=0|l[e+8>>2]))){if(1<(0|l[e+4>>2])){r=1,a=0,o=0|l[e>>2];break}return}i=0,t=1,s=7}else{if(n=0|l[e+8>>2],0<(0|l[e+4>>2])){if(t=0|l[e>>2],0<(0|n)){r=0,i=1,o=t,s=9;break}r=0,a=1,o=t;break}if(!(1<(0|n)))return;i=1,t=0,s=7}}while(0);if(7==(0|s)&&(r=t,o=0|l[e>>2],s=9),9==(0|s)){t=0;do{d=0|o+(r<<4)+((s=t<<3)<<2),f=+_[(u=0|o+(r<<4)+((1|s)<<2))>>2],h=+_[(a=0|o+(r<<4)+((2|s)<<2))>>2],c=+_[(s=0|o+(r<<4)+((3|s)<<2))>>2],_[d>>2]=1.2301740646362305*+_[d>>2],_[u>>2]=1.2301740646362305*f,_[a>>2]=1.2301740646362305*h,_[s>>2]=1.2301740646362305*c,t=0|t+1}while((0|t)!=(0|n));a=i}if(0<(0|(i=0|l[e+4>>2]))){t=0;do{s=0|o+(a<<4)+((d=t<<3)<<2),c=+_[(e=0|o+(a<<4)+((1|d)<<2))>>2],h=+_[(u=0|o+(a<<4)+((2|d)<<2))>>2],f=+_[(d=0|o+(a<<4)+((3|d)<<2))>>2],_[s>>2]=1.625732421875*+_[s>>2],_[e>>2]=1.625732421875*c,_[u>>2]=1.625732421875*h,_[d>>2]=1.625732421875*f,t=0|t+1}while((0|t)!=(0|i))}Li(t=0|o+(a<<4),o=0|16+(e=0|o+(r<<4)),n,s=(0|n)<(0|(s=0|i-r))?n:s,-.4435068666934967),Li(e,u=0|t+16,i,d=(0|i)<(0|(d=0|n-a))?i:d,-.8829110860824585),Li(t,o,n,s,.05298011749982834),Li(e,u,i,d,1.5861343145370483)}function Li(e,t,i,n,r){e|=0,t|=0,i|=0,r=+r;var o=0,a=0,s=0,l=0,c=0,h=0,u=0,f=0,d=0,p=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0;if(0<(0|(n|=0))){for(u=0|(f=n<<1)-2,c=t,h=0,a=+_[e>>2],s=+_[e+4>>2],l=+_[e+8>>2],o=+_[e+12>>2];w=0|c+-16,A=+_[(g=0|c+-12)>>2],y=+_[(m=0|c+-8)>>2],p=+_[(e=0|c+-4)>>2],x=a,a=+_[c>>2],v=s,s=+_[c+4>>2],b=l,l=+_[c+8>>2],d=o,o=+_[c+12>>2],_[w>>2]=+_[w>>2]+(x+a)*r,_[g>>2]=A+(v+s)*r,_[m>>2]=y+(b+l)*r,_[e>>2]=p+(d+o)*r,(0|(h=0|h+1))!=(0|n);){c=0|c+32}e=0|t+(u<<4),t=0|t+(f<<4)}if(!((0|n)>=(0|i)))for(a=(o=r+r)*+_[e>>2],s=o*+_[e+4>>2],l=o*+_[e+8>>2],o*=+_[e+12>>2];f=0|t+-16,v=+_[(m=0|t+-12)>>2],A=+_[(g=0|t+-8)>>2],x=+_[(w=0|t+-4)>>2],_[f>>2]=a+ +_[f>>2],_[m>>2]=s+v,_[g>>2]=l+A,_[w>>2]=o+x,(0|(n=0|n+1))!=(0|i);){t=0|t+32}}function Zi(e,t,i){e|=0,t|=0;var n,r,o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0;if(r=(i|=0)<<2,!(o=0|ze(i<<4)))return 0|(I=0);if(I=0|o+r,Mr(0|o,0,0|r),w=0|i+-1,!(n=0==(0|i)))for(a=o,s=0;l[a>>2]=s,(0|(s=0|s+1))!=(0|i);){a=0|a+4}e:do{if(0|w){for(m=1,b=e,y=0,a=0,g=o,A=i;v=0|b+(y<<2),y>>>0<i>>>0;){for(s=v,c=0,h=y;a=(k=(p=0<(p=+_[s>>2])?p:-p)>c)?h:a,c=k?p:c,(0|(h=0|h+1))!=(0|i);){s=0|s+(i<<2)}if(0==c)break;if((0|a)!=(0|y)&&(k=0|g+(a<<2)+(0-y<<2),x=0|l[g>>2],l[g>>2]=l[k>>2],l[k>>2]=x,Br(0|I,0|(k=0|b+((0|B(0|a-y,i))<<2)),0|r),Br(0|k,0|b,0|r),Br(0|b,0|I,0|r)),c=+_[v>>2],m>>>0<i>>>0)for(h=0|v+(i<<2),f=m;;){p=+_[h>>2]/c,_[h>>2]=p,s=m,u=h,d=v;do{d=0|d+4,_[(u=0|u+4)>>2]=+_[u>>2]-p*+_[d>>2],s=0|s+1}while((0|s)!=(0|i));if((0|(f=0|f+1))==(0|i))break;h=0|h+(A<<2)+(y<<2)}if((y=0|y+1)>>>0>=w>>>0)break e;m=0|m+1,b=0|b+(i<<2),g=0|g+4,A=0|A+-1}return We(o),0|(I=0)}}while(0);if(x=0|I+(i<<2),k=0|I+(i<<1<<2),!n)for(g=0|x+(i<<2),v=0|k+(i<<2),A=0|e+((0|B(i,i))<<2)+-4,w=~i,y=0;;){for(Mr(0|I,0,0|r),_[I+(y<<2)>>2]=1,u=o,f=e,d=k,m=0,b=1;;){if(m)for(a=f,s=k,c=0,h=1;c+=+_[a>>2]*+_[s>>2],(0|(h=0|h+1))!=(0|b);){a=0|a+4,s=0|s+4}else c=0;if(_[d>>2]=+_[I+(l[u>>2]<<2)>>2]-c,(0|(m=0|m+1))==(0|i)){u=i,f=A,d=g,m=v;break}u=0|u+4,f=0|f+(i<<2),d=0|d+4,b=0|b+1}for(;;){if(m=0|m+-4,p=+_[f>>2],u>>>0<i>>>0)for(a=f,s=d,c=0,h=u;c+=+_[(a=0|a+4)>>2]*+_[s>>2],(0|(h=0|h+1))!=(0|i);){s=0|s+4}else c=0;if(u=0|u+-1,_[(d=0|d+-4)>>2]=(+_[m>>2]-c)/p,!u){a=t,s=0;break}f=0|f+(w<<2)}for(;l[a>>2]=l[x+(s<<2)>>2],(0|(s=0|s+1))!=(0|i);){a=0|a+(i<<2)}if((0|(y=0|y+1))==(0|i))break;t=0|t+4}return We(o),0|(I=1)}function zi(e){e|=0;var t=0,i=0,n=0,r=0,o=0,a=0;return(o=0|Ue(1,44))?(a=0|ze(104),l[o>>2]=a,a?(a=0|ze(28),l[(t=0|o+4)>>2]=a,0|a?(l[o+40>>2]=e,0|(a=o)):(qi(0|l[o>>2]),l[o>>2]=0,dn(0|l[t>>2]),l[t>>2]=0,0==(0|l[o+40>>2])&&0|(r=0|l[(n=0|o+8)>>2])&&(Ne(r),l[n>>2]=0),0|(i=0|l[(t=0|o+12)>>2])&&(Ne(i),l[t>>2]=0),We(o),0|(a=0))):(qi(0),l[o>>2]=0,dn(0|l[(a=0|o+4)>>2]),l[a>>2]=0,0==(0|l[o+40>>2])&&0|(i=0|l[(t=0|o+8)>>2])&&(Ne(i),l[t>>2]=0),0|(i=0|l[(t=0|o+12)>>2])&&(Ne(i),l[t>>2]=0),We(o),0|(a=0))):0|(o=0)}function Ui(e){var t,i=0,n=0;(e|=0)&&(qi(0|l[e>>2]),l[e>>2]=0,dn(0|l[(t=0|e+4)>>2]),l[t>>2]=0,0==(0|l[e+40>>2])&&0|(n=0|l[(i=0|e+8)>>2])&&(Ne(n),l[i>>2]=0),0|(n=0|l[(i=0|e+12)>>2])&&(Ne(n),l[i>>2]=0),We(e))}function Vi(e,t,i){e|=0,i|=0;var n,r,o,s,c,u,d,p,m,b,y,g,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0;if(g=0|(0|l[8+(t|=0)>>2])-(0|l[t>>2]),!(v=0|l[(Ee=0|t+20)>>2]))return 0|(Ee=1);c=0|t+24,u=0|i+808,d=0|i+16,p=0|e+4,m=0|e+8,b=0|e+16,y=0|e+20,s=0|i+20,n=0|t+32,r=0|e+12,o=0|e+32,Ie=0,i=v;e:for(;;){if(xe=0|l[c>>2],t=0|l[(ke=0|xe+(0|136*Ie)+24)>>2]){ve=0|xe+(0|136*Ie)+16,we=0|Ie+-1,ge=0,v=0|l[(Ae=0|xe+(0|136*Ie)+20)>>2],i=0|l[ve>>2];do{if(0|B(v,i)){pe=0|xe+(0|136*Ie)+28+(0|36*ge)+20,_e=0|xe+(0|136*Ie)+28+(0|36*ge)+16,me=0|xe+(0|136*Ie)+28+(0|36*ge),be=0|xe+(0|136*Ie)+28+(0|36*ge)+4,ye=0|xe+(0|136*Ie)+28+(0|36*ge)+32,de=0;do{if(ue=0|(t=0|l[pe>>2])+(0|40*de)+16,0|B(0|l[(fe=0|t+(0|40*de)+20)>>2],0|l[ue>>2])){he=0|t+(0|40*de)+24,ce=0;do{if(i=0|l[he>>2],ie=0|l[_e>>2],v=0|l[u>>2],t=0|l[d>>2],ne=0|l[p>>2],re=0|l[e>>2],oe=0|i+(0|56*ce)+8,le=0|i+(0|56*ce)+12,!(0|Ni(e,0|(0|l[i+(0|56*ce)+16>>2])-(0|l[oe>>2]),0|(0|l[i+(0|56*ce)+20>>2])-(0|l[le>>2])))){i=0,H=219;break e}if(A=0|l[(ae=0|i+(0|56*ce)+24)>>2],an(re),sn(re,18,0,46),sn(re,17,0,3),sn(re,0,0,4),0|l[(se=0|i+(0|56*ce)+48)>>2]){q=0|i+(0|56*ce)+4,K=0!=(0|1&t),$=0==(0|2&t),ee=0==(0|8&t),te=ie<<8,J=0==(0|32&t),Q=0,t=2,i=0|A+v;do{w=0|l[q>>2],X=K&(2>t>>>0?(0|i)<=(0|(0|l[ae>>2])-4):0),v=0|l[w+(Q<<5)>>2];t:do{if(v){if(v=0|(0|l[v>>2])+(0|l[w+(Q<<5)+4>>2]),A=0|l[w+(Q<<5)+16>>2],X)pn(ne,v,A);else if(!(0|un(re,v,A))){i=0,H=219;break e}if(0<(0|i)&0!=(0|l[(j=0|w+(Q<<5)+12)>>2]))for(Y=$|X,W=0;;){i:do{switch(0|t){case 0:if(X){if(R=1<<i,R|=R>>1,!(v=0|l[y>>2]))break i;for(D=0|0-R,T=0,A=0|l[b>>2];;){if(P=T,T=0|T+4,A){C=-4==(0|P),M=3|P,E=0;do{n:do{if(!C)if(ee){v=P;do{if(v>>>0>=(0|l[y>>2])>>>0)break n;k=v,v=0|v+1,x=0|(A=0|l[r>>2])+(1+(w=0|(0|B(0|l[o>>2],v))+E)<<1),k=0|(0|l[m>>2])+((0|B(0|l[b>>2],k))+E<<2),I=0|l[p>>2],0!=(0|255&(H=0|a[x>>1]))&0==(0|20480&H)&&(0|_n(I)&&(N=0|_n(I),l[k>>2]=0|N?D:R,V=0|x+(0-(H=0|l[o>>2])<<1),H=0|x+(H<<1),a[(U=0|V+-2)>>1]=2|a[U>>1],a[V>>1]=a[V>>1]|a[3160+(N<<1)>>1],a[(V=0|V+2)>>1]=4|a[V>>1],a[(V=0|A+(w<<1))>>1]=a[V>>1]|a[3160+(N+2<<1)>>1],a[x>>1]=4096|a[x>>1],a[(V=0|x+2)>>1]=a[V>>1]|a[3160+(N+4<<1)>>1],a[(V=0|H+-2)>>1]=1|a[V>>1],a[H>>1]=a[H>>1]|a[3160+(N+6<<1)>>1],a[(H=0|H+2)>>1]=8|a[H>>1]),a[x>>1]=16384|a[x>>1])}while(v>>>0<T>>>0)}else{v=P;do{if(v>>>0>=(A=0|l[y>>2])>>>0)break n;N=v,v=0|v+1,k=0|(w=0|l[r>>2])+(1+(x=0|(0|B(0|l[o>>2],v))+E)<<1),I=0|(0|l[m>>2])+((0|B(0|l[b>>2],N))+E<<2),S=0|l[p>>2],H=0|a[k>>1],0!=(0|255&(H=(0|N)==(0|M)|(0|N)==(0|A+-1)?-1095&H:H))&0==(0|20480&H)&&(0|_n(S)&&(N=0|_n(S),l[I>>2]=0|N?D:R,V=0|k+(0-(H=0|l[o>>2])<<1),H=0|k+(H<<1),a[(U=0|V+-2)>>1]=2|a[U>>1],a[V>>1]=a[V>>1]|a[3160+(N<<1)>>1],a[(V=0|V+2)>>1]=4|a[V>>1],a[(V=0|w+(x<<1))>>1]=a[V>>1]|a[3160+(N+2<<1)>>1],a[k>>1]=4096|a[k>>1],a[(V=0|k+2)>>1]=a[V>>1]|a[3160+(N+4<<1)>>1],a[(V=0|H+-2)>>1]=1|a[V>>1],a[H>>1]=a[H>>1]|a[3160+(N+6<<1)>>1],a[(H=0|H+2)>>1]=8|a[H>>1]),a[k>>1]=16384|a[k>>1])}while(v>>>0<T>>>0)}}while(0);E=0|E+1,A=0|l[b>>2]}while(E>>>0<A>>>0);v=0|l[y>>2]}else A=0;if(T>>>0>=v>>>0){H=187;break i}}}if(!ee){if(G=1<<i,G|=G>>1,!(v=0|l[y>>2])){H=187;break i}for(O=0|0-G,R=0,w=A=0|l[b>>2];;){if(D=R,R=0|R+4,A){for(P=-4==(0|D),T=3|D,M=0;;){if(P)v=w;else{x=D;do{if(x>>>0>=(v=0|l[y>>2])>>>0)break;H=x,x=0|x+1,S=0|(k=0|l[r>>2])+(1+(I=0|(0|B(0|l[o>>2],x))+M)<<1),E=0|(0|l[m>>2])+((0|B(0|l[b>>2],H))+M<<2),C=0|l[e>>2],A=0|a[S>>1],0!=(0|(A=255&(v=(0|H)==(0|T)|(0|H)==(0|v+-1)?-1095&A:A)))&0==(0|20480&v)&&(l[(w=0|C+100)>>2]=C+24+(h[20356+(A|te)>>0]<<2),0|fn(C)&&(N=255&v>>>4,l[w>>2]=C+24+(h[21380+N>>0]<<2),N=(H=0|fn(C))^h[21636+N>>0],l[E>>2]=0|N?O:G,V=0|S+(0-(H=0|l[o>>2])<<1),H=0|S+(H<<1),a[(U=0|V+-2)>>1]=2|a[U>>1],a[V>>1]=a[V>>1]|a[3160+(N<<1)>>1],a[(V=0|V+2)>>1]=4|a[V>>1],a[(V=0|k+(I<<1))>>1]=a[V>>1]|a[3160+(N+2<<1)>>1],a[S>>1]=4096|a[S>>1],a[(V=0|S+2)>>1]=a[V>>1]|a[3160+(N+4<<1)>>1],a[(V=0|H+-2)>>1]=1|a[V>>1],a[H>>1]=a[H>>1]|a[3160+(N+6<<1)>>1],a[(H=0|H+2)>>1]=8|a[H>>1]),a[S>>1]=16384|a[S>>1])}while(x>>>0<R>>>0);v=0|l[b>>2]}if((M=0|M+1)>>>0>=v>>>0)break;w=v}w=v,A=v,v=0|l[y>>2]}else A=0;if(R>>>0>=v>>>0){H=187;break i}}}if(A=0|l[m>>2],v=0|2+(0|l[r>>2]),R=1<<i,R|=R>>1,3<(x=0|l[y>>2])>>>0){D=0|0-R,I=0,k=w=0|l[b>>2];do{if(w){T=0,w=k;do{C=0|A+(T<<2),M=0|v+(T<<1)+((x=0|l[o>>2])<<1),E=0|l[e>>2],0!=(0|(S=255&(k=0|a[M>>1])))&0==(0|20480&k)&&(l[(w=0|E+100)>>2]=E+24+(h[20356+(S|te)>>0]<<2),0|fn(E)?(N=255&k>>>4,l[w>>2]=E+24+(h[21380+N>>0]<<2),N=(x=0|fn(E))^h[21636+N>>0],l[C>>2]=0|N?D:R,H=0|M+((x=0|l[o>>2])<<1),a[(U=0|(V=0|M+(0-x<<1))-2)>>1]=2|a[U>>1],a[V>>1]=a[V>>1]|a[3160+(N<<1)>>1],a[(V=0|V+2)>>1]=4|a[V>>1],a[(V=0|M+-2)>>1]=a[V>>1]|a[3160+(N+2<<1)>>1],a[M>>1]=4096|a[M>>1],a[(V=0|M+2)>>1]=a[V>>1]|a[3160+(N+4<<1)>>1],a[(V=0|H+-2)>>1]=1|a[V>>1],a[H>>1]=a[H>>1]|a[3160+(N+6<<1)>>1],a[(H=0|H+2)>>1]=8|a[H>>1]):x=0|l[o>>2],a[M>>1]=16384|a[M>>1],w=0|l[b>>2],E=0|l[e>>2]),C=0|C+(w<<2),0!=(0|(S=255&(k=0|a[(M=0|M+(x<<1))>>1])))&0==(0|20480&k)&&(l[(w=0|E+100)>>2]=E+24+(h[20356+(S|te)>>0]<<2),0|fn(E)?(N=255&k>>>4,l[w>>2]=E+24+(h[21380+N>>0]<<2),N=(x=0|fn(E))^h[21636+N>>0],l[C>>2]=0|N?D:R,H=0|M+((x=0|l[o>>2])<<1),a[(U=0|(V=0|M+(0-x<<1))-2)>>1]=2|a[U>>1],a[V>>1]=a[V>>1]|a[3160+(N<<1)>>1],a[(V=0|V+2)>>1]=4|a[V>>1],a[(V=0|M+-2)>>1]=a[V>>1]|a[3160+(N+2<<1)>>1],a[M>>1]=4096|a[M>>1],a[(V=0|M+2)>>1]=a[V>>1]|a[3160+(N+4<<1)>>1],a[(V=0|H+-2)>>1]=1|a[V>>1],a[H>>1]=a[H>>1]|a[3160+(N+6<<1)>>1],a[(H=0|H+2)>>1]=8|a[H>>1]):x=0|l[o>>2],a[M>>1]=16384|a[M>>1],w=0|l[b>>2],E=0|l[e>>2]),P=0|C+(w<<2),0!=(0|(S=255&(k=0|a[(M=0|M+(x<<1))>>1])))&0==(0|20480&k)?(l[(w=0|E+100)>>2]=E+24+(h[20356+(S|te)>>0]<<2),0|fn(E)?(N=255&k>>>4,l[w>>2]=E+24+(h[21380+N>>0]<<2),N=(x=0|fn(E))^h[21636+N>>0],l[P>>2]=0|N?D:R,H=0|M+((x=0|l[o>>2])<<1),a[(U=0|(V=0|M+(0-x<<1))-2)>>1]=2|a[U>>1],a[V>>1]=a[V>>1]|a[3160+(N<<1)>>1],a[(V=0|V+2)>>1]=4|a[V>>1],a[(V=0|M+-2)>>1]=a[V>>1]|a[3160+(N+2<<1)>>1],a[M>>1]=4096|a[M>>1],a[(V=0|M+2)>>1]=a[V>>1]|a[3160+(N+4<<1)>>1],a[(V=0|H+-2)>>1]=1|a[V>>1],a[H>>1]=a[H>>1]|a[3160+(N+6<<1)>>1],a[(H=0|H+2)>>1]=8|a[H>>1]):x=0|l[o>>2],a[M>>1]=16384|a[M>>1],w=0|l[b>>2],C=0|l[e>>2]):C=E,E=0|P+(w<<2),0!=(0|(S=255&(k=0|a[(x=0|M+(x<<1))>>1])))&0==(0|20480&k)&&(l[(w=0|C+100)>>2]=C+24+(h[20356+(S|te)>>0]<<2),0|fn(C)&&(N=255&k>>>4,l[w>>2]=C+24+(h[21380+N>>0]<<2),N=(H=0|fn(C))^h[21636+N>>0],l[E>>2]=0|N?D:R,V=0|x+(0-(H=0|l[o>>2])<<1),H=0|x+(H<<1),a[(U=0|V+-2)>>1]=2|a[U>>1],a[V>>1]=a[V>>1]|a[3160+(N<<1)>>1],a[(V=0|V+2)>>1]=4|a[V>>1],a[(V=0|x+-2)>>1]=a[V>>1]|a[3160+(N+2<<1)>>1],a[x>>1]=4096|a[x>>1],a[(V=0|x+2)>>1]=a[V>>1]|a[3160+(N+4<<1)>>1],a[(V=0|H+-2)>>1]=1|a[V>>1],a[H>>1]=a[H>>1]|a[3160+(N+6<<1)>>1],a[(H=0|H+2)>>1]=8|a[H>>1]),a[x>>1]=16384|a[x>>1],w=0|l[b>>2]),T=0|T+1}while(T>>>0<w>>>0);k=w,x=0|l[y>>2]}else w=0;A=0|A+(w<<2<<2),v=0|v+(l[o>>2]<<2<<1),I=0|I+4}while(I>>>0<(-4&x)>>>0);w=k}else I=0,w=0|l[b>>2];if(!w){H=187;break i}D=0|0-R,T=0;do{if(I>>>0<x>>>0)for(C=I,M=0|v+(T<<1),P=0|A+(T<<2);M=0|M+(l[o>>2]<<1),k=0|l[e>>2],0!=(0|(E=255&(S=0|a[M>>1])))&0==(0|20480&S)&&(l[(w=0|k+100)>>2]=k+24+(h[20356+(E|te)>>0]<<2),0|fn(k)&&(N=255&S>>>4,l[w>>2]=k+24+(h[21380+N>>0]<<2),N=(H=0|fn(k))^h[21636+N>>0],l[P>>2]=0|N?D:R,V=0|M+(0-(H=0|l[o>>2])<<1),H=0|M+(H<<1),a[(U=0|V+-2)>>1]=2|a[U>>1],a[V>>1]=a[V>>1]|a[3160+(N<<1)>>1],a[(V=0|V+2)>>1]=4|a[V>>1],a[(V=0|M+-2)>>1]=a[V>>1]|a[3160+(N+2<<1)>>1],a[M>>1]=4096|a[M>>1],a[(V=0|M+2)>>1]=a[V>>1]|a[3160+(N+4<<1)>>1],a[(V=0|H+-2)>>1]=1|a[V>>1],a[H>>1]=a[H>>1]|a[3160+(N+6<<1)>>1],a[(H=0|H+2)>>1]=8|a[H>>1]),a[M>>1]=16384|a[M>>1],w=0|l[b>>2],x=0|l[y>>2]),!((C=0|C+1)>>>0>=x>>>0);){P=0|P+(w<<2)}T=0|T+1}while(T>>>0<w>>>0);H=187;break;case 1:if(X){if(C=0|0-(E=1<<i>>1),!(v=0|l[y>>2]))break i;for(S=0,w=A=0|l[b>>2];;){I=S,S=0|S+4;do{if(A){if(-4==(0|I)){x=w,A=w;break}k=0;do{A=k,k=0|k+1,v=I;do{if(v>>>0>=(0|l[y>>2])>>>0)break;x=v,v=0|v+1,w=0|(0|l[r>>2])+((0|B(0|l[o>>2],v))+k<<1),x=0|(0|l[m>>2])+((0|B(0|l[b>>2],x))+A<<2),4096==(20480&a[w>>1])&&(N=(N=0!=(0|_n(0|l[p>>2])))?E:C,H=0|l[x>>2],l[x>>2]=(0>(0|H)?0|0-N:N)+H,a[w>>1]=8192|a[w>>1])}while(v>>>0<S>>>0);v=0|l[b>>2]}while(k>>>0<v>>>0);x=v,A=v,v=0|l[y>>2]}else x=w,A=0}while(0);if(S>>>0>=v>>>0){H=187;break i}w=x}}if(!ee){if(T=0|0-(P=1<<i>>1),!(v=0|l[y>>2])){H=187;break i}for(M=0,x=A=0|l[b>>2];;){C=M,M=0|M+4;do{if(A){if(E=3|C,-4==(0|C)){w=x,A=x;break}S=0;do{w=S,S=0|S+1,A=C;do{if(A>>>0>=(v=0|l[y>>2])>>>0)break;N=A,A=0|A+1,k=0|(0|l[r>>2])+((0|B(0|l[o>>2],A))+S<<1),I=0|(0|l[m>>2])+((0|B(0|l[b>>2],N))+w<<2),x=0|l[e>>2],H=0|a[k>>1],4096==(0|20480&(v=(0|N)==(0|E)|(0|N)==(0|v+-1)?-1095&H:H))&&(l[x+100>>2]=x+24+((0|8192&v?16:0|255&v?15:14)<<2),N=(N=0!=(0|fn(x)))?P:T,H=0|l[I>>2],l[I>>2]=(0>(0|H)?0|0-N:N)+H,a[k>>1]=8192|a[k>>1])}while(A>>>0<M>>>0);v=0|l[b>>2]}while(S>>>0<v>>>0);w=v,A=v,v=0|l[y>>2]}else w=x,A=0}while(0);if(M>>>0>=v>>>0){H=187;break i}x=w}}if(A=0|l[m>>2],v=0|2+(0|l[r>>2]),D=0|0-(T=1<<i>>1),x=0|l[y>>2],w=0|l[b>>2],3<x>>>0){I=0,k=w;do{if(w){P=0,w=k;do{E=0|A+(P<<2),C=0|v+(P<<1)+((S=0|l[o>>2])<<1),x=0|l[e>>2],4096==(0|20480&(k=0|a[C>>1]))&&(l[x+100>>2]=x+24+((0|8192&k?16:0|255&k?15:14)<<2),w=(w=0!=(0|fn(x)))?T:D,x=0|l[E>>2],l[E>>2]=(0>(0|x)?0|0-w:w)+x,a[C>>1]=8192|a[C>>1],x=0|l[e>>2],w=0|l[b>>2],S=0|l[o>>2]),E=0|E+(w<<2),4096==(0|20480&(k=0|a[(C=0|C+(S<<1))>>1]))&&(l[x+100>>2]=x+24+((0|8192&k?16:0|255&k?15:14)<<2),w=(w=0!=(0|fn(x)))?T:D,x=0|l[E>>2],l[E>>2]=(0>(0|x)?0|0-w:w)+x,a[C>>1]=8192|a[C>>1],x=0|l[e>>2],w=0|l[b>>2],S=0|l[o>>2]),M=0|E+(w<<2),4096==(0|20480&(k=0|a[(C=0|C+(S<<1))>>1]))?(l[x+100>>2]=x+24+((0|8192&k?16:0|255&k?15:14)<<2),w=(w=0!=(0|fn(x)))?T:D,E=0|l[M>>2],l[M>>2]=(0>(0|E)?0|0-w:w)+E,a[C>>1]=8192|a[C>>1],E=0|l[e>>2],w=0|l[b>>2],x=0|l[o>>2]):(E=x,x=S),S=0|M+(w<<2),4096==(0|20480&(k=0|a[(x=0|C+(x<<1))>>1]))&&(l[E+100>>2]=E+24+((0|8192&k?16:0|255&k?15:14)<<2),H=(H=0!=(0|fn(E)))?T:D,w=0|l[S>>2],l[S>>2]=(0>(0|w)?0|0-H:H)+w,a[x>>1]=8192|a[x>>1],w=0|l[b>>2]),P=0|P+1}while(P>>>0<w>>>0);k=w,x=0|l[y>>2]}else w=0;A=0|A+(w<<2<<2),v=0|v+(l[o>>2]<<2<<1),I=0|I+4}while(I>>>0<(-4&x)>>>0);w=k}else I=0;if(!w){H=187;break i}P=0;do{if(I>>>0<x>>>0)for(E=I,C=0|v+(P<<1),M=0|A+(P<<2);C=0|C+(l[o>>2]<<1),k=0|l[e>>2],4096==(0|20480&(S=0|a[C>>1]))&&(l[k+100>>2]=k+24+((0|8192&S?16:0|255&S?15:14)<<2),x=(x=0!=(0|fn(k)))?T:D,w=0|l[M>>2],l[M>>2]=(0>(0|w)?0|0-x:x)+w,a[C>>1]=8192|a[C>>1],w=0|l[b>>2],x=0|l[y>>2]),!((E=0|E+1)>>>0>=x>>>0);){M=0|M+(w<<2)}P=0|P+1}while(P>>>0<w>>>0);H=187;break;case 2:V=0|l[e>>2],N=1<<i,N|=N>>1;do{if(ee){if(w=0|l[m>>2],A=0|2+(0|l[r>>2]),3<(v=0|l[y>>2])>>>0)for(D=0|V+92,R=0|V+100,G=0|V+96,O=0|0-N,x=A,I=0,k=H=0|l[b>>2],A=H;;){if(k){M=0|1+(C=1|I),P=3|I,T=0|C+3,E=0;do{A=0|w+(E<<2),k=0|x+(E<<1),H=0|l[r>>2],v=0|l[o>>2],E=0|E+1,z=0|H+((0|B(v,C))+E<<1),Z=0|H+((0|B(v,M))+E<<1),U=0|H+((0|B(v,P))+E<<1),H=0|H+((0|B(v,T))+E<<1);n:do{if(20735&(a[Z>>1]|a[z>>1]|a[U>>1]|a[H>>1]))Hi(e,U=0|k+(v<<1),A,ie,N),H=0|A+(l[b>>2]<<2),Hi(e,U=0|U+(l[o>>2]<<1),H,ie,N),H=0|H+(l[b>>2]<<2),Hi(e,U=0|U+(l[o>>2]<<1),H,ie,N),Hi(e,0|U+(l[o>>2]<<1),0|H+(l[b>>2]<<2),ie,N);else{if(l[R>>2]=D,!(0|fn(V)))break;if(l[R>>2]=G,4<=(S=0|(S=(0|fn(V))<<1)|fn(V))>>>0)break;for(A=0|A+((0|B(0|l[b>>2],S))<<2),v=0|k+((0|B(0|l[o>>2],S))<<1),k=S;;){if(k>>>0>=(0|l[y>>2])>>>0)break n;if(v=0|v+(l[o>>2]<<1),(0|k)==(0|S)?(H=0|l[e>>2],U=255&(0|f[v>>1])>>>4,l[H+100>>2]=H+24+(h[21380+U>>0]<<2),U=(H=0|fn(H))^h[21636+U>>0],l[A>>2]=0|U?O:N,z=0|v+(0-(H=0|l[o>>2])<<1),H=0|v+(H<<1),a[(Z=0|z+-2)>>1]=2|a[Z>>1],a[z>>1]=a[z>>1]|a[3160+(U<<1)>>1],a[(z=0|z+2)>>1]=4|a[z>>1],a[(z=0|v+-2)>>1]=a[z>>1]|a[3160+(U+2<<1)>>1],a[v>>1]=4096|a[v>>1],a[(z=0|v+2)>>1]=a[z>>1]|a[3160+(U+4<<1)>>1],a[(z=0|H+-2)>>1]=1|a[z>>1],a[H>>1]=a[H>>1]|a[3160+(U+6<<1)>>1],a[(H=0|H+2)>>1]=8|a[H>>1],a[v>>1]=-16385&a[v>>1]):Hi(e,v,A,ie,N),4<=(k=0|k+1)>>>0)break;A=0|A+(l[b>>2]<<2)}}}while(0);A=0|l[b>>2]}while(E>>>0<A>>>0);k=A,v=0|l[y>>2]}else k=0;if(w=0|w+(k<<2<<2),x=0|x+(l[o>>2]<<2<<1),(I=0|I+4)>>>0>=(-4&v)>>>0){C=x,E=w;break}}else C=A,E=w,I=0,A=0|l[b>>2];if(!A)break;S=0;do{if(I>>>0<v>>>0)for(w=0|C+(S<<1),x=0|E+(S<<2),k=I;Hi(e,w=0|w+(l[o>>2]<<1),x,ie,N),A=0|l[b>>2],!((k=0|k+1)>>>0>=(v=0|l[y>>2])>>>0);){x=0|x+(A<<2)}S=0|S+1}while(S>>>0<A>>>0)}else{if(!(v=0|l[y>>2]))break;L=0|V+92,Z=0|V+100,z=0|V+96,U=0|0-N,w=0,A=0|l[b>>2];do{if(A)for(D=3|w,G=0|1+(R=1|w),O=0|R+3,F=0|w+4,T=0;;){do{if(D>>>0<v>>>0){if(v=0|l[r>>2],A=0|l[o>>2],x=0|T+1,P=0|v+((0|B(A,R))+x<<1),20735&a[P>>1]){v=0,P=0,H=152;break}if(P=0|v+((0|B(A,G))+x<<1),20735&a[P>>1]){v=0,P=0,H=152;break}if(P=0|v+((0|B(A,D))+x<<1),20735&a[P>>1]){v=0,P=0,H=152;break}if(P=0|v+((0|B(A,O))+x<<1),20665&a[P>>1]){v=0,P=0,H=152;break}if(l[Z>>2]=L,!(0|fn(V)))break;l[Z>>2]=z,v=0|(v=(0|fn(V))<<1)|fn(V),P=1,H=152}else v=0,P=0,H=152}while(0);n:do{if(152==(0|H)){if(H=0,!((k=0|v+w)>>>0<F>>>0))break;x=k;do{if(x>>>0>=(v=0|l[y>>2])>>>0)break n;Ce=x,x=0|x+1,E=0|(I=0|l[r>>2])+(1+(S=0|(0|B(0|l[o>>2],x))+T)<<1),C=0|(0|l[m>>2])+((0|B(0|l[b>>2],Ce))+T<<2),M=0|l[e>>2],A=0|a[E>>1],A=(0|Ce)==(0|D)|(0|Ce)==(0|v+-1)?-1095&A:A;do{if(P&(0|Ce)==(0|k))v=0|M+100,H=158;else{if(0|20480&A)break;l[(v=0|M+100)>>2]=M+24+(h[20356+(255&A|te)>>0]<<2),0|fn(M)&&(H=158)}}while(0);158==(0|H)&&(H=0,Ce=255&A>>>4,l[v>>2]=M+24+(h[21380+Ce>>0]<<2),M=0|fn(M),M^=h[21636+Ce>>0],l[C>>2]=0|M?U:N,C=0|E+(0-(Ce=0|l[o>>2])<<1),Ce=0|E+(Ce<<1),a[(A=0|C+-2)>>1]=2|a[A>>1],a[C>>1]=a[C>>1]|a[3160+(M<<1)>>1],a[(C=0|C+2)>>1]=4|a[C>>1],a[(C=0|I+(S<<1))>>1]=a[C>>1]|a[3160+(M+2<<1)>>1],a[E>>1]=4096|a[E>>1],a[(C=0|E+2)>>1]=a[C>>1]|a[3160+(M+4<<1)>>1],a[(C=0|Ce+-2)>>1]=1|a[C>>1],a[Ce>>1]=a[Ce>>1]|a[3160+(M+6<<1)>>1],a[(Ce=0|Ce+2)>>1]=8|a[Ce>>1]),a[E>>1]=-16385&a[E>>1]}while(x>>>0<F>>>0)}}while(0);if(T=0|T+1,A=0|l[b>>2],v=0|l[y>>2],T>>>0>=A>>>0){w=F;break}}else w=0|w+4,A=0}while(w>>>0<v>>>0)}}while(0);if(J){H=187;break i}l[V+100>>2]=V+96,fn(V),fn(V),fn(V),fn(V),H=187;break;default:H=187;}}while(0);do{if(187==(0|H)){if(H=0,Y)break;an(re),sn(re,18,0,46),sn(re,17,0,3),sn(re,0,0,4)}}while(0);if(i=0|i+((Ce=3==(0|(t=0|t+1)))<<31>>31),t=Ce?0:t,W=0|W+1,!(0<(0|i)&&W>>>0<(0|l[j>>2])>>>0))break t}}}while(0);Q=0|Q+1}while(Q>>>0<(0|l[se>>2])>>>0)}if(i=0|(0|l[oe>>2])-(0|l[me>>2]),t=0|(0|l[le>>2])-(0|l[be>>2]),1&(v=0|l[_e>>2])&&(Ce=0|l[c>>2],i=0|(0|l[Ce+(0|136*we)+8>>2])+i-(0|l[Ce+(0|136*we)>>2])),2&v&&(Ce=0|l[c>>2],t=0|(0|l[Ce+(0|136*we)+12>>2])+t-(0|l[Ce+(0|136*we)+4>>2])),S=0|l[m>>2],E=0|l[b>>2],C=0|l[y>>2],0|(v=0|l[u>>2])&&(Se=1<<v,!(0==(0|C)|0==(0|E)))){v=0;do{w=0|B(v,E),A=0;do{(0|(I=-1<(0|(k=0|l[(x=0|S+(A+w<<2))>>2]))?k:0|0-k))>=(0|Se)&&(Ce=I>>l[u>>2],l[x>>2]=0>(0|k)?0|0-Ce:Ce),A=0|A+1}while((0|A)!=(0|E));v=0|v+1}while((0|v)!=(0|C))}if(x=0|(0|l[n>>2])+((0|B(t,g))+i<<2),i=0==(0|C)|0==(0|E),1==(0|l[s>>2])){if(!i){i=0;do{v=0|B(i,E),A=0|B(i,g),t=0;do{l[x+(t+A<<2)>>2]=0|(0|l[S+(t+v<<2)>>2])/2,t=0|t+1}while((0|t)!=(0|E));i=0|i+1}while((0|i)!=(0|C))}}else if(!i)for(t=S,A=0;;){for(i=x,v=t,w=0;_[i>>2]=+_[ye>>2]*+(0|l[v>>2]),(0|(w=0|w+1))!=(0|E);){i=0|i+4,v=0|v+4}if((0|(A=0|A+1))==(0|C))break;x=0|x+(g<<2),t=0|t+(E<<2)}ce=0|ce+1}while(ce>>>0<(0|B(0|l[fe>>2],0|l[ue>>2]))>>>0);v=0|l[Ae>>2],i=0|l[ve>>2]}de=0|de+1}while(de>>>0<(0|B(v,i))>>>0);t=0|l[ke>>2]}ge=0|ge+1}while(ge>>>0<t>>>0);i=0|l[Ee>>2]}if((Ie=0|Ie+1)>>>0>=i>>>0){i=1,H=219;break}}return 219==(0|H)?0|i:0}function Ni(e,t,i){e|=0;var n,r=0,o=0,a=0,s=0;if(s=0|B(i|=0,t|=0),!(0|l[e+40>>2])){o=0|e+24,r=0|e+8;do{if(s>>>0>(0|l[o>>2])>>>0){if(Ne(0|l[r>>2]),a=0|Ve(s<<2),l[r>>2]=a,a){l[o>>2]=s,o=a,r=a;break}return 0|(i=0)}o=r=0|l[r>>2]}while(0);0|o&&Mr(0|r,0,0|s<<2)}a=0|t+2,l[e+32>>2]=a,a=0|B(0|i+2,a),s=0|e+28,r=0|l[(n=0|e+12)>>2];do{if(a>>>0>(0|l[s>>2])>>>0){if(Ne(r),r=0|Ve(o=a<<1),l[n>>2]=r,r){l[s>>2]=a;break}return 0|(i=0)}o=a<<1}while(0);return Mr(0|r,0,0|o),l[e+16>>2]=t,l[e+20>>2]=i,0|(i=1)}function Hi(e,t,i,n,r){t|=0,i|=0,n|=0,r|=0;var o,s=0,c=0;return s=0|l[(e|=0)>>2],0|20480&(c=0|a[t>>1])?(c=0|a[t>>1],c&=-16385,void(a[t>>1]=c)):(l[(o=0|s+100)>>2]=s+24+(h[20356+(255&c|n<<8)>>0]<<2),0|fn(s)?(c=255&c>>>4,l[o>>2]=s+24+(h[21380+c>>0]<<2),s=0|fn(s),s^=h[21636+c>>0],l[i>>2]=0|s?0|0-r:r,r=0|t+(0-(c=0|l[e+32>>2])<<1),c=0|t+(c<<1),a[(n=0|r+-2)>>1]=2|a[n>>1],a[r>>1]=a[r>>1]|a[3160+(s<<1)>>1],a[(r=0|r+2)>>1]=4|a[r>>1],a[(r=0|t+-2)>>1]=a[r>>1]|a[3160+(s+2<<1)>>1],a[t>>1]=4096|a[t>>1],a[(r=0|t+2)>>1]=a[r>>1]|a[3160+(s+4<<1)>>1],a[(r=0|c+-2)>>1]=1|a[r>>1],a[c>>1]=a[c>>1]|a[3160+(s+6<<1)>>1],a[(c=0|c+2)>>1]=8|a[c>>1],c=0|a[t>>1],c&=-16385,void(a[t>>1]=c)):(c=0|a[t>>1],c&=-16385,void(a[t>>1]=c)))}function Wi(e,t,i,n,o){e|=0,i|=0,n|=0,o|=0;var s,c,u,f,d,p,m,y,g,v,A=0,w=0,x=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0,Y=0,X=0,Q=0,J=0,q=0,K=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ce=0,he=0,ue=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ye=0,ge=0,ve=0,Ae=0,we=0,xe=0,ke=0,Ie=0,Se=0,Ee=0,Ce=0,Be=0,Me=0,Pe=0,Te=0,De=0,Re=0,Ge=0,Oe=0,Fe=0,Le=0,Ze=0,ze=0,Ue=0,Ve=0,Ne=0,He=0,We=0,je=0,Ye=0,Xe=0,Qe=0,Je=0,qe=0,Ke=0;if(b[(v=0|32+(t|=0))>>3]=0,!(A=0|l[(qe=0|t+16)>>2]))return 0|(qe=1);g=0|t+20,s=0|i+5584,c=0|e+16,u=0|e+20,f=0|e+8,d=0|e+36,p=0!=(0|n),m=0|e+12,y=0|e+32,Je=0,t=A;e:for(;;){if(i=0|l[g>>2],A=0|l[s>>2],Xe=0|(0|l[i+(0|52*Je)+8>>2])-(0|l[i+(0|52*Je)>>2]),w=0|l[(Qe=0|i+(0|52*Je)+16)>>2]){Ye=0|i+(0|52*Je)+24,We=0|i+(0|52*Je)+32,je=0|A+(0|1080*Je)+20,Ve=0|A+(0|1080*Je)+16,He=p&Je>>>0<o>>>0,Ne=0|n+(Je<<3),Ue=0,t=w;do{if(Le=0|l[Ye>>2],i=0|l[(Ze=0|Le+(0|136*Ue)+24)>>2]){Re=0|Le+(0|136*Ue)+16,Oe=~Ue,Fe=0|Ue+-1,De=0,A=0|l[(Ge=0|Le+(0|136*Ue)+20)>>2],t=0|l[Re>>2];do{if(Te=0|Le+(0|136*Ue)+28+(0|36*De)+32,0|B(A,t)){Ee=0|Le+(0|136*Ue)+28+(0|36*De)+20,Ce=0|Le+(0|136*Ue)+28+(0|36*De),Be=0|Le+(0|136*Ue)+28+(0|36*De)+4,Me=0|Le+(0|136*Ue)+28+(0|36*De)+16,Pe=(0>(0|(Se=0|67108864/(0|~~+I(8192*+_[Te>>2])))))<<31>>31,Ie=0;do{if(xe=0|(i=0|l[Ee>>2])+(0|40*Ie)+16,0|B(0|l[(ke=0|i+(0|40*Ie)+20)>>2],0|l[xe>>2])){we=0|i+(0|40*Ie)+24,Ae=0;do{if(ve=0|l[we>>2],t=0|(w=0|l[ve+(0|52*Ae)+12>>2])-(0|l[Ce>>2]),i=0|(x=0|l[ve+(0|52*Ae)+16>>2])-(0|l[Be>>2]),1&(A=0|l[Me>>2])&&(ge=0|l[Ye>>2],t=0|(0|l[ge+(0|136*Fe)+8>>2])+t-(0|l[ge+(0|136*Fe)>>2])),2&A&&(ge=0|l[Ye>>2],i=0|(0|l[ge+(0|136*Fe)+12>>2])+i-(0|l[ge+(0|136*Fe)+4>>2])),!(0|Ni(e,0|(0|l[ve+(0|52*Ae)+20>>2])-w,0|(0|l[ve+(0|52*Ae)+24>>2])-x))){t=0,ze=163;break e}x=0|l[c>>2],S=0|l[u>>2],M=0|(0|l[We>>2])+((0|B(i,Xe))+t<<2),l[f>>2]=M,l[d>>2]=Xe,t=0|l[je>>2],i=0!=(0|S);do{if(1==(0|t)){if(i){if(!x){ze=27;break}for(t=0,i=0;;){for(A=0,w=t;l[(ze=0|M+(w<<2))>>2]=l[ze>>2]<<6,(0|(A=0|A+1))!=(0|x);){w=0|w+1}if((0|(i=0|i+1))==(0|S)){ze=27;break}t=0|Xe+t}}else t=1;}else if(i){if(!x){ze=27;break}for(t=0,A=0;;){for(i=0,w=A;ge=0|Sr(0|(ge=0|gr(0|(ge=0|yr(0|(ge=0|l[(ze=0|M+(w<<2))>>2]),0|(0>(0|ge))<<31>>31,0|Se,0|Pe)),0|k,4096,0)),0|k,18),l[ze>>2]=ge,(0|(i=0|i+1))!=(0|x);){w=0|w+1}if((0|(t=0|t+1))==(0|S)){ze=27;break}A=0|Xe+A}}}while(0);27==(0|ze)&&(ze=0,t=0|l[je>>2]),_e=0|l[Me>>2],me=0|(0|l[Qe>>2])+Oe,be=+_[Te>>2],ye=0|l[Ve>>2],ge=0|l[e>>2],S=0|l[c>>2];do{if(S){if(!(E=0|l[u>>2])){i=0;break}x=0|l[d>>2],w=0,A=0;do{i=0;do{pe=0|M+((0|B(i,x))+w<<2),A=(0|A)>(0|(pe=-1<(0|(pe=0|l[pe>>2]))?pe:0|0-pe))?A:pe,i=0|i+1}while((0|i)!=(0|E));w=0|w+1}while((0|w)!=(0|S));if(!A){i=0;break}if(1<(0|A))for(i=0;i=0|i+1,3<A>>>0;){A>>>=1}else i=0;i=0|i+-5}else i=0}while(0);l[(de=0|ve+(0|52*Ae)+28)>>2]=i,i=0|i+-1,an(ge),sn(ge,18,0,46),sn(ge,17,0,3),sn(ge,0,0,4),$i(ge,0|l[(pe=0|ve+(0|52*Ae))>>2]);t:do{if(-1<(0|i))for(ue=0|ve+(0|52*Ae)+8,fe=0!=(0|(ie=1&ye)),ne=1==(0|t),re=0==(0|4&ye),ie=0==(0|ie),oe=0==(0|2&ye),ae=0!=(0|(le=8&ye)),se=_e<<8,ce=0==(0|32&ye),he=1^(le=0==(0|le)),t=0,ee=2,A=0,te=0;;){$=0|l[ue>>2],H=fe&(2>ee>>>0?(0|i)<(0|(0|l[de>>2])-4):0);i:do{switch(0|ee){case 0:if(V=1<<i+6,!(w=0|l[u>>2])){A=0;break i}N=0==(0|i)?3176:3432,U=0,A=0,x=S=0|l[c>>2];do{if(z=U,U=0|U+4,x){for(L=-4==(0|z),Z=3|z,F=0;;){if(L)x=S;else{O=z;do{if(O>>>0>=(w=0|l[u>>2])>>>0)break;K=O,O=0|O+1,G=0|(T=0|l[m>>2])+(1+(D=0|(0|B(0|l[y>>2],O))+F)<<1),E=0|(0|l[f>>2])+((0|B(0|l[d>>2],K))+F<<2),R=0|l[e>>2],M=0|a[G>>1],0!=(0|(w=255&(M=ae&((0|K)==(0|Z)|(0|K)==(0|w+-1))?-1095&M:M)))&0==(0|20480&M)&&(S=1&(x=0!=(0|(0>(0|(x=0|l[E>>2]))?0|0-x:x)&V)),l[(P=0|R+100)>>2]=R+24+(h[20356+(w|se)>>0]<<2),H?rn(R,S):en(R,S),x&&(x=(w=0|l[E>>2])>>>31,A=0|A+(0|a[N+((127&(0>(0|w)?0|0-w:w)>>>i)<<1)>>1]),w=255&M>>>4,l[P>>2]=R+24+(h[21380+w>>0]<<2),H?rn(R,x):en(R,x^h[21636+w>>0]),q=0|G+(0-(K=0|l[y>>2])<<1),K=0|G+(K<<1),a[(J=0|q+-2)>>1]=2|a[J>>1],a[q>>1]=a[q>>1]|a[3160+(x<<1)>>1],a[(q=0|q+2)>>1]=4|a[q>>1],a[(q=0|T+(D<<1))>>1]=a[q>>1]|a[3160+((2|x)<<1)>>1],a[G>>1]=4096|a[G>>1],a[(q=0|G+2)>>1]=a[q>>1]|a[3160+((4|x)<<1)>>1],a[(q=0|K+-2)>>1]=1|a[q>>1],a[K>>1]=a[K>>1]|a[3160+((6|x)<<1)>>1],a[(K=0|K+2)>>1]=8|a[K>>1]),a[G>>1]=16384|a[G>>1])}while(O>>>0<U>>>0);x=0|l[c>>2]}if((F=0|F+1)>>>0>=x>>>0)break;S=x}w=0|l[u>>2],S=x}else x=0}while(U>>>0<w>>>0);break;case 1:if(F=1<<i+6,!(w=0|l[u>>2])){A=0;break i}L=0==(0|i)?3688:3944,O=0,A=0,x=0|l[c>>2];do{if(G=O,O=0|O+4,x){D=-4==(0|G),R=3|G,T=0;do{P=T,T=0|T+1;n:do{if(!D)if(le){if(H){M=G;do{if(M>>>0>=(0|l[u>>2])>>>0)break n;w=M,M=0|M+1,S=0|(0|l[m>>2])+((0|B(0|l[y>>2],M))+T<<1),x=0|l[e>>2],4096==(0|20480&(E=0|a[S>>1]))&&(K=0|(0|l[f>>2])+((0|B(0|l[d>>2],w))+P<<2),K=0|l[K>>2],A=0|A+(0|a[L+((127&(K=0>(0|K)?0|0-K:K)>>>i)<<1)>>1]),l[x+100>>2]=x+24+((0|8192&E?16:0|255&E?15:14)<<2),rn(x,1&0!=(0|K&F)),a[S>>1]=8192|a[S>>1])}while(M>>>0<O>>>0)}else{M=G;do{if(M>>>0>=(0|l[u>>2])>>>0)break n;w=M,M=0|M+1,S=0|(0|l[m>>2])+((0|B(0|l[y>>2],M))+T<<1),x=0|l[e>>2],4096==(0|20480&(E=0|a[S>>1]))&&(K=0|(0|l[f>>2])+((0|B(0|l[d>>2],w))+P<<2),K=0|l[K>>2],A=0|A+(0|a[L+((127&(K=0>(0|K)?0|0-K:K)>>>i)<<1)>>1]),l[x+100>>2]=x+24+((0|8192&E?16:0|255&E?15:14)<<2),en(x,1&0!=(0|K&F)),a[S>>1]=8192|a[S>>1])}while(M>>>0<O>>>0)}}else if(H){M=G;do{if(M>>>0>=(w=0|l[u>>2])>>>0)break n;x=M,M=0|M+1,E=0|(0|l[m>>2])+((0|B(0|l[y>>2],M))+T<<1),S=0|l[e>>2],K=0|a[E>>1],4096==(0|20480&(w=(0|x)==(0|R)|(0|x)==(0|w+-1)?-1095&K:K))&&(K=0|(0|l[f>>2])+((0|B(0|l[d>>2],x))+P<<2),K=0|l[K>>2],A=0|A+(0|a[L+((127&(K=0>(0|K)?0|0-K:K)>>>i)<<1)>>1]),l[S+100>>2]=S+24+((0|8192&w?16:0|255&w?15:14)<<2),rn(S,1&0!=(0|K&F)),a[E>>1]=8192|a[E>>1])}while(M>>>0<O>>>0)}else{M=G;do{if(M>>>0>=(w=0|l[u>>2])>>>0)break n;x=M,M=0|M+1,E=0|(0|l[m>>2])+((0|B(0|l[y>>2],M))+T<<1),S=0|l[e>>2],K=0|a[E>>1],4096==(0|20480&(w=(0|x)==(0|R)|(0|x)==(0|w+-1)?-1095&K:K))&&(K=0|(0|l[f>>2])+((0|B(0|l[d>>2],x))+P<<2),K=0|l[K>>2],A=0|A+(0|a[L+((127&(K=0>(0|K)?0|0-K:K)>>>i)<<1)>>1]),l[S+100>>2]=S+24+((0|8192&w?16:0|255&w?15:14)<<2),en(S,1&0!=(0|K&F)),a[E>>1]=8192|a[E>>1])}while(M>>>0<O>>>0)}}while(0);x=0|l[c>>2]}while(T>>>0<x>>>0);w=0|l[u>>2]}else x=0}while(O>>>0<w>>>0);break;case 2:if(Y=0|l[e>>2],X=1<<i+6,w=0|l[u>>2]){Q=0|Y+92,J=0|Y+100,q=0|Y+96,K=0==(0|i)?3176:3432,S=0,A=0,x=0|l[c>>2];do{if(x)for(Z=3|S,U=0|1+(z=1|S),V=0|z+3,j=0|S+4,N=0|S+1,H=0|S+2,W=0|S+3,L=0;;){do{if(Z>>>0<w>>>0){if(w=0|l[m>>2],x=0|l[y>>2],E=0|L+1,M=0|w+((0|B(x,z))+E<<1),M=0|a[M>>1],le){if(G=0|w+((0|B(x,U))+E<<1),O=0|w+((0|B(x,Z))+E<<1),F=0|w+((0|B(x,V))+E<<1),20735&(a[G>>1]|M|a[O>>1]|a[F>>1])){F=0,w=0,ze=105;break}}else{if(20735&M){F=0,w=0,ze=105;break}if(F=0|w+((0|B(x,U))+E<<1),20735&a[F>>1]){F=0,w=0,ze=105;break}if(F=0|w+((0|B(x,Z))+E<<1),20735&a[F>>1]){F=0,w=0,ze=105;break}if(F=0|w+((0|B(x,V))+E<<1),20665&a[F>>1]){F=0,w=0,ze=105;break}}w=0|l[f>>2],x=0|l[d>>2],F=0|w+((0|B(x,S))+L<<2),F=0|l[F>>2];do{if((0>(0|F)?0|0-F:F)&X)w=0;else{if(F=0|w+((0|B(x,N))+L<<2),0|(0>(0|(F=0|l[F>>2]))?0|0-F:F)&X){w=1;break}if(F=0|w+((0|B(x,H))+L<<2),0|(0>(0|(F=0|l[F>>2]))?0|0-F:F)&X){w=2;break}w=0|w+((0|B(x,W))+L<<2),w=0==(0|(0>(0|(w=0|l[w>>2]))?0|0-w:w)&X)?4:3}}while(0);if(l[J>>2]=Q,en(Y,1&4!=(0|w)),4==(0|w))break;l[J>>2]=q,en(Y,w>>>1),en(Y,1&w),F=1,ze=105}else F=0,w=0,ze=105}while(0);n:do{if(105==(0|ze)){if(ze=0,!((O=0|w+S)>>>0<j>>>0))break;G=O;do{if(G>>>0>=(w=0|l[u>>2])>>>0)break n;Ke=G,G=0|G+1,R=0|(M=0|l[m>>2])+(1+(P=0|(0|B(0|l[y>>2],G))+L)<<1),T=0|(0|l[f>>2])+((0|B(0|l[d>>2],Ke))+L<<2),D=0|l[e>>2],x=0|a[R>>1],E=((0|Ke)==(0|Z)|(0|Ke)==(0|w+-1))&he?-1095&x:x;do{if(F&(0|Ke)==(0|O))w=0|D+100,ze=111;else{if(0|20480&x)break;l[(w=0|D+100)>>2]=D+24+(h[20356+(255&E|se)>>0]<<2),en(D,1&(Ke=0!=(0|(0>(0|(Ke=0|l[T>>2]))?0|0-Ke:Ke)&X))),Ke&&(ze=111)}}while(0);111==(0|ze)&&(ze=0,T=0|l[T>>2],A=0|A+(0|a[K+((127&(0>(0|T)?0|0-T:T)>>>i)<<1)>>1]),Ke=255&E>>>4,l[w>>2]=D+24+(h[21380+Ke>>0]<<2),en(D,(T>>>=31)^h[21636+Ke>>0]),D=0|R+(0-(Ke=0|l[y>>2])<<1),Ke=0|R+(Ke<<1),a[(E=0|D+-2)>>1]=2|a[E>>1],a[D>>1]=a[D>>1]|a[3160+(T<<1)>>1],a[(D=0|D+2)>>1]=4|a[D>>1],a[(D=0|M+(P<<1))>>1]=a[D>>1]|a[3160+((2|T)<<1)>>1],a[R>>1]=4096|a[R>>1],a[(D=0|R+2)>>1]=a[D>>1]|a[3160+((4|T)<<1)>>1],a[(D=0|Ke+-2)>>1]=1|a[D>>1],a[Ke>>1]=a[Ke>>1]|a[3160+((6|T)<<1)>>1],a[(Ke=0|Ke+2)>>1]=8|a[Ke>>1]),a[R>>1]=-16385&a[R>>1]}while(G>>>0<j>>>0)}}while(0);if(L=0|L+1,x=0|l[c>>2],w=0|l[u>>2],L>>>0>=x>>>0){S=j;break}}else S=0|S+4,x=0}while(S>>>0<w>>>0)}else A=0;if(ce)break i;hn(ge);}}while(0);C=(He?+b[Ne>>3]:1)*(C=ne?+Pi(me,_e):+Di(me,_e))*be*+(0|1<<i),te+=C*=.0001220703125*(C*+(0|A)),b[v>>3]=+b[v>>3]+C;do{if(re)ze=127;else{if(1>(0|i)&2==(0|ee)){ze=127;break}tn(ge),x=1|r[(w=0|$+(0|24*t)+20)>>0],r[w>>0]=x,w=1}}while(0);do{if(127==(0|ze)){if(130==(0|(ze=0!=(0|ee)&(0|i)<(0|(w=0|(0|l[de>>2])-4))?ie?131:130:ie|2!=(0|ee)|(0|i)!=(0|w)?131:130))){ze=0,tn(ge),x=1|r[(w=0|$+(0|24*t)+20)>>0],r[w>>0]=x,w=1;break}if(131==(0|ze)){ze=0,x=-2&r[(w=0|$+(0|24*t)+20)>>0],r[w>>0]=x,w=3;break}}}while(0);ee=(Ke=3==(0|(K=0|ee+1)))?0:K,i=0|i+(Ke<<31>>31);do{if(0<(0|i)&0!=(1&x)){if(fe&(2>ee>>>0?(0|i)<(0|(0|l[de>>2])-4):0)){nn(ge);break}ln(ge);break}}while(0);if(b[$+(0|24*t)+8>>3]=te,Ke=0|(0|Ki(ge))+w,l[$+(0|24*t)>>2]=Ke,oe||on(ge),t=0|t+1,-1>=(0|i))break t}else t=0}while(0);do{if(16&ye)cn(ge);else{if(0|1&ye)break;tn(ge)}}while(0);if(l[(E=0|ve+(0|52*Ae)+48)>>2]=t,0|t){x=0|ve+(0|52*Ae)+8,w=0;do{S=0|l[x>>2],(Ke=0|l[(i=0|S+(0|24*w))>>2])>>>0>(0|Ki(ge))>>>0?(t=0|Ki(ge),l[i>>2]=t):t=0|l[i>>2];do{if(1<t>>>0){if(A=0|t+-1,-1!=(0|r[(0|l[pe>>2])+A>>0]))break;l[i>>2]=A,t=A}}while(0);i=w?0|l[(0|l[x>>2])+(0|24*(0|w+-1))>>2]:0,l[S+(0|24*w)+16>>2]=t-i,w=0|w+1}while(w>>>0<(0|l[E>>2])>>>0)}Ae=0|Ae+1}while(Ae>>>0<(0|B(0|l[ke>>2],0|l[xe>>2]))>>>0);A=0|l[Ge>>2],t=0|l[Re>>2]}Ie=0|Ie+1}while(Ie>>>0<(0|B(A,t))>>>0);i=0|l[Ze>>2]}De=0|De+1}while(De>>>0<i>>>0);t=0|l[Qe>>2]}Ue=0|Ue+1}while(Ue>>>0<t>>>0);t=0|l[qe>>2]}if((Je=0|Je+1)>>>0>=t>>>0){t=1,ze=163;break}}return 163==(0|ze)?0|t:0}function ji(e,t,i,n,r,o,s,c,u,f,d,p){e|=0,t|=0,i|=0,n|=0,r|=0,o|=0,s|=0,c|=0,u|=0,f|=0,d|=0,p|=0;var _,m,b,y,g,v=0,w=0,x=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0;if(g=A,A=0|A+16,l[(b=g)>>2]=0,v=0|l[e>>2],P=0|l[e+4>>2],_=0|(e=0|l[P+76>>2])+(0|5640*t),w=4==(0|a[P>>1])?2:1,I=0|l[(x=0|P+80)>>2]?0|l[v+16>>2]:1,y=0|1+(0|l[e+(0|5640*t)+420>>2]),!(m=0|Vt(v,P,t,p)))return A=g,0|(o=0);l[o>>2]=0;e:do{if(p){if(Ht(m,P,t,d,u,f,p),M=0|m+(0|232*d),-1==(0|l[m+(0|232*d)+80>>2]))return Ut(m,y),A=g,0|(o=0);C=0|m+(0|232*d)+36,B=0|i+840,f=0|c+12,S=0|c+8,E=0|c+88,I=0|P+93,x=0|e+(0|5640*t)+5636;t:do{if(c)for(;;){do{if(!(0|Yt(M)))break e}while((0|l[C>>2])>>>0>=n>>>0);if(l[b>>2]=0,!(0|Yi(t,i,_,M,r,b,s,c)))break t;if(r=0|r+(w=0|l[b>>2]),s=0|s-w,l[o>>2]=(0|l[o>>2])+w,0|l[f>>2]){v=0|l[E>>2],u=0|(d=0|l[v+(0|592*t)+548>>2])+((e=0|l[S>>2])<<5);do{if(e){if(1&((0|h[x>>0])>>>2|(0|h[I>>0])>>>3)&&!(0==(0|(T=0|l[(D=u)>>2]))&0==(0|(D=0|l[D+4>>2])))){v=T,p=D;break}v=0|gr(0|l[(v=0|d+(e+-1<<5)+16)>>2],0|l[v+4>>2],1,0),p=k}else v=p=0|1+(0|l[v+(0|592*t)+12>>2]),p=(0>(0|p))<<31>>31}while(0);l[u>>2]=v,l[u+4>>2]=p,w=0|gr(0|(p=0|gr(0|v,0|p,-1,-1)),0|(u=k),0|w,0),l[(P=0|d+(e<<5)+16)>>2]=w,l[P+4>>2]=k,w=0|gr(0|p,0|u,0|l[(w=P=0|d+(e<<5)+8)>>2],0|l[w+4>>2]),l[P>>2]=w,l[P+4>>2]=k}else e=0|l[S>>2];l[S>>2]=e+1,l[B>>2]=1+(0|l[B>>2])}else for(;;){do{if(!(0|Yt(M)))break e}while((0|l[C>>2])>>>0>=n>>>0);if(l[b>>2]=0,!(0|Yi(t,i,_,M,r,b,s,0)))break t;c=0|l[b>>2],l[o>>2]=(0|l[o>>2])+c,l[B>>2]=1+(0|l[B>>2]),s=0|s-c,r=0|r+c}}while(0);return Ut(m,y),A=g,0|(o=0)}if(0|I){p=0;t:for(;;){for(e=0,u=0,d=m;;){if(Ht(m,P,t,u,p,f,0),-1==(0|l[d+80>>2])){r=9;break t}v=0|d+36;i:for(;;){do{if(!(0|Yt(d)))break i}while((0|l[v>>2])>>>0>=n>>>0);if(l[b>>2]=0,!(0|Yi(t,i,_,d,r,b,s,c))){r=13;break t}D=0|l[b>>2],l[o>>2]=(0|l[o>>2])+D,e=0|D+e,s=0|s-D,r=0|r+D}if(0!=(0|(D=0|l[x>>2]))&e>>>0>D>>>0){r=17;break t}if((u=0|u+1)>>>0>=w>>>0)break;d=0|d+232}if((p=0|p+1)>>>0>=I>>>0)break e}if(9==(0|r))return Ut(m,y),A=g,0|(o=0);if(13==(0|r))return Ut(m,y),A=g,0|(o=0);if(17==(0|r))return Ut(m,y),A=g,0|(o=0)}}while(0);return Ut(m,y),A=g,0|(o=1)}function Yi(e,t,i,n,o,a,s,c){e|=0,t|=0,i|=0,o|=0,a|=0,s|=0,c|=0;var h,u,f,d,p=0,_=0,m=0,y=0,g=0,v=0,A=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0;if(x=0|l[28+(n|=0)>>2],f=0|l[n+32>>2],d=0|l[n+36>>2],w=0|l[(0|l[t+20>>2])+(0|52*(0|l[n+24>>2]))+24>>2],2&l[i>>2]?(r[o>>0]=-1,r[o+1>>0]=-111,r[o+2>>0]=0,r[o+3>>0]=4,O=0|t+840,r[o+4>>0]=(0|l[O>>2])>>>8,r[o+5>>0]=l[O>>2],s=0|s+-6,O=0|o+6):O=o,0==(0|d)&&0|l[(A=0|w+(0|136*x)+24)>>2])for(m=0,y=0|w+(0|136*x)+28;;){if(n=0|l[y+20>>2],ci(0|l[n+(0|40*f)+32>>2]),ci(0|l[(g=0|n+(0|40*f)+36)>>2]),0|(v=0|B(0|l[n+(0|40*f)+20>>2],0|l[n+(0|40*f)+16>>2]))){t=0|n+(0|40*f)+24,_=0|y+28,n=0;do{F=0|l[t>>2],l[F+(0|52*n)+40>>2]=0,fi(0|l[g>>2],n,0|(0|l[_>>2])-(0|l[F+(0|52*n)+28>>2])),n=0|n+1}while((0|n)!=(0|v))}if((m=0|m+1)>>>0>=(0|l[A>>2])>>>0)break;y=0|y+36}if(!(h=0|Ai()))return 0|(a=0);if(function(e,t,i){t|=0,i|=0,l[(e|=0)>>2]=t,l[e+4>>2]=t+i,l[e+8>>2]=t,l[e+12>>2]=0,l[e+16>>2]=8}(h,O,s),ki(h,1,1),u=0|w+(0|136*x)+28,0|l[(F=0|w+(0|136*x)+24)>>2])for(R=0|d+1,T=0,D=u;;){if(g=0|(y=0|l[D+20>>2])+(0|40*f)+24,!(_=0==(0|(G=0|B(0|l[y+(0|40*f)+20>>2],0|l[y+(0|40*f)+16>>2]))))){for(m=0|y+(0|40*f)+32,n=0|l[g>>2],t=0;0==(0|l[n+40>>2])&&0|l[(0|l[n+4>>2])+(0|24*d)>>2]&&fi(0|l[m>>2],t,d),(0|(t=0|t+1))!=(0|G);){n=0|n+52}if(!_)for(P=0|y+(0|40*f)+32,M=0|y+(0|40*f)+36,S=0|l[g>>2],E=0;;){if(n=0|(0|l[S+4>>2])+(0|24*d),0|l[(C=0|S+40)>>2]?ki(h,1&0!=(0|l[n>>2]),1):di(h,0|l[P>>2],E,R),0|(t=0|l[n>>2])){0|l[C>>2]||(l[S+32>>2]=3,di(h,0|l[M>>2],E,999),t=0|l[n>>2]);e:do{switch(0|t){case 1:ki(h,0,1);break;case 2:ki(h,2,2);break;default:if(6>t>>>0){ki(h,12|t+-3,4);break e}if(37>t>>>0){ki(h,480|t+-6,9);break e}165>t>>>0&&ki(h,65408|t+-37,16);}}while(0);if(k=0|S+8,(m=0|l[C>>2])>>>0<(I=0|(t=0|l[n>>2])+m)>>>0){for(x=0|S+32,w=0|m+-1+t,A=m,_=0,t=0,y=0,v=0|(0|l[k>>2])+(0|24*m);;){if(m=0|t+1,_=0|(0|l[v+16>>2])+_,0!=(1&r[v+20>>0])|(0|A)==(0|w)){if(1<(0|_))for(t=0;;){if(t=0|t+1,!(3<_>>>0)){_=t;break}_>>>=1}else _=0;if(g=0|l[x>>2],1<(0|m))for(t=0;t=0|t+1,3<m>>>0;){m>>>=1}else t=0;g=0|_+1-g-t,_=0,m=0,y=(0|y)>(0|g)?y:g}if((0|(A=0|A+1))==(0|I))break;t=m,v=0|v+24}if(0<(0|y))for(t=y;;){if(ki(h,1,1),!(1<(0|t))){t=y;break}t=0|t+-1}else t=y}else _=0,m=0,t=0;if(ki(h,0,1),l[(A=0|S+32)>>2]=(0|l[A>>2])+t,(t=0|l[C>>2])>>>0<I>>>0)for(v=t,g=0|(0|l[k>>2])+(0|24*t),t=m;;){if(t=0|t+1,_=0|(0|l[g+16>>2])+_,0!=(1&r[g+20>>0])||(0|v)==(0|(0|l[C>>2])-1+(0|l[n>>2]))){if(y=0|l[A>>2],1<(0|t))for(m=0;;){if(m=0|m+1,!(3<t>>>0)){t=m;break}t>>>=1}else t=0;ki(h,_,0|t+y),_=0,t=0}if((0|(v=0|v+1))==(0|I))break;g=0|g+24}}if((0|(E=0|E+1))==(0|G))break;S=0|S+52}}if((T=0|T+1)>>>0>=(0|l[F>>2])>>>0)break;D=0|D+36}if(!(0|function(e){var t,i,n,o,a=0,s=0;return s=65280&(a=0|l[(i=0|12+(e|=0))>>2])<<8,l[i>>2]=s,l[(o=0|e+16)>>2]=65280==(0|s)?7:8,t=0|l[(s=0|e+8)>>2],(0|l[(n=0|e+4)>>2])>>>0<=t>>>0?0|(s=0):(l[s>>2]=t+1,r[t>>0]=a,7!=(0|l[o>>2])?0|(s=1):(e=65280&(a=0|l[i>>2])<<8,l[i>>2]=e,l[o>>2]=65280==(0|e)?7:8,e=0|l[s>>2],(0|l[n>>2])>>>0<=e>>>0?0|(s=0):(l[s>>2]=e+1,r[e>>0]=a,0|(s=1))))}(h)))return wi(h),0|(a=0);n=0|O+(t=0|xi(h)),t=0|s-t,wi(h),4&l[i>>2]&&(r[n>>0]=-1,r[n+1>>0]=-110,t=0|t+-2,n=0|n+2),(k=0!=(0|c))&&0|l[c+12>>2]&&(O=0|n-o,i=0|(0|l[(0|l[c+88>>2])+(0|592*e)+548>>2])+(l[c+8>>2]<<5)+8,l[i>>2]=O,l[i+4>>2]=(0>(0|O))<<31>>31);e:do{if(0|l[F>>2]){I=0|c+12,S=0|c+88,E=0|c+8,x=0,w=u;t:for(;;){_=0|l[w+20>>2],A=0|B(0|l[_+(0|40*f)+20>>2],0|l[_+(0|40*f)+16>>2]),_=0|l[_+(0|40*f)+24>>2];i:do{if(A){n:do{if(k)for(v=0;;){if(g=0|l[_+4>>2],0|l[(s=0|g+(0|24*d))>>2]){if((y=0|l[(m=0|g+(0|24*d)+4)>>2])>>>0>t>>>0)s=1;else{Br(0|n,0|l[g+(0|24*d)+16>>2],0|y),l[(i=0|_+40)>>2]=(0|l[i>>2])+(0|l[s>>2]),n=0|n+(i=0|l[m>>2]),t=0|t-i;do{if(0|l[I>>2]){if(i=0|(0|l[(0|l[S>>2])+(0|592*e)+548>>2])+(l[E>>2]<<5)+24,p=+b[g+(0|24*d)+8>>3]+ +b[i>>3],b[i>>3]=p,!(+b[c>>3]<p))break;b[c>>3]=p}}while(0);s=0,_=0|_+52}}else s=28,_=0|_+52;switch(31&s){case 28:case 0:break;default:break n;}if((v=0|v+1)>>>0>=A>>>0){L=83;break i}}else for(v=0;;){switch(s=0|l[_+4>>2],0|l[(m=0|s+(0|24*d))>>2]?(g=0|l[(y=0|s+(0|24*d)+4)>>2])>>>0>t>>>0?s=1:(Br(0|n,0|l[s+(0|24*d)+16>>2],0|g),l[(i=0|_+40)>>2]=(0|l[i>>2])+(0|l[m>>2]),s=0,t=0|t-(i=0|l[y>>2]),n=0|n+i,_=0|_+52):(s=28,_=0|_+52),31&s){case 28:case 0:break;default:break n;}if((v=0|v+1)>>>0>=A>>>0){L=83;break i}}}while(0);if(s){n=0;break t}s=w}else L=83}while(0);if(83==(0|L)&&(L=0,s=0|w+36),(x=0|x+1)>>>0>=(0|l[F>>2])>>>0)break e;w=s}return 0|n}}while(0);return l[a>>2]=n-o+(0|l[a>>2]),0|(a=1)}function Xi(e,t,i,n,o,a,s,c,h){e|=0,t|=0,i|=0,n|=0,o|=0,s|=0,c|=0,h|=0;var u,f,d,p,_,m,b,y,g,v,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0;v=A,A=0|A+64,b=0|v+48,y=0|v+40,G=0|v+32,R=0|v+24,T=0|v+16,P=0|v+8,M=v,D=0|v+56,U=a|=0,l[(g=0|v+52)>>2]=U,u=0|l[t+(0|52*(0|l[(m=0|n+24)>>2]))+24>>2],f=0|l[n+28>>2],_=0|n+36;e:{if(0==(0|l[_>>2])&&(C=0|u+(0|136*f)+24,0|l[C>>2])){for(S=0|n+32,x=0,I=0|u+(0|136*f)+28;;){if((0|l[I+8>>2])!=(0|l[I>>2])&&(0|l[I+12>>2])!=(0|l[I+4>>2])){if(t=0|l[I+20>>2],(w=0|l[S>>2])>>>0>=(0|((0|l[I+24>>2])>>>0)/40)>>>0)break;if(ci(0|l[t+(0|40*w)+32>>2]),ci(0|l[t+(0|40*w)+36>>2]),0|(E=0|B(0|l[t+(0|40*w)+20>>2],0|l[t+(0|40*w)+16>>2])))for(k=0,t=0|l[t+(0|40*w)+24>>2];l[t+44>>2]=0,l[t+48>>2]=0,(0|(k=0|k+1))!=(0|E);){t=0|t+56}}if((x=0|x+1)>>>0>=(0|l[C>>2])>>>0)break e;I=0|I+36}return _e(h,1,22161,M),A=v,0|(U=0)}}do{if(2&l[i>>2]){if(6>c>>>0){_e(h,2,22179,P),t=U;break}if(-1==(0|r[a>>0])&&-111==(0|r[a+1>>0])){t=0|a+6,l[g>>2]=t;break}_e(h,2,22221,T),t=U}else t=U}while(0);if(!(p=0|Ai()))return A=v,0|(U=0);do{if(!(1&r[e+96>>0])){if(2&r[i+5636>>0]){z=Z=0|i+5168,Z=0|l[Z>>2],D=0|i+5180;break}l[D>>2]=a+c-t,z=g,Z=t;break}z=Z=0|e+40,Z=0|l[Z>>2],D=0|e+44}while(0);if(function(e,t,i){t|=0,i|=0,l[(e|=0)>>2]=t,l[e+4>>2]=t+i,l[e+8>>2]=t,l[e+12>>2]=0,l[e+16>>2]=0}(p,Z,0|l[D>>2]),!(0|Ii(p,1))){Si(p),t=0|Z+(0|xi(p)),wi(p);do{if(4&l[i>>2]){if(2>(0|(0|l[D>>2])-t+(0|l[z>>2]))>>>0){_e(h,2,22242,R),w=z;break}if(-1==(0|r[t>>0])&&-110==(0|r[t+1>>0])){t=0|t+2,w=z;break}_e(h,2,22284,G),w=z}else w=z}while(0);return h=0|t-(i=0|l[w>>2]),l[D>>2]=(0|l[D>>2])-h,l[z>>2]=i+h,l[o>>2]=0,l[s>>2]=(0|l[g>>2])-U,A=v,0|(U=1)}d=0|u+(0|136*f)+24;e:do{if(0|l[d>>2]){F=0|n+32,L=0|i+5584,G=0,t=0|u+(0|136*f)+28;t:for(;;){w=0|l[t+20>>2],x=0|l[F>>2];i:do{if((0|l[t+8>>2])!=(0|l[t>>2])&&(0|l[t+12>>2])!=(0|l[t+4>>2])){c=0|B(0|l[w+(0|40*x)+20>>2],0|l[w+(0|40*x)+16>>2]);n:do{if(0|c){e=0|w+(0|40*x)+32,n=0|w+(0|40*x)+36,R=0|t+28,a=0,w=0|l[w+(0|40*x)+24>>2];r:for(;;){x=0|l[(k=0|w+44)>>2]?0|Ii(p,1):0|pi(p,0|l[e>>2],a,0|1+(0|l[_>>2]));o:do{if(x){if(!(0|l[k>>2])){for(x=0;!(0|pi(p,0|l[n>>2],a,x));){x=0|x+1}l[w+24>>2]=1-x+(0|l[R>>2]),l[w+28>>2]=3}do{if(0|Ii(p,1)){if(!(0|Ii(p,1))){x=2;break}if(3!=(0|(x=0|Ii(p,2)))){x=0|x+3;break}if(31==(0|(x=0|Ii(p,5)))){x=0|37+(0|Ii(p,7));break}x=0|x+6;break}x=1}while(0);for(l[(M=0|w+40)>>2]=x,x=0;0|Ii(p,1);){x=0|x+1}l[(T=0|w+28)>>2]=(0|l[T>>2])+x,E=0|l[k>>2];do{if(E){if(x=0|E+-1,k=0|l[(C=0|w+4)>>2],(0|l[k+(x<<5)+8>>2])!=(0|l[k+(x<<5)+20>>2]))break;S=0|l[(0|l[L>>2])+(0|1080*(0|l[m>>2]))+16>>2],x=0|l[(I=0|w+52)>>2];do{if((0|E+1)>>>0>x>>>0){if(x=0|x+10,l[I>>2]=x,x=0|He(k,x<<5)){l[C>>2]=x,k=x;break}We(0|l[C>>2]),l[C>>2]=0,l[I>>2]=0,wi(p),x=1;break o}}while(0);l[(x=0|k+(E<<5))>>2]=0,l[x+4>>2]=0,l[x+8>>2]=0,l[x+12>>2]=0,l[x+16>>2]=0,l[x+20>>2]=0,l[x+24>>2]=0,l[x+28>>2]=0;do{if(4&S)x=1;else{if(!(1&S)){x=109;break}x=1==(0|(x=0|l[x+-32+20>>2]))|10==(0|x)?2:1}}while(0);I=E,S=C,k=0|k+(E<<5)+20,O=77}else{S=0|l[(0|l[L>>2])+(0|1080*(0|l[m>>2]))+16>>2],x=0|w+52;do{if(!(0|l[x>>2])){if(l[x>>2]=10,I=0|He(0|l[(k=0|w+4)>>2],320)){l[k>>2]=I,x=I,k=I;break}We(0|l[k>>2]),l[k>>2]=0,l[x>>2]=0,wi(p),x=1;break o}x=k=0|l[w+4>>2]}while(0);l[x>>2]=0,l[x+4>>2]=0,l[x+8>>2]=0,l[x+12>>2]=0,l[x+16>>2]=0,l[x+20>>2]=0,l[x+24>>2]=0,l[x+28>>2]=0,x=4&S?1:0==(0|1&S)?109:10,I=0,S=0|w+4,k=0|k+20,O=77}}while(0);for(77==(0|O)&&(l[k>>2]=x,x=I,C=S),P=0|w+52,S=0|l[M>>2],M=x;;){if(I=0|l[C>>2],x=(0|(x=0|(0|l[I+(M<<5)+20>>2])-(0|l[I+(M<<5)+8>>2])))<(0|S)?x:S,l[I+(M<<5)+24>>2]=x,I=0|l[T>>2],1<x>>>0)for(k=x,x=0;x=0|x+1,3<k>>>0;){k>>>=1}else x=0;if(O=0|Ii(p,0|x+I),k=0|l[C>>2],l[k+(M<<5)+28>>2]=O,0>=(0|(S=0|S-(0|l[k+(M<<5)+24>>2])))){O=90;break}if(E=0|M+1,I=0|l[(0|l[L>>2])+(0|1080*(0|l[m>>2]))+16>>2],(0|M+2)>>>0>(x=0|l[P>>2])>>>0){if(x=0|x+10,l[P>>2]=x,!(x=0|He(k,x<<5))){O=89;break}l[C>>2]=x,k=x}l[(O=0|k+(E<<5))>>2]=0,l[O+4>>2]=0,l[O+8>>2]=0,l[O+12>>2]=0,l[O+16>>2]=0,l[O+20>>2]=0,l[O+24>>2]=0,l[O+28>>2]=0;do{if(4&I)x=1;else{if(!(1&I)){x=109;break}x=1==(0|(x=0|l[k+(M<<5)+20>>2]))|10==(0|x)?2:1}}while(0);l[k+(E<<5)+20>>2]=x,M=E}if(89==(0|O)){O=0,We(0|l[C>>2]),l[C>>2]=0,l[P>>2]=0,wi(p),x=1;break}if(90==(0|O)){O=0,x=0,w=0|w+56;break}}else l[w+40>>2]=0,x=13,w=0|w+56}while(0);switch(15&x){case 13:case 0:break;default:break r;}if((a=0|a+1)>>>0>=c>>>0)break n}if(x){t=0;break t}break i}}while(0);t=0|t+36}else O=39}while(0);if(39==(0|O)&&(O=0,t=0|t+36),(G=0|G+1)>>>0>=(0|l[d>>2])>>>0)break e}return A=v,0|t}}while(0);if(!(0|Si(p)))return wi(p),A=v,0|(U=0);t=0|Z+(0|xi(p)),wi(p);do{if(4&l[i>>2]){if(2>(0|(0|l[D>>2])-t+(0|l[z>>2]))>>>0){_e(h,2,22242,y),w=z;break}if(-1==(0|r[t>>0])&&-110==(0|r[t+1>>0])){t=0|t+2,w=z;break}_e(h,2,22284,b),w=z}else w=z}while(0);return h=0|t-(i=0|l[w>>2]),l[D>>2]=(0|l[D>>2])-h,l[z>>2]=i+h,l[o>>2]=1,l[s>>2]=(0|l[g>>2])-U,A=v,0|(U=1)}function Qi(e,t){e|=0,t|=0;var i=0;return(i=0|Ue(1,8))?(l[i>>2]=e,l[i+4>>2]=t,0|i):0|(i=0)}function Ji(e){(e|=0)&&We(e)}function qi(e){(e|=0)&&We(e)}function Ki(e){return 0|(0|l[12+(e|=0)>>2])-(0|l[e+16>>2])}function $i(e,t){t|=0,l[100+(e|=0)>>2]=e+24,l[e+4>>2]=32768,l[e>>2]=0,l[e+12>>2]=t+-1,l[e+8>>2]=12,l[e+16>>2]=t}function en(e,t){t|=0;var i,n=0,o=0,a=0,s=0,c=0,h=0,u=0;if(o=0|l[100+(e|=0)>>2],a=0|l[o>>2],u=(0|l[a+4>>2])==(0|t),n=0|l[a>>2],t=0|(0|l[(i=0|e+4)>>2])-n,l[i>>2]=t,u){if(0|32768&t)l[e>>2]=(0|l[e>>2])+n;else for(t>>>0<n>>>0?(l[i>>2]=n,t=n,u=e,n=0|l[e>>2]):(n=0|(0|l[e>>2])+n,l[e>>2]=n,u=e),l[o>>2]=l[a+8>>2],c=0|e+8,h=0|e+12,s=0|e+16,e=n,n=0|l[c>>2];;){if(t<<=1,l[i>>2]=t,o=e<<1,l[u>>2]=o,n=0|n+-1,l[c>>2]=n,!n){t=0|l[h>>2];do{if((0|t)!=(0|(0|l[s>>2])-1)){if(-1==(n=0|r[t>>0])<<24>>24){a=0|t+1,l[h>>2]=a,n=7,o=1048575,t=4095&e>>>19;break}if(!(134217728&o)){a=0|t+1,l[h>>2]=a,n=8,o=524287,t=8191&e>>>18;break}if(r[t>>0]=n+1<<24>>24,t=0|l[h>>2],-1==(0|r[t>>0])){e=134217727&l[u>>2],l[u>>2]=e,a=0|t+1,l[h>>2]=a,n=7,o=1048575,t=e>>>20;break}a=0|t+1,l[h>>2]=a,n=8,o=524287,t=(0|l[u>>2])>>>19;break}a=0|t+1,l[h>>2]=a,n=8,o=524287,t=8191&e>>>18}while(0);r[a>>0]=t,o=l[u>>2]&o,l[u>>2]=o,l[c>>2]=n,t=0|l[i>>2]}if(32768&t)break;e=o}}else for(t>>>0<n>>>0?(n=0|(0|l[e>>2])+n,l[e>>2]=n,u=e):(l[i>>2]=n,t=n,u=e,n=0|l[e>>2]),l[o>>2]=l[a+12>>2],c=0|e+8,h=0|e+12,s=0|e+16,e=n,o=0|l[c>>2];;){if(t<<=1,l[i>>2]=t,n=e<<1,l[u>>2]=n,o=0|o+-1,l[c>>2]=o,!o){t=0|l[h>>2];do{if((0|t)!=(0|(0|l[s>>2])-1)){if(-1==(o=0|r[t>>0])<<24>>24){o=0|t+1,l[h>>2]=o,a=7,n=1048575,t=4095&e>>>19;break}if(!(134217728&n)){o=0|t+1,l[h>>2]=o,a=8,n=524287,t=8191&e>>>18;break}if(r[t>>0]=o+1<<24>>24,t=0|l[h>>2],-1==(0|r[t>>0])){e=134217727&l[u>>2],l[u>>2]=e,o=0|t+1,l[h>>2]=o,a=7,n=1048575,t=e>>>20;break}o=0|t+1,l[h>>2]=o,a=8,n=524287,t=(0|l[u>>2])>>>19;break}o=0|t+1,l[h>>2]=o,a=8,n=524287,t=8191&e>>>18}while(0);r[o>>0]=t,n=l[u>>2]&n,l[u>>2]=n,l[c>>2]=a,t=0|l[i>>2],o=a}if(32768&t)break;e=n}}function tn(e){var t,i=0,n=0,o=0,a=0,s=0,c=0,h=0;t=0|8+(e|=0),s=((s=65535|(h=0|l[e>>2]))>>>0<(0|(0|l[e+4>>2])+h)>>>0?s:0|s+-32768)<<l[t>>2],l[e>>2]=s,i=0|l[(h=0|e+12)>>2],c=0|e+16;do{if((0|i)!=(0|(0|l[c>>2])-1)){if(-1==(n=0|r[i>>0])<<24>>24){a=0|i+1,l[h>>2]=a,n=7,o=1048575,i=s>>>20;break}if(!(134217728&s)){a=0|i+1,l[h>>2]=a,n=8,o=524287,i=s>>>19;break}if(r[i>>0]=n+1<<24>>24,i=0|l[h>>2],-1==(0|r[i>>0])){s=134217727&l[e>>2],l[e>>2]=s,a=0|i+1,l[h>>2]=a,n=7,o=1048575,i=s>>>20;break}a=0|i+1,l[h>>2]=a,n=8,o=524287,i=(0|l[e>>2])>>>19;break}a=0|i+1,l[h>>2]=a,n=8,o=524287,i=s>>>19}while(0);r[a>>0]=i,s=l[e>>2]&o,l[t>>2]=n,s<<=n,l[e>>2]=s,n=0|l[h>>2];do{if((0|n)!=(0|(0|l[c>>2])-1)){if(-1==(i=0|r[n>>0])<<24>>24){a=0|n+1,l[h>>2]=a,n=7,o=1048575,i=s>>>20;break}if(!(134217728&s)){a=0|n+1,l[h>>2]=a,n=8,o=524287,i=s>>>19;break}if(r[n>>0]=i+1<<24>>24,i=0|l[h>>2],-1==(0|r[i>>0])){c=134217727&l[e>>2],l[e>>2]=c,a=0|i+1,l[h>>2]=a,n=7,o=1048575,i=c>>>20;break}a=0|i+1,l[h>>2]=a,n=8,o=524287,i=(0|l[e>>2])>>>19;break}a=0|n+1,l[h>>2]=a,n=8,o=524287,i=s>>>19}while(0);r[a>>0]=i,l[e>>2]=l[e>>2]&o,l[t>>2]=n,i=0|l[h>>2],-1!=(0|r[i>>0])&&(l[h>>2]=i+1)}function nn(e){l[(e|=0)>>2]=0,l[e+8>>2]=8}function rn(e,t){t|=0;var i,n,o=0;o=0|(0|l[(i=0|8+(e|=0))>>2])-1,l[i>>2]=o,t=0|(0|l[e>>2])+(t<<o),l[e>>2]=t,0|o||(n=0|1+(0|l[(o=0|e+12)>>2]),l[o>>2]=n,r[n>>0]=t,l[i>>2]=8,l[i>>2]=-1==(0|r[l[o>>2]>>0])?7:8,l[e>>2]=0)}function on(e){l[28+(e|=0)>>2]=1156,l[e+32>>2]=1156,l[e+36>>2]=1156,l[e+40>>2]=1156,l[e+44>>2]=1156,l[e+48>>2]=1156,l[e+52>>2]=1156,l[e+56>>2]=1156,l[e+60>>2]=1156,l[e+64>>2]=1156,l[e+68>>2]=1156,l[e+72>>2]=1156,l[e+76>>2]=1156,l[e+80>>2]=1156,l[e+84>>2]=1156,l[e+88>>2]=1156,l[e+96>>2]=2628,l[e+92>>2]=1252,l[e+24>>2]=1284}function an(e){l[24+(e|=0)>>2]=1156,l[e+28>>2]=1156,l[e+32>>2]=1156,l[e+36>>2]=1156,l[e+40>>2]=1156,l[e+44>>2]=1156,l[e+48>>2]=1156,l[e+52>>2]=1156,l[e+56>>2]=1156,l[e+60>>2]=1156,l[e+64>>2]=1156,l[e+68>>2]=1156,l[e+72>>2]=1156,l[e+76>>2]=1156,l[e+80>>2]=1156,l[e+84>>2]=1156,l[e+88>>2]=1156,l[e+92>>2]=1156,l[e+96>>2]=1156}function sn(e,t,i,n){i|=0,n|=0,l[24+(e|=0)+((t|=0)<<2)>>2]=1156+((n<<1)+i<<4)}function ln(e){var t,i;l[100+(e|=0)>>2]=e+24,l[e+4>>2]=32768,l[e>>2]=0,l[(t=0|e+8)>>2]=12,e=0|(0|l[(i=0|e+12)>>2])-1,l[i>>2]=e,-1==(0|r[e>>0])&&(l[t>>2]=13)}function cn(e){var t,i=0,n=0,o=0,a=0,s=0,c=0,h=0,u=0;if(0<(0|(i=0|12-(n=0|l[(t=0|8+(e|=0))>>2])))){o=0|e+12,u=0|e+16,h=i,a=0|l[e>>2],i=n;do{c=a<<i,l[e>>2]=c,l[t>>2]=0,i=0|l[o>>2];do{if((0|i)!=(0|(0|l[u>>2])-1)){if(-1==(n=0|r[i>>0])<<24>>24){s=0|i+1,l[o>>2]=s,i=7,a=1048575,n=c>>>20;break}if(!(134217728&c)){s=0|i+1,l[o>>2]=s,i=8,a=524287,n=c>>>19;break}if(r[i>>0]=n+1<<24>>24,i=0|l[o>>2],-1==(0|r[i>>0])){n=134217727&l[e>>2],l[e>>2]=n,s=0|i+1,l[o>>2]=s,i=7,a=1048575,n>>>=20;break}s=0|i+1,l[o>>2]=s,i=8,a=524287,n=(0|l[e>>2])>>>19;break}s=0|i+1,l[o>>2]=s,i=8,a=524287,n=c>>>19}while(0);r[s>>0]=n,a=l[e>>2]&a,l[e>>2]=a,l[t>>2]=i,h=0|h-i}while(0<(0|h))}else o=0|e+12;if(i=0|l[o>>2],-1!=(n=0|r[i>>0])<<24>>24){do{if((0|i)!=(0|(0|l[e+16>>2])-1)){if(!(134217728&(c=0|l[e>>2]))){s=0|i+1,l[o>>2]=s,n=e,o=8,a=524287,i=c>>>19;break}if(r[i>>0]=n+1<<24>>24,i=0|l[o>>2],-1==(0|r[i>>0])){u=134217727&l[e>>2],l[e>>2]=u,s=0|i+1,l[o>>2]=s,n=e,o=7,a=1048575,i=u>>>20;break}s=0|i+1,l[o>>2]=s,n=e,o=8,a=524287,i=(0|l[e>>2])>>>19;break}s=0|i+1,l[o>>2]=s,n=e,o=8,a=524287,i=(0|l[e>>2])>>>19}while(0);r[s>>0]=i,l[n>>2]=l[n>>2]&a,l[t>>2]=o}}function hn(e){l[100+(e|=0)>>2]=e+96,en(e,1),en(e,0),en(e,1),en(e,0)}function un(e,t,i){t|=0,i|=0;var n,o=0,a=0,s=0;l[100+(e|=0)>>2]=e+24,l[e+16>>2]=t,l[e+20>>2]=t+i,l[(n=0|e+12)>>2]=t;do{if(i){if(o=h[t>>0]<<16,l[e>>2]=o,a=0|t+1,s=1==(0|i)?255:0|h[a>>0],-1==(0|r[t>>0])){if(143<s>>>0){a=8,t=65280,i=e;break}t=9,i=7}else t=8,i=8;l[n>>2]=a,a=i,t=s<<t,i=e}else l[e>>2]=16711680,a=8,t=65280,o=16711680,i=e}while(0);return l[i>>2]=o+t<<7,l[e+8>>2]=a+-7,l[e+4>>2]=32768,1}function fn(e){var t=0,i=0,n=0,o=0,a=0,s=0,c=0,u=0,f=0,d=0,p=0,_=0;if(t=0|l[100+(e|=0)>>2],i=0|l[t>>2],o=0|l[i>>2],a=0|(0|l[(_=0|e+4)>>2])-o,l[_>>2]=a,(n=0|l[e>>2])>>>16>>>0<o>>>0){d=a>>>0<o>>>0,l[_>>2]=o,p=0|l[i+4>>2],l[t>>2]=l[(d?0|i+8:0|i+12)>>2],u=0|e+12,f=0|e+20,t=0|l[(c=0|e+8)>>2],i=n,s=o;do{if(!t){n=0|l[u>>2],t=0|l[f>>2];do{if((0|n)==(0|t))o=8,t=65280;else{if(a=(0|(o=0|n+1))==(0|t)?255:0|h[o>>0],-1==(0|r[n>>0])){if(143<a>>>0){o=8,t=65280;break}n=9,t=7}else n=8,t=8;l[u>>2]=o,o=t,t=a<<n}}while(0);i=0|i+t,l[e>>2]=i,l[c>>2]=o,t=o}s<<=1,l[_>>2]=s,i<<=1,l[e>>2]=i,t=0|t+-1,l[c>>2]=t}while(32768>s>>>0);return 0|(_=d?p:0|1-p)}if(n=0|n-(o<<16),l[e>>2]=n,0|32768&a)return 0|(_=0|l[i+4>>2]);d=a>>>0<o>>>0,p=0|l[i+4>>2],l[t>>2]=l[(d?0|i+12:0|i+8)>>2],u=0|e+12,f=0|e+20,t=0|l[(c=0|e+8)>>2],i=n,s=a;do{if(!t){n=0|l[u>>2],t=0|l[f>>2];do{if((0|n)==(0|t))o=8,t=65280;else{if(a=(0|(o=0|n+1))==(0|t)?255:0|h[o>>0],-1==(0|r[n>>0])){if(143<a>>>0){o=8,t=65280;break}n=9,t=7}else n=8,t=8;l[u>>2]=o,o=t,t=a<<n}}while(0);i=0|i+t,l[e>>2]=i,l[c>>2]=o,t=o}s<<=1,l[_>>2]=s,i<<=1,l[e>>2]=i,t=0|t+-1,l[c>>2]=t}while(32768>s>>>0);return 0|(_=d?0|1-p:p)}function dn(e){(e|=0)&&We(e)}function pn(e,t,i){t|=0,i|=0,l[20+(e|=0)>>2]=t,l[e+8>>2]=i,l[e+12>>2]=0,r[e>>0]=0,l[e+4>>2]=0}function _n(e){var t,i=0,n=0,o=0,a=0;i=0|l[(t=0|4+(e|=0))>>2];do{if(i)n=i,i=0|r[e>>0];else{if(l[t>>2]=8,(0|(o=0|l[(i=0|e+12)>>2]))==(0|l[e+8>>2])){r[e>>0]=-1,n=8,i=-1;break}-1==(0|r[e>>0])?(l[t>>2]=7,n=7):n=8,a=0|r[(0|l[e+20>>2])+o>>0],r[e>>0]=a,l[i>>2]=o+1,i=a}}while(0);return a=0|n+-1,l[t>>2]=a,0|1&(255&i)>>>a}function mn(e){e|=0;var t,i=0,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0;t=A,A=0|A+16,_=t;do{if(245>e>>>0){if(e=(f=11>e>>>0?16:-8&e+11)>>>3,0|3&(n=(p=0|l[6184])>>>e))return r=0|l[(n=0|8+(e=0|24776+((i=0|(1^1&n)+e)<<1<<2)))>>2],(0|(a=0|l[(o=0|r+8)>>2]))==(0|e)?l[6184]=p&~(1<<i):(l[a+12>>2]=e,l[n>>2]=a),x=i<<3,l[r+4>>2]=3|x,l[(x=0|r+x+4)>>2]=1|l[x>>2],A=t,0|(x=o);if(f>>>0>(d=0|l[6186])>>>0){if(0|n)return i=0|((i=n<<e&((i=2<<e)|0-i))&0-i)-1,a=0|l[(e=0|8+(i=0|24776+((r=0|((n=8&(i>>>=c=16&i>>>12)>>>5)|c|(a=4&(i>>>=n)>>>2)|(e=2&(i>>>=a)>>>1)|(r=1&(i>>>=e)>>>1))+(i>>>r))<<1<<2)))>>2],(0|(n=0|l[(c=0|a+8)>>2]))==(0|i)?(e=p&~(1<<r),l[6184]=e):(l[n+12>>2]=i,l[e>>2]=n,e=p),s=0|(x=r<<3)-f,l[a+4>>2]=3|f,l[4+(o=0|a+f)>>2]=1|s,l[a+x>>2]=s,0|d&&(r=0|l[6189],n=0|24776+((i=d>>>3)<<1<<2),e&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=e|i,i=n,e=0|n+8),l[e>>2]=r,l[i+12>>2]=r,l[r+8>>2]=i,l[r+12>>2]=n),l[6186]=s,l[6189]=o,A=t,0|(x=c);if(h=0|l[6185]){if(n=0|(h&0-h)-1,e=0|l[25040+(((s=8&(n>>>=c=16&n>>>12)>>>5)|c|(u=4&(n>>>=s)>>>2)|(r=2&(n>>>=u)>>>1)|(e=1&(n>>>=r)>>>1))+(n>>>e)<<2)>>2],n=0|(-8&l[e+4>>2])-f,r=0|l[e+16+((1&0==(0|l[e+16>>2]))<<2)>>2]){do{n=(u=(c=0|(-8&l[r+4>>2])-f)>>>0<n>>>0)?c:n,e=u?r:e,r=0|l[r+16+((1&0==(0|l[r+16>>2]))<<2)>>2]}while(0!=(0|r));u=e,s=n}else u=e,s=n;if((c=0|u+f)>>>0>u>>>0){o=0|l[u+24>>2],i=0|l[u+12>>2];do{if((0|i)==(0|u)){if(!(i=0|l[(e=0|u+20)>>2])&&!(i=0|l[(e=0|u+16)>>2])){n=0;break}for(;;){if(0|(r=0|l[(n=0|i+20)>>2]))i=r,e=n;else{if(!(r=0|l[(n=0|i+16)>>2]))break;i=r,e=n}}l[e>>2]=0,n=i}else n=0|l[u+8>>2],l[n+12>>2]=i,l[i+8>>2]=n,n=i}while(0);do{if(0|o){if(i=0|l[u+28>>2],(0|u)==(0|l[(e=0|25040+(i<<2))>>2])){if(l[e>>2]=n,!n){l[6185]=h&~(1<<i);break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|u))<<2)>>2]=n,!n)break;l[n+24>>2]=o,0|(i=0|l[u+16>>2])&&(l[n+16>>2]=i,l[i+24>>2]=n),0|(i=0|l[u+20>>2])&&(l[n+20>>2]=i,l[i+24>>2]=n)}}while(0);return 16>s>>>0?(x=0|s+f,l[u+4>>2]=3|x,l[(x=0|u+x+4)>>2]=1|l[x>>2]):(l[u+4>>2]=3|f,l[c+4>>2]=1|s,l[c+s>>2]=s,0|d&&(r=0|l[6189],n=0|24776+((i=d>>>3)<<1<<2),p&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=p|i,i=n,e=0|n+8),l[e>>2]=r,l[i+12>>2]=r,l[r+8>>2]=i,l[r+12>>2]=n),l[6186]=s,l[6189]=c),A=t,0|(x=0|u+8)}d=f}else d=f}else d=f}else if(4294967231>=e>>>0){if(f=-8&(e=0|e+11),u=0|l[6185]){r=0|0-f,h=(e>>>=8)?16777215<f>>>0?31:1&f>>>(0|7+(h=0|14-((d=4&(0|520192+(w=e<<(p=8&(0|e+1048320)>>>16)))>>>16)|p|(h=2&(0|245760+(w<<=d))>>>16))+(w<<h>>>15)))|h<<1:0,n=0|l[25040+(h<<2)>>2];e:do{if(n)for(e=0,c=n,s=f<<(31==(0|h)?0:0|25-(h>>>1)),n=0;;){if((o=0|(-8&l[c+4>>2])-f)>>>0<r>>>0){if(!o){r=0,n=c,e=c,w=61;break e}e=c,r=o}if(n=0==(0|(o=0|l[c+20>>2]))|(0|o)==(0|(c=0|l[c+16+(s>>>31<<2)>>2]))?n:o,o=0==(0|c)){w=57;break}s<<=1&(1^o)}else n=0,e=0,w=57}while(0);if(57==(0|w)){if(0==(0|n)&0==(0|e)){if(!(e=u&((e=2<<h)|0-e))){d=f;break}p=0|(e&0-e)-1,e=0,n=0|l[25040+(((s=8&(p>>>=c=16&p>>>12)>>>5)|c|(h=4&(p>>>=s)>>>2)|(d=2&(p>>>=h)>>>1)|(n=1&(p>>>=d)>>>1))+(p>>>n)<<2)>>2]}n?w=61:(c=e,s=r)}if(61==(0|w))for(;;){if(w=0,r=(p=(d=0|(-8&l[n+4>>2])-f)>>>0<r>>>0)?d:r,e=p?n:e,!(n=0|l[n+16+((1&0==(0|l[n+16>>2]))<<2)>>2])){c=e,s=r;break}w=61}if(0!=(0|c)&&s>>>0<(0|(0|l[6186])-f)>>>0){if((a=0|c+f)>>>0<=c>>>0)return A=t,0|(x=0);o=0|l[c+24>>2],i=0|l[c+12>>2];do{if((0|i)==(0|c)){if(!(i=0|l[(e=0|c+20)>>2])&&!(i=0|l[(e=0|c+16)>>2])){i=0;break}for(;;){if(0|(r=0|l[(n=0|i+20)>>2]))i=r,e=n;else{if(!(r=0|l[(n=0|i+16)>>2]))break;i=r,e=n}}l[e>>2]=0}else x=0|l[c+8>>2],l[x+12>>2]=i,l[i+8>>2]=x}while(0);do{if(o){if(e=0|l[c+28>>2],(0|c)==(0|l[(n=0|25040+(e<<2))>>2])){if(l[n>>2]=i,!i){r=u&~(1<<e),l[6185]=r;break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|c))<<2)>>2]=i,!i){r=u;break}l[i+24>>2]=o,0|(e=0|l[c+16>>2])&&(l[i+16>>2]=e,l[e+24>>2]=i),(e=0|l[c+20>>2])?(l[i+20>>2]=e,l[e+24>>2]=i,r=u):r=u}else r=u}while(0);do{if(16<=s>>>0){if(l[c+4>>2]=3|f,l[a+4>>2]=1|s,l[a+s>>2]=s,i=s>>>3,256>s>>>0){n=0|24776+(i<<1<<2),(e=0|l[6184])&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=e|i,i=n,e=0|n+8),l[e>>2]=a,l[i+12>>2]=a,l[a+8>>2]=i,l[a+12>>2]=n;break}if(n=0|25040+((i=(i=s>>>8)?16777215<s>>>0?31:1&s>>>(0|7+(i=0|14-((v=4&(0|520192+(x=i<<(w=8&(0|i+1048320)>>>16)))>>>16)|w|(i=2&(0|245760+(x<<=v))>>>16))+(x<<i>>>15)))|i<<1:0)<<2),l[a+28>>2]=i,l[4+(e=0|a+16)>>2]=0,l[e>>2]=0,!(r&(e=1<<i))){l[6185]=r|e,l[n>>2]=a,l[a+24>>2]=n,l[a+12>>2]=a,l[a+8>>2]=a;break}for(e=s<<(31==(0|i)?0:0|25-(i>>>1)),n=0|l[n>>2];;){if((0|-8&l[n+4>>2])==(0|s)){w=97;break}if(!(i=0|l[(r=0|n+16+(e>>>31<<2))>>2])){w=96;break}e<<=1,n=i}if(96==(0|w)){l[r>>2]=a,l[a+24>>2]=n,l[a+12>>2]=a,l[a+8>>2]=a;break}if(97==(0|w)){x=0|l[(w=0|n+8)>>2],l[x+12>>2]=a,l[w>>2]=a,l[a+8>>2]=x,l[a+12>>2]=n,l[a+24>>2]=0;break}}else x=0|s+f,l[c+4>>2]=3|x,l[(x=0|c+x+4)>>2]=1|l[x>>2]}while(0);return A=t,0|(x=0|c+8)}d=f}else d=f;}else d=-1}while(0);if((n=0|l[6186])>>>0>=d>>>0)return i=0|n-d,e=0|l[6189],15<i>>>0?(x=0|e+d,l[6189]=x,l[6186]=i,l[x+4>>2]=1|i,l[e+n>>2]=i,l[e+4>>2]=3|d):(l[6186]=0,l[6189]=0,l[e+4>>2]=3|n,l[(x=0|e+n+4)>>2]=1|l[x>>2]),A=t,0|(x=0|e+8);if((c=0|l[6187])>>>0>d>>>0)return v=0|c-d,l[6187]=v,w=0|(x=0|l[6190])+d,l[6190]=w,l[w+4>>2]=1|v,l[x+4>>2]=3|d,A=t,0|(x=0|x+8);if(0|l[6302]?e=0|l[6304]:(l[6304]=4096,l[6303]=4096,l[6305]=-1,l[6306]=-1,l[6307]=0,l[6295]=0,l[6302]=1431655768^-16&_,e=4096),h=0|d+48,(f=(s=0|e+(u=0|d+47))&(o=0|0-e))>>>0<=d>>>0)return A=t,0|(x=0);if(0|(e=0|l[6294])&&(_=0|(p=0|l[6292])+f)>>>0<=p>>>0|_>>>0>e>>>0)return A=t,0|(x=0);e:do{if(4&l[6295])i=0,w=133;else{n=0|l[6190];t:do{if(n){for(r=25184;!((e=0|l[r>>2])>>>0<=n>>>0&&(0|e+(0|l[(y=0|r+4)>>2]))>>>0>n>>>0);){if(!(e=0|l[r+8>>2])){w=118;break t}r=e}if(2147483647>(i=s-c&o)>>>0){if((0|(e=0|Dr(0|i)))==(0|(0|l[r>>2])+(0|l[y>>2]))){if(-1!=(0|e)){s=i,a=e,w=135;break e}}else r=e,w=126;}else i=0}else w=118}while(0);do{if(118==(0|w))if(-1!=(0|(n=0|Dr(0)))&&(i=n,b=0|(i=0|(0==(0|(b=0|(m=0|l[6303])-1)&i)?0:0|(b+i&0-m)-i)+f)+(m=0|l[6292]),i>>>0>d>>>0&2147483647>i>>>0)){if(0|(y=0|l[6294])&&b>>>0<=m>>>0|b>>>0>y>>>0){i=0;break}if((0|(e=0|Dr(0|i)))==(0|n)){s=i,a=n,w=135;break e}r=e,w=126}else i=0}while(0);do{if(126==(0|w)){if(n=0|0-i,!(h>>>0>i>>>0&2147483647>i>>>0&-1!=(0|r))){if(-1==(0|r)){i=0;break}s=i,a=r,w=135;break e}if(2147483647<=(e=u-i+(e=0|l[6304])&0-e)>>>0){s=i,a=r,w=135;break e}if(-1==(0|Dr(0|e))){Dr(0|n),i=0;break}s=0|e+i,a=r,w=135;break e}}while(0);l[6295]=4|l[6295],w=133}}while(0);if(133==(0|w)&&2147483647>f>>>0&&!(-1==(0|(a=0|Dr(0|f)))|1^(v=(g=0|(y=0|Dr(0))-a)>>>0>(0|d+40)>>>0)|1^a>>>0<y>>>0&-1!=(0|a)&-1!=(0|y))&&(s=v?g:i,w=135),135==(0|w)){i=0|(0|l[6292])+s,l[6292]=i,i>>>0>(0|l[6293])>>>0&&(l[6293]=i),h=0|l[6190];do{if(h){for(i=25184;;){if((0|a)==(0|(e=0|l[i>>2])+(r=0|l[(n=0|i+4)>>2]))){w=143;break}if(!(o=0|l[i+8>>2]))break;i=o}if(143==(0|w)&&0==(0|8&l[i+12>>2])&&a>>>0>h>>>0&e>>>0<=h>>>0){l[n>>2]=r+s,x=0|(0|l[6187])+s,w=0|h+(v=0==(0|7&(v=0|h+8))?0:7&0-v),v=0|x-v,l[6190]=w,l[6187]=v,l[w+4>>2]=1|v,l[h+x+4>>2]=40,l[6191]=l[6306];break}for(a>>>0<(0|l[6188])>>>0&&(l[6188]=a),e=0|a+s,i=25184;;){if((0|l[i>>2])==(0|e)){w=151;break}if(!(i=0|l[i+8>>2])){e=25184;break}}if(151==(0|w)){if(!(8&l[i+12>>2])){l[i>>2]=a,l[(f=0|i+4)>>2]=(0|l[f>>2])+s,u=0|(f=0|a+(0==(0|7&(f=0|a+8))?0:7&0-f))+d,c=0|(i=0|e+(0==(0|7&(i=0|e+8))?0:7&0-i))-f-d,l[f+4>>2]=3|d;do{if((0|h)!=(0|i)){if((0|l[6189])==(0|i)){x=0|(0|l[6186])+c,l[6186]=x,l[6189]=u,l[u+4>>2]=1|x,l[u+x>>2]=x;break}if(1==(0|3&(e=0|l[i+4>>2]))){s=-8&e,r=e>>>3;e:do{if(256>e>>>0){if(e=0|l[i+8>>2],(0|(n=0|l[i+12>>2]))==(0|e)){l[6184]=l[6184]&~(1<<r);break}l[e+12>>2]=n,l[n+8>>2]=e;break}a=0|l[i+24>>2],e=0|l[i+12>>2];do{if((0|e)==(0|i)){if(!(e=0|l[(n=0|4+(r=0|i+16))>>2])){if(!(e=0|l[r>>2])){e=0;break}n=r}for(;;){if(0|(o=0|l[(r=0|e+20)>>2]))e=o,n=r;else{if(!(o=0|l[(r=0|e+16)>>2]))break;e=o,n=r}}l[n>>2]=0}else x=0|l[i+8>>2],l[x+12>>2]=e,l[e+8>>2]=x}while(0);if(!a)break;r=0|25040+((n=0|l[i+28>>2])<<2);do{if((0|l[r>>2])==(0|i)){if(l[r>>2]=e,0|e)break;l[6185]=l[6185]&~(1<<n);break e}if(l[a+16+((1&(0|l[a+16>>2])!=(0|i))<<2)>>2]=e,!e)break e}while(0);if(l[e+24>>2]=a,0|(r=0|l[(n=0|i+16)>>2])&&(l[e+16>>2]=r,l[r+24>>2]=e),!(n=0|l[n+4>>2]))break;l[e+20>>2]=n,l[n+24>>2]=e}while(0);i=0|i+s,o=0|s+c}else o=c;if(l[(i=0|i+4)>>2]=-2&l[i>>2],l[u+4>>2]=1|o,l[u+o>>2]=o,i=o>>>3,256>o>>>0){n=0|24776+(i<<1<<2),(e=0|l[6184])&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=e|i,i=n,e=0|n+8),l[e>>2]=u,l[i+12>>2]=u,l[u+8>>2]=i,l[u+12>>2]=n;break}i=o>>>8;do{if(i){if(16777215<o>>>0){i=31;break}i=1&o>>>(0|7+(i=0|14-((v=4&(0|520192+(x=i<<(w=8&(0|i+1048320)>>>16)))>>>16)|w|(i=2&(0|245760+(x<<=v))>>>16))+(x<<i>>>15)))|i<<1}else i=0}while(0);if(r=0|25040+(i<<2),l[u+28>>2]=i,l[4+(e=0|u+16)>>2]=0,l[e>>2]=0,!((e=0|l[6185])&(n=1<<i))){l[6185]=e|n,l[r>>2]=u,l[u+24>>2]=r,l[u+12>>2]=u,l[u+8>>2]=u;break}for(e=o<<(31==(0|i)?0:0|25-(i>>>1)),n=0|l[r>>2];;){if((0|-8&l[n+4>>2])==(0|o)){w=192;break}if(!(i=0|l[(r=0|n+16+(e>>>31<<2))>>2])){w=191;break}e<<=1,n=i}if(191==(0|w)){l[r>>2]=u,l[u+24>>2]=n,l[u+12>>2]=u,l[u+8>>2]=u;break}if(192==(0|w)){x=0|l[(w=0|n+8)>>2],l[x+12>>2]=u,l[w>>2]=u,l[u+8>>2]=x,l[u+12>>2]=n,l[u+24>>2]=0;break}}else x=0|(0|l[6187])+c,l[6187]=x,l[6190]=u,l[u+4>>2]=1|x}while(0);return A=t,0|(x=0|f+8)}e=25184}for(;!((i=0|l[e>>2])>>>0<=h>>>0&&(x=0|i+(0|l[e+4>>2]))>>>0>h>>>0);){e=0|l[e+8>>2]}i=0|(e=(e=0|(o=0|x+-47)+(0==(0|7&(e=0|o+8))?0:7&0-e))>>>0<(o=0|h+16)>>>0?h:e)+8,n=0|s+-40,w=0|a+(v=0==(0|7&(v=0|a+8))?0:7&0-v),v=0|n-v,l[6190]=w,l[6187]=v,l[w+4>>2]=1|v,l[a+n+4>>2]=40,l[6191]=l[6306],l[(n=0|e+4)>>2]=27,l[i>>2]=l[6296],l[i+4>>2]=l[6297],l[i+8>>2]=l[6298],l[i+12>>2]=l[6299],l[6296]=a,l[6297]=s,l[6299]=0,l[6298]=i,i=0|e+24;do{w=i,l[(i=0|i+4)>>2]=7}while((0|w+8)>>>0<x>>>0);if((0|e)!=(0|h)){if(a=0|e-h,l[n>>2]=-2&l[n>>2],l[h+4>>2]=1|a,l[e>>2]=a,i=a>>>3,256>a>>>0){n=0|24776+(i<<1<<2),(e=0|l[6184])&(i=1<<i)?i=0|l[(e=0|n+8)>>2]:(l[6184]=e|i,i=n,e=0|n+8),l[e>>2]=h,l[i+12>>2]=h,l[h+8>>2]=i,l[h+12>>2]=n;break}if(r=0|25040+((n=(i=a>>>8)?16777215<a>>>0?31:1&a>>>(0|7+(n=0|14-((v=4&(0|520192+(x=i<<(w=8&(0|i+1048320)>>>16)))>>>16)|w|(n=2&(0|245760+(x<<=v))>>>16))+(x<<n>>>15)))|n<<1:0)<<2),l[h+28>>2]=n,l[h+20>>2]=0,l[o>>2]=0,!((i=0|l[6185])&(e=1<<n))){l[6185]=i|e,l[r>>2]=h,l[h+24>>2]=r,l[h+12>>2]=h,l[h+8>>2]=h;break}for(e=a<<(31==(0|n)?0:0|25-(n>>>1)),n=0|l[r>>2];;){if((0|-8&l[n+4>>2])==(0|a)){w=213;break}if(!(i=0|l[(r=0|n+16+(e>>>31<<2))>>2])){w=212;break}e<<=1,n=i}if(212==(0|w)){l[r>>2]=h,l[h+24>>2]=n,l[h+12>>2]=h,l[h+8>>2]=h;break}if(213==(0|w)){x=0|l[(w=0|n+8)>>2],l[x+12>>2]=h,l[w>>2]=h,l[h+8>>2]=x,l[h+12>>2]=n,l[h+24>>2]=0;break}}}else 0==(0|(x=0|l[6188]))|a>>>0<x>>>0&&(l[6188]=a),l[6296]=a,l[6297]=s,l[6299]=0,l[6193]=l[6302],l[6192]=-1,l[6197]=24776,l[6196]=24776,l[6199]=24784,l[6198]=24784,l[6201]=24792,l[6200]=24792,l[6203]=24800,l[6202]=24800,l[6205]=24808,l[6204]=24808,l[6207]=24816,l[6206]=24816,l[6209]=24824,l[6208]=24824,l[6211]=24832,l[6210]=24832,l[6213]=24840,l[6212]=24840,l[6215]=24848,l[6214]=24848,l[6217]=24856,l[6216]=24856,l[6219]=24864,l[6218]=24864,l[6221]=24872,l[6220]=24872,l[6223]=24880,l[6222]=24880,l[6225]=24888,l[6224]=24888,l[6227]=24896,l[6226]=24896,l[6229]=24904,l[6228]=24904,l[6231]=24912,l[6230]=24912,l[6233]=24920,l[6232]=24920,l[6235]=24928,l[6234]=24928,l[6237]=24936,l[6236]=24936,l[6239]=24944,l[6238]=24944,l[6241]=24952,l[6240]=24952,l[6243]=24960,l[6242]=24960,l[6245]=24968,l[6244]=24968,l[6247]=24976,l[6246]=24976,l[6249]=24984,l[6248]=24984,l[6251]=24992,l[6250]=24992,l[6253]=25e3,l[6252]=25e3,l[6255]=25008,l[6254]=25008,l[6257]=25016,l[6256]=25016,l[6259]=25024,l[6258]=25024,x=0|s+-40,w=0|a+(v=0==(0|7&(v=0|a+8))?0:7&0-v),v=0|x-v,l[6190]=w,l[6187]=v,l[w+4>>2]=1|v,l[a+x+4>>2]=40,l[6191]=l[6306]}while(0);if((i=0|l[6187])>>>0>d>>>0)return v=0|i-d,l[6187]=v,w=0|(x=0|l[6190])+d,l[6190]=w,l[w+4>>2]=1|v,l[x+4>>2]=3|d,A=t,0|(x=0|x+8)}return l[(x=25296)>>2]=12,A=t,0|(x=0)}function bn(e){var t=0,i=0,n=0,r=0,o=0,a=0,s=0,c=0;if(e|=0){i=0|e+-8,r=0|l[6188],c=0|i+(t=-8&(e=0|l[e+-4>>2]));do{if(1&e)s=i,a=i;else{if(n=0|l[i>>2],!(3&e))return;if(o=0|n+t,(a=0|i+(0-n))>>>0<r>>>0)return;if((0|l[6189])==(0|a)){if(3!=(0|3&(t=0|l[(e=0|c+4)>>2]))){s=a,t=o;break}return l[6186]=o,l[e>>2]=-2&t,l[a+4>>2]=1|o,void(l[a+o>>2]=o)}if(i=n>>>3,256>n>>>0){if(e=0|l[a+8>>2],(0|(t=0|l[a+12>>2]))==(0|e)){l[6184]=l[6184]&~(1<<i),s=a,t=o;break}l[e+12>>2]=t,l[t+8>>2]=e,s=a,t=o;break}r=0|l[a+24>>2],e=0|l[a+12>>2];do{if((0|e)==(0|a)){if(!(e=0|l[(t=0|4+(i=0|a+16))>>2])){if(!(e=0|l[i>>2])){e=0;break}t=i}for(;;){if(0|(n=0|l[(i=0|e+20)>>2]))e=n,t=i;else{if(!(n=0|l[(i=0|e+16)>>2]))break;e=n,t=i}}l[t>>2]=0}else s=0|l[a+8>>2],l[s+12>>2]=e,l[e+8>>2]=s}while(0);if(r){if(t=0|l[a+28>>2],(0|l[(i=0|25040+(t<<2))>>2])==(0|a)){if(l[i>>2]=e,!e){l[6185]=l[6185]&~(1<<t),s=a,t=o;break}}else if(l[r+16+((1&(0|l[r+16>>2])!=(0|a))<<2)>>2]=e,!e){s=a,t=o;break}l[e+24>>2]=r,0|(i=0|l[(t=0|a+16)>>2])&&(l[e+16>>2]=i,l[i+24>>2]=e),(t=0|l[t+4>>2])?(l[e+20>>2]=t,l[t+24>>2]=e,s=a,t=o):(s=a,t=o)}else s=a,t=o}}while(0);if(!(a>>>0>=c>>>0)&&1&(n=0|l[(e=0|c+4)>>2])){if(2&n)l[e>>2]=-2&n,l[s+4>>2]=1|t,l[a+t>>2]=t,r=t;else{if((0|l[6190])==(0|c)){if(c=0|(0|l[6187])+t,l[6187]=c,l[6190]=s,l[s+4>>2]=1|c,(0|s)!=(0|l[6189]))return;return l[6189]=0,void(l[6186]=0)}if((0|l[6189])==(0|c))return c=0|(0|l[6186])+t,l[6186]=c,l[6189]=a,l[s+4>>2]=1|c,void(l[a+c>>2]=c);r=0|(-8&n)+t,i=n>>>3;do{if(256>n>>>0){if(t=0|l[c+8>>2],(0|(e=0|l[c+12>>2]))==(0|t)){l[6184]=l[6184]&~(1<<i);break}l[t+12>>2]=e,l[e+8>>2]=t;break}o=0|l[c+24>>2],e=0|l[c+12>>2];do{if((0|e)==(0|c)){if(!(e=0|l[(t=0|4+(i=0|c+16))>>2])){if(!(e=0|l[i>>2])){i=0;break}t=i}for(;;){if(0|(n=0|l[(i=0|e+20)>>2]))e=n,t=i;else{if(!(n=0|l[(i=0|e+16)>>2]))break;e=n,t=i}}l[t>>2]=0,i=e}else i=0|l[c+8>>2],l[i+12>>2]=e,l[e+8>>2]=i,i=e}while(0);if(0|o){if(e=0|l[c+28>>2],(0|l[(t=0|25040+(e<<2))>>2])==(0|c)){if(l[t>>2]=i,!i){l[6185]=l[6185]&~(1<<e);break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|c))<<2)>>2]=i,!i)break;l[i+24>>2]=o,0|(t=0|l[(e=0|c+16)>>2])&&(l[i+16>>2]=t,l[t+24>>2]=i),0|(e=0|l[e+4>>2])&&(l[i+20>>2]=e,l[e+24>>2]=i)}}while(0);if(l[s+4>>2]=1|r,l[a+r>>2]=r,(0|s)==(0|l[6189]))return void(l[6186]=r)}if(e=r>>>3,256>r>>>0)return i=0|24776+(e<<1<<2),(t=0|l[6184])&(e=1<<e)?e=0|l[(t=0|i+8)>>2]:(l[6184]=t|e,e=i,t=0|i+8),l[t>>2]=s,l[e+12>>2]=s,l[s+8>>2]=e,void(l[s+12>>2]=i);n=0|25040+((e=(e=r>>>8)?16777215<r>>>0?31:1&r>>>(0|7+(e=0|14-((o=4&(0|520192+(c=e<<(a=8&(0|e+1048320)>>>16)))>>>16)|a|(e=2&(0|245760+(c<<=o))>>>16))+(c<<e>>>15)))|e<<1:0)<<2),l[s+28>>2]=e,l[s+20>>2]=0,l[s+16>>2]=0,t=0|l[6185],i=1<<e;do{if(t&i){for(t=r<<(31==(0|e)?0:0|25-(e>>>1)),i=0|l[n>>2];;){if((0|-8&l[i+4>>2])==(0|r)){e=73;break}if(!(e=0|l[(n=0|i+16+(t>>>31<<2))>>2])){e=72;break}t<<=1,i=e}if(72==(0|e)){l[n>>2]=s,l[s+24>>2]=i,l[s+12>>2]=s,l[s+8>>2]=s;break}if(73==(0|e)){c=0|l[(a=0|i+8)>>2],l[c+12>>2]=s,l[a>>2]=s,l[s+8>>2]=c,l[s+12>>2]=i,l[s+24>>2]=0;break}}else l[6185]=t|i,l[n>>2]=s,l[s+24>>2]=n,l[s+12>>2]=s,l[s+8>>2]=s}while(0);if(c=0|(0|l[6192])-1,l[6192]=c,!c){for(e=25192;e=0|l[e>>2];){e=0|e+8}l[6192]=-1}}}}function yn(e,t){var i=0,n=0,r=0,o=0,a=0,s=0;s=0|(e|=0)+(t|=0),i=0|l[e+4>>2];do{if(1&i)a=e;else{if(r=0|l[e>>2],!(3&i))return;if(a=0|e+(0-r),t=0|r+t,(0|l[6189])==(0|a)){if(3!=(0|3&(i=0|l[(e=0|s+4)>>2])))break;return l[6186]=t,l[e>>2]=-2&i,l[a+4>>2]=1|t,void(l[s>>2]=t)}if(n=r>>>3,256>r>>>0){if(e=0|l[a+8>>2],(0|(i=0|l[a+12>>2]))==(0|e)){l[6184]=l[6184]&~(1<<n);break}l[e+12>>2]=i,l[i+8>>2]=e;break}o=0|l[a+24>>2],e=0|l[a+12>>2];do{if((0|e)==(0|a)){if(!(e=0|l[(i=0|4+(n=0|a+16))>>2])){if(!(e=0|l[n>>2])){e=0;break}i=n}for(;;){if(0|(r=0|l[(n=0|e+20)>>2]))e=r,i=n;else{if(!(r=0|l[(n=0|e+16)>>2]))break;e=r,i=n}}l[i>>2]=0}else r=0|l[a+8>>2],l[r+12>>2]=e,l[e+8>>2]=r}while(0);if(o){if(i=0|l[a+28>>2],(0|l[(n=0|25040+(i<<2))>>2])==(0|a)){if(l[n>>2]=e,!e){l[6185]=l[6185]&~(1<<i);break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|a))<<2)>>2]=e,!e)break;l[e+24>>2]=o,0|(n=0|l[(i=0|a+16)>>2])&&(l[e+16>>2]=n,l[n+24>>2]=e),(i=0|l[i+4>>2])&&(l[e+20>>2]=i,l[i+24>>2]=e)}}}while(0);if(2&(n=0|l[(e=0|s+4)>>2]))l[e>>2]=-2&n,l[a+4>>2]=1|t,l[a+t>>2]=t,r=t;else{if((0|l[6190])==(0|s)){if(s=0|(0|l[6187])+t,l[6187]=s,l[6190]=a,l[a+4>>2]=1|s,(0|a)!=(0|l[6189]))return;return l[6189]=0,void(l[6186]=0)}if((0|l[6189])==(0|s))return s=0|(0|l[6186])+t,l[6186]=s,l[6189]=a,l[a+4>>2]=1|s,void(l[a+s>>2]=s);r=0|(-8&n)+t,i=n>>>3;do{if(256>n>>>0){if(e=0|l[s+8>>2],(0|(t=0|l[s+12>>2]))==(0|e)){l[6184]=l[6184]&~(1<<i);break}l[e+12>>2]=t,l[t+8>>2]=e;break}o=0|l[s+24>>2],t=0|l[s+12>>2];do{if((0|t)==(0|s)){if(!(t=0|l[(e=0|4+(i=0|s+16))>>2])){if(!(t=0|l[i>>2])){i=0;break}e=i}for(;;){if(0|(n=0|l[(i=0|t+20)>>2]))t=n,e=i;else{if(!(n=0|l[(i=0|t+16)>>2]))break;t=n,e=i}}l[e>>2]=0,i=t}else i=0|l[s+8>>2],l[i+12>>2]=t,l[t+8>>2]=i,i=t}while(0);if(0|o){if(t=0|l[s+28>>2],(0|l[(e=0|25040+(t<<2))>>2])==(0|s)){if(l[e>>2]=i,!i){l[6185]=l[6185]&~(1<<t);break}}else if(l[o+16+((1&(0|l[o+16>>2])!=(0|s))<<2)>>2]=i,!i)break;l[i+24>>2]=o,0|(e=0|l[(t=0|s+16)>>2])&&(l[i+16>>2]=e,l[e+24>>2]=i),0|(t=0|l[t+4>>2])&&(l[i+20>>2]=t,l[t+24>>2]=i)}}while(0);if(l[a+4>>2]=1|r,l[a+r>>2]=r,(0|a)==(0|l[6189]))return void(l[6186]=r)}if(t=r>>>3,256>r>>>0)return i=0|24776+(t<<1<<2),(e=0|l[6184])&(t=1<<t)?t=0|l[(e=0|i+8)>>2]:(l[6184]=e|t,t=i,e=0|i+8),l[e>>2]=a,l[t+12>>2]=a,l[a+8>>2]=t,void(l[a+12>>2]=i);if(t=(t=r>>>8)?16777215<r>>>0?31:1&r>>>(0|7+(t=0|14-((n=4&(0|520192+(s=t<<(o=8&(0|t+1048320)>>>16)))>>>16)|o|(t=2&(0|245760+(s<<=n))>>>16))+(s<<t>>>15)))|t<<1:0,n=0|25040+(t<<2),l[a+28>>2]=t,l[a+20>>2]=0,l[a+16>>2]=0,!((e=0|l[6185])&(i=1<<t)))return l[6185]=e|i,l[n>>2]=a,l[a+24>>2]=n,l[a+12>>2]=a,void(l[a+8>>2]=a);for(e=r<<(31==(0|t)?0:0|25-(t>>>1)),i=0|l[n>>2];;){if((0|-8&l[i+4>>2])==(0|r)){t=69;break}if(!(t=0|l[(n=0|i+16+(e>>>31<<2))>>2])){t=68;break}e<<=1,i=t}return 68==(0|t)?(l[n>>2]=a,l[a+24>>2]=i,l[a+12>>2]=a,void(l[a+8>>2]=a)):69==(0|t)?(s=0|l[(o=0|i+8)>>2],l[s+12>>2]=a,l[o>>2]=a,l[a+8>>2]=s,l[a+12>>2]=i,void(l[a+24>>2]=0)):void 0}function gn(e,t){t|=0;var i,n=0,r=0,o=0,a=0,s=0;if((e=16<(e|=0)>>>0?e:16)+-1&e)for(n=16;;){if(!(n>>>0<e>>>0)){e=n;break}n<<=1}if((0|-64-e)>>>0<=t>>>0)return l[(a=25296)>>2]=12,0|(a=0);if(!(n=0|mn(0|12+(i=11>t>>>0?16:-8&t+11)+e)))return 0|(a=0);o=0|n+-8;do{if(e+-1&n){if(t=0|(r=15<(0|(r=0|(n+e+-1&0-e)-8)-(t=o))>>>0?r:0|r+e)-t,n=0|(-8&(s=0|l[(e=0|n+-4)>>2]))-t,3&s){l[(s=0|r+4)>>2]=2|(n|1&l[s>>2]),l[(n=0|r+n+4)>>2]=1|l[n>>2],l[e>>2]=2|(t|1&l[e>>2]),l[s>>2]=1|l[s>>2],yn(o,t),e=r,t=r;break}l[r>>2]=(0|l[o>>2])+t,l[r+4>>2]=n,e=r,t=r;break}e=o,t=o}while(0);return 0|3&(n=0|l[(e=0|e+4)>>2])&&(a=-8&n)>>>0>(0|i+16)>>>0&&(s=0|a-i,o=0|t+i,l[e>>2]=2|(i|1&n),l[o+4>>2]=3|s,l[(a=0|t+a+4)>>2]=1|l[a>>2],yn(o,s)),0|(s=0|t+8)}function vn(e,t,i){e|=0,t|=0,i|=0;var n=0;do{if(8!=(0|t)){if(0!=(0|3&t)|0==(0|(n=t>>>2)))return 0|(e=22);if(0|n+1073741823&n)return 0|(e=22);if((0|-64-t)>>>0<i>>>0)return 0|(e=12);t=0|gn(16<t>>>0?t:16,i);break}t=0|mn(i)}while(0);return t?(l[e>>2]=t,0|(e=0)):0|(e=12)}function An(e,t,i){t|=0,i|=0;var n,r,o,a,s,c=0,h=0,u=0,f=0,d=0,p=0;s=A,A=0|A+48,a=0|s+16,u=s,h=0|s+32,c=0|l[(r=0|28+(e|=0))>>2],l[h>>2]=c,c=0|(0|l[(o=0|e+20)>>2])-c,l[h+4>>2]=c,l[h+8>>2]=t,l[h+12>>2]=i,c=0|c+i,n=0|e+60,l[u>>2]=l[n>>2],l[u+4>>2]=h,l[u+8>>2]=2,u=0|wn(0|Z(146,0|u));e:do{if((0|c)!=(0|u)){for(t=2;!(0>(0|u));){if(c=0|c-u,h=(d=u>>>0>(p=0|l[h+4>>2])>>>0)?0|h+8:h,t=0|t+(d<<31>>31),p=0|u-(d?p:0),l[h>>2]=(0|l[h>>2])+p,l[(d=0|h+4)>>2]=(0|l[d>>2])-p,l[a>>2]=l[n>>2],l[a+4>>2]=h,l[a+8>>2]=t,(0|c)==(0|(u=0|wn(0|Z(146,0|a))))){f=3;break e}}l[e+16>>2]=0,l[r>>2]=0,l[o>>2]=0,l[e>>2]=32|l[e>>2],i=2==(0|t)?0:0|i-(0|l[h+4>>2])}else f=3}while(0);return 3==(0|f)&&(p=0|l[e+44>>2],l[e+16>>2]=p+(0|l[e+48>>2]),l[r>>2]=p,l[o>>2]=p),A=s,0|i}function wn(e){return 4294963200<(e|=0)>>>0&&(l[6324]=0-e,e=-1),0|e}function xn(e,t){t|=0;var i=0,n=0;if(i=0|r[(e|=0)>>0],n=0|r[t>>0],0==i<<24>>24||i<<24>>24!=n<<24>>24)e=n;else{do{t=0|t+1,i=0|r[(e=0|e+1)>>0],n=0|r[t>>0]}while(0!=i<<24>>24&&i<<24>>24==n<<24>>24);e=n}return 0|(255&i)-(255&e)}function kn(e){var t,i=0,n=0;t=e|=0;e:do{if(3&t)for(i=t;;){if(!(0|r[e>>0])){e=i;break e}if(!(3&(i=e=0|e+1))){n=4;break}}else n=4}while(0);if(4==(0|n)){for(;!((-2139062144^-2139062144&(i=0|l[e>>2]))&i+-16843009);){e=0|e+4}if((255&i)<<24>>24)do{e=0|e+1}while(0!=(0|r[e>>0]))}return 0|e-t}function In(e,t){var i;return t|=0,0|((0|Sn(e|=0,1,i=0|kn(e),t))!=(0|i))<<31>>31}function Sn(e,t,i,n){e|=0,n|=0;var r,o=0;return r=0|B(i|=0,t|=0),i=0==(0|t)?0:i,-1<(0|l[n+76>>2])?(o=0==(0|Bn()),e=0|Tn(e,r,n),o||Cn()):e=0|Tn(e,r,n),(0|e)!=(0|r)&&(i=0|(e>>>0)/(t>>>0)),0|i}function En(e){var t=0;0|l[68+(e|=0)>>2]&&(t=0|l[e+116>>2],e=0|e+112,0|t&&(l[t+112>>2]=l[e>>2]),e=0|l[e>>2],l[(e=e?0|e+116:3024)>>2]=t)}function Cn(){}function Bn(){return 0}function Mn(e,t){e|=0;var i,n,o,a=0,s=0,c=0,u=0;o=A,A=0|A+16,n=255&(t|=0),r[(i=o)>>0]=n,(c=0|l[(s=0|e+16)>>2])?u=4:0|Pn(e)?a=-1:(c=0|l[s>>2],u=4);do{if(4==(0|u)){if((s=0|l[(u=0|e+20)>>2])>>>0<c>>>0&&(0|(a=255&t))!=(0|r[e+75>>0])){l[u>>2]=s+1,r[s>>0]=n;break}a=1==(0|Jr[63&l[e+36>>2]](e,i,1))?0|h[i>>0]:-1}}while(0);return A=o,0|a}function Pn(e){var t=0,i=0;return i=0|r[(t=0|74+(e|=0))>>0],r[t>>0]=i+255|i,8&(t=0|l[e>>2])?(l[e>>2]=32|t,e=-1):(l[e+8>>2]=0,l[e+4>>2]=0,i=0|l[e+44>>2],l[e+28>>2]=i,l[e+20>>2]=i,l[e+16>>2]=i+(0|l[e+48>>2]),e=0),0|e}function Tn(e,t,i){e|=0,t|=0;var n=0,o=0,a=0,s=0,c=0;(o=0|l[(n=0|16+(i|=0))>>2])?a=5:0|Pn(i)?n=0:(o=0|l[n>>2],a=5);e:do{if(5==(0|a)){if(n=s=0|l[(c=0|i+20)>>2],(0|o-s)>>>0<t>>>0){n=0|Jr[63&l[i+36>>2]](i,e,t);break}t:do{if(-1<(0|r[i+75>>0])){for(s=t;;){if(!s){a=0,o=e;break t}if(10==(0|r[e+(o=0|s+-1)>>0]))break;s=o}if((n=0|Jr[63&l[i+36>>2]](i,e,s))>>>0<s>>>0)break e;a=s,o=0|e+s,t=0|t-s,n=0|l[c>>2]}else a=0,o=e}while(0);Br(0|n,0|o,0|t),l[c>>2]=(0|l[c>>2])+t,n=0|a+t}}while(0);return 0|n}function Dn(e,t,i){t|=0,i|=0;var n,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0;n=0|1794895138+(0|l[(e|=0)>>2]),s=0|Rn(0|l[e+8>>2],n),o=0|Rn(0|l[e+12>>2],n),a=0|Rn(0|l[e+16>>2],n);e:do{if(s>>>0<t>>>2>>>0&&(p=0|t-(s<<2),o>>>0<p>>>0&a>>>0<p>>>0)&&0==(0|3&(a|o))){for(p=o>>>2,d=a>>>2,f=0;;){if(o=0|Rn(0|l[e+((a=0|(c=(u=0|f+(h=s>>>1))<<1)+p)<<2)>>2],n),!((a=0|Rn(0|l[e+(a+1<<2)>>2],n))>>>0<t>>>0&o>>>0<(0|t-a)>>>0)){o=0;break e}if(0|r[e+(a+o)>>0]){o=0;break e}if(!(o=0|xn(i,0|e+a)))break;if(o=0>(0|o),1==(0|s)){o=0;break e}f=o?f:u,s=o?h:0|s-h}a=0|Rn(0|l[e+((o=0|c+d)<<2)>>2],n),o=(o=0|Rn(0|l[e+(o+1<<2)>>2],n))>>>0<t>>>0&a>>>0<(0|t-o)>>>0&&0==(0|r[e+(o+a)>>0])?0|e+o:0}else o=0}while(0);return 0|o}function Rn(e,t){var i;return t|=0,i=0|Cr(0|(e|=0)),0|(0==(0|t)?e:i)}function Gn(e,t){e|=0;var i,n,o,a=0,s=0;return o=A,A=0|A+48,n=0|o+32,i=0|o+16,a=o,0|On(22305,0|r[(t|=0)>>0],4)?(s=0|function(e){var t=0,i=0,n=0;return i=0==(0|Fn(e|=0,43)),t=0|r[e>>0],i=i?1&114!=t<<24>>24:2,n=0==(0|Fn(e,120)),i=n?i:128|i,e=(e=0==(0|Fn(e,101)))?i:524288|i,e=114==t<<24>>24?e:64|e,e=119==t<<24>>24?512|e:e,0|(97==t<<24>>24?1024|e:e)}(t),l[a>>2]=e,l[a+4>>2]=32768|s,l[a+8>>2]=438,0<=(0|(a=0|wn(0|U(5,0|a))))?(0|524288&s&&(l[i>>2]=a,l[i+4>>2]=2,l[i+8>>2]=1,z(221,0|i)),(e=0|function(e,t){e|=0;var i=0,n=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0;if(d=A,A=0|A+64,f=0|d+40,h=0|d+24,c=0|d+16,o=d,u=0|d+56,0|On(22305,(n=0|r[(t|=0)>>0])<<24>>24,4)){if(i=0|mn(1156)){s=0|(a=i)+124;do{l[a>>2]=0,a=0|a+4}while((0|a)<(0|s));0|Fn(t,43)||(l[i>>2]=114==n<<24>>24?8:4),0|Fn(t,101)&&(l[o>>2]=e,l[o+4>>2]=2,l[o+8>>2]=1,z(221,0|o),n=0|r[t>>0]),97==n<<24>>24?(l[c>>2]=e,l[c+4>>2]=3,1024&(n=0|z(221,0|c))||(l[h>>2]=e,l[h+4>>2]=4,l[h+8>>2]=1024|n,z(221,0|h)),t=128|l[i>>2],l[i>>2]=t):t=0|l[i>>2],l[i+60>>2]=e,l[i+44>>2]=i+132,l[i+48>>2]=1024,r[(n=0|i+75)>>0]=-1,0==(0|8&t)&&(l[f>>2]=e,l[f+4>>2]=21523,l[f+8>>2]=u,0==(0|V(54,0|f)))&&(r[n>>0]=10),l[i+32>>2]=62,l[i+36>>2]=61,l[i+40>>2]=2,l[i+12>>2]=1,0|l[6309]||(l[i+76>>2]=-1),function(e){e|=0;var t=0,i=0;t=0|Ln(),l[e+56>>2]=l[t>>2],0|(i=0|l[t>>2])&&(l[i+52>>2]=e),l[t>>2]=e,Zn()}(i)}else i=0;}else l[(i=25296)>>2]=22,i=0;return A=d,0|i}(a,t))||(l[n>>2]=a,N(6,0|n),e=0)):e=0):(l[(e=25296)>>2]=22,e=0),A=o,0|e}function On(e,t,i){e|=0;var n=0,o=0,a=0,s=0;a=255&(t|=0),n=0!=(0|(i|=0));e:{if(n&0!=(0|3&e))for(o=255&t;;){if((0|r[e>>0])==o<<24>>24){s=6;break e}if(!((n=0!=(0|(i=0|i+-1)))&0!=(0|3&(e=0|e+1)))){s=5;break}}else s=5}5==(0|s)&&(n?s=6:i=0);e:do{if(6==(0|s)&&(o=255&t,(0|r[e>>0])!=o<<24>>24)){n=0|B(a,16843009);t:do{if(3<i>>>0){for(;!(0|(-2139062144^-2139062144&(a=l[e>>2]^n))&a+-16843009);){if(e=0|e+4,3>=(i=0|i+-4)>>>0){s=11;break t}}}else s=11}while(0);if(11==(0|s)&&!i){i=0;break}for(;;){if((0|r[e>>0])==o<<24>>24)break e;if(e=0|e+1,!(i=0|i+-1)){i=0;break}}}}while(0);return 0|(0|i?e:0)}function Fn(e,t){return e=0|function(e,t){e|=0;var i=0,n=0,o=0;n=255&(t|=0);e:do{if(n){if(3&e){i=255&t;do{if(0==(o=0|r[e>>0])<<24>>24||o<<24>>24==i<<24>>24)break e;e=0|e+1}while(0!=(0|3&e))}n=0|B(n,16843009),i=0|l[e>>2];t:do{if(!((-2139062144^-2139062144&i)&i+-16843009))do{if(0|(-2139062144^-2139062144&(o=i^n))&o+-16843009)break t;i=0|l[(e=0|e+4)>>2]}while(!(0|(-2139062144^-2139062144&i)&i+-16843009))}while(0);for(i=255&t;0!=(o=0|r[e>>0])<<24>>24&&o<<24>>24!=i<<24>>24;){e=0|e+1}}else e=0|e+(0|kn(e))}while(0);return 0|e}(e|=0,t|=0),0|((0|r[e>>0])==(255&t)<<24>>24?e:0)}function Ln(){return G(25300),25308}function Zn(){H(25300)}function zn(e){var t,i=0,n=0,r=0,o=0;return o=-1<(0|l[76+(e|=0)>>2])?0|Bn():0,En(e),(t=0!=(0|1&l[e>>2]))||(r=0|Ln(),i=0|e+56,0|(n=0|l[e+52>>2])&&(l[n+56>>2]=l[i>>2]),0|(i=0|l[i>>2])&&(l[i+52>>2]=n),(0|l[r>>2])==(0|e)&&(l[r>>2]=i),Zn()),i=0|function e(t){t|=0;var i=0,n=0;do{if(t){if(-1>=(0|l[t+76>>2])){i=0|Un(t);break}n=0==(0|Bn()),i=0|Un(t),n||Cn()}else{if(i=0|l[697]?0|e(0|l[697]):0,t=0|Ln(),t=0|l[t>>2])do{n=-1<(0|l[t+76>>2])?0|Bn():0,(0|l[t+20>>2])>>>0>(0|l[t+28>>2])>>>0&&(i=0|Un(t)|i),0|n&&Cn(),t=0|l[t+56>>2]}while(0!=(0|t));Zn()}}while(0);return 0|i}(e),i=0|Xr[15&l[e+12>>2]](e)|i,0|(n=0|l[e+92>>2])&&bn(n),t?0|o&&Cn():bn(e),0|i}function Un(e){var t,i,n=0,r=0,o=0,a=0;return i=0|28+(e|=0),(0|l[(t=0|e+20)>>2])>>>0>(0|l[i>>2])>>>0&&(Jr[63&l[e+36>>2]](e,0,0),0==(0|l[t>>2]))?e=-1:((r=0|l[(n=0|e+4)>>2])>>>0<(a=0|l[(o=0|e+8)>>2])>>>0&&Jr[63&l[e+40>>2]](e,0|r-a,1),l[e+16>>2]=0,l[i>>2]=0,l[t>>2]=0,l[o>>2]=0,l[n>>2]=0,e=0),0|e}function Vn(e){var t=0,i=0;return i=0|r[(t=0|74+(e|=0))>>0],r[t>>0]=i+255|i,i=0|e+28,(0|l[(t=0|e+20)>>2])>>>0>(0|l[i>>2])>>>0&&Jr[63&l[e+36>>2]](e,0,0),l[e+16>>2]=0,l[i>>2]=0,l[t>>2]=0,4&(t=0|l[e>>2])?(l[e>>2]=32|t,t=-1):(i=0|(0|l[e+44>>2])+(0|l[e+48>>2]),l[e+8>>2]=i,l[e+4>>2]=i,t=t<<27>>31),0|t}function Nn(e,t,i){return 0|function(e,t,i){t|=0,i|=0;var n=0;return-1<(0|l[76+(e|=0)>>2])?(n=0==(0|Bn()),t=0|sr(e,t,i),n||Cn()):t=0|sr(e,t,i),0|t}(e|=0,t|=0,i|=0)}function Hn(e,t,i){var n,r;return e|=0,t|=0,i|=0,n=A,A=0|A+16,l[(r=n)>>2]=i,i=0|Wn(e,t,r),A=n,0|i}function Wn(e,t,i){e|=0,t|=0,i|=0;var n,o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;c=A,A=0|A+224,n=0|c+120,a=c,s=0|c+136,u=0|40+(h=o=0|c+80);do{l[h>>2]=0,h=0|h+4}while((0|h)<(0|u));return l[n>>2]=l[i>>2],0>(0|jn(0,t,n,a,o))?i=-1:(b=-1<(0|l[e+76>>2])?0|Bn():0,m=32&(i=0|l[e>>2]),1>(0|r[e+74>>0])&&(l[e>>2]=-33&i),0|l[(h=0|e+48)>>2]?i=0|jn(e,t,n,a,o):(f=0|l[(u=0|e+44)>>2],l[u>>2]=s,l[(d=0|e+28)>>2]=s,l[(p=0|e+20)>>2]=s,l[h>>2]=80,l[(_=0|e+16)>>2]=s+80,i=0|jn(e,t,n,a,o),f&&(Jr[63&l[e+36>>2]](e,0,0),i=0==(0|l[p>>2])?-1:i,l[u>>2]=f,l[h>>2]=0,l[_>>2]=0,l[d>>2]=0,l[p>>2]=0)),h=0|l[e>>2],l[e>>2]=h|m,0|b&&Cn(),i=0==(0|32&h)?i:-1),A=c,0|i}function jn(e,t,i,n,o){e|=0,t|=0,i|=0,n|=0,o|=0;var s,c,h,u,f,d,p,_,m,y=0,g=0,v=0,w=0,x=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0;m=A,A=0|A+64,d=m,D=0|m+24,p=0|m+8,_=0|m+20,l[(f=0|m+16)>>2]=t,s=0!=(0|e),h=c=0|D+40,D=0|D+39,u=0|p+4,g=0,y=0,I=0;e:for(;;){do{if(-1<(0|y)){if((0|g)>(0|2147483647-y)){l[(y=25296)>>2]=75,y=-1;break}y=0|g+y;break}}while(0);if(!((g=0|r[t>>0])<<24>>24)){T=86;break}v=t;t:for(;;){switch(g<<24>>24){case 37:g=v,T=9;break t;case 0:g=v;break t;}P=0|v+1,l[f>>2]=P,g=0|r[P>>0],v=P}t:do{if(9==(0|T))for(;;){if(T=0,37!=(0|r[v+1>>0]))break t;if(g=0|g+1,v=0|v+2,l[f>>2]=v,37!=(0|r[v>>0]))break;T=9}}while(0);if(g=0|g-t,s&&Yn(e,t,g),0|g)t=v;else{if(10>(g=0|(0|r[(w=0|v+1)>>0])-48)>>>0?(B=(P=36==(0|r[v+2>>0]))?g:-1,I=P?1:I,w=P?0|v+3:w):B=-1,l[f>>2]=w,31<(P=0|((g=0|r[w>>0])<<24>>24)-32)>>>0|0==(0|75913&1<<P))v=0;else{v=0;do{v|=1<<(g<<24>>24)-32,w=0|w+1,l[f>>2]=w,P=0|((g=0|r[w>>0])<<24>>24)-32}while(!(31<P>>>0|0==(0|75913&1<<P)))}if(42==g<<24>>24){if(10>(g=0|(0|r[(x=0|w+1)>>0])-48)>>>0&&36==(0|r[w+2>>0]))l[o+(g<<2)>>2]=10,g=0|l[n+((0|r[x>>0])-48<<3)>>2],I=1,w=0|w+3;else{if(0|I){y=-1;break}s?(I=-4&3+(0|l[i>>2]),g=0|l[I>>2],l[i>>2]=I+4,I=0,w=x):(g=0,I=0,w=x)}l[f>>2]=w,g=(M=0>(0|g))?0|0-g:g,M=M?8192|v:v}else{if(0>(0|(g=0|Xn(f)))){y=-1;break}M=v,w=0|l[f>>2]}do{if(46==(0|r[w>>0])){if(42!=(0|r[w+1>>0])){l[f>>2]=w+1,v=0|Xn(f),w=0|l[f>>2];break}if(10>(v=0|(0|r[(x=0|w+2)>>0])-48)>>>0&&36==(0|r[w+3>>0])){l[o+(v<<2)>>2]=10,v=0|l[n+((0|r[x>>0])-48<<3)>>2],w=0|w+4,l[f>>2]=w;break}if(0|I){y=-1;break e}s?(P=-4&3+(0|l[i>>2]),v=0|l[P>>2],l[i>>2]=P+4):v=0,l[f>>2]=x,w=x}else v=-1}while(0);for(C=0;;){if(57<(0|(0|r[w>>0])-65)>>>0){y=-1;break e}if(P=0|w+1,l[f>>2]=P,!(8>(0|(S=255&(x=0|r[(0|r[w>>0])-65+(22309+(0|58*C))>>0]))-1)>>>0))break;C=S,w=P}if(!(x<<24>>24)){y=-1;break}E=-1<(0|B);do{if(19==x<<24>>24){if(E){y=-1;break e}T=48}else{if(E){l[o+(B<<2)>>2]=S,B=0|l[4+(E=0|n+(B<<3))>>2],l[(T=d)>>2]=l[E>>2],l[T+4>>2]=B,T=48;break}if(!s){y=0;break e}Qn(d,S,i)}}while(0);if(48!=(0|T)||(T=0,s)){w=0!=(0|C)&3==(0|15&(w=0|r[w>>0]))?-33&w:w,B=-65537&M,M=0==(0|8192&M)?M:B;t:{switch(0|w){case 110:switch((255&C)<<24>>24){case 0:case 1:l[l[d>>2]>>2]=y,g=0,t=P;continue e;case 2:g=0|l[d>>2],l[g>>2]=y,l[g+4>>2]=(0>(0|y))<<31>>31,g=0,t=P;continue e;case 3:a[l[d>>2]>>1]=y,g=0,t=P;continue e;case 4:r[l[d>>2]>>0]=y,g=0,t=P;continue e;case 6:l[l[d>>2]>>2]=y,g=0,t=P;continue e;case 7:g=0|l[d>>2],l[g>>2]=y,l[g+4>>2]=(0>(0|y))<<31>>31,g=0,t=P;continue e;default:g=0,t=P;continue e;}case 112:w=120,v=8<v>>>0?v:8,t=8|M,T=60;break;case 88:case 120:t=M,T=60;break;case 111:x=0,S=22773,v=0==(0|8&M)|(0|v)>(0|(C=0|h-(E=0|qn(t=0|l[(w=d)>>2],w=0|l[w+4>>2],c))))?v:0|C+1,C=M,T=66;break;case 105:case 100:if(t=0|l[(w=d)>>2],0>(0|(w=0|l[w+4>>2]))){t=0|vr(0,0,0|t,0|w),w=k,l[(x=d)>>2]=t,l[x+4>>2]=w,x=1,S=22773,T=65;break t}x=1&0!=(0|2049&M),S=0==(0|2048&M)?0==(0|1&M)?22773:22775:22774,T=65;break t;case 117:x=0,S=22773,t=0|l[(w=d)>>2],w=0|l[w+4>>2],T=65;break;case 99:r[D>>0]=l[d>>2],t=D,x=0,S=22773,E=c,w=1,v=B;break;case 109:w=0|$n(0|l[(w=25296)>>2]),T=70;break;case 115:w=0|(w=0|l[d>>2])?w:22783,T=70;break;case 67:l[p>>2]=l[d>>2],l[u>>2]=0,l[d>>2]=p,E=-1,w=p,T=74;break;case 83:t=0|l[d>>2],v?(E=v,w=t,T=74):(er(e,32,g,0,M),t=0,T=83);break;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:g=0|ir(e,+b[d>>3],g,v,M,w),t=P;continue e;default:x=0,S=22773,E=c,w=v,v=M;}}t:do{if(60==(0|T))E=0|Jn(B=0|l[(M=d)>>2],M=0|l[M+4>>2],c,32&w),x=(S=0==(0|8&t)|0==(0|B)&0==(0|M))?0:2,S=S?22773:0|22773+(w>>4),C=t,t=B,w=M,T=66;else if(65==(0|T))E=0|Kn(t,w,c),C=M,T=66;else if(70==(0|T))T=0,t=w,x=0,S=22773,E=(C=0==(0|(M=0|On(w,0,v))))?0|w+v:M,w=C?v:0|M-w,v=B;else if(74==(0|T)){for(T=0,S=w,t=0,v=0;(x=0|l[S>>2])&&!(0>(0|(v=0|tr(_,x)))|v>>>0>(0|E-t)>>>0)&&E>>>0>(t=0|v+t)>>>0;){S=0|S+4}if(0>(0|v)){y=-1;break e}if(er(e,32,g,t,M),t)for(x=0;;){if(!(v=0|l[w>>2])){T=83;break t}if((0|(x=0|(v=0|tr(_,v))+x))>(0|t)){T=83;break t}if(Yn(e,_,v),x>>>0>=t>>>0){T=83;break}w=0|w+4}else t=0,T=83}}while(0);if(66==(0|T))T=0,M=0!=(0|v)|(w=0!=(0|t)|0!=(0|w)),w=0|h-E+(1&(1^w)),t=M?E:c,E=c,w=M?(0|v)>(0|w)?v:w:v,v=-1<(0|v)?-65537&C:C;else if(83==(0|T)){T=0,er(e,32,g,t,8192^M),g=(0|g)>(0|t)?g:t,t=P;continue}er(e,32,g=(0|g)<(0|(M=0|(C=(0|w)<(0|(B=0|E-t))?B:w)+x))?M:g,M,v),Yn(e,S,x),er(e,48,g,M,65536^v),er(e,48,C,B,0),Yn(e,t,B),er(e,32,g,M,8192^v),t=P}else g=0,t=P}}e:do{if(86==(0|T)&&!e)if(I){for(y=1;t=0|l[o+(y<<2)>>2];){if(Qn(0|n+(y<<3),t,i),t=0|y+1,!(9>(0|y))){y=t;break}y=t}if(10>(0|y))for(;;){if(0|l[o+(y<<2)>>2]){y=-1;break e}if(!(9>(0|y))){y=1;break}y=0|y+1}else y=1}else y=0}while(0);return A=m,0|y}function Yn(e,t,i){t|=0,i|=0,32&l[(e|=0)>>2]||Tn(t,i,e)}function Xn(e){var t=0,i=0,n=0;if(i=0|l[(e|=0)>>2],10>(n=0|(0|r[i>>0])-48)>>>0){t=0;do{t=0|n+(0|10*t),i=0|i+1,l[e>>2]=i,n=0|(0|r[i>>0])-48}while(10>n>>>0)}else t=0;return 0|t}function Qn(e,t,i){e|=0,t|=0,i|=0;var n=0,r=0,o=0;e:do{if(20>=t>>>0)switch(0|t){case 9:n=-4&3+(0|l[i>>2]),t=0|l[n>>2],l[i>>2]=n+4,l[e>>2]=t;break e;case 10:n=-4&3+(0|l[i>>2]),t=0|l[n>>2],l[i>>2]=n+4,l[(n=e)>>2]=t,l[n+4>>2]=(0>(0|t))<<31>>31;break e;case 11:n=-4&3+(0|l[i>>2]),t=0|l[n>>2],l[i>>2]=n+4,l[(n=e)>>2]=t,l[n+4>>2]=0;break e;case 12:n=-8&7+(0|l[i>>2]),r=0|l[(t=n)>>2],t=0|l[t+4>>2],l[i>>2]=n+8,l[(n=e)>>2]=r,l[n+4>>2]=t;break e;case 13:r=-4&3+(0|l[i>>2]),n=0|l[r>>2],l[i>>2]=r+4,n=(65535&n)<<16>>16,l[(r=e)>>2]=n,l[r+4>>2]=(0>(0|n))<<31>>31;break e;case 14:r=-4&3+(0|l[i>>2]),n=0|l[r>>2],l[i>>2]=r+4,l[(r=e)>>2]=65535&n,l[r+4>>2]=0;break e;case 15:r=-4&3+(0|l[i>>2]),n=0|l[r>>2],l[i>>2]=r+4,n=(255&n)<<24>>24,l[(r=e)>>2]=n,l[r+4>>2]=(0>(0|n))<<31>>31;break e;case 16:r=-4&3+(0|l[i>>2]),n=0|l[r>>2],l[i>>2]=r+4,l[(r=e)>>2]=255&n,l[r+4>>2]=0;break e;case 17:case 18:r=-8&7+(0|l[i>>2]),o=+b[r>>3],l[i>>2]=r+8,b[e>>3]=o;break e;default:break e;}}while(0)}function Jn(e,t,i,n){if(i|=0,n|=0,!(0==(0|(e|=0))&0==(0|(t|=0))))do{r[(i=0|i+-1)>>0]=0|h[22825+(15&e)>>0]|n,e=0|Sr(0|e,0|t,4),t=k}while(!(0==(0|e)&0==(0|t)));return 0|i}function qn(e,t,i){if(i|=0,!(0==(0|(e|=0))&0==(0|(t|=0))))do{r[(i=0|i+-1)>>0]=48|7&e,e=0|Sr(0|e,0|t,3),t=k}while(!(0==(0|e)&0==(0|t)));return 0|i}function Kn(e,t,i){i|=0;var n=0;if(0<(t|=0)>>>0|0==(0|t)&4294967295<(e|=0)>>>0){for(;n=0|kr(0|e,0|t,10,0),r[(i=0|i+-1)>>0]=48|255&n,n=e,e=0|xr(0|e,0|t,10,0),9<t>>>0|9==(0|t)&4294967295<n>>>0;){t=k}t=e}else t=e;if(t)for(;r[(i=0|i+-1)>>0]=48|(t>>>0)%10,!(10>t>>>0);){t=0|(t>>>0)/10}return 0|i}function $n(e){return 0|ar(e|=0,0|l[745])}function er(e,t,i,n,r){var o,a;if(e|=0,t|=0,a=A,A=0|A+256,o=a,(0|(i|=0))>(0|(n|=0))&0==(0|73728&(r|=0))){if(Mr(0|o,0|t,0|(256>(r=0|i-n)>>>0?r:256)),255<r>>>0){t=0|i-n;do{Yn(e,o,256),r=0|r+-256}while(255<r>>>0);r=255&t}Yn(e,o,r)}A=a}function tr(e,t){return t|=0,0|(e=(e|=0)?0|or(e,t):0)}function ir(e,t,i,n,o,a){e|=0,t=+t,i|=0,n|=0,o|=0,a|=0;var s,c=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0;s=A,A=0|A+560,f=0|s+8,D=R=0|s+524,d=0|s+512,l[(v=s)>>2]=0,T=0|d+12,nr(t),0>(0|k)?(t=-t,M=1,C=22790):(M=1&0!=(0|2049&o),C=0==(0|2048&o)?0==(0|1&o)?22791:22796:22793),nr(t);do{if(!0&2146435072==(0|2146435072&k))R=0!=(0|32&a),er(e,32,i,c=0|M+3,-65537&o),Yn(e,C,M),Yn(e,!1|t!=t?R?22817:22821:R?22809:22813,3),er(e,32,i,c,8192^o);else{if((c=0!=(b=2*+rr(t,v)))&&(l[v>>2]=(0|l[v>>2])-1),97==(0|(x=32|a))){y=0==(0|(_=32&a))?C:0|C+9,m=2|M,c=0|12-n;do{if(!(11<n>>>0|0==(0|c))){t=8;do{c=0|c+-1,t*=16}while(0!=(0|c));if(45==(0|r[y>>0])){t=-(t+(-b-t));break}t=b+t-t;break}t=b}while(0);(0|(c=0|Kn(c=0>(0|(u=0|l[v>>2]))?0|0-u:u,(0>(0|c))<<31>>31,T)))==(0|T)&&(r[(c=0|d+11)>>0]=48),r[c+-1>>0]=43+(2&u>>31),r[(p=0|c+-2)>>0]=a+15,f=1>(0|n),d=0==(0|8&o),c=R;do{P=~~t,u=0|c+1,r[c>>0]=_|h[22825+P>>0],t=16*(t-+(0|P)),1!=(0|u-D)||d&f&0==t?c=u:(r[u>>0]=46,c=0|c+2)}while(0!=t);0!=(0|n)&&(0|-2-D+c)<(0|n)?(u=0|c-D,c=0|n+2):u=c=0|c-D,er(e,32,i,D=0|(T=0|T-p)+m+c,o),Yn(e,y,m),er(e,48,i,D,65536^o),Yn(e,R,u),er(e,48,0|c-u,0,0),Yn(e,p,T),er(e,32,i,D,8192^o),c=D;break}u=0>(0|n)?6:n,c?(c=0|(0|l[v>>2])-28,l[v>>2]=c,t=268435456*b):(t=b,c=0|l[v>>2]),f=P=0>(0|c)?f:0|f+288;do{S=~~t>>>0,l[f>>2]=S,f=0|f+4,t=1e9*(t-+(S>>>0))}while(0!=t);if(0<(0|c))for(d=P,_=f;;){if(p=29>(0|c)?c:29,(c=0|_+-4)>>>0>=d>>>0){f=0;do{w=0|kr(0|(I=0|gr(0|(I=0|Er(0|l[c>>2],0,0|p)),0|k,0|f,0)),0|(S=k),1e9,0),l[c>>2]=w,f=0|xr(0|I,0|S,1e9,0),c=0|c+-4}while(c>>>0>=d>>>0);f&&(l[(d=0|d+-4)>>2]=f)}for(f=_;!(f>>>0<=d>>>0||0|l[(c=0|f+-4)>>2]);){f=c}if(c=0|(0|l[v>>2])-p,l[v>>2]=c,!(0<(0|c)))break;_=f}else d=P;if(0>(0|c)){n=0|1+(0|(0|u+25)/9),g=102==(0|x);do{if(y=9>(0|(y=0|0-c))?y:9,d>>>0<f>>>0){p=0|(1<<y)-1,_=1e9>>>y,m=0,c=d;do{S=0|l[c>>2],l[c>>2]=(S>>>y)+m,m=0|B(S&p,_),c=0|c+4}while(c>>>0<f>>>0);c=0==(0|l[d>>2])?0|d+4:d,m?(l[f>>2]=m,d=c,c=0|f+4):(d=c,c=f)}else d=0==(0|l[d>>2])?0|d+4:d,c=f;f=(0|c-(f=g?P:d)>>2)>(0|n)?0|f+(n<<2):c,c=0|(0|l[v>>2])+y,l[v>>2]=c}while(0>(0|c));c=d,n=f}else c=d,n=f;if(S=P,c>>>0<n>>>0){if(f=0|9*(S-c>>2),10<=(p=0|l[c>>2])>>>0){d=10;do{d=0|10*d,f=0|f+1}while(p>>>0>=d>>>0)}}else f=0;if(g=103==(0|x),w=0!=(0|u),(0|(d=0|u-(102!=(0|x)?f:0)+((w&g)<<31>>31)))<(0|(0|9*(n-S>>2))-9)){if(y=0|P+4+((0|(0|(d=0|d+9216))/9)-1024<<2),8>(0|(d=0|(0|d)%9)))for(p=10;p=0|10*p,7>(0|d);){d=0|d+1}else p=10;if((d=(0|y+4)==(0|n))&0==(0|(m=0|((_=0|l[y>>2])>>>0)%(p>>>0))))d=y;else if(b=0==(0|1&(0|(_>>>0)/(p>>>0)))?9007199254740992:9007199254740994,t=m>>>0<(I=0|(0|p)/2)>>>0?.5:d&(0|m)==(0|I)?1:1.5,M&&(t=(I=45==(0|r[C>>0]))?-t:t,b=I?-b:b),d=0|_-m,l[y>>2]=d,b+t!=b){if(I=0|d+p,l[y>>2]=I,999999999<I>>>0)for(f=y;d=0|f+-4,l[f>>2]=0,d>>>0<c>>>0&&(l[(c=0|c+-4)>>2]=0),I=0|1+(0|l[d>>2]),l[d>>2]=I,999999999<I>>>0;){f=d}else d=y;if(f=0|9*(S-c>>2),10<=(_=0|l[c>>2])>>>0){p=10;do{p=0|10*p,f=0|f+1}while(_>>>0>=p>>>0)}}else d=y;d=n>>>0>(d=0|d+4)>>>0?d:n,I=c}else d=n,I=c;for(x=d;;){if(x>>>0<=I>>>0){v=0;break}if(0|l[(c=0|x+-4)>>2]){v=1;break}x=c}n=0|0-f;do{if(g){if((0|(c=0|u+(1&(1^w))))>(0|f)&-5<(0|f)?(p=0|a+-1,u=0|c+-1-f):(p=0|a+-2,u=0|c+-1),!(c=8&o)){if(v&&0!=(0|(E=0|l[x+-4>>2]))){if(0|(E>>>0)%10)d=0;else{d=0,c=10;do{c=0|10*c,d=0|d+1}while(!(0|(E>>>0)%(c>>>0)))}}else d=9;if(c=0|(0|9*(x-S>>2))-9,102==(32|p)){u=(0|u)<(0|(y=0<(0|(y=0|c-d))?y:0))?u:y,y=0;break}u=(0|u)<(0|(y=0<(0|(y=0|c+f-d))?y:0))?u:y,y=0;break}y=c}else p=a,y=8&o}while(0);if(_=1&0!=(0|(g=u|y)),m=102==(32|p))w=0,c=0<(0|f)?f:0;else{if(2>(0|(d=T)-(c=0|Kn(c=0>(0|f)?n:f,(0>(0|c))<<31>>31,T))))do{r[(c=0|c+-1)>>0]=48}while(2>(0|d-c));r[c+-1>>0]=43+(2&f>>31),r[(c=0|c+-2)>>0]=p,w=c,c=0|d-c}if(er(e,32,i,c=0|M+1+u+_+c,o),Yn(e,C,M),er(e,48,i,c,65536^o),m){_=y=0|R+9,m=0|R+8,d=p=I>>>0>P>>>0?P:I;do{if(f=0|Kn(0|l[d>>2],0,y),(0|d)==(0|p))(0|f)==(0|y)&&(r[m>>0]=48,f=m);else if(f>>>0>R>>>0){Mr(0|R,48,0|f-D);do{f=0|f+-1}while(f>>>0>R>>>0)}Yn(e,f,0|_-f),d=0|d+4}while(d>>>0<=P>>>0);if(0|g&&Yn(e,22841,1),d>>>0<x>>>0&0<(0|u))for(;;){if((f=0|Kn(0|l[d>>2],0,y))>>>0>R>>>0){Mr(0|R,48,0|f-D);do{f=0|f+-1}while(f>>>0>R>>>0)}if(Yn(e,f,9>(0|u)?u:9),f=0|u+-9,!((d=0|d+4)>>>0<x>>>0&9<(0|u))){u=f;break}u=f}er(e,48,0|u+9,9,0)}else{if(g=v?x:0|I+4,-1<(0|u)){y=0==(0|y),n=v=0|R+9,_=0|0-D,m=0|R+8,p=I;do{(0|(f=0|Kn(0|l[p>>2],0,v)))==(0|v)&&(r[m>>0]=48,f=m);do{if((0|p)==(0|I)){if(d=0|f+1,Yn(e,f,1),y&1>(0|u)){f=d;break}Yn(e,22841,1),f=d}else{if(f>>>0<=R>>>0)break;Mr(0|R,48,0|f+_);do{f=0|f+-1}while(f>>>0>R>>>0)}}while(0);Yn(e,f,(0|u)>(0|(D=0|n-f))?D:u),u=0|u-D,p=0|p+4}while(p>>>0<g>>>0&-1<(0|u))}er(e,48,0|u+18,18,0),Yn(e,w,0|T-w)}er(e,32,i,c,8192^o)}}while(0);return A=s,0|((0|c)<(0|i)?i:c)}function nr(e){var t;return e=+e,b[v>>3]=e,t=0|l[v>>2],k=0|l[v+4>>2],0|t}function rr(e,t){return+ +function e(t,i){t=+t,i|=0;var n=0,r=0,o=0;switch(b[v>>3]=t,n=0|l[v>>2],r=0|l[v+4>>2],2047&(o=0|Sr(0|n,0|r,52))){case 0:0!=t?(t=+e(0x10000000000000000*t,i),n=0|(0|l[i>>2])-64):n=0,l[i>>2]=n;break;case 2047:break;default:l[i>>2]=(2047&o)-1022,l[v>>2]=n,l[v+4>>2]=1071644672|-2146435073&r,t=+b[v>>3];}return+t}(e=+e,t|=0)}function or(e,t){e|=0,t|=0;do{if(e){if(128>t>>>0){r[e>>0]=t,e=1;break}if(!(0|l[l[745]>>2])){if(57216==(0|-128&t)){r[e>>0]=t,e=1;break}l[(e=25296)>>2]=84,e=-1;break}if(2048>t>>>0){r[e>>0]=192|t>>>6,r[e+1>>0]=128|63&t,e=2;break}if(55296>t>>>0|57344==(0|-8192&t)){r[e>>0]=224|t>>>12,r[e+1>>0]=128|63&t>>>6,r[e+2>>0]=128|63&t,e=3;break}if(1048576>(0|t+-65536)>>>0){r[e>>0]=240|t>>>18,r[e+1>>0]=128|63&t>>>12,r[e+2>>0]=128|63&t>>>6,r[e+3>>0]=128|63&t,e=4;break}l[(e=25296)>>2]=84,e=-1;break}e=1}while(0);return 0|e}function ar(e,t){e|=0,t|=0;var i=0,n=0;for(n=0;;){if((0|h[22843+n>>0])==(0|e)){e=2;break}if(87==(0|(i=0|n+1))){i=22931,n=87,e=5;break}n=i}if(2==(0|e)&&(n?(i=22931,e=5):i=22931),5==(0|e))for(;;){do{e=i,i=0|i+1}while(0!=(0|r[e>>0]));if(!(n=0|n+-1))break;e=5}return 0|function(e,t){return 0|function(e,t){return e|=0,0|(0|(t=(t|=0)?0|Dn(0|l[t>>2],0|l[t+4>>2],e):0)?t:e)}(e|=0,t|=0)}(i,0|l[t+20>>2])}function sr(e,t,i){var n,r;return e|=0,t|=0,1==(0|(i|=0))&&(t=0|t-(0|l[e+8>>2])+(0|l[e+4>>2])),r=0|e+28,(0|l[(n=0|e+20)>>2])>>>0>(0|l[r>>2])>>>0&&(Jr[63&l[e+36>>2]](e,0,0),0==(0|l[n>>2]))?t=-1:(l[e+16>>2]=0,l[r>>2]=0,l[n>>2]=0,0>(0|Jr[63&l[e+40>>2]](e,t,i))?t=-1:(l[e+8>>2]=0,l[e+4>>2]=0,l[e>>2]=-17&l[e>>2],t=0)),0|t}function lr(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var o,a,s=0,c=0,h=0,u=0,f=0;a=A,A=0|A+128,s=0|a+124,h=3036,o=0|(c=f=a)+124;do{l[c>>2]=l[h>>2],c=0|c+4,h=0|h+4}while((0|c)<(0|o));return 2147483646<(0|t+-1)>>>0?t?(l[(t=25296)>>2]=75,t=-1):(e=s,t=1,u=4):u=4,4==(0|u)&&(u=t>>>0>(u=0|-2-e)>>>0?u:t,l[f+48>>2]=u,l[(s=0|f+20)>>2]=e,l[f+44>>2]=e,t=0|e+u,l[(e=0|f+16)>>2]=t,l[f+28>>2]=t,t=0|Wn(f,i,n),u&&(f=0|l[s>>2],r[f+(((0|f)==(0|l[e>>2]))<<31>>31)>>0]=0)),A=a,0|t}function cr(e,t){return hr(e|=0,t|=0),0|e}function hr(e,t){e|=0;var i=0,n=0;i=t|=0;e:do{if(3&(i^e))n=8;else{if(3&i)do{if(i=0|r[t>>0],r[e>>0]=i,!(i<<24>>24))break e;t=0|t+1,e=0|e+1}while(0!=(0|3&t));if(!((-2139062144^-2139062144&(i=0|l[t>>2]))&i+-16843009))for(n=e;t=0|t+4,e=0|n+4,l[n>>2]=i,!(0|(-2139062144^-2139062144&(i=0|l[t>>2]))&i+-16843009);){n=e}n=8}}while(0);if(8==(0|n)&&(n=0|r[t>>0],r[e>>0]=n,n<<24>>24))do{e=0|e+1,n=0|r[(t=0|t+1)>>0],r[e>>0]=n}while(0!=n<<24>>24);return 0|e}function ur(e,t,i){var n,r;return e|=0,t|=0,i|=0,n=A,A=0|A+16,l[(r=n)>>2]=i,i=0|function(e,t,i){return 0|lr(e|=0,2147483647,t|=0,i|=0)}(e,t,r),A=n,0|i}function fr(e,t){return+ +function(e,t){e=+e;var i=0,n=0;return 1023>=(0|(t|=0))?-1022>(0|t)&&(e*=22250738585072014e-324,i=0|t+2044,e=(n=-2044>(0|t))?22250738585072014e-324*e:e,t=n?-1022<(0|i)?i:-1022:0|t+1022):(e*=898846567431158e293,n=0|t+-2046,e=(i=2046<(0|t))?898846567431158e293*e:e,t=i?1023>(0|n)?n:1023:0|t+-1023),i=0|Er(0|t+1023,0,52),n=k,l[v>>2]=i,l[v+4>>2]=n,+e*+b[v>>3]}(e=+e,t|=0)}function dr(e){return 0|~~+Tr(+(e=+e))}function pr(e,t,i,n){e|=0,n|=0;var o,a,s=0,c=0,h=0,u=0,f=0;o=0|B(i|=0,t|=0),i=0==(0|t)?0:i,u=-1<(0|l[n+76>>2])?0|Bn():0,c=0|r[(s=0|n+74)>>0],r[s>>0]=c+255|c,c=0|l[(s=0|n+4)>>2],h=(a=0|(0|l[n+8>>2])-c)>>>0<o>>>0?a:o,0<(0|a)?(Br(0|e,0|c,0|h),l[s>>2]=c+h,s=0|o-h,e=0|e+h):s=o;e:do{if(s){for(h=0|n+32;!(0|Vn(n)||2>(0|1+(c=0|Jr[63&l[h>>2]](n,e,s)))>>>0);){if(!(s=0|s-c)){f=13;break e}e=0|e+c}0|u&&Cn(),i=0|((0|o-s)>>>0)/(t>>>0)}else f=13}while(0);return 13==(0|f)&&u&&Cn(),0|i}function _r(e,t){e|=0;var i=0,n=0,o=0,a=0,s=0,c=0,h=0;0<=(0|l[76+(t|=0)>>2])&&0!=(0|Bn())?(n=255&e,(0|(i=255&e))!=(0|r[t+75>>0])&&(c=0|l[(s=0|t+20)>>2])>>>0<(0|l[t+16>>2])>>>0?(l[s>>2]=c+1,r[c>>0]=n):i=0|Mn(t,e),Cn()):h=3;do{if(3==(0|h)){if(n=255&e,(0|(i=255&e))!=(0|r[t+75>>0])&&(a=0|l[(o=0|t+20)>>2])>>>0<(0|l[t+16>>2])>>>0){l[o>>2]=a+1,r[a>>0]=n;break}i=0|Mn(t,e)}}while(0);return 0|i}function mr(e){e|=0;var t,i=0,n=0,o=0;t=0|l[665],o=-1<(0|l[t+76>>2])?0|Bn():0;do{if(0>(0|In(e,t)))e=-1;else{if(10!=(0|r[t+75>>0])&&(n=0|l[(i=0|t+20)>>2])>>>0<(0|l[t+16>>2])>>>0){l[i>>2]=n+1,r[n>>0]=10,e=0;break}e=(0|Mn(t,10))>>31}}while(0);return 0|o&&Cn(),0|e}function br(e){var t=0;return t=128&l[(e|=0)>>2]&&(0|l[e+20>>2])>>>0>(0|l[e+28>>2])>>>0?2:1,0<=(0|(t=0|Jr[63&l[e+40>>2]](e,0,t)))&&(t=0|t-(0|l[e+8>>2])+(0|l[e+4>>2])+(0|l[e+20>>2])-(0|l[e+28>>2])),0|t}function yr(e,t,i,n){var r,o;return t|=0,n|=0,i=0|function(e,t){var i,n,r,o=0;return e=0|((i=0|B(o=65535&(t|=0),r=65535&(e|=0)))>>>16)+(0|B(o,n=e>>>16)),t=0|B(o=t>>>16,r),0|(k=0|(e>>>16)+(0|B(o,n))+((0|(65535&e)+t)>>>16),0|(e+t<<16|65535&i))}(r=e|=0,o=i|=0),e=k,0|(k=(0|B(t,o))+(0|B(n,r))+e|0&e,0|i)}function gr(e,t,i,n){return 0|(k=(t|=0)+(n|=0)+(0|(i=(e|=0)+(i|=0)>>>0)>>>0<e>>>0)>>>0,0|i)}function vr(e,t,i,n){return 0|(k=n=(t|=0)-(n|=0)-(0|(i|=0)>>>0>(e|=0)>>>0)>>>0,0|e-i>>>0)}function Ar(e){var t=0;return 8>(0|(t=0|r[w+(255&(e|=0))>>0]))?0|t:8>(0|(t=0|r[w+(255&e>>8)>>0]))?0|t+8:8>(0|(t=0|r[w+(255&e>>16)>>0]))?0|t+16:0|24+(0|r[w+(e>>>24)>>0])}function wr(e,t,i,n,r){r|=0;var o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0;if(u=e|=0,a=i|=0,s=d=n|=0,!(h=c=t|=0))return o=0!=(0|r),s?o?(l[r>>2]=0|e,l[r+4>>2]=0&t,0|(k=d=0,r=0)):0|(k=d=0,r=0):(o&&(l[r>>2]=(u>>>0)%(a>>>0),l[r+4>>2]=0),0|(k=d=0,r=(u>>>0)/(a>>>0)>>>0));o=0==(0|s);do{if(a){if(!o){if(31>=(o=0|(0|M(0|s))-(0|M(0|h)))>>>0){a=f=0|o+1,e=u>>>(f>>>0)&(t=o-31>>31)|h<<(s=0|31-o),t&=h>>>(f>>>0),o=0,s=u<<s;break}return r?(l[r>>2]=0|e,l[r+4>>2]=c|0&t,0|(k=d=0,r=0)):0|(k=d=0,r=0)}if(0|(o=0|a-1)&a){a=s=0|33+(0|M(0|a))-(0|M(0|h)),e=(f=0|32-s)-1>>31&h>>>((p=0|s-32)>>>0)|(h<<f|u>>>(s>>>0))&(t=p>>31),t&=h>>>(s>>>0),o=u<<(_=0|64-s)&(c=f>>31),s=(h<<_|u>>>(p>>>0))&c|u<<f&s-33>>31;break}return 0|r&&(l[r>>2]=o&u,l[r+4>>2]=0),1==(0|a)?0|(k=p=c|0&t,_=0|e):(_=0|Ar(0|a),0|(k=p=0|h>>>(_>>>0),_=0|(h<<32-_|u>>>(_>>>0))))}if(o)return 0|r&&(l[r>>2]=(h>>>0)%(a>>>0),l[r+4>>2]=0),0|(k=p=0,_=(h>>>0)/(a>>>0)>>>0);if(!u)return 0|r&&(l[r>>2]=0,l[r+4>>2]=(h>>>0)%(s>>>0)),0|(k=p=0,_=(h>>>0)/(s>>>0)>>>0);if(!((o=0|s-1)&s))return 0|r&&(l[r>>2]=0|e,l[r+4>>2]=o&h|0&t),p=0,_=h>>>((0|Ar(0|s))>>>0),0|(k=p,_);if(30>=(o=0|(0|M(0|s))-(0|M(0|h)))>>>0){a=t=0|o+1,e=h<<(s=0|31-o)|u>>>(t>>>0),t=h>>>(t>>>0),o=0,s=u<<s;break}return r?(l[r>>2]=0|e,l[r+4>>2]=c|0&t,0|(k=p=0,_=0)):0|(k=p=0,_=0)}while(0);if(a){h=0|gr(0|(f=0|i),0|(u=d|0&n),-1,-1),i=k,c=s,s=0;do{n=c,c=o>>>31|c<<1,o=s|o<<1,vr(0|h,0|i,0|(n=0|(e<<1|n>>>31)),0|(d=0|(e>>>31|t<<1))),s=1&(p=(_=k)>>31|(0>(0|_)?-1:0)<<1),e=0|vr(0|n,0|d,0|p&f,0|((0>(0|_)?-1:0)>>31|(0>(0|_)?-1:0)<<1)&u),t=k,a=0|a-1}while(0!=(0|a));h=c,c=0}else h=s,c=0,s=0;return a=0,0|r&&(l[r>>2]=e,l[r+4>>2]=t),0|(k=p=(0|o)>>>31|(h|a)<<1|0&(a<<1|o>>>31)|c,_=-2&(0|o<<1)|s)}function xr(e,t,i,n){return 0|wr(e|=0,t|=0,i|=0,n|=0,0)}function kr(e,t,i,n){var r,o;return o=A,A=0|A+16,wr(e|=0,t|=0,i|=0,n|=0,r=0|o),A=o,0|(k=0|l[r+4>>2],0|l[r>>2])}function Ir(e,t,i){return e|=0,t|=0,32>(0|(i|=0))?(k=t>>i,e>>>i|(t&(1<<i)-1)<<32-i):(k=0>(0|t)?-1:0,0|t>>i-32)}function Sr(e,t,i){return e|=0,t|=0,32>(0|(i|=0))?(k=t>>>i,e>>>i|(t&(1<<i)-1)<<32-i):(k=0,0|t>>>i-32)}function Er(e,t,i){return e|=0,t|=0,32>(0|(i|=0))?(k=t<<i|(e&(1<<i)-1<<32-i)>>>32-i,e<<i):(k=e<<i-32,0)}function Cr(e){return 0|((255&(e|=0))<<24|(255&e>>8)<<16|(255&e>>16)<<8|e>>>24)}function Br(e,t,i){e|=0,t|=0;var n,o,a=0;if(8192<=(0|(i|=0)))return 0|W(0|e,0|t,0|i);if(o=0|e,n=0|e+i,(3&e)==(3&t)){for(;3&e;){if(!i)return 0|o;r[e>>0]=0|r[t>>0],e=0|e+1,t=0|t+1,i=0|i-1}for(a=0|(i=0|-4&n)-64;(0|e)<=(0|a);){l[e>>2]=l[t>>2],l[e+4>>2]=l[t+4>>2],l[e+8>>2]=l[t+8>>2],l[e+12>>2]=l[t+12>>2],l[e+16>>2]=l[t+16>>2],l[e+20>>2]=l[t+20>>2],l[e+24>>2]=l[t+24>>2],l[e+28>>2]=l[t+28>>2],l[e+32>>2]=l[t+32>>2],l[e+36>>2]=l[t+36>>2],l[e+40>>2]=l[t+40>>2],l[e+44>>2]=l[t+44>>2],l[e+48>>2]=l[t+48>>2],l[e+52>>2]=l[t+52>>2],l[e+56>>2]=l[t+56>>2],l[e+60>>2]=l[t+60>>2],e=0|e+64,t=0|t+64}for(;(0|e)<(0|i);){l[e>>2]=l[t>>2],e=0|e+4,t=0|t+4}}else for(i=0|n-4;(0|e)<(0|i);){r[e>>0]=0|r[t>>0],r[e+1>>0]=0|r[t+1>>0],r[e+2>>0]=0|r[t+2>>0],r[e+3>>0]=0|r[t+3>>0],e=0|e+4,t=0|t+4}for(;(0|e)<(0|n);){r[e>>0]=0|r[t>>0],e=0|e+1,t=0|t+1}return 0|o}function Mr(e,t,i){t|=0;var n,o=0,a=0,s=0;if(n=0|(e|=0)+(i|=0),t&=255,67<=(0|i)){for(;3&e;){r[e>>0]=t,e=0|e+1}for(a=0|(o=0|-4&n)-64,s=t|t<<8|t<<16|t<<24;(0|e)<=(0|a);){l[e>>2]=s,l[e+4>>2]=s,l[e+8>>2]=s,l[e+12>>2]=s,l[e+16>>2]=s,l[e+20>>2]=s,l[e+24>>2]=s,l[e+28>>2]=s,l[e+32>>2]=s,l[e+36>>2]=s,l[e+40>>2]=s,l[e+44>>2]=s,l[e+48>>2]=s,l[e+52>>2]=s,l[e+56>>2]=s,l[e+60>>2]=s,e=0|e+64}for(;(0|e)<(0|o);){l[e>>2]=s,e=0|e+4}}for(;(0|e)<(0|n);){r[e>>0]=t,e=0|e+1}return 0|n-i}function Pr(e){return 0<=(e=+e)?+I(e+.5):+C(e-.5)}function Tr(e){return .5!=(e=+e)-+I(e)?+Pr(e):2*+Pr(e/2)}function Dr(e){var t,i;return 0<(0|(i=0|-16&15+(e|=0)))&(0|(e=0|(t=0|l[g>>2])+i))<(0|t)|0>(0|e)?(R(),O(12),-1):(l[g>>2]=e,(0|e)>(0|D())&&0==(0|T())?(l[g>>2]=t,O(12),-1):0|t)}function Rr(){return P(0),0}function Gr(){return P(1),0}function Or(){return P(2),0}function Fr(){return P(3),0}function Lr(){return P(4),0}function Zr(){return P(5),0}function zr(){return P(6),0}function Ur(){return P(7),0}function Vr(){return P(8),0}function Nr(){P(9)}function Hr(){P(10)}function Wr(){P(11)}function jr(){P(12)}t._llvm_ceil_f32,t._llvm_floor_f32,t._llvm_floor_f64,t._llvm_pow_f64,t.flush_NO_FILESYSTEM;var Yr=[Rr,function(){return 0},function(e){return+ +((0|(0|14*(0|l[5588+(e|=0)>>2]))-14)>>>0)},Rr],Xr=[Gr,function(e){var t,i;return t=A,A=0|A+16,i=t,e=0|function(e){return 0|(e|=0)}(0|l[60+(e|=0)>>2]),l[i>>2]=e,e=0|wn(0|N(6,0|i)),A=t,0|e},ut,ft,function(e){return 0|ut(0|l[(e|=0)>>2])},function(e){return 0|ft(0|l[(e|=0)>>2])},zn,function(){return 0},function(e){return 0|(0==(0|(e|=0))?0:2>(0|e+-1)>>>0?1:2)},Gr,Gr,Gr,Gr,Gr,Gr,Gr],Qr=[Or,function(e,t){e|=0,t|=0;var i=0;return(i=0|Ue(1,22))?(ie(i,22,4),ie(0|i+4,1768449138,4),ie(0|i+8,0|l[e+16>>2],4),ie(0|i+12,0|l[e+12>>2],4),ie(0|i+16,0|l[e+20>>2],2),ie(0|i+18,0|l[e+24>>2],1),ie(0|i+19,0|l[e+28>>2],1),ie(0|i+20,0|l[e+32>>2],1),ie(0|i+21,0|l[e+36>>2],1),l[t>>2]=22,0|i):0|(i=0)},function(e,t){t|=0;var i,n=0,r=0,o=0,a=0,s=0;switch(0|l[(n=0|40+(e|=0))>>2]){case 1:a=15;break;case 2:a=0|11+(0|l[e+112>>2]);break;default:return 0|(s=0);}if(!(s=0|Ue(1,a)))return 0|(s=0);switch(ie(s,a,4),ie(0|s+4,1668246642,4),ie(0|s+8,0|l[n>>2],1),ie(0|s+9,0|l[e+52>>2],1),ie(0|s+10,0|l[e+44>>2],1),i=0|s+11,0|l[n>>2]){case 1:ie(i,0|l[e+48>>2],4);break;case 2:if(0|l[(o=0|e+112)>>2])for(r=0|e+108,n=i,e=0;ie(n,0|h[(0|l[r>>2])+e>>0],1),!((e=0|e+1)>>>0>=(0|l[o>>2])>>>0);){n=0|n+1}}return l[t>>2]=a,0|s},function(e,t){t|=0;var i,n,r,o=0,s=0,c=0;if(!(r=0|ze(n=0|10+(0|6*(0|f[4+(0|l[(i=0|116+(e|=0))>>2])>>1])))))return 0|(t=0);if(ie(r,n,4),ie(0|r+4,1667523942,4),ie(0|r+8,0|f[4+(0|l[i>>2])>>1],2),e=0|l[i>>2],0|a[e+4>>1])for(s=0|r+10,c=0,o=0;ie(s,0|f[(0|l[e>>2])+(0|6*o)>>1],2),ie(0|s+2,0|f[(0|l[l[i>>2]>>2])+(0|6*o)+2>>1],2),ie(0|s+4,0|f[(0|l[l[i>>2]>>2])+(0|6*o)+4>>1],2),o=c+1<<16>>16,e=0|l[i>>2],!((65535&o)>=(0|f[e+4>>1]));){s=0|s+6,c=o,o&=65535}return l[t>>2]=n,0|(t=r)},function(e,t){t|=0;var i,n,r=0,o=0,a=0;if(!(a=0|Ue(1,n=0|8+(0|l[(i=0|20+(e|=0))>>2]))))return 0|(a=0);if(ie(a,n,4),ie(0|a+4,1651532643,4),0|l[i>>2])for(o=0|e+72,e=0,r=0|a+8;ie(r,0|l[(0|l[o>>2])+(0|12*e)+8>>2],1),!((e=0|e+1)>>>0>=(0|l[i>>2])>>>0);){r=0|r+1}return l[t>>2]=n,0|a},Or,Or,Or],Jr=[Fr,function(e,t,i){t|=0,i|=0;var n,o=0;return n=A,A=0|A+32,o=n,l[36+(e|=0)>>2]=61,0==(0|64&l[e>>2])&&(l[o>>2]=l[e+60>>2],l[o+4>>2]=21523,l[o+8>>2]=n+16,0|V(54,0|o))&&(r[e+75>>0]=-1),o=0|An(e,t,i),A=n,0|o},function(e,t,i){var n,r,o;return e|=0,t|=0,i|=0,r=A,A=0|A+32,n=0|r+20,l[(o=r)>>2]=l[e+60>>2],l[o+4>>2]=0,l[o+8>>2]=t,l[o+12>>2]=n,l[o+16>>2]=i,0>(0|wn(0|F(140,0|o)))?(l[n>>2]=-1,e=-1):e=0|l[n>>2],A=r,0|e},function(e,t,i){var n,r;return t|=0,i|=0,Br(0|(r=0|l[(n=0|20+(e|=0))>>2]),0|t,0|(e=(e=0|(0|l[e+16>>2])-r)>>>0>i>>>0?i:e)),l[n>>2]=(0|l[n>>2])+e,0|i},function(){return-1},function(){return-1},function(){return k=-1,-1},function(){return 0},bt,At,function(e,t,i){return t|=0,i|=0,0|bt(0|l[(e|=0)>>2],t,i)},function(e,t,i){t|=0,i|=0;var n,r=0,o=0,a=0,s=0;if(!(0|bi(0|l[(r=0|8+(e|=0))>>2],54,i)))return 0|(s=0);if(!(0|At(0|l[e>>2],t,i)))return 0|(s=0);if(n=0|yi(s=0|l[r>>2]),r=0|gi(s),n)for(o=r,r=1,a=0;r=r?0!=(0|Jr[63&l[o>>2]](e,t,i)):0,r&=1,(0|(a=0|a+1))!=(0|n);){o=0|o+4}else r=1;return vi(s),0|(s=r)},$e,mt,function(e,t,i){t|=0,i|=0;var n,r,o=0,a=0,s=0;if(!(0|bi(0|l[(o=0|8+(e|=0))>>2],53,i)))return 0|(i=0);if(r=0|yi(n=0|l[o>>2]),o=0|gi(n),r){for(a=1,s=0;a=a?0!=(0|Jr[63&l[o>>2]](e,t,i)):0,(0|(s=0|s+1))!=(0|r);){o=0|o+4,a&=1}if(vi(n),!a)return 0|(i=0)}else vi(n);return 0|(i=0|$e(l[e>>2]))},function(e,t,i){return t|=0,i|=0,0|mt(0|l[(e|=0)>>2],t,i)},function(e,t,i){e|=0,t|=0;var n,r=0;return r=0|l[(n=0|4+(i|=0))>>2],(i=0|(0|l[i>>2])+(0|l[i+8>>2])-r)?(Br(0|e,0|r,0|(t=i>>>0>t>>>0?t:i)),l[n>>2]=(0|l[n>>2])+t,0|(r=t)):0|(r=-1)},function(e,t,i){e|=0,t|=0;var n,r,o=0,a=0,s=0,c=0;for(o=0|l[(c=0|4+(i|=0))>>2],a=0|l[(n=0|i+8)>>2],r=0|o-(0|l[i>>2]),s=0==(0|a)?1:a;(0|s-r)>>>0<t>>>0;){s<<=1}if((0|s)!=(0|a)){if(!(o=0|ze(s)))return 0|(c=-1);0|(a=0|l[i>>2])&&(Br(0|o,0|a,0|r),We(0|l[i>>2])),l[i>>2]=o,o=0|o+r,l[c>>2]=o,l[n>>2]=s}return Br(0|o,0|e,0|t),l[c>>2]=(0|l[c>>2])+t,0|(c=t)},function(e,t,i){e|=0,t|=0;var n,r,o=0,a=0;return a=0|l[(o=0|4+(i|=0))>>2],n=(0>(0|(i=0|(0|l[i>>2])+(0|l[i+8>>2])-a)))<<31>>31,i?(r=(0|n)>(0|t)|(0|n)==(0|t)&i>>>0>e>>>0,l[o>>2]=a+e,k=o=r?t:n,0|(a=r?e:i)):(k=o=-1,0|(a=-1))},function(e,t,i){var n;return e|=0,t|=0,n=0|l[8+(i|=0)>>2],l[i+4>>2]=(0|l[i>>2])+(0>(0|t)|0==(0|t)&n>>>0>e>>>0?e:n),1},function(e,t,i){return 0|(0|(i=0|pr(e|=0,1,t|=0,i|=0))?i:-1)},function(e,t,i){return 0|Sn(e|=0,1,t|=0,i|=0)},function(e,t,i){return t|=0,i=0==(0|Nn(i|=0,e|=0,1)),k=i?t:-1,0|(i?e:-1)},function(e,i){return 0|0==(0|Nn(i|=0,e|=0,0))},function(){return 1},function(e){return 0|1&(0==(0|l[8+(e|=0)>>2])&0!=(0|l[e+188>>2])&0!=(0|l[e+192>>2]))},function(e,t,i){t|=0,i|=0;var n,o,s,c,h,u,f,d,p,_,m,b,y,g,v,w,x,I,S,E,C,B,M,P,T,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0,j=0,Y=0,X=0,Q=0;T=A,A=0|A+224,Q=0|T+200,M=0|T+192,B=0|T+184,E=0|T+176,S=0|T+168,I=0|T+160,j=0|T+152,x=0|T+144,w=0|T+136,g=0|T+128,y=0|T+120,b=0|T+112,m=0|T+104,_=0|T+96,p=0|T+88,d=0|T+80,f=0|T+72,u=0|T+64,h=0|T+56,c=0|T+48,s=0|T+40,v=0|T+32,U=0|T+24,z=0|T+16,Z=0|T+8,C=T,D=0|T+216,R=0|T+212,n=0|T+208,o=0|T+204,l[(P=0|8+(e|=0))>>2]=1;e:do{if(2==(0|le(t,D,2,i))&&(ne(D,R,2),65359==(0|l[R>>2]))){l[P>>2]=2,L=0|gr(0|(L=0|he(t)),0|k,-2,-1),F=k,R=0|l[(X=0|e+196)>>2],l[R>>2]=L,l[R+4>>2]=F,l[(R=C)>>2]=L,l[R+4>>2]=F,_e(i,4,8053,C),R=0|l[X>>2],F=0|l[R>>2],D=0|l[(L=0|R+24)>>2],G=0|l[(O=0|R+32)>>2];do{if((0|D+1)>>>0>G>>>0){if(W=~~(+(G>>>0)+100)>>>0,l[O>>2]=W,R=0|He(0|l[(D=0|R+28)>>2],0|24*W)){l[D>>2]=R,D=0|l[L>>2];break}We(0|l[D>>2]),l[D>>2]=0,l[O>>2]=0,l[L>>2]=0,_e(i,1,8090,Z);break e}R=0|l[R+28>>2]}while(0);if(a[R+(0|24*D)>>1]=-177,H=0|Ir(0,0|F,32),l[(W=0|R+(0|24*D)+8)>>2]=H,l[W+4>>2]=k,l[R+(0|24*D)+16>>2]=2,l[L>>2]=D+1,2!=(0|le(t,0|l[(W=0|e+16)>>2],2,i)))return _e(i,1,8150,U),A=T,0|(Q=0);if(ne(0|l[W>>2],n,2),65424!=(0|(O=0|l[n>>2]))){H=0|e+20,G=0,R=0,D=0;t:do{if(65280>O>>>0){Y=14;break}for(F=784;!((Z=0==(0|(L=0|l[F>>2])))|(0|L)==(0|O));){F=0|F+12}if(Z){_e(i,2,8219,s),N=2;i:for(;;){for(;;){if(2!=(0|le(t,0|l[W>>2],2,i))){Y=20;break t}if(ne(0|l[W>>2],C,2),65280<=(O=0|l[C>>2])>>>0){V=784;break}}for(;!(0==(0|(F=0|l[V>>2]))|(0|F)==(0|O));){V=0|V+12}if(!(l[V+4>>2]&l[P>>2])){Y=24;break t}if(65424<=(0|F)){Y=99;break}switch(0|F){case 0:break;default:break i;}N=0|N+2}if(99==(0|Y))switch(Y=0,0|F){case 65424:Y=26;break t;}if(F=0|l[X>>2],z=0|(z=0|he(t))-N,(0|1+(O=0|l[(U=0|F+24)>>2]))>>>0>(L=0|l[(Z=0|F+32)>>2])>>>0){if(L=~~(+(L>>>0)+100)>>>0,l[Z>>2]=L,!(F=0|He(0|l[(O=0|F+28)>>2],0|24*L))){Y=31;break}l[O>>2]=F,O=0|l[U>>2]}else F=0|l[F+28>>2];if(a[F+(0|24*O)>>1]=0,l[(Z=0|F+(0|24*O)+8)>>2]=z,l[Z+4>>2]=(0>(0|z))<<31>>31,l[F+(0|24*O)+16>>2]=N,l[U>>2]=O+1,F=0|l[V>>2],l[n>>2]=F,65424==(0|F))break;for(O=784;;){if(0==(0|(L=0|l[O>>2]))|(0|L)==(0|F)){Z=O;break}O=0|O+12}}else Z=F;if(D=65361==(0|L)?1:D,R=65362==(0|L)?1:R,G=65372==(0|L)?1:G,!(l[Z+4>>2]&l[P>>2])){Y=37;break}if(2!=(0|le(t,0|l[W>>2],2,i))){Y=39;break}if(ne(0|l[W>>2],o,2),F=0|(0|l[o>>2])-2,l[o>>2]=F,O=0|l[W>>2],F>>>0>(0|l[H>>2])>>>0){if(!(O=0|He(O,F))){Y=42;break}l[W>>2]=O,F=0|l[o>>2],l[H>>2]=F}if((0|(O=0|le(t,O,F,i)))!=(0|l[o>>2])){Y=45;break}if(!(0|qr[63&l[Z+8>>2]](e,0|l[W>>2],O,i))){Y=47;break}if(L=0|l[X>>2],z=0|l[Z>>2],U=0|he(t),U=0|-4-(V=0|l[o>>2])+U,V=0|V+4,(0|1+(O=0|l[(N=0|L+24)>>2]))>>>0>(F=0|l[(Z=0|L+32)>>2])>>>0){if(F=~~(+(F>>>0)+100)>>>0,l[Z>>2]=F,!(F=0|He(0|l[(O=0|L+28)>>2],0|24*F))){Y=52;break}l[O>>2]=F,O=0|l[N>>2]}else F=0|l[L+28>>2];if(a[F+(0|24*O)>>1]=z,l[(z=0|F+(0|24*O)+8)>>2]=U,l[z+4>>2]=(0>(0|U))<<31>>31,l[F+(0|24*O)+16>>2]=V,l[N>>2]=O+1,2!=(0|le(t,0|l[W>>2],2,i))){Y=54;break}ne(0|l[W>>2],n,2),O=0|l[n>>2]}while(65424!=(0|O));switch(0|Y){case 14:return l[v>>2]=O,_e(i,1,8168,v),A=T,0|(Q=0);case 20:_e(i,1,8150,c),Y=33;break;case 24:_e(i,1,8235,h),Y=33;break;case 26:l[n>>2]=65424;break;case 31:We(0|l[O>>2]),l[O>>2]=0,l[Z>>2]=0,l[U>>2]=0,_e(i,1,8090,u),Y=33;break;case 37:return _e(i,1,8235,d),A=T,0|(Q=0);case 39:return _e(i,1,8150,p),A=T,0|(Q=0);case 42:return We(0|l[W>>2]),l[W>>2]=0,l[H>>2]=0,_e(i,1,8333,_),A=T,0|(Q=0);case 45:return _e(i,1,8150,m),A=T,0|(Q=0);case 47:return _e(i,1,8367,b),A=T,0|(Q=0);case 52:return We(0|l[O>>2]),l[O>>2]=0,l[Z>>2]=0,l[N>>2]=0,_e(i,1,8090,y),A=T,0|(Q=0);case 54:return _e(i,1,8150,g),A=T,0|(Q=0);}if(33==(0|Y))return _e(i,1,8278,f),A=T,0|(Q=0);if(0|D){if(!R)return _e(i,1,8472,x),A=T,0|(Q=0);if(!G)return _e(i,1,8518,j),A=T,0|(Q=0);t:do{if(1&r[e+184>>0]){D=0|l[(H=0|e+120)>>2];do{if(D){U=0|e+124,Z=0,R=0,z=0;i:for(;;){if(G=0|l[U>>2],F=0|l[G+(z<<3)>>2]){if(L=0|(G=0|l[G+(z<<3)+4>>2])-Z,G=(O=Z>>>0<G>>>0)?0:0|Z-G,!(0==(0|L)|1^O)){for(D=O?0|F+Z:F;;){if(4>L>>>0){Y=72;break i}if(ne(D,C,4),D=0|D+4,j=0|L+-4,R=0|(O=0|l[C>>2])+R,G=(F=j>>>0<O>>>0)?0|O-j:G,!(L=F?0:0|j-O))break;D=F?D:0|D+O}D=0|l[H>>2]}}else G=Z;if((z=0|z+1)>>>0>=D>>>0)break;Z=G}if(72==(0|Y)){_e(i,1,8564,I);break}G?_e(i,1,8595,S):Y=76}else R=0,Y=76}while(0);i:do{if(76==(0|Y)){if(G=0|ze(R),l[(U=0|e+144)>>2]=G,!G){_e(i,1,8618,E);break}l[(V=0|e+132)>>2]=R,O=0|l[H>>2],N=0|e+124;do{if(O){z=0,F=0,Z=0,R=D=0|l[N>>2];n:for(;;){if(L=0|l[R+(z<<3)>>2]){R=0|l[R+(z<<3)+4>>2],D=0|(0|l[U>>2])+F;r:do{if(Z>>>0<R>>>0){if(Br(0|D,0|L,0|Z),D=0|F+Z,!(G=0|R-Z)){G=0;break}for(R=0|L+Z;;){if(4>G>>>0){Y=91;break n}if(ne(R,C,4),F=0|R+4,O=0|G+-4,R=0|l[C>>2],G=0|(0|l[U>>2])+D,O>>>0<R>>>0)break;if(Br(0|G,0|F,0|R),D=0|(R=0|l[C>>2])+D,!(G=0|O-R)){G=0;break r}R=0|F+R}Br(0|G,0|F,0|O),G=0|(0|l[C>>2])-O,D=0|O+D}else Br(0|D,0|L,0|R),G=0|Z-R,D=0|R+F}while(0);We(0|l[(0|l[N>>2])+(z<<3)>>2]),R=0|l[N>>2],l[R+(z<<3)>>2]=0,l[R+(z<<3)+4>>2]=0,F=D,O=0|l[H>>2],D=R}else G=Z;if((z=0|z+1)>>>0>=O>>>0){Y=93;break}Z=G}if(91==(0|Y)){_e(i,1,8564,B);break i}if(93==(0|Y)){G=0|l[U>>2],R=0|l[V>>2];break}}else D=0|l[N>>2]}while(0);l[e+128>>2]=G,l[e+152>>2]=R,l[H>>2]=0,We(D),l[N>>2]=0;break t}}while(0);return _e(i,1,8656,M),A=T,0|(Q=0)}}while(0);return _e(i,4,8682,Q),i=0|he(t),Q=0|8+(0|l[X>>2]),l[Q>>2]=i+-2,l[Q+4>>2]=0,l[P>>2]=8,A=T,0|(Q=1)}}return _e(i,1,8426,w),A=T,0|(Q=0)}}while(0);return _e(i,1,8126,z),A=T,0|(Q=0)},function(e,t,i){t|=0,i|=0;var n,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0;u=A,A=0|A+16,h=u,s=0|l[80+(e|=0)>>2],c=0|e+88,n=0|B(0|l[e+112>>2],0|l[e+116>>2]),o=0|1080*(x=0|l[s+16>>2]),a=0|l[e+12>>2],x=0|B(x<<2,x);e:do{if(0|n){k=0|a+5604,I=0|a+5620,S=0|a+5612,E=0|a+5616,C=0|a+5632,M=0|a+5624,P=0|a+5584,v=0|l[e+164>>2],w=0;t:for(;;){if(T=0|l[(m=0|v+5584)>>2],Br(0|v,0|a,5640),r[(t=0|v+5636)>>0]=-4&r[t>>0],l[v+5168>>2]=0,l[(t=0|v+5604)>>2]=0,l[(b=0|v+5620)>>2]=0,l[(D=0|v+5612)>>2]=0,l[(y=0|v+5632)>>2]=0,l[(g=0|v+5624)>>2]=0,l[m>>2]=T,0|l[k>>2]){if(f=0|ze(x),l[t>>2]=f,!f){t=0,f=25;break}Br(0|f,0|l[k>>2],0|x)}if(f=0|ze(t=0|20*(0|l[I>>2])),l[D>>2]=f,!f){t=0,f=25;break}if(Br(0|f,0|l[S>>2],0|t),0|(t=0|l[E>>2]))for(p=0|l[D>>2],_=0|l[S>>2],m=0;;){if(0|l[(d=0|_+12)>>2]){if(f=0|ze(0|l[(t=0|_+16)>>2]),l[p+12>>2]=f,!f){t=0,f=25;break t}Br(0|f,0|l[d>>2],0|l[t>>2]),t=0|l[E>>2]}if(l[b>>2]=1+(0|l[b>>2]),(m=0|m+1)>>>0>=t>>>0)break;p=0|p+20,_=0|_+20}if(f=0|ze(t=0|20*(0|l[C>>2])),l[g>>2]=f,!f){t=0,f=25;break}if(Br(0|f,0|l[M>>2],0|t),l[y>>2]=l[C>>2],0|(_=0|l[C>>2]))for(p=0|l[M>>2],f=0|l[g>>2],d=0;0|(t=0|l[p+8>>2])&&(l[f+8>>2]=(0|l[D>>2])+(0|20*(0|(0|t-(0|l[S>>2]))/20))),0|(t=0|l[p+12>>2])&&(l[f+12>>2]=(0|l[D>>2])+(0|20*(0|(0|t-(0|l[S>>2]))/20))),!((d=0|d+1)>>>0>=_>>>0);){p=0|p+20,f=0|f+20}if(Br(0|T,0|l[P>>2],0|o),(w=0|w+1)>>>0>=n>>>0)break e;v=0|v+5640}if(25==(0|f))return A=u,0|t}}while(0);return f=0|Xt(1),l[(t=0|e+204)>>2]=f,f?0|Kt(f,s,c)?(A=u,0|(i=1)):($t(0|l[t>>2]),l[t>>2]=0,_e(i,1,8019,h),A=u,0|(i=0)):(A=u,0|(i=0))},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p,_,m,b,y,g,v=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0;if(g=A,A=0|A+80,p=0|g+32,_=0|g+24,M=0|g+16,C=0|g+8,y=0|g+60,c=0|g+56,h=0|g+52,u=0|g+48,f=0|g+44,d=0|g+40,n=0|g+36,l[(s=0|g+64)>>2]=1,!(v=0|ze(1e3)))return _e(i,1,14664,g),A=g,0|(M=0);for(m=0|e+116,b=0|e+112,r=0|e+204,o=0|e+84,a=0|e+8,E=0,w=1e3;;){if(!(0|nt(e,y,c,h,u,f,d,n,s,t,i))){w=5;break}if(!(0|l[s>>2])){w=17;break}if((S=0|l[c>>2])>>>0>w>>>0){if(!(w=0|He(v,S))){w=9;break}v=w,I=S}else I=w;if(!(0|rt(e,x=0|l[y>>2],v,S,t,i))){w=11;break}if(w=0|x+1,S=0|B(0|l[b>>2],0|l[m>>2]),l[_>>2]=w,l[_+4>>2]=S,_e(i,4,14768,_),S=0|l[r>>2],!(0|pt(0|l[20+(0|l[l[S+20>>2]>>2])>>2],0|l[S+24>>2],v,0|l[24+(0|l[o>>2])>>2]))){w=13;break}if(l[p>>2]=w,_e(i,4,14798,p),0==(0|(S=0|ue(t)))&0==(0|k)&&64==(0|l[a>>2])){w=17;break}if((0|(E=0|E+1))==(0|B(0|l[b>>2],0|l[m>>2]))){w=17;break}w=I}return 5==(0|w)?(We(v),A=g,0|(M=0)):9==(0|w)?(We(v),M=0|B(0|l[b>>2],0|l[m>>2]),l[C>>2]=1+(0|l[y>>2]),l[C+4>>2]=M,_e(i,1,14699,C),A=g,0|(M=0)):11==(0|w)?(We(v),C=0|B(0|l[b>>2],0|l[m>>2]),l[M>>2]=x+1,l[M+4>>2]=C,_e(i,1,14739,M),A=g,0|(M=0)):13==(0|w)?(We(v),A=g,0|(M=0)):17==(0|w)?(We(v),A=g,0|(M=1)):0},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p,_,m,b,y,g=0,v=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0;if(y=A,A=0|A+96,_=0|y+56,p=0|y+48,d=0|y+40,b=0|y+32,m=0|y+24,S=0|y+16,I=0|y+8,a=0|y+88,s=0|y+84,c=0|y+80,h=0|y+76,u=0|y+72,f=0|y+68,n=0|y+64,l[(o=0|y+92)>>2]=1,!(g=0|ze(1e3)))return _e(i,1,14941,y),A=y,0|(T=0);v=0|l[(r=0|e+196)>>2],w=0|l[v+40>>2];e:{if(!w){w=0|B(0|l[e+116>>2],0|l[e+112>>2]),l[v+36>>2]=w,w=0|Ue(w,40),v=0|l[r>>2],l[v+40>>2]=w;t:do{if(0|w){if(0|l[v+36>>2]){x=0;do{if(l[w+(0|40*x)+28>>2]=100,l[w+(0|40*x)+20>>2]=0,P=0|Ue(100,24),v=0|l[r>>2],w=0|l[v+40>>2],l[w+(0|40*x)+24>>2]=P,x=0|x+1,!P)break t}while(x>>>0<(0|l[v+36>>2])>>>0)}if(v=0|l[e+60>>2],w){x=v,T=11;break e}break e}}while(0);return We(g),A=y,0|(T=0)}x=0|l[e+60>>2],T=11}if(11==(0|T))if(0|l[w+16>>2]){if(0|l[w+(0|40*x)+4>>2]){if(P=0|l[w+(0|40*x)+16>>2],!(0|te(t,P=0|gr(0|l[P>>2],0|l[P+4>>2],2,0),k,i)))return _e(i,1,14979,S),We(g),A=y,0|(T=0)}else if(!(0|te(t,P=0|gr(0|l[(P=0|e+64)>>2],0|l[P+4>>2],2,0),k,i)))return _e(i,1,14979,I),We(g),A=y,0|(T=0);256==(0|l[(v=0|e+8)>>2])?(l[v>>2]=8,v=x):v=x}else v=x;e:do{if(0|nt(e,a,s,c,h,u,f,n,o,t,i)){for(S=0|e+116,E=0|e+112,C=0|e+204,M=0|e+84,P=0|v+1,w=1e3;0|l[o>>2];){if((x=0|l[s>>2])>>>0>w>>>0){if(!(w=0|He(g,x))){T=25;break}g=w,w=x}if(!(0|rt(e,I=0|l[a>>2],g,x,t,i))){T=27;break}if(x=0|I+1,D=0|B(0|l[E>>2],0|l[S>>2]),l[b>>2]=x,l[b+4>>2]=D,_e(i,4,14768,b),D=0|l[C>>2],!(0|pt(0|l[20+(0|l[l[D+20>>2]>>2])>>2],0|l[D+24>>2],g,0|l[24+(0|l[M>>2])>>2]))){T=29;break}if(l[d>>2]=x,_e(i,4,14798,d),(0|I)==(0|v)){T=31;break}if(l[_>>2]=x,l[_+4>>2]=P,_e(i,2,15007,_),!(0|nt(e,a,s,c,h,u,f,n,o,t,i)))break e}return 25==(0|T)?(We(g),D=0|B(0|l[E>>2],0|l[S>>2]),l[m>>2]=1+(0|l[a>>2]),l[m+4>>2]=D,_e(i,1,14699,m),A=y,0|(D=0)):27==(0|T)?(We(g),A=y,0|(D=0)):29==(0|T)?(We(g),A=y,0|(D=0)):31!=(0|T)||(D=0|8+(0|l[r>>2]),0|te(t,D=0|gr(0|l[D>>2],0|l[D+4>>2],2,0),k,i))?(We(g),A=y,0|(D=1)):(_e(i,1,14979,p),We(g),A=y,0|(D=0))}}while(0);return We(g),A=y,0|(D=0)},function(e,t,i){return t|=0,i|=0,ie(0|l[(e=0|44+(e|=0))>>2],65497,2),2!=(0|ce(t,0|l[e>>2],2,i))?0|(i=0):0|(i=1&0!=(0|function(e,t){t|=0;var i,n,r,o,a=0,s=0,c=0,h=0,u=0;o=A,A=0|A+16,r=o,a=0|l[(i=0|32+(e|=0))>>2],l[(u=0|e+36)>>2]=a,s=0|l[(n=0|e+48)>>2];do{if(s){for(c=0|e+20;-1!=(0|(s=0|Jr[63&l[c>>2]](a,s,0|l[e>>2])));){if(a=0|(0|l[u>>2])+s,l[u>>2]=a,s=0|(0|l[n>>2])-s,l[n>>2]=s,!s){h=6;break}}if(6==(0|h)){a=0|l[i>>2];break}return l[(u=0|e+68)>>2]=8|l[u>>2],_e(t,4,4360,r),A=o,0|(u=0)}}while(0);return l[u>>2]=a,A=o,0|(u=1)}(t,i)))},function(e,t,i){t|=0,i|=0;var n,r,o,a,s=0;return o=0|5*(0|l[32+(e|=0)>>2]),s=0|gr(0|l[(s=0|e+16)>>2],0|l[s+4>>2],6,0),a=k,n=0|he(t),r=k,0|de(t,s,a,i)?(0|ce(t,0|l[e+24>>2],o,i))!=(0|o)?0|(s=0):0|(s=1&0!=(0|de(t,n,r,i))):0|(s=0)},function(e,t,i){return t|=0,i|=0,(e=0|l[196+(e|=0)>>2])?(i=0|vr(0|(t=0|he(t)),0|k,0|l[(i=e)>>2],0|l[i+4>>2]),l[(t=0|e+16)>>2]=i,l[t+4>>2]=k,1):1},function(e,t,i){return t|=0,i|=0,$t(0|l[(t=0|204+(e|=0))>>2]),l[t>>2]=0,0|(i=0|l[(t=0|e+24)>>2])&&(We(i),l[t>>2]=0,l[e+28>>2]=0),(t=0|l[(i=0|e+36)>>2])?(We(t),l[i>>2]=0,l[(e=0|e+40)>>2]=0,1):(l[(e=0|e+40)>>2]=0,1)},function(e,t,i){return t|=0,i|=0,0|(i=0|l[(t=0|44+(e|=0))>>2])&&(We(i),l[t>>2]=0),l[e+48>>2]=0,1},function(){return 1},function(e,t,i){var n,r;return t|=0,i|=0,r=A,A=0|A+32,n=1&(0==(0|l[8+(e|=0)>>2])&0!=(0|l[e+188>>2])&0!=(0|l[e+192>>2])),31<(t=0|(0|l[4+(0|l[5584+(0|l[e+164>>2])>>2])>>2])-1)>>>0?(_e(i,1,16016,r),A=r,0|(i=0)):(t=1<<t,(0|l[e+100>>2])>>>0<t>>>0?(_e(i,1,16016,0|r+8),A=r,0|(i=0)):(0|l[e+104>>2])>>>0>=t>>>0?(A=r,0|(i=n)):(_e(i,1,16016,0|r+16),A=r,0|(i=0)))},function(e,t,i){t|=0,i|=0;var n,r=0,o=0,s=0,c=0;if(-32256!=(-32256&a[88+(e|=0)>>1])<<16>>16)return 0|(c=1);if(!(n=0|B(0|l[e+112>>2],0|l[e+116>>2])))return 0|(c=1);for(c=0|e+80,o=0|l[e+164>>2],t=1,s=0;;){if(2==(0|l[o+16>>2])&&(t&=0!=(0|l[o+5608>>2]),r=0|l[16+(0|l[c>>2])>>2]))for(i=0,e=0|l[o+5584>>2];t=(1^1&l[e+20>>2])&t,!((i=0|i+1)>>>0>=r>>>0);){e=0|e+1080}if((0|(s=0|s+1))==(0|n))break;o=0|o+5640}return 0|t},function(e,t,i){t|=0,i|=0;var n,r,o,a,s=0,c=0,h=0;if(r=0|88+(e|=0),o=0|e+32,a=0|l[e+80>>2],n=0|B(0|l[e+116>>2],0|l[e+112>>2]),l[o>>2]=0,!n)return 1;for(e=0|l[e+164>>2],s=0;;){jt(a,r,s),c=0|e+420,t=0,i=0;do{h=0|vt(r,t,s),l[o>>2]=(0|l[o>>2])+h,i=0|h+i,t=0|t+1}while(t>>>0<=(0|l[c>>2])>>>0);if(l[e+5588>>2]=i,(0|(s=0|s+1))==(0|n))break;e=0|e+5640}return 1},function(e,t,i){return t|=0,i|=0,ie(e=0|l[44+(e|=0)>>2],65359,2),0|2==(0|ce(t,e,2,i))},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h=0,u=0,d=0,p=0;c=A,A=0|A+16,n=c,r=0|l[80+(e|=0)>>2],p=0|40+(o=0|3*(0|l[(s=0|r+16)>>2])),d=0|l[r+24>>2],u=0|e+48,h=0|l[(a=0|e+44)>>2];do{if(p>>>0>(0|l[u>>2])>>>0){if(0|(h=0|He(h,p))){l[a>>2]=h,l[u>>2]=p;break}return We(0|l[a>>2]),l[a>>2]=0,l[u>>2]=0,_e(i,1,15978,n),A=c,0|(p=0)}}while(0);if(ie(h,65361,2),ie(0|h+2,0|o+38,2),ie(0|h+4,0|f[e+88>>1],2),ie(0|h+6,0|l[r+8>>2],4),ie(0|h+10,0|l[r+12>>2],4),ie(0|h+14,0|l[r>>2],4),ie(0|h+18,0|l[r+4>>2],4),ie(0|h+22,0|l[e+100>>2],4),ie(0|h+26,0|l[e+104>>2],4),ie(0|h+30,0|l[e+92>>2],4),ie(0|h+34,0|l[e+96>>2],4),ie(0|h+38,0|l[s>>2],2),0|l[s>>2])for(h=0|h+40,u=0;ie(h,0|(0|l[d+24>>2])-1+(l[d+32>>2]<<7),1),ie(0|h+1,0|l[d>>2],1),ie(0|h+2,0|l[d+4>>2],1),!((u=0|u+1)>>>0>=(0|l[s>>2])>>>0);){d=0|d+52,h=0|h+3}return p=1&(0|ce(t,0|l[a>>2],p,i))==(0|p),A=c,0|p},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p=0,_=0,m=0;d=A,A=0|A+32,m=0|d+16,f=0|d+8,o=d,a=0|d+20,c=0|l[(s=0|164+(e|=0))>>2],u=0|l[(h=0|e+200)>>2],p=0|l[c+(0|5640*u)+5584>>2],r=0|9+(_=1&l[p>>2]?0|5+(0|l[p+4>>2]):5),l[a>>2]=r,n=0|e+48,p=0|l[(e=0|e+44)>>2];do{if(r>>>0>(0|l[n>>2])>>>0){if(0|(p=0|He(p,r))){l[e>>2]=p,l[n>>2]=r;break}return We(0|l[e>>2]),l[e>>2]=0,l[n>>2]=0,_e(i,1,15913,o),A=d,0|(m=0)}}while(0);return ie(p,65362,2),ie(0|p+2,0|_+7,2),ie(0|p+4,0|l[c+(0|5640*u)>>2],1),ie(0|p+5,0|l[c+(0|5640*u)+4>>2],1),ie(0|p+6,0|l[c+(0|5640*u)+8>>2],2),ie(0|p+8,0|l[c+(0|5640*u)+16>>2],1),l[a>>2]=_,0|kt(0|l[s>>2],0|l[h>>2],0|p+9,a,i)?0|l[a>>2]?(_e(i,1,15952,m),A=d,0|(m=0)):(m=1&(0|ce(t,0|l[e>>2],r,i))==(0|r),A=d,0|m):(_e(i,1,15952,f),A=d,0|(m=0))},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f=0,d=0,p=0;u=A,A=0|A+32,p=0|u+16,h=0|u+8,o=u,s=0|u+20,c=0|200+(e|=0),f=0|l[(0|l[(a=0|e+164)>>2])+(0|5640*(0|l[c>>2]))+5584>>2],f=1==(0|(d=0|l[f+24>>2]))?1:0|(0|3*(0|l[f+4>>2]))-2,r=0|4+(n=0==(0|d)?0|f+1:1|f<<1),l[s>>2]=r,d=0|e+48,f=0|l[(e=0|e+44)>>2];do{if(r>>>0>(0|l[d>>2])>>>0){if(0|(f=0|He(f,r))){l[e>>2]=f,l[d>>2]=r;break}return We(0|l[e>>2]),l[e>>2]=0,l[d>>2]=0,_e(i,1,15848,o),A=u,0|(p=0)}}while(0);return ie(f,65372,2),ie(0|f+2,0|n+2,2),l[s>>2]=n,0|xt(0|l[a>>2],0|l[c>>2],0,0|f+4,s,i)?0|l[s>>2]?(_e(i,1,15887,p),A=u,0|(p=0)):(p=1&(0|ce(t,0|l[e>>2],r,i))==(0|r),A=u,0|p):(_e(i,1,15887,h),A=u,0|(p=0))},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0;if(u=A,A=0|A+16,h=u,a=0|u+4,1>=(f=0|l[16+(0|l[(s=0|80+(e|=0))>>2])>>2])>>>0)return A=u,0|(w=1);for(r=0|e+164,o=0|e+200,c=0|e+48,n=0|e+44,g=1,e=f;;){d=0|l[r>>2],_=0|l[o>>2],p=0|l[d+(0|5640*_)+5584>>2],m=0|l[p+(0|1080*g)>>2];e:do{if((0|l[p>>2])==(0|m)&&(v=0|l[p+4>>2],(0|v)==(0|l[p+(0|1080*g)+4>>2]))&&(0|l[p+8>>2])==(0|l[p+(0|1080*g)+8>>2])&&(0|l[p+12>>2])==(0|l[p+(0|1080*g)+12>>2])&&(0|l[p+16>>2])==(0|l[p+(0|1080*g)+16>>2])&&(0|l[p+20>>2])==(0|l[p+(0|1080*g)+20>>2])){if(v){f=0;do{if((0|l[p+812+(f<<2)>>2])!=(0|l[p+(0|1080*g)+812+(f<<2)>>2])){w=13;break e}if((0|l[p+944+(f<<2)>>2])!=(0|l[p+(0|1080*g)+944+(f<<2)>>2])){w=13;break e}f=0|f+1}while(f>>>0<v>>>0)}}else w=13}while(0);if(13==(0|w)){if(w=0,y=0|(f=1&m?0|5+(0|l[p+(0|1080*g)+4>>2]):5)+(257>e>>>0?6:7),f=0|l[n>>2],y>>>0>(0|l[c>>2])>>>0){if(!(f=0|He(f,y))){w=17;break}l[n>>2]=f,l[c>>2]=y,b=0|l[r>>2],_=0|l[o>>2],p=0|l[b+(0|5640*_)+5584>>2],e=0|l[16+(0|l[s>>2])>>2],m=0|l[p+(0|1080*g)>>2]}else b=d;if(d=257>e>>>0?1:2,e=1&m?0|5+(0|l[p+(0|1080*g)+4>>2]):5,ie(f,65363,2),ie(0|f+2,0|d+3+e,2),ie(m=0|f+4,g,d),ie(m=0|m+d,0|l[(0|l[b+(0|5640*_)+5584>>2])+(0|1080*g)>>2],1),l[a>>2]=e,kt(0|l[r>>2],0|l[o>>2],0|m+1,a,i),(0|ce(t,0|l[n>>2],y,i))!=(0|y)){e=0,w=24;break}e=0|l[16+(0|l[s>>2])>>2]}if((g=0|g+1)>>>0>=e>>>0){e=1,w=24;break}}return 17==(0|w)?(We(0|l[n>>2]),l[n>>2]=0,l[c>>2]=0,_e(i,1,15774,h),A=u,0|(w=0)):24==(0|w)?(A=u,0|e):0},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0;if(u=A,A=0|A+16,h=u,a=0|u+4,1>=(f=0|l[16+(0|l[(s=0|80+(e|=0))>>2])>>2])>>>0)return A=u,0|(g=1);for(r=0|e+164,o=0|e+200,c=0|e+48,n=0|e+44,y=1,e=f;;){m=0|l[(0|l[r>>2])+(0|5640*(0|l[o>>2]))+5584>>2],p=0|l[m+24>>2],_=0|l[m+(0|1080*y)+24>>2];e:do{if((0|p)==(0|_)&&(0|l[m+804>>2])==(0|l[m+(0|1080*y)+804>>2])){if(1!=(0|p)){if(f=0|(b=0|3*(0|l[m+4>>2]))-2,(0|b)!=(0|3*(0|l[m+(0|1080*y)+4>>2]))){g=14;break}if(!f)break;d=f}else d=1;f=0;do{if((0|l[m+28+(f<<3)>>2])!=(0|l[m+(0|1080*y)+28+(f<<3)>>2])){g=14;break e}f=0|f+1}while(f>>>0<d>>>0);if(p){f=0;do{if((0|l[m+28+(f<<3)+4>>2])!=(0|l[m+(0|1080*y)+28+(f<<3)+4>>2])){g=14;break e}f=0|f+1}while(f>>>0<d>>>0)}}else g=14}while(0);if(14==(0|g)){if(g=0,f=1==(0|_)?1:0|(0|3*(0|l[m+(0|1080*y)+4>>2]))-2,b=0|5+(0==(0|_)?0|f+1:1|f<<1)+(1&256<e>>>0),e=0|l[n>>2],b>>>0>(0|l[c>>2])>>>0){if(!(e=0|He(e,b))){g=18;break}l[n>>2]=e,l[c>>2]=b,f=0|l[(0|l[r>>2])+(0|5640*(0|l[o>>2]))+5584>>2],d=0|l[f+(0|1080*y)+24>>2],p=e}else d=_,f=m,p=e;if(e=1==(0|d)?1:0|(0|3*(0|l[f+(0|1080*y)+4>>2]))-2,f=0==(0|d)?0|e+1:1|e<<1,l[a>>2]=f+6,ie(p,65373,2),e=0|p+2,257>(0|l[16+(0|l[s>>2])>>2])>>>0?(ie(e,0|f+3,2),ie(0|p+4,y,1),e=5):(ie(e,0|f+4,2),ie(0|p+4,y,2),e=6),l[a>>2]=f,xt(0|l[r>>2],0|l[o>>2],y,0|p+e,a,i),(0|ce(t,0|l[n>>2],b,i))!=(0|b)){e=0,g=28;break}e=0|l[16+(0|l[s>>2])>>2]}if((y=0|y+1)>>>0>=e>>>0){e=1,g=28;break}}return 18==(0|g)?(We(0|l[n>>2]),l[n>>2]=0,l[c>>2]=0,_e(i,1,15702,h),A=u,0|(g=0)):28==(0|g)?(A=u,0|e):0},function(e,t,i){t|=0,i|=0;var n,r,o,a,s=0,c=0,h=0;a=A,A=0|A+16,c=a,h=0|6+(o=0|5*(0|l[32+(e|=0)>>2])),n=0|e+48,s=0|l[(r=0|e+44)>>2];do{if(h>>>0>(0|l[n>>2])>>>0){if(0|(s=0|He(s,h))){l[r>>2]=s,l[n>>2]=h;break}return We(0|l[r>>2]),l[r>>2]=0,l[n>>2]=0,_e(i,1,15663,c),A=a,0|(h=0)}}while(0);return c=0|he(t),l[(e=0|e+16)>>2]=c,l[e+4>>2]=k,ie(s,65365,2),ie(0|s+2,0|o+4,2),ie(0|s+4,0,1),ie(0|s+5,80,1),h=1&(0|ce(t,0|l[r>>2],h,i))==(0|h),A=a,0|h},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c,h,u,f=0,d=0,p=0,_=0;u=A,A=0|A+16,o=u,l[(_=0|u+4)>>2]=0,d=0|l[(a=0|e+164)>>2],f=0|l[(s=0|e+200)>>2],p=0|l[16+(0|l[(r=0|e+80)>>2])>>2],h=0|4+(0|B(257>p>>>0?7:9,0|1+(0|l[d+(0|5640*f)+420>>2]))),n=0|e+48,e=0|l[(c=0|e+44)>>2];do{if(h>>>0>(0|l[n>>2])>>>0){if(0|(e=0|He(e,h))){l[c>>2]=e,l[n>>2]=h,p=0|l[16+(0|l[r>>2])>>2],d=0|l[a>>2],f=0|l[s>>2];break}return We(0|l[c>>2]),l[c>>2]=0,l[n>>2]=0,_e(i,1,15624,o),A=u,0|(_=0)}}while(0);return gt(p,d,f,e,_),_=1&(0|ce(t,0|l[c>>2],h,i))==(0|h),A=u,0|_},function(e,t,i){t|=0,i|=0;var n,r,o=0,a=0,s=0,c=0,h=0,u=0;if(r=0|164+(e|=0),a=0|l[(h=0|e+80)>>2],!(o=0|l[a+16>>2]))return 0|(h=1);for(n=0|e+44,s=0,c=0|l[5584+(0|l[r>>2])>>2],e=a;;){if(0|l[c+808>>2]){if(e=0|l[5584+(0|l[r>>2])>>2],a=0|6+(o=257>o>>>0?1:2),ie(u=0|l[n>>2],65374,2),ie(0|u+2,4|o,2),ie(u=0|u+4,s,o),ie(o=0|u+o,0,1),ie(0|o+1,0|l[e+(0|1080*s)+808>>2],1),(0|ce(t,0|l[n>>2],a,i))!=(0|a)){e=0,o=7;break}e=0|l[h>>2]}if((s=0|s+1)>>>0>=(o=0|l[e+16>>2])>>>0){e=1,o=7;break}c=0|c+1080}return 7==(0|o)?0|e:0},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c,h=0;c=A,A=0|A+16,o=c,h=0|6+(s=0|kn(a=0|l[108+(e|=0)>>2])),r=0|e+48,e=0|l[(n=0|e+44)>>2];do{if(h>>>0>(0|l[r>>2])>>>0){if(0|(e=0|He(e,h))){l[n>>2]=e,l[r>>2]=h;break}return We(0|l[n>>2]),l[n>>2]=0,l[r>>2]=0,_e(i,1,15581,o),A=c,0|(h=0)}}while(0);return ie(e,65380,2),ie(0|e+2,0|s+4,2),ie(0|e+4,1,2),Br(0|e+6,0|a,0|s),h=1&(0|ce(t,0|l[n>>2],h,i))==(0|h),A=c,0|h},function(e,t,i){t|=0,i|=0;var n,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0;u=A,A=0|A+32,c=0|u+24,a=0|u+16,v=0|u+8,d=u,p=0|l[80+(e|=0)>>2],b=0|6+(_=0|l[(m=0|p+16)>>2]),s=0|e+48,f=0|l[(h=0|e+44)>>2];do{if(b>>>0>(0|l[s>>2])>>>0){if(0|(f=0|He(f,b))){l[h>>2]=f,l[s>>2]=b;break}return We(0|l[h>>2]),l[h>>2]=0,l[s>>2]=0,_e(i,1,15425,d),A=u,0|(i=0)}}while(0);if(ie(f,65400,2),ie(0|f+2,0|_+4,2),ie(0|f+4,0|l[m>>2],2),0|l[m>>2])for(p=0|l[p+24>>2],f=0|f+6,d=0;ie(f,(0|l[p+24>>2])-1|l[p+32>>2]<<7,1),!((d=0|d+1)>>>0>=(0|l[m>>2])>>>0);){p=0|p+52,f=0|f+1}if((0|ce(t,0|l[h>>2],b,i))!=(0|b))return A=u,0|(i=0);_=0|(g=0|l[(n=0|e+164)>>2])+(0|5640*(y=0|l[(o=0|e+200)>>2]))+5616;e:{if(0|l[_>>2]){for(d=0|l[g+(0|5640*y)+5612>>2],p=0;;){if(e=0|10+(b=0|l[(m=0|d+16)>>2]),f=0|l[h>>2],e>>>0>(0|l[s>>2])>>>0){if(!(f=0|He(f,e)))break;l[h>>2]=f,l[s>>2]=e}if(ie(f,65396,2),ie(0|f+2,0|b+8,2),ie(0|f+4,0,2),ie(0|f+6,l[d+4>>2]<<8|255&l[d+8>>2]|l[d>>2]<<10,2),ie(0|f+8,0,2),Br(0|f+10,0|l[d+12>>2],0|l[m>>2]),(0|ce(t,0|l[h>>2],e,i))!=(0|e)){w=0,x=41;break}if((p=0|p+1)>>>0>=(0|l[_>>2])>>>0)break e;d=0|d+20}return 41==(0|x)?(A=u,0|w):(We(0|l[h>>2]),l[h>>2]=0,l[s>>2]=0,_e(i,1,15464,v),A=u,0|(i=0))}}v=0|g+(0|5640*y)+5628;e:do{if(0|l[v>>2]){for(e=0|l[g+(0|5640*y)+5624>>2],y=0;;){if(m=(_=255<(d=0|l[(b=0|e+4)>>2])>>>0)?2:1,_=_?32768:0,g=0|19+(d=0|B(m,d<<1)),f=0|l[h>>2],g>>>0>(0|l[s>>2])>>>0){if(!(f=0|He(f,g)))break;l[h>>2]=f,l[s>>2]=g}if(ie(f,65397,2),ie(0|f+2,0|d+17,2),ie(0|f+4,0,2),ie(0|f+6,0|l[e>>2],1),ie(0|f+7,0,2),ie(0|f+9,1,2),ie(0|f+11,1,1),ie(0|f+12,l[b>>2]|_,2),f=0|f+14,0|l[b>>2]){p=0;do{ie(f,p,m),f=0|f+m,p=0|p+1,d=0|l[b>>2]}while(p>>>0<d>>>0)}else d=0;if(ie(f,d|_,2),f=0|f+2,0|l[b>>2]){d=0;do{ie(f,d,m),f=0|f+m,d=0|d+1}while(d>>>0<(0|l[b>>2])>>>0);p=f}else p=f;if(f=(255&(1^1&r[e+16>>0]))<<16,(d=0|l[e+8>>2])&&(f=l[d+8>>2]|f),(d=0|l[e+12>>2])&&(f=l[d+8>>2]<<8|f),ie(p,f,3),(0|ce(t,0|l[h>>2],g,i))!=(0|g)){w=0,x=41;break}if((y=0|y+1)>>>0>=(0|l[v>>2])>>>0)break e;e=0|e+20}return 41==(0|x)?(A=u,0|w):(We(0|l[h>>2]),l[h>>2]=0,l[s>>2]=0,_e(i,1,15503,a),A=u,0|(i=0))}}while(0);m=0|l[n>>2],_=0|l[o>>2],e=0|5+(d=0|l[(b=0|m+(0|5640*_)+5628)>>2]),f=0|l[h>>2];do{if(e>>>0>(0|l[s>>2])>>>0){if(0|(f=0|He(f,e))){l[h>>2]=f,l[s>>2]=e;break}return We(0|l[h>>2]),l[h>>2]=0,l[s>>2]=0,_e(i,1,15542,c),A=u,0|(i=0)}}while(0);if(ie(f,65399,2),ie(0|f+2,0|d+3,2),ie(0|f+4,0|l[b>>2],1),0|l[b>>2])for(p=0,d=0|l[m+(0|5640*_)+5624>>2],f=0|f+5;ie(f,0|l[d>>2],1),!((p=0|p+1)>>>0>=(0|l[b>>2])>>>0);){d=0|d+20,f=0|f+1}return i=1&(0|ce(t,0|l[h>>2],e,i))==(0|e),A=u,0|i},function(e,t,i){return e|=0,i|=0,t=0|he(t|=0),i=0|8+(0|l[e+196>>2]),l[i>>2]=t,l[i+4>>2]=k,1},function(e,t,i){var n,r;return e|=0,t|=0,i|=0,r=A,A=0|A+16,t=0|Xt(0),l[(n=0|e+204)>>2]=t,t?0|Kt(t,0|l[e+80>>2],0|e+88)?(A=r,0|(i=1)):($t(0|l[n>>2]),l[n>>2]=0,A=r,0|(i=0)):(_e(i,1,15385,r),A=r,0|(i=0))},function(e,t,i){t|=0,i|=0;var n,o,s,c,h,u,f=0,d=0,p=0,m=0,b=0,y=0,g=0,v=0,A=0,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0,U=0,V=0,N=0,H=0,W=0;if(n=0|l[(c=0|80+(e|=0))>>2],d=0|l[(W=0|e+164)>>2],F=0|l[(H=0|n+24)>>2],f=0|l[F>>2],i=0|l[F+4>>2],s=0|n+16,F=0|B(0|l[F+24>>2],0|l[s>>2]),O=0|he(t),t=0|l[(h=0|e+116)>>2],p=0|l[(u=0|e+112)>>2],o=(+(O>>>0)+4294967296*+(0|k))/+((0|B(p,t))>>>0),O=0==(8&r[e+181>>0])?1:2,0|t){for(I=0|e+92,E=0|e+100,P=0|e+96,T=0|e+104,D=0|n+4,R=0|n+8,G=0|n+12,M=+((0|B(f<<3,i))>>>0),A=0,f=p,i=p;;){if(v=A,A=0|A+1,i){y=0;do{if(C=+Yr[3&O](d),C/=+((b=0|l[d+8>>2])>>>0),x=0|l[I>>2],f=0|l[E>>2],i=(0|(m=0|(0|B(f,y))+x))>(0|(i=0|l[n>>2]))?m:i,m=0|l[P>>2],p=0|l[T>>2],t=(0|(w=0|(0|B(p,v))+m))>(0|(t=0|l[D>>2]))?w:t,f=(0|(x=0|(0|B(f,y=0|y+1))+x))<(0|(f=0|l[R>>2]))?x:f,p=(0|(m=0|(0|B(p,A))+m))<(0|(p=0|l[G>>2]))?m:p,0<(g=+_[(m=0|d+20)>>2])&&(S=+((0|B(0|B(0|f-i,F),0|p-t))>>>0)/(g*M)-C,_[m>>2]=S),1<b>>>0)for(g=+((0|B(0|B(0|f-i,F),0|p-t))>>>0),i=0|d+24,t=1;0<(S=+_[i>>2])&&(_[i>>2]=g/(S*M)-C),!((t=0|t+1)>>>0>=b>>>0);){i=0|i+4}d=0|d+5640,i=0|l[u>>2]}while(y>>>0<i>>>0);x=0|l[h>>2],w=i}else x=t,w=f,i=0;if(A>>>0>=x>>>0)break;f=w,t=x}if(0|x&&(z=o+2,0|w))for(y=0,i=0|l[W>>2];;){for(v=0,A=i,b=0|i+16;;){if(0<(g=+_[(i=0|A+20)>>2])&&(M=g-o,_[i>>2]=M,30>M)&&(_[i>>2]=30),t=0|A+24,m=0|(i=0|l[A+8>>2])-1,d=0<(g=+_[t>>2]),1<m>>>0){p=0|b+(i<<2),f=1,i=d;do{i&&(M=g-o,_[t>>2]=M,M<10+(V=+_[t+-4>>2]))&&(_[t>>2]=V+20),f=0|f+1,i=0<(g=+_[(t=0|t+4)>>2])}while((0|f)!=(0|m));i&&(L=p,Z=g,N=25)}else d&&(L=t,Z=g,N=25);if(25==(0|N)&&(N=0,M=Z-z,_[L>>2]=M,M<10+(U=+_[L+-4>>2]))&&(_[L>>2]=U+20),A=0|A+5640,(v=0|v+1)>>>0>=w>>>0)break;b=0|b+5640}if((y=0|y+1)>>>0>=x>>>0)break;i=A}}if(d=0|l[s>>2]){for(p=0|(0|l[e+100>>2])-1,m=0|(0|l[e+104>>2])-1,f=0,i=0|l[H>>2],t=0;H=0|l[i>>2],N=0|l[i+4>>2],H=0|B(0|((0|m+N)>>>0)/(N>>>0),0|((0|p+H)>>>0)/(H>>>0)),f=0|(0|B(H,0|l[i+24>>2]))+f,!((t=0|t+1)>>>0>=d>>>0);){i=0|i+52}E=~~(.1625*+(f>>>0))>>>0}else E=0;if(x=0|(v=0|l[16+(0|l[c>>2])>>2])-1,i=0|l[W>>2],A=0==(0|(I=0|B(0|l[h>>2],0|l[u>>2]))))d=0;else{for(t=0,f=0,d=i;t=t>>>0>(W=0|l[d+5588>>2])>>>0?t:W,(0|(f=0|f+1))!=(0|I);){d=0|d+5640}d=0|12*t}if(4<=(65535&(0|a[(w=0|e+88)>>1])-3)){if(0==(0|v)|A)f=6,t=6;else{p=0,t=0;do{b=0|l[i+(0|5640*p)+5584>>2],m=0;do{t=t>>>0>(f=1&l[b+(0|1080*m)>>2]?0|5+(0|l[b+(0|1080*m)+4>>2]):5)>>>0?t:f,m=0|m+1}while((0|m)!=(0|v));p=0|p+1}while((0|p)!=(0|I));t=0|t+6,m=0,f=0;do{y=0|l[i+(0|5640*m)+5584>>2],b=0;do{f=f>>>0>(p=1&l[y+(0|1080*b)>>2]?0|5+(0|l[y+(0|1080*b)+4>>2]):5)>>>0?f:p,b=0|b+1}while((0|b)!=(0|v));m=0|m+1}while((0|m)!=(0|I));f=0|f+6}d=0|(0|B(0|f+t,x))+d}if(A)i=13;else{for(f=0,t=0;f=f>>>0>(W=0|l[i+420>>2])>>>0?f:W,(0|(t=0|t+1))!=(0|I);){i=0|i+5640}i=0|13+(0|9*f)}return W=0|d+E+i,l[e+40>>2]=W,W=0|ze(W),l[e+36>>2]=W,W?4<=(65535&(0|a[w>>1])-3)?0|(e=1):(i=0|ze(0|5*(0|l[e+32>>2])),l[e+24>>2]=i,i?(l[e+28>>2]=i,0|(e=1)):0|(e=0)):0|(e=0)},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c,h,u,f,d,p,_,m,b,y,g,v,w,x=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=0,R=0,G=0;if(w=A,A=0|A+192,g=0|w+152,y=0|w+144,b=0|w+136,m=0|w+128,_=0|w+120,d=0|w+88,f=0|w+80,u=0|w+64,h=0|w+48,D=0|w+40,v=0|w+32,G=0|w+24,p=0|w+16,c=0|w+8,n=0|w+176,r=0|w+168,o=0|w+156,!(x=0|Ue(1,1024)))return _e(i,1,17104,w),A=w,0|(G=0);a=0|n+4,s=0|o+4,R=0|e+100,P=x,M=1024;e:for(;8==(0|le(t,n,8,i));){t:for(;;){switch(ne(n,o,4),ne(a,s,4),0|l[o>>2]){case 0:if(x=0|ue(t),0<(0|(T=k))|0==(0|T)&4294967287<x>>>0){T=6;break e}l[o>>2]=x+8,E=8;break;case 1:if(8!=(0|le(t,n,8,i))){T=12;break e}if(ne(n,r,4),0|l[r>>2]){T=10;break e}ne(a,o,4),E=16;break;default:E=8;}if(1785737827==(0|(S=0|l[s>>2]))){T=14;break e}if(!(C=0|l[o>>2])){T=18;break e}if(C>>>0<E>>>0){T=20;break e}i:do{if(1718909296>(0|S)){if(1668112752>(0|S)){if(1667523942>(0|S)){switch(0|S){case 1651532643:break;default:T=43;break i;}I=1124,T=30;break}switch(0|S){case 1667523942:break;default:T=43;break i;}I=1148,T=30;break}if(1668246642>(0|S)){switch(0|S){case 1668112752:break;default:T=43;break i;}I=1140,T=30;break}switch(0|S){case 1668246642:break;default:T=43;break i;}I=1116,T=30;break}if(1783636e3>(0|S))if(1768449138>(0|S))switch(0|S){case 1718909296:T=27;break t;default:T=43;break i;}else switch(0|S){case 1768449138:I=1108,T=30;break i;default:T=43;break i;}if(1785737832>(0|S))switch(0|S){case 1783636e3:x=1084,T=29;break t;default:T=43;break i;}if(1885564018>(0|S))switch(0|S){case 1785737832:T=28;break t;default:T=43;break i;}switch(0|S){case 1885564018:break;default:T=43;break i;}I=1132,T=30}while(0);if(30==(0|T)){if(T=0,x=0|C-E,l[h>>2]=S>>>24,l[h+4>>2]=255&S>>>16,l[h+8>>2]=255&S>>>8,l[h+12>>2]=255&S,_e(i,2,17288,h),0|4&l[R>>2]){B=I,S=x;break}if(B=0|l[s>>2],l[u>>2]=B>>>24,l[u+4>>2]=255&B>>>16,l[u+8>>2]=255&B>>>8,l[u+12>>2]=255&B,_e(i,2,17339,u),l[R>>2]=2147483647|l[R>>2],!((0|(B=0|fe(t,x,0,i)))==(0|x)&0==(0|k))){T=32;break e}}else if(43==(0|T)){if(T=0,x=0|C-E,!(1&(I=0|l[R>>2]))){T=44;break e}if(!(2&I)){T=46;break e}if(l[R>>2]=2147483647|I,!((0|(B=0|fe(t,x,0,i)))==(0|x)&0==(0|k))){T=49;break e}}if(8!=(0|le(t,n,8,i)))break e}if(27==(0|T)?(x=1092,T=29):28==(0|T)&&(x=1100,T=29),29==(0|T)&&(T=0,B=x,S=0|C-E),C=0|ue(t),0>(0|(E=k))|0==(0|E)&C>>>0<S>>>0){T=34;break}if(S>>>0>M>>>0){if(!(x=0|He(P,S))){T=37;break}I=S}else x=P,I=M;if((0|le(t,x,S,i))!=(0|S)){T=39;break}if(!(0|qr[63&l[B+4>>2]](e,x,S,i))){T=42;break}P=x,M=I}switch(0|T){case 6:_e(i,1,17154,c);break;case 10:_e(i,1,17154,p);break;case 12:break;case 14:return 4&(x=0|l[R>>2])?(l[R>>2]=8|x,We(P),A=w,0|(G=1)):(_e(i,1,17196,G),We(P),A=w,0|(G=0));case 18:return _e(i,1,17224,v),We(P),A=w,0|(G=0);case 20:return l[D>>2]=C,l[D+4>>2]=S,_e(i,1,17262,D),We(P),A=w,0|(G=0);case 32:return _e(i,1,17405,f),We(P),A=w,0|(G=0);case 34:return D=0|l[o>>2],R=0|l[s>>2],G=0|ue(t),l[d>>2]=D,l[d+4>>2]=R>>>24,l[d+8>>2]=255&R>>>16,l[d+12>>2]=255&R>>>8,l[d+16>>2]=255&R,l[d+20>>2]=S,l[d+24>>2]=G,_e(i,1,17455,d),We(P),A=w,0|(G=0);case 37:return We(P),_e(i,1,17531,_),A=w,0|(G=0);case 39:return _e(i,1,17573,m),We(x),A=w,0|(G=0);case 42:return We(x),A=w,0|(G=0);case 44:return _e(i,1,17622,b),We(P),A=w,0|(G=0);case 46:return _e(i,1,17692,y),We(P),A=w,0|(G=0);case 49:return _e(i,1,17405,g),We(P),A=w,0|(G=0);}return We(P),A=w,0|(G=1)},function(e,t,i){e|=0,i|=0;var n,r,o,a,s=0;return a=A,A=0|A+32,ie(n=0|a+24,s=0|vr(0|(r=0|he(t|=0)),0|(o=k),0|l[(s=e=0|e+80)>>2],0|l[s+4>>2]),4),ie(0|n+4,1785737827,4),0|de(t,0|l[e>>2],0|l[e+4>>2],i)?8!=(0|ce(t,n,8,i))?(_e(i,1,19383,0|a+8),A=a,0|(s=0)):0|de(t,r,o,i)?(A=a,0|(s=1)):(_e(i,1,19383,0|a+16),A=a,0|(s=0)):(_e(i,1,19383,a),A=a,0|(s=0))},function(e,t,i){t|=0,i|=0;var n,r=0,o=0;if(i=1&((0|l[(e|=0)>>2]?0==(0|(l[e+104>>2]|l[e+100>>2])):0)&0!=(0|l[e+8>>2])&0!=(0|l[e+4>>2])&0!=(0|l[e+64>>2])&0!=(0|l[e+16>>2])&0!=(0|l[e+12>>2])),!(n=0|l[e+20>>2]))return o=i,e=2>(e=0|(e=0|l[(e=0|e+40)>>2])-1)>>>0,e&=1,t=0|pe(t),t&=o,0|(t&=e);o=0|l[e+72>>2],r=0;do{i&=38>(126&l[o+(0|12*r)+8>>2])>>>0,r=0|r+1}while(r>>>0<n>>>0);return e=2>(e=0|(e=0|l[(e=0|e+40)>>2])-1)>>>0,e&=1,t=0|pe(t),t&=i,0|(t&=e)},function(e,t,i){var n;return e|=0,t|=0,i|=0,e=A,A=0|A+16,ie(n=e,12,4),ie(0|n+4,1783636e3,4),ie(0|n+8,218793738,4),i=1&12==(0|ce(t,n,12,i)),A=e,0|i},function(e,t,i){t|=0,i|=0;var n,r,o,a,s,c=0,h=0;if(s=A,A=0|A+16,h=0|s+8,!(a=0|Ue(1,o=0|16+(l[(r=0|64+(e|=0))>>2]<<2))))return _e(i,1,19500,s),A=s,0|(h=0);if(ie(a,o,4),ie(0|a+4,1718909296,4),ie(0|a+8,0|l[e+56>>2],4),ie(0|a+12,0|l[e+60>>2],4),n=0|a+16,0|l[r>>2]){c=0|e+68,e=0;do{ie(n,0|l[(0|l[c>>2])+(e<<2)>>2],4),e=0|e+1}while(e>>>0<(0|l[r>>2])>>>0)}return(e=(0|ce(t,a,o,i))==(0|o))||_e(i,1,19539,h),We(a),A=s,0|(h=1&e)},function(e,t,i){e|=0,t|=0,i|=0;var n,r,o,a,s,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0;s=A,A=0|A+80,a=0|s+16,o=0|s+8,r=s,n=0|s+72,u=0|48+(c=h=0|s+24);do{l[c>>2]=0,c=0|c+4}while((0|c)<(0|u));for(255==(0|l[e+24>>2])?(l[h>>2]=1,c=3,u=2,f=1,d=4):(c=2,u=1,f=0,d=1),l[h+(0|12*f)>>2]=d,l[h+(0|12*u)>>2]=2,0|l[e+116>>2]?(l[h+(0|12*c)>>2]=3,_=0|c+1):_=c,ie(0|n+4,1785737832,4),c=8,u=0,f=h;;){if(d=0|f+8,m=0|Qr[7&l[f>>2]](e,d),l[f+4>>2]=m,!m){p=7;break}if(c=0|(0|l[d>>2])+c,(0|(u=0|u+1))>=(0|_))break;f=0|f+12}if(7==(0|p)){for(_e(i,1,19414,r),u=0,c=h;;){if(0|(h=0|l[c+4>>2])&&We(h),(0|(u=0|u+1))>=(0|_)){c=0;break}c=0|c+12}return A=s,0|c}ie(n,c,4);e:do{if(8==(0|ce(t,n,8,i))){for(c=0,u=h;m=0|u+8,(0|(p=0|ce(t,0|l[u+4>>2],0|l[m>>2],i)))==(0|l[m>>2]);){if((0|(c=0|c+1))>=(0|_)){c=1;break e}u=0|u+12}_e(i,1,19457,a),c=0}else _e(i,1,19457,o),c=0}while(0);for(u=0;0|(f=0|l[h+4>>2])&&We(f),!((0|(u=0|u+1))>=(0|_));){h=0|h+12}return A=s,0|c},function(e,t,i){var n;return e|=0,i|=0,n=0|he(t|=0),l[(e=0|e+88)>>2]=n,l[e+4>>2]=k,0|1&(24==(0|(i=0|fe(t,24,0,i)))&0==(0|k))},function(e,t,i){var n;return e|=0,i|=0,n=0|he(t|=0),l[(e=0|e+80)>>2]=n,l[e+4>>2]=k,0|1&(8==(0|(i=0|fe(t,8,0,i)))&0==(0|k))},An,function(e,t,i){e|=0,t|=0,i|=0;var n,o,a,s=0,c=0,h=0,u=0;return o=A,A=0|A+32,s=o,l[(u=0|o+16)>>2]=t,c=0|u+4,a=0|l[(n=0|e+48)>>2],l[c>>2]=i-(1&0!=(0|a)),h=0|e+44,l[u+8>>2]=l[h>>2],l[u+12>>2]=a,l[s>>2]=l[e+60>>2],l[s+4>>2]=u,l[s+8>>2]=2,1<=(0|(s=0|wn(0|L(145,0|s))))?s>>>0>(u=0|l[c>>2])>>>0&&(c=0|l[h>>2],l[(h=0|e+4)>>2]=c,l[e+8>>2]=c+(s-u),0|l[n>>2]?(l[h>>2]=c+1,r[t+(i+-1)>>0]=0|r[c>>0],s=i):s=i):l[e>>2]=l[e>>2]|16^48&s,A=o,0|s},Fr],qr=[Lr,function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var o,a,s,c,u,f,d,p,_,m,b,y=0,g=0,v=0,w=0,x=0,k=0,I=0,S=0,E=0;if(b=A,A=0|A+112,S=0|b+88,m=0|b+80,k=0|b+72,_=0|b+64,x=0|b+56,f=0|b+48,s=0|b+40,o=0|b+32,v=0|b+24,y=0|b+16,d=0|b+100,I=0|b+92,l[(p=0|b+96)>>2]=0,E=0|e+200,8!=(0|i))return _e(n,1,11669,b),_e(n,1,11669,0|b+8),A=b,0|(E=0);if(ne(t,E,2),ne(0|t+2,d,4),ne(0|t+6,I,1),ne(0|t+7,p,1),a=0|l[E>>2],t=0|l[e+112>>2],a>>>0>=(0|B(0|l[e+116>>2],t))>>>0)return l[y>>2]=a,_e(n,1,11695,y),A=b,0|(E=0);i=0|l[e+164>>2],u=0|(a>>>0)%(t>>>0),c=0|(a>>>0)/(t>>>0),t=0|l[d>>2];do{if(13>(0|t+-1)>>>0){if(12==(0|t)){l[v>>2]=12,_e(n,2,11719,v),t=0|l[d>>2];break}return l[o>>2]=t,_e(n,1,11756,o),A=b,0|(E=0)}}while(0);t||(_e(n,4,11817,s),l[e+72>>2]=1),t=0|l[p>>2];do{if(t){if(g=0|t+(1&(0|h[e+76>>0])>>>4),l[p>>2]=g,(0|(y=0|l[(i=0|i+(0|5640*a)+5588)>>2])-1)>>>0<(t=0|l[I>>2])>>>0)return l[f>>2]=t,l[f+4>>2]=y,_e(n,1,11928,f),l[e+72>>2]=1,A=b,0|(E=0);if(t>>>0<g>>>0){l[i>>2]=g,w=18;break}return l[x>>2]=t,l[x+4>>2]=g,_e(n,1,12027,x),l[e+72>>2]=1,A=b,0|(E=0)}0|(t=0|l[i+(0|5640*a)+5588>>2])&&(g=t,w=18)}while(0);if(18==(0|w)&&(0|g)==(0|1+(0|l[I>>2]))&&(r[(x=0|e+76)>>0]=1|r[x>>0]),l[e+24>>2]=0==(0|l[e+72>>2])?0|(0|l[d>>2])-12:0,l[e+8>>2]=16,t=-1==(0|(t=0|l[e+60>>2]))?u>>>0>=(0|l[e+28>>2])>>>0&&u>>>0<(0|l[e+36>>2])>>>0&&c>>>0>=(0|l[e+32>>2])>>>0?255&(1&c>>>0>=(0|l[e+40>>2])>>>0)<<2:4:255&(1&(0|l[E>>2])!=(0|t))<<2,r[(v=0|e+76)>>0]=-5&r[v>>0]|t,!(t=0|l[(v=0|e+196)>>2]))return A=b,0|(E=1);if(g=0|l[E>>2],t=0|l[t+40>>2],l[t+(0|40*g)>>2]=g,y=0|l[I>>2],l[t+(0|40*g)+12>>2]=y,0|(i=0|l[p>>2]))return l[t+(0|40*g)+4>>2]=i,l[t+(0|40*g)+8>>2]=i,(t=0|l[t+(0|40*g)+16>>2])?(t=0|He(t,0|24*i),i=0|(0|l[40+(0|l[v>>2])>>2])+(0|40*(0|l[E>>2]))+16,t?(l[i>>2]=t,A=b,0|(E=1)):(We(0|l[i>>2]),l[(0|l[40+(0|l[v>>2])>>2])+(0|40*(0|l[E>>2]))+16>>2]=0,_e(n,1,12135,k),A=b,0|(E=0))):(S=0|Ue(i,24),l[(0|l[40+(0|l[v>>2])>>2])+(0|40*(0|l[E>>2]))+16>>2]=S,0|S?(A=b,0|(E=1)):(_e(n,1,12135,_),A=b,0|(E=0)));do{if(!(0|l[t+(0|40*g)+16>>2])){if(l[t+(0|40*g)+8>>2]=10,k=0|Ue(10,24),t=0|l[40+(0|l[v>>2])>>2],i=0|l[E>>2],l[t+(0|40*i)+16>>2]=k,0|k){g=i,y=0|l[I>>2];break}return l[t+(0|40*i)+8>>2]=0,_e(n,1,12135,m),A=b,0|(E=0)}}while(0);return y>>>0<(0|l[(i=0|t+(0|40*g)+8)>>2])>>>0?(A=b,0|(E=1)):(I=0|y+1,l[i>>2]=I,t=0|He(0|l[t+(0|40*g)+16>>2],0|24*I),i=0|(0|l[40+(0|l[v>>2])>>2])+(0|40*(0|l[E>>2]))+16,t?(l[i>>2]=t,A=b,0|(E=1)):(We(0|l[i>>2]),I=0|l[40+(0|l[v>>2])>>2],E=0|l[E>>2],l[I+(0|40*E)+16>>2]=0,l[I+(0|40*E)+8>>2]=0,_e(n,1,12135,S),A=b,0|(E=0)))},function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var o,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;if(o=A,A=0|A+64,_=0|o+48,m=0|o+40,h=0|o+32,c=0|o+56,l[(d=0|o+52)>>2]=i,u=0|l[(b=0|e+80)>>2],f=16==(0|l[(p=0|e+8)>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],1&(s=0|r[(a=0|f+5636)>>0]))return _e(n,1,11436,o),A=o,0|(b=0);if(r[a>>0]=1|s,5>i>>>0)return _e(n,1,11500,0|o+8),A=o,0|(b=0);if(ne(t,f,1),7<(0|l[f>>2])>>>0)return _e(n,1,11526,0|o+16),A=o,0|(b=0);if(ne(0|t+1,c,1),c=0|l[c>>2],l[(a=0|f+4)>>2]=c,4<(0|c)&&(_e(n,1,11560,0|o+24),l[a>>2]=-1),ne(0|t+2,a=0|f+8,2),65534<(0|(a=0|l[a>>2])-1)>>>0)return l[h>>2]=a,_e(n,1,11601,h),A=o,0|(b=0);if(h=0|l[e+172>>2],l[f+12>>2]=0==(0|h)?a:h,ne(0|t+4,0|f+16,1),h=0|t+5,l[d>>2]=i+-5,0|(c=0|l[u+16>>2])){t=1&l[f>>2],s=0|l[f+5584>>2],a=0;do{l[s+(0|1080*a)>>2]=t,a=0|a+1}while(a>>>0<c>>>0)}if(!(0|it(e,0,h,d,n)))return _e(n,1,11500,m),A=o,0|(b=0);if(0|l[d>>2])return _e(n,1,11500,_),A=o,0|(b=0);if(a=16==(0|l[p>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],a=0|l[a+5584>>2],f=(s=0|l[(u=0|a+4)>>2])<<2,1>=(0|l[16+(0|l[b>>2])>>2])>>>0)return A=o,0|(b=1);if(e=0|a+8,n=0|a+12,d=0|a+16,p=0|a+20,_=0|a+812,m=0|a+944,l[a+1084>>2]=s,c=0|l[e>>2],l[a+1088>>2]=c,t=0|l[n>>2],l[a+1092>>2]=t,h=0|l[d>>2],l[a+1096>>2]=h,i=0|l[p>>2],l[a+1100>>2]=i,Br(0|a+1892,0|_,0|f),Br(0|a+2024,0|m,0|f),2>=(0|l[16+(0|l[b>>2])>>2])>>>0)return A=o,0|(b=1);if(l[a+2164>>2]=s,l[a+2168>>2]=c,l[a+2172>>2]=t,l[a+2176>>2]=h,l[a+2180>>2]=i,Br(0|a+2972,0|_,0|f),Br(0|a+3104,0|m,0|f),!(3<(0|l[16+(0|l[b>>2])>>2])>>>0))return A=o,0|(b=1);for(s=3;;){if(c=0|l[e>>2],t=0|l[n>>2],h=0|l[d>>2],i=0|l[p>>2],l[a+3244>>2]=l[u>>2],l[a+3248>>2]=c,l[a+3252>>2]=t,l[a+3256>>2]=h,l[a+3260>>2]=i,Br(0|a+4052,0|_,0|f),Br(0|a+4184,0|m,0|f),(s=0|s+1)>>>0>=(0|l[16+(0|l[b>>2])>>2])>>>0){a=1;break}a=0|a+1080}return A=o,0|a},function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0;return s=A,A=0|A+48,h=0|s+32,l[(a=0|s+28)>>2]=i,c=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],o=0|16+(0|l[e+80>>2]),(r=257>(0|l[o>>2])>>>0?1:2)>>>0>=i>>>0?(_e(n,1,10929,s),A=s,0|(h=0)):(l[a>>2]=i+-1-r,ne(t,h,r),t=0|t+r,(i=0|l[h>>2])>>>0>=(0|l[o>>2])>>>0?(_e(n,1,10955,0|s+8),A=s,0|(h=0)):(ne(t,0|(0|l[c+5584>>2])+(0|1080*i),1),0|it(e,0|l[h>>2],0|t+1,a,n)?0|l[a>>2]?(_e(n,1,10929,0|s+24),A=s,0|(h=0)):(A=s,0|(h=1)):(_e(n,1,10929,0|s+16),A=s,0|(h=0))))},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0;return s=A,A=0|A+32,h=0|s+8,o=0|s+20,(0|2+(r=257>(a=0|l[16+(0|l[80+(e|=0)>>2])>>2])>>>0?1:2))!=(0|i)?(_e(n,1,10846,s),A=s,0|(h=0)):(c=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],ne(t,o,r),ne(i=0|t+r,0|s+16,1),(e=0|l[o>>2])>>>0<a>>>0?(ne(0|i+1,0|(0|l[c+5584>>2])+(0|1080*e)+808,1),A=s,0|(h=1)):(l[h>>2]=e,l[h+4>>2]=a,_e(n,1,10872,h),A=s,0|(h=0)))},function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o=0,a=0;if(r=A,A=0|A+16,l[(o=0|r+12)>>2]=i,!(0|tt(e,0,t,o,n)))return _e(n,1,10820,r),A=r,0|(a=0);if(0|l[o>>2])return _e(n,1,10820,0|r+8),A=r,0|(a=0);if(t=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],t=0|l[t+5584>>2],1>=(0|l[16+(0|l[(n=0|e+80)>>2])>>2])>>>0)return A=r,0|(a=1);for(o=0|t+24,e=0|t+804,a=0|t+28,i=1;;){if(l[t+1104>>2]=l[o>>2],l[t+1884>>2]=l[e>>2],Br(0|t+1108,0|a,776),(i=0|i+1)>>>0>=(0|l[16+(0|l[n>>2])>>2])>>>0){t=1;break}t=0|t+1080}return A=r,0|t},function(e,t,i,n){e|=0,t|=0,i|=0,n|=0;var r,o,a,s,c,h,u=0,f=0,d=0,p=0;h=A,A=0|A+48,p=0|h+32,c=0|h+24,s=0|h+16,f=0|h+8,u=h,r=0|h+40,l[(a=0|h+36)>>2]=i,o=0|e+80;do{if(257>(0|l[16+(0|l[o>>2])>>2])>>>0){if(0|i){ne(t,r,1),u=-1,d=1;break}return _e(n,1,10473,u),A=h,0|(p=0)}if(2<=i>>>0){ne(t,r,2),u=-2,d=2;break}return _e(n,1,10473,f),A=h,0|(p=0)}while(0);return l[a>>2]=u+i,(f=0|l[r>>2])>>>0>=(u=0|l[16+(0|l[o>>2])>>2])>>>0?(l[s>>2]=f,l[s+4>>2]=u,_e(n,1,10499,s),A=h,0|(p=0)):0|tt(e,f,0|t+d,a,n)?0|l[a>>2]?(_e(n,1,10473,p),A=h,0|(p=0)):(A=h,0|(p=1)):(_e(n,1,10473,c),A=h,0|(p=0))},function(e,t,i,n){t|=0,n|=0;var o,a,s,c,h=0,u=0,f=0,d=0,p=0,_=0;if(c=A,A=0|A+16,f=0|c+8,s=0|c+12,0!=(0|((i|=0)>>>0)%((h=0|5+((a=257>(_=0|l[16+(0|l[80+(e|=0)>>2])>>2])>>>0?1:2)<<1))>>>0))|h>>>0>i>>>0)return _e(n,1,10429,c),A=c,0|(_=0);if(p=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],31<(o=0|(d=4&(u=0|r[(e=0|p+5636)>>0])?0|1+(0|l[p+420>>2]):0)+(0|(i>>>0)/(h>>>0)))>>>0)return l[f>>2]=o,_e(n,1,10455,f),A=c,0|(_=0);if(r[e>>0]=4|u,d>>>0<o>>>0)for(u=0|p+8,e=t,i=d,h=0|p+424+(0|148*d);ne(e,h,1),ne(e=0|e+1,0|h+4,a),ne(e=0|e+a,d=0|h+8,2),f=0|l[d>>2],t=0|l[u>>2],l[d>>2]=f>>>0<t>>>0?f:t,ne(e=0|e+2,0|h+12,1),ne(e=0|e+1,d=0|h+16,a),ne(e=0|e+a,s,1),l[h+36>>2]=l[s>>2],t=0|l[d>>2],l[d>>2]=t>>>0<_>>>0?t:_,!((i=0|i+1)>>>0>=o>>>0);){e=0|e+1,h=0|h+148}return l[p+420>>2]=o+-1,A=c,0|(_=1)},function(e,t,i,n){t|=0,i|=0,n|=0;var o,s,c,h,u,f,d,p,_,m,b,y,g,v,w=0,x=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0,L=0,Z=0,z=0;if(v=A,A=0|A+160,z=0|v+144,O=0|v+136,g=0|v+128,y=0|v+120,G=0|v+112,R=0|v+104,p=0|v+96,d=0|v+80,s=0|v+72,o=0|v+64,P=0|v+56,D=0|v+48,T=0|v+32,S=0|v+24,I=0|v+16,w=0|v+152,u=0|v+148,L=0|l[80+(e|=0)>>2],Z=0|e+88,36>i>>>0)return _e(n,1,9677,v),A=v,0|(n=0);if(M=0|((F=0|i+-36)>>>0)/3,0|(F>>>0)%3)return _e(n,1,9677,0|v+8),A=v,0|(n=0);if(ne(t,w,2),a[Z>>1]=l[w>>2],ne(0|t+2,f=0|L+8,4),ne(0|t+6,b=0|L+12,4),ne(0|t+10,L,4),ne(0|t+14,C=0|L+4,4),ne(0|t+18,h=0|e+100,4),ne(0|t+22,m=0|e+104,4),ne(0|t+26,c=0|e+92,4),ne(0|t+30,_=0|e+96,4),ne(0|t+34,w,2),x=0|t+36,16385<=(i=0|l[w>>2])>>>0)return l[I>>2]=i,_e(n,1,9705,I),A=v,0|(n=0);if(i&=65535,l[(F=0|L+16)>>2]=i,(0|i)!=(0|M))return l[S>>2]=i,l[S+4>>2]=M,_e(n,1,9766,S),A=v,0|(n=0);if((S=0|l[L>>2])>>>0<(E=0|l[f>>2])>>>0){if((I=0|l[C>>2])>>>0<(t=0|l[b>>2])>>>0){if(w=0|l[h>>2],i=0|l[m>>2],w){if(i){if((0|4294967295/(E>>>0))>>>0<t>>>0)return l[P>>2]=E,l[P+4>>2]=t,_e(n,1,10007,P),A=v,0|(n=0);if(T=0|gr(0|(E=0|l[c>>2]),0,0|w,0),P=k,D=0|gr(0|(C=0|l[_>>2]),0,0|i,0),E>>>0<=S>>>0&&C>>>0<=I>>>0&(0-P|T)>>>0>S>>>0&(0-k|D)>>>0>I>>>0){if(i=0|Ue(M,52),l[(M=0|L+24)>>2]=i,!i)return l[F>>2]=0,_e(n,1,10093,s),A=v,0|(n=0);e:do{if(0|l[F>>2]){for(E=0|e+168,S=i,I=0;;){if(ne(x,u,1),t=0|l[u>>2],l[(i=0|S+24)>>2]=1+(127&t),l[S+32>>2]=t>>>7,ne(0|x+1,u,1),l[S>>2]=l[u>>2],ne(0|x+2,u,1),t=0|l[u>>2],l[S+4>>2]=t,254<(0|t+-1)>>>0|254<(0|(w=0|l[S>>2])-1)>>>0){i=26;break}if(38<(t=0|l[i>>2])>>>0){i=28;break}if(l[S+36>>2]=0,l[S+40>>2]=l[E>>2],!((i=0|I+1)>>>0<(0|l[F>>2])>>>0))break e;S=0|S+52,x=0|x+3,I=i}return 26==(0|i)?(l[d>>2]=I,l[d+4>>2]=w,l[d+8>>2]=t,_e(n,1,10141,d)):28==(0|i)&&(l[p>>2]=I,l[p+4>>2]=t,_e(n,1,10246,p)),A=v,0|(n=0)}}while(0);if(E=0|l[c>>2],S=0|l[h>>2],x=0|(0|(0|l[f>>2])-1-E+S)/(0|S),l[e+112>>2]=x,I=0|l[_>>2],w=0|l[m>>2],i=0|(0|(0|l[b>>2])-1-I+w)/(0|w),l[e+116>>2]=i,!(0==(0|i)|0==(0|x))&&x>>>0<=(0|65535/(i>>>0))>>>0){if(C=0|B(x,i),t=0|e+28,2&r[e+76>>0]?(l[t>>2]=0|((0|(0|l[t>>2])-E)>>>0)/(S>>>0),l[(i=0|e+32)>>2]=0|((0|(0|l[i>>2])-I)>>>0)/(w>>>0),l[(i=0|e+36)>>2]=0|(0|(0|l[i>>2])-1-E+S)/(0|S),t=i=0|e+40,i=0|(0|(0|l[i>>2])-1-I+w)/(0|w)):(l[t>>2]=0,l[e+32>>2]=0,l[e+36>>2]=x,t=0|e+40),l[t>>2]=i,R=0|Ue(C,5640),l[(I=0|e+164)>>2]=R,!R)return _e(n,1,10093,G),A=v,0|(n=0);if(G=0|Ue(0|l[F>>2],1080),l[5584+(0|l[(x=0|e+12)>>2])>>2]=G,!(0|l[5584+(0|l[x>>2])>>2]))return _e(n,1,10093,y),A=v,0|(n=0);if(i=0|Ue(10,20),l[5612+(0|l[x>>2])>>2]=i,i=0|l[x>>2],!(0|l[i+5612>>2]))return _e(n,1,10093,g),A=v,0|(n=0);if(l[i+5620>>2]=10,i=0|Ue(10,20),l[5624+(0|l[x>>2])>>2]=i,i=0|l[x>>2],!(0|l[i+5624>>2]))return _e(n,1,10093,O),A=v,0|(n=0);if(l[i+5632>>2]=10,0|(w=0|l[F>>2])){t=0|l[M>>2],i=0;do{0|l[t+(0|52*i)+32>>2]||(l[(0|l[5584+(0|l[x>>2])>>2])+(0|1080*i)+1076>>2]=1<<(0|l[t+(0|52*i)+24>>2])-1),i=0|i+1}while(i>>>0<w>>>0)}e:do{if(0|C){if(i=0|l[I>>2],O=0|Ue(w,1080),l[i+5584>>2]=O,0|O)for(t=0;;){if((t=0|t+1)>>>0>=C>>>0)break e;if(O=0|Ue(0|l[F>>2],1080),l[i+11224>>2]=O,!O)break;i=0|i+5640}return _e(n,1,10093,z),A=v,0|(n=0)}}while(0);return l[e+8>>2]=4,function(e,t){e|=0;var i,n=0,r=0,o=0,a=0,s=0,c=0,h=0,u=0,f=0,d=0,p=0;if(n=0|l[4+(t|=0)>>2],r=0|l[e>>2],a=0|l[t+8>>2],s=0|l[e+4>>2],o=0|l[t+12>>2],u=0|(0|B(0|(0|l[t+24>>2])-1,o))+n,c=0|l[t+16>>2],h=0|(0|B(0|(0|l[t+28>>2])-1,c))+a,t=0|gr(0|u,0,0|o,0),t|=0-k,o=0|l[e+8>>2],c=0|gr(0|h,0,0|c,0),c|=0-k,h=0|l[e+12>>2],u=0|l[e+16>>2])for(i=0|(n>>>0>r>>>0?n:r)+-1,a=0|(a>>>0>s>>>0?a:s)+-1,o=0|(t>>>0<o>>>0?t:o)+-1,r=0|(c>>>0<h>>>0?c:h)+-1,n=0,t=0|l[e+24>>2];h=0|((0|i+(s=0|l[t>>2]))>>>0)/(s>>>0),e=0|((0|a+(p=0|l[t+4>>2]))>>>0)/(p>>>0),d=0|Er(1,0,0|(c=0|l[t+40>>2])),f=k,s=0|Sr(0|(s=0|gr(0|(s=0|gr(0|(0|((0|o+s)>>>0)/(s>>>0))-h,0,-1,-1)),0|k,0|d,0|f)),0|k,0|c),c=0|Sr(0|(f=0|gr(0|(p=0|gr(0|(0|((0|r+p)>>>0)/(p>>>0))-e,0,-1,-1)),0|k,0|d,0|f)),0|k,0|c),l[t+8>>2]=s,l[t+12>>2]=c,l[t+16>>2]=h,l[t+20>>2]=e,!((n=0|n+1)>>>0>=u>>>0);){t=0|t+52}}(L,Z),A=v,0|(n=1)}return l[R>>2]=x,l[R+4>>2]=i,_e(n,1,10346,R),A=v,0|(n=0)}return _e(n,1,10049,o),A=v,0|(n=0)}i=0}return l[D>>2]=w,l[D+4>>2]=i,_e(n,1,9946,D),A=v,0|(n=0)}i=I}else t=0|l[b>>2],i=0|l[C>>2];return e=0|vr(0|E,0,0|S,0),L=k,Z=0|vr(0|t,0,0|i,0),l[(z=T)>>2]=e,l[z+4>>2]=L,l[(z=0|T+8)>>2]=Z,l[z+4>>2]=k,_e(n,1,9880,T),A=v,0|(n=0)},function(e,t,i,n){var r;return e|=0,t|=0,n|=0,r=A,A=0|A+32,e=0|r+12,2>(i|=0)>>>0?(_e(n,1,9651,r),A=r,0|(n=0)):(ne(t,0|r+16,1),ne(0|t+1,e,1),0|((0|i+-2)>>>0)%((0|2+(2&(t=0|l[e>>2])>>>5)+(3&t>>>4))>>>0)?(_e(n,1,9651,0|r+8),A=r,0|(n=0)):(A=r,0|(n=1)))},function(e,t,i,n){return e|=0,t|=0,n|=0,t=A,A=0|A+16,(i|=0)?e=1:(_e(n,1,9625,t),e=0),A=t,0|e},function(e,t,i,n){e|=0,t|=0,n|=0;var r,o,a,s,c=0;if(s=A,A=0|A+32,a=0|s+8,o=0|s+12,!(i|=0))return _e(n,1,9599,s),A=s,0|(n=0);if(ne(t,0|s+16,1),!(r=0|i+-1))return A=s,0|(n=1);c=0,e=t,i=0;do{ne(e=0|e+1,o,1),c=0==(0|128&(t=0|l[o>>2]))?0:(127&t|c)<<7,i=0|i+1}while((0|i)!=(0|r));return c?(_e(n,1,9599,a),A=s,0|(n=0)):(A=s,0|(n=1))},function(e,t,i,n){e|=0,t|=0,n|=0;var o,a,s,c,h,u,f=0,d=0,p=0;if(u=A,A=0|A+48,p=0|u+32,s=0|u+24,o=0|u+16,f=0|u+8,h=0|u+36,2>(i|=0)>>>0)return _e(n,1,9551,u),A=u,0|(p=0);r[(d=0|e+184)>>0]=1|r[d>>0],ne(t,h,1),d=0|t+1,c=0|i+-1,i=0|l[(a=0|e+124)>>2];do{if(!i){if(i=0|Ue(t=0|1+(0|l[h>>2]),8),l[a>>2]=i,0|i){l[e+120>>2]=t;break}return _e(n,1,8618,f),A=u,0|(p=0)}if(f=0|e+120,t=0|l[h>>2],(0|l[f>>2])>>>0<=t>>>0){if(0|(t=0|He(i,(e=0|t+1)<<3))){l[a>>2]=t,Mr(0|t+((i=0|l[f>>2])<<3),0,0|e-i<<3),l[f>>2]=e,i=0|l[a>>2];break}return _e(n,1,8618,o),A=u,0|(p=0)}}while(0);return t=0|l[h>>2],0|l[i+(t<<3)>>2]?(l[s>>2]=t,_e(n,1,9577,s),A=u,0|(p=0)):(e=0|ze(c),i=0|l[a>>2],t=0|l[h>>2],l[i+(t<<3)>>2]=e,e?(l[i+(t<<3)+4>>2]=c,Br(0|e,0|d,0|c),A=u,0|(p=1)):(_e(n,1,8618,p),A=u,0|(p=0)))},function(e,t,i,n){e|=0,t|=0,n|=0;var o,a,s,c,h,u,f,d,p=0,_=0,m=0;if(d=A,A=0|A+48,m=0|d+40,u=0|d+32,s=0|d+24,a=0|d+16,f=0|d+44,2>(i|=0)>>>0)return _e(n,1,9364,d),A=d,0|(m=0);if(1&r[e+184>>0])return _e(n,1,9390,0|d+8),A=d,0|(m=0);o=0|l[e+164>>2],p=0|l[e+200>>2],r[(_=0|o+(0|5640*p)+5636)>>0]=2|r[_>>0],ne(t,f,1),_=0|t+1,h=0|i+-1,t=0|l[(c=0|o+(0|5640*p)+5164)>>2];do{if(!t){if(t=0|Ue(e=0|1+(0|l[f>>2]),8),l[c>>2]=t,0|t){l[o+(0|5640*p)+5160>>2]=e;break}return _e(n,1,9491,a),A=d,0|(m=0)}if(p=0|o+(0|5640*p)+5160,e=0|l[f>>2],(0|l[p>>2])>>>0<=e>>>0){if(0|(e=0|He(t,(i=0|e+1)<<3))){l[c>>2]=e,Mr(0|e+((t=0|l[p>>2])<<3),0,0|i-t<<3),l[p>>2]=i,t=0|l[c>>2];break}return _e(n,1,9491,s),A=d,0|(m=0)}}while(0);return e=0|l[f>>2],0|l[t+(e<<3)>>2]?(l[u>>2]=e,_e(n,1,9529,u),A=d,0|(m=0)):(i=0|ze(h),t=0|l[c>>2],e=0|l[f>>2],l[t+(e<<3)>>2]=i,i?(l[t+(e<<3)+4>>2]=h,Br(0|i,0|_,0|h),A=d,0|(m=1)):(_e(n,1,9491,m),A=d,0|(m=0)))},function(e,t,i,n){return t|=0,i|=0,n|=0,t=A,A=0|A+16,(0|l[16+(0|l[80+(e|=0)>>2])>>2]<<2)==(0|i)?(A=t,0|(n=1)):(_e(n,1,9338,t),A=t,0|(n=0))},function(){return 1},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0;if(u=A,A=0|A+48,b=0|u+40,h=0|u+32,o=0|u+24,c=0|u+44,_=16==(0|l[8+(e|=0)>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],2>i>>>0)return _e(n,1,9170,u),A=u,0|(b=0);if(ne(t,c,2),0|l[c>>2])return _e(n,2,9196,0|u+8),A=u,0|(b=1);if(7>i>>>0)return _e(n,1,9170,0|u+16),A=u,0|(b=0);ne(0|t+2,c,2),s=0|t+4,m=255&l[c>>2],f=0|l[(r=0|_+5612)>>2],e=0|l[(a=0|_+5616)>>2];e:do{if(e){d=f,p=0;do{if((0|l[d+8>>2])==(0|m))break e;d=0|d+20,p=0|p+1}while(p>>>0<e>>>0)}else d=f,p=0}while(0);if((0|p)==(0|e)){d=0|_+5620;do{if((0|e)==(0|l[d>>2])){if(e=0|e+10,l[d>>2]=e,0|(e=0|He(f,0|20*e))){l[r>>2]=e,Mr(0|e+(0|20*(f=0|l[a>>2])),0,0|20*(0|(0|l[d>>2])-f)),f=0|l[r>>2],e=0|l[a>>2];break}return We(0|l[r>>2]),l[r>>2]=0,l[d>>2]=0,l[a>>2]=0,_e(n,1,9256,o),A=u,0|(b=0)}}while(0);l[a>>2]=e+1,d=0|f+(0|20*e)}return 0|(e=0|l[(p=0|d+12)>>2])&&(We(e),l[p>>2]=0),l[d+8>>2]=m,m=0|l[c>>2],l[d+4>>2]=3&m>>>8,l[d>>2]=3&m>>>10,ne(s,c,2),0|l[c>>2]?(_e(n,2,9294,h),A=u,0|(b=1)):(f=0|ze(e=0|i+-6),l[p>>2]=f,f?(Br(0|f,0|t+6,0|e),l[d+16>>2]=e,A=u,0|(b=1)):(_e(n,1,9170,b),A=u,0|(b=0)))},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s=0;if(a=A,A=0|A+32,r=0|a+16,s=0|a+12,(0|2+(o=0|l[16+(0|l[(e=0|80+(e|=0))>>2])>>2]))!=(0|i))return _e(n,1,9144,a),A=a,0|(s=0);if(ne(t,r,2),(0|l[r>>2])!=(0|o))return _e(n,1,9144,0|a+8),A=a,0|(s=0);if(!o)return A=a,0|(s=1);for(n=0,i=0|t+2,e=0|l[24+(0|l[e>>2])>>2];;){if(ne(i,s,1),t=0|l[s>>2],l[e+32>>2]=1&t>>>7,l[e+24>>2]=1+(127&t),(0|(n=0|n+1))==(0|o)){e=1;break}i=0|i+1,e=0|e+52}return A=a,0|e},function(e,t,i,n){t|=0,i|=0,n|=0;var o,a,s,c,h,u,f,d,p,_,m,b,y,g,v,w=0,x=0,k=0,I=0,S=0,E=0,C=0,M=0,P=0,T=0,D=0,R=0,G=0,O=0,F=0;if(v=A,A=0|A+144,F=0|v+120,g=0|v+112,y=0|v+104,b=0|v+96,m=0|v+88,_=0|v+80,p=0|v+72,d=0|v+64,f=0|v+56,u=0|v+48,P=0|v+40,M=0|v+32,E=0|v+24,o=0|v+136,a=0|v+132,s=0|v+128,c=0|v+124,T=16==(0|l[8+(e|=0)>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],2>i>>>0)return _e(n,1,8804,v),A=v,0|(F=0);if(ne(t,o,2),0|l[o>>2])return _e(n,2,8830,0|v+8),A=v,0|(F=1);if(7>i>>>0)return _e(n,1,8804,0|v+16),A=v,0|(F=0);ne(0|t+2,a,1),C=0|t+3,w=0|l[(S=0|T+5624)>>2],e=0|l[(h=0|T+5628)>>2];e:{if(e){I=0|l[a>>2],k=w,x=0;do{if((0|l[k>>2])==(0|I))break e;k=0|k+20,x=0|x+1}while(x>>>0<e>>>0)}else k=w,x=0}if((0|x)==(0|e)){x=0|T+5632;do{if((0|e)==(0|l[x>>2])){if(e=0|e+10,l[x>>2]=e,0|(e=0|He(w,0|20*e))){l[S>>2]=e,Mr(0|e+(0|20*(w=0|l[h>>2])),0,0|20*(0|(0|l[x>>2])-w)),w=0|l[S>>2],e=0|l[h>>2];break}return We(0|l[S>>2]),l[S>>2]=0,l[x>>2]=0,l[h>>2]=0,_e(n,1,8876,E),A=v,0|(F=0)}}while(0);O=1,x=0|w+(0|20*e)}else O=0,x=k;if(l[x>>2]=l[a>>2],ne(C,o,2),0|l[o>>2])return _e(n,2,8830,M),A=v,0|(F=1);if(ne(0|t+5,s,2),1<(w=0|l[s>>2])>>>0)return _e(n,2,8914,P),A=v,0|(F=1);e=0|i+-7;e:do{if(w){D=0|x+4,R=0|x+16,G=0|x+8,i=0|x+12,P=0|T+5612,M=0|T+5616,E=0|t+7,C=0;t:for(;;){if(3>e>>>0){w=27;break}if(ne(E,o,1),1!=(0|l[o>>2])){w=29;break}if(ne(0|E+1,c,2),w=0|e+-3,I=0|1+((k=0|l[c>>2])>>>15),k&=32767,l[D>>2]=k,w>>>0<(x=0|2+(0|B(I,k)))>>>0){w=31;break}if(e=0|E+3,S=0|w-x,k){w=0;do{if(ne(e,o,I),(0|l[o>>2])!=(0|w)){w=34;break t}e=0|e+I,w=0|w+1}while(w>>>0<(0|l[D>>2])>>>0)}if(ne(e,c,2),w=0|e+2,k=0|1+((x=0|l[c>>2])>>>15),x&=32767,l[c>>2]=x,(0|x)!=(0|l[D>>2])){w=37;break}if(S>>>0<(e=0|3+(0|B(k,x)))>>>0){w=39;break}if(e=0|S-e,x){x=0;do{if(ne(w,o,k),(0|l[o>>2])!=(0|x)){w=42;break t}w=0|w+k,x=0|x+1}while(x>>>0<(0|l[D>>2])>>>0)}if(ne(w,o,3),E=0|w+3,k=0|l[o>>2],r[R>>0]=1&(1^k>>>16)|-2&r[R>>0],l[G>>2]=0,l[i>>2]=0,I=255&k,l[a>>2]=I,0|I){if(!(S=0|l[M>>2])){w=50;break}for(w=0|l[P>>2],x=0;(0|l[w+8>>2])!=(0|I);){if((x=0|x+1)>>>0>=S>>>0){w=50;break t}w=0|w+20}l[G>>2]=w}if(k=255&k>>>8,l[a>>2]=k,0|k){if(!(I=0|l[M>>2])){w=57;break}for(w=0|l[P>>2],x=0;(0|l[w+8>>2])!=(0|k);){if((x=0|x+1)>>>0>=I>>>0){w=57;break t}w=0|w+20}l[i>>2]=w}if((C=0|C+1)>>>0>=(0|l[s>>2])>>>0)break e}if(27==(0|w))return _e(n,1,8804,u),A=v,0|(F=0);if(29==(0|w))return _e(n,2,8958,f),A=v,0|(F=1);if(31==(0|w))return _e(n,1,8804,d),A=v,0|(F=0);if(34==(0|w))return _e(n,2,9024,p),A=v,0|(F=1);if(37==(0|w))return _e(n,2,9078,_),A=v,0|(F=1);if(39==(0|w))return _e(n,1,8804,m),A=v,0|(F=0);if(42==(0|w))return _e(n,2,9024,b),A=v,0|(F=1);if(50==(0|w))return _e(n,1,8804,y),A=v,0|(F=0);if(57==(0|w))return _e(n,1,8804,g),A=v,0|(F=0)}}while(0);return 0|e?(_e(n,1,8804,F),A=v,0|(F=0)):O?(l[h>>2]=1+(0|l[h>>2]),A=v,0|(F=1)):(A=v,0|(F=1))},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c,h,u,f=0,d=0,p=0,_=0,m=0,b=0;if(u=A,A=0|A+32,c=0|u+24,h=0|u+20,f=0|l[(b=0|80+(e|=0))>>2],d=16==(0|l[e+8>>2])?0|(0|l[e+164>>2])+(0|5640*(0|l[e+200>>2])):0|l[e+12>>2],!i)return _e(n,1,8723,u),A=u,0|(b=0);if(ne(t,h,1),1<(e=0|l[h>>2])>>>0)return _e(n,2,8749,0|u+8),A=u,0|(b=1);if((0|e+1)!=(0|i))return _e(n,2,8723,0|u+16),A=u,0|(b=0);if(s=0|d+5584,0|(f=0|l[f+16>>2]))for(i=0|l[s>>2],n=0;l[i+1076>>2]=0,!((n=0|n+1)>>>0>=f>>>0);){i=0|i+1080}if((i=0|l[(a=0|d+5604)>>2])&&(We(i),l[a>>2]=0,e=0|l[h>>2]),!e)return A=u,0|(b=1);for(o=0|d+5624,r=0|d+5628,p=0;;){if(ne(t=0|t+1,c,1),e=0|l[b>>2],f=0|l[o>>2],0|l[r>>2]&&(0|l[f>>2])==(0|l[c>>2])&&(0|(_=0|l[f+4>>2]))==(0|l[(m=0|e+16)>>2])){if(0|(e=0|l[f+8>>2])){if(i=0|B(_,_),d=0|B(0|l[1036+(l[e>>2]<<2)>>2],i),(0|l[e+16>>2])!=(0|d)){e=0,i=32;break}if(n=0|ze(i<<2),l[a>>2]=n,!n){e=0,i=32;break}ro[15&l[1052+(l[e>>2]<<2)>>2]](0|l[e+12>>2],n,i)}if(0|(e=0|l[f+12>>2])){if(i=0|l[m>>2],d=0|B(i,0|l[1036+(l[e>>2]<<2)>>2]),(0|l[e+16>>2])!=(0|d)){e=0,i=32;break}if(!(d=0|ze(i<<2))){e=0,i=32;break}if(ro[15&l[1068+(l[e>>2]<<2)>>2]](0|l[e+12>>2],d,i),0|(f=0|l[m>>2]))for(e=d,i=0|l[s>>2],n=0;l[i+1076>>2]=l[e>>2],(0|(n=0|n+1))!=(0|f);){e=0|e+4,i=0|i+1080}We(d)}}if((p=0|p+1)>>>0>=(0|l[h>>2])>>>0){e=1,i=32;break}}return 32==(0|i)?(A=u,0|e):0},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o=0;return r=A,A=0|A+32,o=0|r+20,0|l[(e=0|100+(e|=0))>>2]?(_e(n,1,19251,r),A=r,0|(o=0)):4!=(0|i)?(_e(n,1,19305,0|r+8),A=r,0|(o=0)):(ne(t,o,4),218793738==(0|l[o>>2])?(l[e>>2]=1|l[e>>2],A=r,0|(o=1)):(_e(n,1,19339,0|r+16),A=r,0|(o=0)))},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s=0;if(a=A,A=0|A+32,o=0|a+24,1!=(0|l[(s=0|100+(e|=0))>>2]))return _e(n,1,19132,a),A=a,0|(s=0);if(8>i>>>0)return _e(n,1,19182,0|a+8),A=a,0|(s=0);if(ne(t,0|e+56,4),ne(0|t+4,0|e+60,4),t=0|t+8,0|3&(i=0|i+-8))return _e(n,1,19182,0|a+16),A=a,0|(s=0);if(i>>>=2,l[(r=0|e+64)>>2]=i,0|i){if(i=0|Ue(i,4),l[e+68>>2]=i,!i)return _e(n,1,19218,o),A=a,0|(s=0);if(0|l[r>>2])for(e=0|e+68,i=0;ne(t,0|(0|l[e>>2])+(i<<2),4),!((i=0|i+1)>>>0>=(0|l[r>>2])>>>0);){t=0|t+4}}return l[s>>2]=2|l[s>>2],A=a,0|(s=1)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c,h,u,f,d,p,_,m,b,y=0,g=0,v=0,w=0,x=0,k=0,I=0;if(b=A,A=0|A+96,d=0|b+72,f=0|b+64,u=0|b+56,h=0|b+48,I=0|b+40,m=0|b+32,_=0|b+24,p=0|b+16,c=0|b+8,o=0|b+80,a=0|b+76,!(2&l[(s=0|100+(e|=0))>>2]))return _e(n,1,18800,b),A=b,0|(I=0);l[(r=0|e+104)>>2]=0;do{if(0|i){w=0;e:for(;;){if(8>i>>>0){v=6;break}switch(ne(t,o,4),y=0|l[o>>2],ne(0|t+4,o,4),k=0|l[o>>2],0|y){case 0:v=15;break e;case 1:if(16>i>>>0){v=9;break e}if(ne(0|t+8,a,4),0|l[a>>2]){v=11;break e}if(ne(0|t+12,o,4),!(y=0|l[o>>2])){v=13;break e}x=16;break;default:x=8;}if(y>>>0<x>>>0){v=17;break}if(i>>>0<y>>>0){v=20;break}t:do{if(1668246642>(0|k)){if(1667523942>(0|k)){switch(0|k){case 1651532643:break;default:v=28;break t;}g=1124,v=27;break}if(1668112752>(0|k)){switch(0|k){case 1667523942:break;default:v=28;break t;}g=1148,v=27;break}switch(0|k){case 1668112752:break;default:v=28;break t;}g=1140,v=27;break}if(1768449138>(0|k)){switch(0|k){case 1668246642:break;default:v=28;break t;}g=1116,v=27;break}if(1885564018>(0|k))switch(0|k){case 1768449138:g=1108,v=27;break t;default:v=28;break t;}switch(0|k){case 1885564018:break;default:v=28;break t;}g=1132,v=27}while(0);if(27==(0|v)){if(!(0|qr[63&l[g+4>>2]](e,0|t+x,0|y-x,n))){t=0,v=33;break}}else 28==(0|v)&&(l[r>>2]=2147483647|l[r>>2]);if(w=1768449138==(0|k)?1:w,!(i=0|i-y)){v=30;break}t=0|t+y}if(6==(0|v))_e(n,1,18845,c);else if(9==(0|v))_e(n,1,18885,p);else if(11==(0|v))_e(n,1,17154,_);else if(13==(0|v))_e(n,1,17224,m);else if(15==(0|v))_e(n,1,17224,I);else if(17==(0|v))_e(n,1,18929,h);else{if(20==(0|v))return _e(n,1,19001,f),A=b,0|(I=0);if(30==(0|v)){if(!w)break;return l[s>>2]=4|l[s>>2],A=b,0|(I=1)}if(33==(0|v))return A=b,0|t}return _e(n,1,18958,u),A=b,0|(I=0)}}while(0);return _e(n,1,19073,d),A=b,0|(I=0)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a=0;return o=A,A=0|A+48,a=0|o+32,0|l[(r=0|72+(e|=0))>>2]?(_e(n,2,18543,o),A=o,0|(a=1)):14!=(0|i)?(_e(n,1,18591,0|o+8),A=o,0|(a=0)):(ne(t,0|e+16,4),ne(0|t+4,0|e+12,4),ne(0|t+8,i=0|e+20,2),16383<(0|(i=0|l[i>>2])-1)>>>0?(_e(n,1,18624,0|o+16),A=o,0|(a=0)):(i=0|Ue(i,12),l[r>>2]=i,i?(ne(0|t+10,0|e+24,1),ne(0|t+11,i=0|e+28,1),7!=(0|(i=0|l[i>>2]))&&(l[a>>2]=i,_e(n,4,18710,a)),ne(0|t+12,0|e+32,1),ne(0|t+13,0|e+36,1),A=o,0|(a=1)):(_e(n,1,18661,0|o+24),A=o,0|(a=0))))},function(e,t,i,n){e|=0,t|=0,n|=0;var o,a,s,c,h,u,f,d,p,_,m=0,b=0,y=0,g=0,v=0,w=0,x=0,k=0;if(_=A,A=0|A+96,y=0|_+48,a=0|_+40,w=0|_+32,v=0|_+24,g=0|_+16,x=0|_+80,o=0|_+76,h=0|_+72,s=0|_+68,u=0|_+64,c=0|_+60,f=0|_+56,d=0|_+52,3>(i|=0)>>>0)return _e(n,1,18186,_),A=_,0|(k=0);if(p=0|e+108,0|r[(k=0|e+124)>>0])return _e(n,4,18218,0|_+8),A=_,0|(k=1);switch(ne(t,b=0|e+40,1),ne(0|t+1,0|e+52,1),ne(0|t+2,0|e+44,1),m=0|t+3,0|(b=0|l[b>>2])){case 1:if(7>i>>>0)return l[g>>2]=i,_e(n,1,18327,g),A=_,0|(k=0);if(b=0|e+48,7!=(0|i)&&14!=(0|l[b>>2])&&(l[v>>2]=i,_e(n,2,18327,v)),ne(m,b,4),y=0|t+7,14==(0|l[b>>2])){if(!(x=0|ze(36)))return _e(n,1,18363,w),A=_,0|(k=0);switch(l[x>>2]=14,l[f>>2]=0,l[u>>2]=0,l[h>>2]=0,l[c>>2]=0,l[s>>2]=0,l[o>>2]=0,l[d>>2]=4470064,l[(m=0|x+4)>>2]=1145390592,0|i){case 35:ne(y,o,4),ne(0|t+11,h,4),ne(0|t+15,s,4),ne(0|t+19,u,4),ne(0|t+23,c,4),ne(0|t+27,f,4),ne(0|t+31,d,4),l[m>>2]=0,t=0|l[o>>2],w=0|l[s>>2],v=0|l[c>>2],g=0|l[h>>2],y=0|l[u>>2],b=0|l[f>>2],m=0|l[d>>2];break;case 7:t=0,w=0,v=0,g=0,y=0,b=0,m=4470064;break;default:l[a>>2]=i,_e(n,2,18393,a),t=0,w=0,v=0,g=0,y=0,b=0,m=4470064;}l[x+8>>2]=t,l[x+16>>2]=w,l[x+24>>2]=v,l[x+12>>2]=g,l[x+20>>2]=y,l[x+28>>2]=b,l[x+32>>2]=m,l[p>>2]=x,l[e+112>>2]=0}return r[k>>0]=1,A=_,0|(k=1);case 2:if(y=0|i+-3,l[(b=0|e+112)>>2]=y,e=0|Ue(1,y),l[p>>2]=e,!e)return l[b>>2]=0,A=_,0|(k=0);if(3<(0|i))for(b=0;ne(m,x,1),r[(0|l[p>>2])+b>>0]=l[x>>2],(0|(b=0|b+1))!=(0|y);){m=0|m+1}return r[k>>0]=1,A=_,0|(k=1);default:return 2>=b>>>0?(A=_,0|(k=1)):(l[y>>2]=b,_e(n,4,18437,y),A=_,0|(k=1));}return 0},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o=0,a=0,s=0;if(r=A,A=0|A+16,a=r,255!=(0|(o=0|l[24+(e|=0)>>2]))&&(l[a>>2]=o,_e(n,2,18040,a)),(0|l[(s=0|e+20)>>2])!=(0|i))return _e(n,1,18154,0|r+8),A=r,0|(s=0);if(!i)return A=r,0|(s=1);for(a=0|e+72,o=0;;){if(ne(t,0|(0|l[a>>2])+(0|12*o)+8,1),(o=0|o+1)>>>0>=(0|l[s>>2])>>>0){t=1;break}t=0|t+1}return A=r,0|t},function(e,t,i,n){t|=0,n|=0;var o,s,c,u,f,d=0,p=0,_=0,m=0,b=0;if(f=A,A=0|A+16,d=f,b=0|f+12,3>(i|=0)>>>0|0!=(0|l[(p=0|120+(e|=0))>>2]))return A=f,0|(b=0);if(ne(t,b,2),1023<(0|(u=65535&(_=0|l[b>>2]))-1)>>>0)return l[d>>2]=u,_e(n,1,17957,d),A=f,0|(b=0);if(ne(0|t+2,b,1),!(c=65535&l[b>>2]))return _e(n,1,17995,0|f+8),A=f,0|(b=0);if((0|c+3)>>>0>i>>>0)return A=f,0|(b=0);if(!(o=0|ze(0|B(u<<2,c))))return A=f,0|(b=0);if(!(s=0|ze(c)))return We(o),A=f,0|(b=0);if(!(m=0|ze(c)))return We(o),We(s),A=f,0|(b=0);if(!(e=0|ze(20)))return We(o),We(s),We(m),A=f,0|(b=0);l[e+4>>2]=m,l[e+8>>2]=s,l[e>>2]=o,a[e+16>>1]=_,r[e+18>>0]=l[b>>2],l[e+12>>2]=0,l[p>>2]=e,e=0,n=0|t+3,d=0;do{ne(n,b,1),n=0|n+1,r[s+d>>0]=1+(127&l[b>>2]),r[m+d>>0]=1&(0|l[b>>2])>>>7,d=65535&(e=e+1<<16>>16)}while(c>>>0>d>>>0);if(!u)return A=f,0|(b=1);m=t,_=0,d=o,e=n;e:for(;;){p=0,n=e,e=0;do{if((0|n-m+(e=4>(e=(0|7+(0|h[s+e>>0]))>>>3)>>>0?e:4))>(0|i)){e=0,d=22;break e}ne(n,b,e),n=0|n+e,l[d>>2]=l[b>>2],d=0|d+4,e=65535&(p=p+1<<16>>16)}while(c>>>0>e>>>0);if(u>>>0<=(65535&(_=_+1<<16>>16))>>>0){e=1,d=22;break}e=n}return 22==(0|d)?(A=f,0|e):0},function(e,t,i,n){t|=0,i|=0,n|=0;var o,s,c,h=0,u=0;if(c=A,A=0|A+32,u=0|c+20,!(e=0|l[(s=0|120+(e|=0))>>2]))return _e(n,1,17847,c),A=c,0|(u=0);if(0|l[e+12>>2])return _e(n,1,17893,0|c+8),A=c,0|(u=0);if((e=(o=255&(h=0|r[e+18>>0]))<<2)>>>0>i>>>0)return _e(n,1,17924,0|c+16),A=c,0|(u=0);if(!(i=0|ze(e)))return A=c,0|(u=0);if(h<<24>>24)for(e=t,h=0;ne(e,u,2),a[i+(h<<2)>>1]=l[u>>2],ne(0|e+2,u,1),r[i+(h<<2)+2>>0]=l[u>>2],ne(0|e+3,u,1),r[i+(h<<2)+3>>0]=l[u>>2],(0|(h=0|h+1))!=(0|o);){e=0|e+4}return l[12+(0|l[s>>2])>>2]=i,A=c,0|(u=1)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,s=0,c=0;if(o=A,A=0|A+32,c=0|o+20,0|l[(r=0|116+(e|=0))>>2])return A=o,0|(c=0);if(2>i>>>0)return _e(n,1,17753,o),A=o,0|(c=0);if(ne(t,c,2),!(e=65535&(s=0|l[c>>2])))return _e(n,1,17786,0|o+8),A=o,0|(c=0);if((0|2+(0|6*e))>>>0>i>>>0)return _e(n,1,17753,0|o+16),A=o,0|(c=0);if(!(s=0|ze(0|6*s)))return A=o,0|(c=0);if(e=0|ze(8),l[r>>2]=e,!e)return We(s),A=o,0|(c=0);if(l[e>>2]=s,n=65535&l[c>>2],a[e+4>>1]=n,!(n<<16>>16))return A=o,0|(c=1);e=0;do{n=65535&e,ne(0|t+2,c,2),a[s+(0|6*n)>>1]=l[c>>2],ne(0|t+4,c,2),t=0|t+6,a[s+(0|6*n)+2>>1]=l[c>>2],ne(t,c,2),a[s+(0|6*n)+4>>1]=l[c>>2],e=e+1<<16>>16}while((65535&e)<(0|f[4+(0|l[r>>2])>>1]));return A=o,0|(t=1)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0,u=0,f=0,d=0,p=0,_=0;if(s=A,A=0|A+16,_=0|s+8,r=s,0|8&l[(a=0|68+(e|=0))>>2])return k=_=-1,A=s,0|(e=-1);c=0|l[(d=0|e+32)>>2],l[(o=0|e+36)>>2]=c,h=0|l[(u=0|e+48)>>2];do{if(h){for(f=0|e+20;-1!=(0|(h=0|Jr[63&l[f>>2]](c,h,0|l[e>>2])));){if(c=0|(0|l[o>>2])+h,l[o>>2]=c,h=0|(0|l[u>>2])-h,l[u>>2]=h,!h){p=6;break}}if(6==(0|p)){c=0|l[d>>2];break}return l[a>>2]=8|l[a>>2],_e(n,4,4360,r),l[a>>2]=8|l[a>>2],l[u>>2]=0,k=_=-1,A=s,0|(e=-1)}}while(0);l[o>>2]=c;e:do{if(0<(0|i)|0==(0|i)&0<t>>>0){for(d=0|e+24,h=0,c=0;!(-1==(0|(u=0|Jr[63&l[d>>2]](t,i,0|l[e>>2])))&-1==(0|(f=k)));){if(t=0|vr(0|t,0|i,0|u,0|f),i=k,h=0|gr(0|u,0|f,0|h,0|c),c=k,!(0<(0|i)|0==(0|i)&0<t>>>0))break e}return _e(n,4,4412,_),l[a>>2]=8|l[a>>2],_=0|gr(0|l[(_=e=0|e+56)>>2],0|l[_+4>>2],0|h,0|c),l[e>>2]=_,l[e+4>>2]=k,k=_=(e=0!=(0|h)|0!=(0|c))?c:-1,A=s,0|(e=e?h:-1)}h=0,c=0}while(0);return e=0|gr(0|l[(e=_=0|e+56)>>2],0|l[e+4>>2],0|h,0|c),l[_>>2]=e,l[_+4>>2]=k,k=_=c,A=s,0|(e=h)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a=0,s=0,c=0,h=0,u=0,f=0;if(o=A,A=0|A+16,f=o,(s=0|l[(a=0|48+(e|=0))>>2])>>>0>=t>>>0)return l[(f=0|e+36)>>2]=(0|l[f>>2])+t,l[a>>2]=s-t,e=0|gr(0|l[(e=f=0|e+56)>>2],0|l[e+4>>2],0|t,0|i),l[f>>2]=e,l[f+4>>2]=k,k=f=i,A=o,0|(e=t);if(0|4&l[(r=0|e+68)>>2])return l[(f=0|e+36)>>2]=(0|l[f>>2])+s,l[a>>2]=0,f=0|gr(0|l[(f=e=0|e+56)>>2],0|l[f+4>>2],0|s,0),l[e>>2]=f,l[e+4>>2]=k,k=f=(e=0!=(0|s))?0:-1,A=o,0|(e=e?s:-1);s?(l[e+36>>2]=l[e+32>>2],t=0|vr(0|t,0|i,0|s,0),l[a>>2]=0,a=0,i=k):(s=0,a=0);e:do{if(0<(0|i)|0==(0|i)&0<t>>>0){for(u=0|e+24;!(-1==(0|(c=0|Jr[63&l[u>>2]](t,i,0|l[e>>2])))&-1==(0|(h=k)));){if(t=0|vr(0|t,0|i,0|c,0|h),i=k,s=0|gr(0|c,0|h,0|s,0|a),a=k,!(0<(0|i)|0==(0|i)&0<t>>>0))break e}return _e(n,4,4386,f),l[r>>2]=4|l[r>>2],f=0|gr(0|l[(f=e=0|e+56)>>2],0|l[f+4>>2],0|s,0|a),l[e>>2]=f,l[e+4>>2]=k,k=f=(e=0!=(0|s)|0!=(0|a))?a:-1,A=o,0|(e=e?s:-1)}}while(0);return e=0|gr(0|l[(e=f=0|e+56)>>2],0|l[e+4>>2],0|s,0|a),l[f>>2]=e,l[f+4>>2]=k,k=f=a,A=o,0|(e=s)},function(e,t,i,n){t|=0,i|=0,n|=0;var r,o,a,s,c=0,h=0,u=0,f=0,d=0;s=A,A=0|A+16,r=s,c=0|l[(o=0|32+(e|=0))>>2],l[(a=0|e+36)>>2]=c,h=0|l[(d=0|e+48)>>2];do{if(h){for(u=0|e+20;-1!=(0|(h=0|Jr[63&l[u>>2]](c,h,0|l[e>>2])));){if(c=0|(0|l[a>>2])+h,l[a>>2]=c,h=0|(0|l[d>>2])-h,l[d>>2]=h,!h){f=6;break}}if(6==(0|f)){h=e,c=0|l[o>>2];break}return l[(d=0|e+68)>>2]=8|l[d>>2],_e(n,4,4360,r),l[d>>2]=8|l[d>>2],A=s,0|(d=0)}h=e}while(0);return l[a>>2]=c,l[d>>2]=0,0|Jr[63&l[e+28>>2]](t,i,0|l[h>>2])?(l[(d=0|e+56)>>2]=t,l[d+4>>2]=i,A=s,0|(d=1)):(l[(d=0|e+68)>>2]=8|l[d>>2],A=s,0|(d=0))},te,wt,qe,function(e,t,i,n){t|=0,i|=0,n|=0;var r=0,o=0,a=0,s=0,c=0;if(!(0|bi(0|l[(r=0|4+(e|=0))>>2],55,n)))return 0|(n=0);if(c=0|yi(s=0|l[r>>2]),r=0|gi(s),c){for(o=1,a=0;o=o?0!=(0|Jr[63&l[r>>2]](e,t,n)):0,(0|(a=0|a+1))!=(0|c);){r=0|r+4,o&=1}if(vi(s),!o)return 0|(n=0)}else vi(s);if(!(0|bi(0|l[(r=0|e+8)>>2],56,n)))return 0|(n=0);if(!(0|bi(0|l[r>>2],57,n)))return 0|(n=0);if(!(0|bi(0|l[r>>2],58,n)))return 0|(n=0);if(0|l[e+96>>2]&&0==(0|bi(0|l[r>>2],59,n)))return 0|(n=0);if(!(0|bi(0|l[r>>2],60,n)))return 0|(n=0);if(c=0|yi(s=0|l[r>>2]),r=0|gi(s),c){for(o=1,a=0;o=o?0!=(0|Jr[63&l[r>>2]](e,t,n)):0,(0|(a=0|a+1))!=(0|c);){r=0|r+4,o&=1}if(vi(s),!o)return 0|(n=0)}else vi(s);return 0|(n=0|wt(0|l[e>>2],t,i,n))},function(e,t,i,n){n|=0;var o,s,c,h,u,f,d,p=0,_=0,m=0,b=0,y=0,g=0,v=0,w=0,x=0;if(d=A,A=0|A+80,w=0|d+64,u=0|d+56,s=0|d+48,v=0|d+40,h=0|d+32,c=0|d+24,!(0!=(0|(e|=0))&0!=(0|(t|=0))&0!=(0|(i|=0))))return A=d,0|(t=0);if(16383<(0|(0|l[(f=0|i+16)>>2])-1)>>>0)return _e(n,1,16630,d),A=d,0|(t=0);if(!(0|qe(0|l[e>>2],t,i,n)))return A=d,0|(t=0);if(l[e+56>>2]=1785737760,l[e+60>>2]=0,l[e+64>>2]=1,p=0|ze(4),l[e+68>>2]=p,!p)return _e(n,1,16699,0|d+8),A=d,0|(t=0);if(l[p>>2]=1785737760,g=0|l[f>>2],l[e+20>>2]=g,g=0|ze(0|12*g),l[e+72>>2]=g,!g)return _e(n,1,16699,0|d+16),A=d,0|(t=0);if(l[e+16>>2]=(0|l[i+12>>2])-(0|l[i+4>>2]),l[e+12>>2]=(0|l[i+8>>2])-(0|l[i>>2]),o=0|l[(x=0|i+24)>>2],_=0|l[o+24>>2],m=0|l[o+32>>2],l[(b=0|e+24)>>2]=_+-1+(m<<7),1<(y=0|l[f>>2])>>>0){p=1;do{(0|_)!=(0|l[o+(0|52*p)+24>>2])&&(l[b>>2]=255),p=0|p+1}while(p>>>0<y>>>0)}if(l[e+28>>2]=7,l[e+32>>2]=0,l[e+36>>2]=0,0|y&&(l[g+8>>2]=_+-1+(m<<7),1!=(0|y))){p=1;do{l[g+(0|12*p)+8>>2]=(0|l[o+(0|52*p)+24>>2])-1+(l[o+(0|52*p)+32>>2]<<7),p=0|p+1}while(p>>>0<y>>>0)}_=0|l[(p=0|i+32)>>2],m=0|e+40;e:{if(_)l[m>>2]=2,l[e+48>>2]=0,l[e+112>>2]=_,y=0|Ue(1,_),l[e+108>>2]=y,Br(0|y,0|l[i+28>>2],0|l[p>>2]),r[e+124>>0]=1,y=0|l[f>>2];else switch(l[m>>2]=1,0|l[i+20>>2]){case 1:l[e+48>>2]=16;break e;case 2:l[e+48>>2]=17;break e;case 3:l[e+48>>2]=18;break e;default:break e;}}e:do{if(0|y){m=0|l[x>>2],b=0,p=0,_=0;do{p=0|p+(1&(1^(i=0==(0|a[m+(0|52*_)+48>>1])))),b=i?b:_,_=0|_+1}while(_>>>0<y>>>0);switch(0|p){case 0:break e;case 1:break;default:_e(n,2,16995,s);break e;}switch(0|l[e+48>>2]){case 18:case 16:p=3;break;case 17:p=1;break;default:_e(n,2,16745,c);break e;}if(y>>>0<=p>>>0){_e(n,2,16819,h);break}if(b>>>0<p>>>0){_e(n,2,16912,v);break}if(v=0|ze(8),l[(_=0|e+116)>>2]=v,!v)return _e(n,1,17060,u),A=d,0|(t=0);if(b=0|ze(0|6*(0|l[f>>2])),_=0|l[_>>2],l[_>>2]=b,!b)return _e(n,1,17060,w),A=d,0|(t=0);m=0|l[f>>2],a[_+4>>1]=m,_=0;do{a[b+(0|6*_)>>1]=_,a[b+(0|6*_)+2>>1]=0,w=_,_=0|_+1,a[b+(0|6*w)+4>>1]=_}while((0|_)!=(0|p));if(p>>>0<m>>>0){_=0|l[x>>2];do{x=0==(0|a[_+(0|52*p)+48>>1]),a[b+(0|6*p)>>1]=p,a[b+(0|6*p)+2>>1]=x?-1:1,a[b+(0|6*p)+4>>1]=x<<31>>31,p=0|p+1}while(p>>>0<m>>>0)}}}while(0);return l[e+52>>2]=0,l[e+44>>2]=0,l[e+96>>2]=l[t+18692>>2],A=d,0|(t=1)},dt,et,function(e,t,i,n){e|=0,t|=0,n|=0;var r,o,a,s=0;if(a=A,A=0|A+16,!(i|=0))return A=a,0|(i=0);if(!(0|dt(0|l[e>>2],t,i,n)))return _e(n,1,16201,a),A=a,0|(i=0);if(0|l[e+128>>2])return A=a,0|(i=1);if(!(0|St(i,o=0|e+108,n)))return A=a,0|(i=0);switch(0|(t=0|l[e+48>>2])){case 16:l[i+20>>2]=1;break;case 17:l[i+20>>2]=2;break;case 18:l[i+20>>2]=3;break;case 24:l[i+20>>2]=4;break;default:l[i+20>>2]=12==(0|t)?5:-1;}t=0|l[(r=0|e+120)>>2];do{if(0|t){if(0|l[t+12>>2]){Et(i,o);break}We(0|l[t+4>>2]),We(0|l[8+(0|l[r>>2])>>2]),We(0|l[l[r>>2]>>2]),t=0|l[r>>2],(s=0|l[t+12>>2])&&(We(s),t=0|l[r>>2]),We(t),l[r>>2]=0}}while(0);return 0|l[e+116>>2]&&Ct(i,o,n),(t=0|l[o>>2])?(l[i+28>>2]=t,l[i+32>>2]=l[e+112>>2],l[o>>2]=0,A=a,0|(i=1)):(A=a,0|(i=1))},function(e,t,i,n){e|=0,i|=0,n|=0;var r,o=0,a=0,s=0,c=0,h=0;if(!(0|bi(0|l[(c=0|8+(t|=0))>>2],53,n)))return 0|(n=0);if(r=0|yi(h=0|l[t+4>>2]),o=0|gi(h),r){for(a=1,s=0;a=a?0!=(0|Jr[63&l[o>>2]](t,e,n)):0,(0|(s=0|s+1))!=(0|r);){o=0|o+4,a&=1}if(vi(h),!a)return 0|(n=0)}else vi(h);if(h=0|yi(c=0|l[c>>2]),o=0|gi(c),h){for(a=1,s=0;a=a?0!=(0|Jr[63&l[o>>2]](t,e,n)):0,(0|(s=0|s+1))!=(0|h);){o=0|o+4,a&=1}if(vi(c),!a)return 0|(n=0)}else vi(c);return 0|(n=0|et(e,0|l[t>>2],i,n))},Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr,Lr],Kr=[Zr,_t,function(e,t,i,n,r){var o,a,s;if(e|=0,t|=0,n|=0,r|=0,s=A,A=0|A+16,!(i|=0))return A=s,0|(i=0);if(_e(n,2,19580,s),!(0|_t(0|l[e>>2],t,i,n,r)))return _e(n,1,16201,0|s+8),A=s,0|(i=0);if(!(0|St(i,a=0|e+108,n)))return A=s,0|(i=0);switch(0|(t=0|l[e+48>>2])){case 16:l[i+20>>2]=1;break;case 17:l[i+20>>2]=2;break;case 18:l[i+20>>2]=3;break;case 24:l[i+20>>2]=4;break;default:l[i+20>>2]=12==(0|t)?5:-1;}t=0|l[(o=0|e+120)>>2];do{if(0|t){if(0|l[t+12>>2]){Et(i,a);break}We(0|l[t+4>>2]),We(0|l[8+(0|l[o>>2])>>2]),We(0|l[l[o>>2]>>2]),t=0|l[o>>2],(r=0|l[t+12>>2])&&(We(r),t=0|l[o>>2]),We(t),l[o>>2]=0}}while(0);return 0|l[e+116>>2]&&Ct(i,a,n),(t=0|l[a>>2])?(l[i+28>>2]=t,l[i+32>>2]=l[e+112>>2],l[a>>2]=0,A=s,0|(i=1)):(A=s,0|(i=1))},Zr],$r=[zr,It,function(e,t,i,n,r,o){return t|=0,i|=0,n|=0,r|=0,o|=0,0|It(0|l[(e|=0)>>2],t,i,n,r,o)},rt,function(e,t,i,n,r,o){return t|=0,i|=0,n|=0,r|=0,o|=0,0|rt(0|l[(e|=0)>>2],t,i,n,r,o)},zr,zr,zr],eo=[Ur,ot,function(e,t,i,n,r,o,a){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,0|ot(0|l[(e|=0)>>2],t,i,n,r,o,a)},Ur],to=[Vr,nt,function(e,t,i,n,r,o,a,s,c,h,u){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0,h|=0,u|=0,0|nt(0|l[(e|=0)>>2],t,i,n,r,o,a,s,c,h,u)},Vr],io=[Nr,Xe,Bt,function(e){var t,i,n=0,r=0,o=0;if(n=0|l[(i=0|24+(e|=0))>>2]){if(t=0|((o=0|l[e+28>>2])>>>0)/52,51<o>>>0){for(o=0;0|(e=0|l[n>>2])&&(We(0|e+-1),l[n>>2]=0),0|(r=0|l[(e=0|n+4)>>2])&&(We(r),l[e>>2]=0),0|(r=0|l[(e=0|n+8)>>2])&&(We(r),l[e>>2]=0),!((o=0|o+1)>>>0>=t>>>0);){n=0|n+52}n=0|l[i>>2]}We(n),l[i>>2]=0}},function(e){var t,i,n=0,r=0,o=0;if(n=0|l[(i=0|24+(e|=0))>>2]){if(t=0|((o=0|l[e+28>>2])>>>0)/56,55<o>>>0){for(o=0;0|(e=0|l[n>>2])&&(We(e),l[n>>2]=0),0|(r=0|l[(e=0|n+4)>>2])&&(We(r),l[e>>2]=0),!((o=0|o+1)>>>0>=t>>>0);){n=0|n+56}n=0|l[i>>2]}We(n),l[i>>2]=0}},Nr,Nr,Nr],no=[Hr,function(){},function(){},function(e,t){var i;e|=0,t|=0,t=A,A=0|A+16,l[(i=t)>>2]=e,function(e,t){e|=0,t|=0;var i=0,n=0;i=A,A=0|A+16,l[(n=i)>>2]=t,t=0|Wn(0|l[665],e,n),A=i}(4200,i),A=t},function(){},je,function(e,t){t|=0,je(0|l[(e|=0)>>2],t),r[e+124>>0]=0,l[e+128>>2]=1&l[t+8248>>2]},Hr],ro=[Wr,function(e,t,i){e|=0,t|=0;var n=0;if(i|=0)for(n=0;ie(t,~~+_[e>>2]>>>0,2),(0|(n=0|n+1))!=(0|i);){e=0|e+4,t=0|t+2}},function(e,t,i){e|=0,t|=0;var n=0;if(i|=0)for(n=0;ie(t,~~+_[e>>2]>>>0,4),(0|(n=0|n+1))!=(0|i);){e=0|e+4,t=0|t+4}},function(e,t,i){e|=0,t|=0;var n=0;if(i|=0)for(n=0;ae(t,+_[e>>2]),(0|(n=0|n+1))!=(0|i);){e=0|e+4,t=0|t+4}},function(e,t,i){e|=0,t|=0;var n=0;if(i|=0)for(n=0;re(t,+_[e>>2]),(0|(n=0|n+1))!=(0|i);){e=0|e+4,t=0|t+8}},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;ne(e,n,2),_[t>>2]=+((0|l[n>>2])>>>0),(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+2}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;ne(e,n,4),_[t>>2]=+((0|l[n>>2])>>>0),(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+4}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;se(e,n),l[t>>2]=l[n>>2],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+4}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;oe(e,n),_[t>>2]=+b[n>>3],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+8}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;ne(e,n,2),l[t>>2]=l[n>>2],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+2}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;ne(e,n,4),l[t>>2]=l[n>>2],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+4}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;se(e,n),l[t>>2]=~~+_[n>>2],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+4}A=r}else A=r},function(e,t,i){e|=0,t|=0;var n,r,o=0;if(r=A,A=0|A+16,n=r,i|=0){for(o=0;oe(e,n),l[t>>2]=~~+b[n>>3],(0|(o=0|o+1))!=(0|i);){t=0|t+4,e=0|e+8}A=r}else A=r},st,function(e,t,i){t|=0,i|=0,st(0|l[(e|=0)>>2],t,i)},Wr],oo=[jr,function(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0;if(n|=0){if(1==(0|t)&0==(0|i))l[e>>2]=l[e>>2]<<1;else{if(0<(0|t)){r=0|i+-1,n=0;do{l[(a=0|e+(n<<1<<2))>>2]=(0|l[a>>2])-((0|l[e+((1>(0|n)?1:0|(((0|n)>(0|i)?i:n)<<1)-1)<<2)>>2])+(0|l[e+((1|((0|n)>=(0|i)?r:n)<<1)<<2)>>2])>>1),n=0|n+1}while((0|n)!=(0|t))}if(!(0>=(0|i))){r=0|t+-1,n=0;do{o=n,n=0|n+1,l[(a=0|e+((1|o<<1)<<2))>>2]=(2+(0|l[e+(((0|o)>=(0|t)?r:o)<<1<<2)>>2])+(0|l[e+(((0|n)>=(0|t)?r:n)<<1<<2)>>2])>>2)+(0|l[a>>2])}while((0|n)!=(0|i))}}}else{if(!((n=0<(0|t))|1<(0|i)))return;if(n){r=0|i+-1,n=0;do{a=n,n=0|n+1,l[(o=0|e+((1|a<<1)<<2))>>2]=(0|l[o>>2])-((0|l[e+(((0|n)>=(0|i)?r:n)<<1<<2)>>2])+(0|l[e+(((0|a)>=(0|i)?r:a)<<1<<2)>>2])>>1)}while((0|n)!=(0|t))}if(0>=(0|i))return;r=0|t+-1,n=0;do{l[(a=0|e+(n<<1<<2))>>2]=(2+(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|t)?t:n)<<1)-1)<<2)>>2])+(0|l[e+((1|((0|n)>=(0|t)?r:n)<<1)<<2)>>2])>>2)+(0|l[a>>2]),n=0|n+1}while((0|n)!=(0|i))}},function(e,t,i,n){e|=0,t|=0,i|=0;var r=0,o=0,a=0,s=0,c=0;if(n|=0){if(!(1<(0|t)|(a=0<(0|i))))return;if(o=0<(0|t)){r=0|i+-1,n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|i)?i:n)<<1)-1)<<2)>>2])+(0|l[e+((1|((0|n)>=(0|i)?r:n)<<1)<<2)>>2])),0|(0>(0|s))<<31>>31,12993,0)),0|k,4096,0)),0|k,13),l[(c=0|e+(n<<1<<2))>>2]=(0|l[c>>2])-s,n=0|n+1}while((0|n)!=(0|t))}if(a){r=0|t+-1,n=0;do{c=n,s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+(((0|(n=0|n+1))>=(0|t)?r:n)<<1<<2)>>2])+(0|l[e+(((0|c)>=(0|t)?r:c)<<1<<2)>>2])),0|(0>(0|s))<<31>>31,434,0)),0|k,4096,0)),0|k,13),l[(c=0|e+((1|c<<1)<<2))>>2]=(0|l[c>>2])-s}while((0|n)!=(0|i))}if(o){r=0|i+-1,n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|i)?i:n)<<1)-1)<<2)>>2])+(0|l[e+((1|((0|n)>=(0|i)?r:n)<<1)<<2)>>2])),0|(0>(0|s))<<31>>31,7233,0)),0|k,4096,0)),0|k,13),l[(c=0|e+(n<<1<<2))>>2]=(0|l[c>>2])+s,n=0|n+1}while((0|n)!=(0|t))}if(a){r=0|t+-1,n=0;do{c=n,s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+(((0|(n=0|n+1))>=(0|t)?r:n)<<1<<2)>>2])+(0|l[e+(((0|c)>=(0|t)?r:c)<<1<<2)>>2])),0|(0>(0|s))<<31>>31,3633,0)),0|k,4096,0)),0|k,13),l[(c=0|e+((1|c<<1)<<2))>>2]=(0|l[c>>2])+s}while((0|n)!=(0|i))}if(o){n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|l[(c=0|e+(n<<1<<2))>>2]),0|(0>(0|s))<<31>>31,5038,0)),0|k,4096,0)),0|k,13),l[c>>2]=s,n=0|n+1}while((0|n)!=(0|t))}if(!a)return;n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|l[(c=0|e+((1|n<<1)<<2))>>2]),0|(0>(0|s))<<31>>31,6659,0)),0|k,4096,0)),0|k,13),l[c>>2]=s,n=0|n+1}while((0|n)!=(0|i))}else if((a=0<(0|t))|1<(0|i)){if(a){r=0|i+-1,n=0;do{o=n,s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+(((0|(n=0|n+1))>=(0|i)?r:n)<<1<<2)>>2])+(0|l[e+(((0|o)>=(0|i)?r:o)<<1<<2)>>2])),0|(0>(0|s))<<31>>31,12993,0)),0|k,4096,0)),0|k,13),l[(o=0|e+((1|o<<1)<<2))>>2]=(0|l[o>>2])-s}while((0|n)!=(0|t))}if(o=0<(0|i)){r=0|t+-1,n=0;do{c=0|Sr(0|(c=0|gr(0|(c=0|yr(0|(c=0|(0|l[e+((1|((0|n)>=(0|t)?r:n)<<1)<<2)>>2])+(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|t)?t:n)<<1)-1)<<2)>>2])),0|(0>(0|c))<<31>>31,434,0)),0|k,4096,0)),0|k,13),l[(s=0|e+(n<<1<<2))>>2]=(0|l[s>>2])-c,n=0|n+1}while((0|n)!=(0|i))}if(a){r=0|i+-1,n=0;do{c=n,s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+(((0|(n=0|n+1))>=(0|i)?r:n)<<1<<2)>>2])+(0|l[e+(((0|c)>=(0|i)?r:c)<<1<<2)>>2])),0|(0>(0|s))<<31>>31,7233,0)),0|k,4096,0)),0|k,13),l[(c=0|e+((1|c<<1)<<2))>>2]=(0|l[c>>2])+s}while((0|n)!=(0|t))}if(o){r=0|t+-1,n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|(0|l[e+((1|((0|n)>=(0|t)?r:n)<<1)<<2)>>2])+(0|l[e+((1>(0|n)?1:0|(((0|n)>(0|t)?t:n)<<1)-1)<<2)>>2])),0|(0>(0|s))<<31>>31,3633,0)),0|k,4096,0)),0|k,13),l[(c=0|e+(n<<1<<2))>>2]=(0|l[c>>2])+s,n=0|n+1}while((0|n)!=(0|i))}if(a){n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|l[(c=0|e+((1|n<<1)<<2))>>2]),0|(0>(0|s))<<31>>31,5038,0)),0|k,4096,0)),0|k,13),l[c>>2]=s,n=0|n+1}while((0|n)!=(0|t))}if(o){n=0;do{s=0|Sr(0|(s=0|gr(0|(s=0|yr(0|(s=0|l[(c=0|e+(n<<1<<2))>>2]),0|(0>(0|s))<<31>>31,6659,0)),0|k,4096,0)),0|k,13),l[c>>2]=s,n=0|n+1}while((0|n)!=(0|i))}}},jr];return{___muldi3:yr,___udivdi3:xr,___uremdi3:kr,_bitshift64Ashr:Ir,_bitshift64Lshr:Sr,_bitshift64Shl:Er,_emscripten_replace_memory:function _emscripten_replace_memory(e){return!(16777215&y(e)||16777215>=y(e)||2147483648<y(e)||(r=new n(e),a=new o(e),l=new s(e),h=new c(e),f=new u(e),new d(e),_=new p(e),b=new m(e),i=e,0))},_free:bn,_i64Add:gr,_i64Subtract:vr,_jp2_decode:function _jp2_decode(e,t,i,n,r,o,a,s,c,h,u){e|=0,t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0,h|=0,u|=0;var f,d,p,_=0,m=0;if(p=A,A=0|A+8272,m=0|p+16,_=p,l[(f=0|p+12)>>2]=0,Te(d=0|we(1375686655==(0|l[e>>2])?0:2),1,0),De(d,2,0),Pe(d,3,0),Be(m),l[_>>2]=e,l[_+4>>2]=e,l[_+8>>2]=t,_=0|Fe(_,1),!(0|Re(d,m)))return mr(4211),X(_),ke(d),A=p,0|(m=1);if(!(0|Ce(_,d,f)))return mr(4263),X(_),ke(d),ye(0|l[f>>2]),A=p,0|(m=1);if(!(0|xe(d,_,0|l[f>>2])))return mr(4313),ke(d),X(_),ye(0|l[f>>2]),A=p,0|(m=1);switch(e=0|l[f>>2],l[r>>2]=l[e+8>>2],l[o>>2]=l[e+12>>2],l[a>>2]=l[e+16>>2],m=0|l[(t=0|e+24)>>2],l[c>>2]=l[m+24>>2],l[h>>2]=l[m+32>>2],l[s>>2]=l[m+28>>2],l[u>>2]=l[e+20>>2],e=0|B(0|B(l[r>>2]<<2,0|l[o>>2]),0|l[a>>2]),l[n>>2]=e,h=0|mn(e),l[i>>2]=h,0|l[a>>2]){case 1:Br(0|h,0|l[44+(0|l[t>>2])>>2],0|e);break;case 3:if(0<(0|(c=0|B(0|l[o>>2],0|l[r>>2])))){s=0|l[t>>2],t=0|l[s+44>>2],u=0|l[s+96>>2],s=0|l[s+148>>2],e=0;do{l[h+((m=0|3*e)<<2)>>2]=l[t+(e<<2)>>2],l[h+(m+1<<2)>>2]=l[u+(e<<2)>>2],l[h+(m+2<<2)>>2]=l[s+(e<<2)>>2],e=0|e+1}while((0|e)<(0|c))}}return X(_),ke(d),ye(0|l[f>>2]),A=p,0|(m=0)},_jp2_encode:function _jp2_encode(e,t,i,n,r,o,a,s,c,u){e|=0,t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,c|=0,u|=0;var d,p,m,b=0,y=0,g=0,v=0,w=0,x=0,k=0;m=A,A=0|A+18880,b=0|m+16,w=m,Me(p=0|m+160),l[p+18200>>2]=0,l[p+4788>>2]=1,l[p+20>>2]=1;e:do{if(r)_[p+4792>>2]=+(0|r);else switch(0|n){case 0:case 100:_[p+4792>>2]=0;break e;default:_[p+5192>>2]=+(0|n),l[p+28>>2]=1;break e;}}while(0);if(l[b+24>>2]=i,l[b+28>>2]=i,l[b+32>>2]=0,l[b>>2]=1,l[b+4>>2]=1,l[b+8>>2]=e,l[b+12>>2]=t,l[b+60>>2]=i,l[b+64>>2]=i,l[b+68>>2]=0,l[b+36>>2]=1,l[b+40>>2]=1,l[b+44>>2]=e,l[b+48>>2]=t,l[b+96>>2]=i,l[b+100>>2]=i,l[b+104>>2]=0,l[b+72>>2]=1,l[b+76>>2]=1,l[b+80>>2]=e,l[b+84>>2]=t,l[b+132>>2]=i,l[b+136>>2]=i,l[b+140>>2]=0,l[b+108>>2]=1,l[b+112>>2]=1,l[b+116>>2]=e,l[b+120>>2]=t,!(d=0|be(4,b,1)))return A=m,0|(u=0);if(16==(0|i)){if(0<(0|t)&0<(0|e)){g=0|l[d+24>>2],r=0|l[g+200>>2],i=0|l[g+44>>2],y=0|l[g+96>>2],g=0|l[g+148>>2],b=0;do{v=0|B(b,e),n=0;do{k=(x=0|n+v)<<2,l[i+(x<<2)>>2]=f[o+(k<<1)>>1],l[y+(x<<2)>>2]=f[o+((1|k)<<1)>>1],l[g+(x<<2)>>2]=f[o+((2|k)<<1)>>1],l[r+(x<<2)>>2]=f[o+((3|k)<<1)>>1],n=0|n+1}while((0|n)!=(0|e));b=0|b+1}while((0|b)!=(0|t))}}else if(0<(0|t)&0<(0|e)){g=0|l[d+24>>2],r=0|l[g+200>>2],i=0|l[g+44>>2],y=0|l[g+96>>2],g=0|l[g+148>>2],b=0;do{v=0|B(b,e),n=0;do{x=(k=0|n+v)<<2,l[i+(k<<2)>>2]=h[o+x>>0],l[y+(k<<2)>>2]=h[o+(1|x)>>0],l[g+(k<<2)>>2]=h[o+(2|x)>>0],l[r+(k<<2)>>2]=h[o+(3|x)>>0],n=0|n+1}while((0|n)!=(0|e));b=0|b+1}while((0|b)!=(0|t))}return l[d>>2]=0,l[d+4>>2]=0,l[d+8>>2]=e,l[d+12>>2]=t,0<(0|s)&&(l[d+28>>2]=a,l[d+32>>2]=s),Te(0,1,0),De(0,2,0),Pe(0,3,0),Te(r=0|Ae(2),1,0),De(r,2,0),Pe(r,3,0),Ge(r,p,d),n=0|mn(67108864),l[w>>2]=n,l[(b=0|w+4)>>2]=n,l[w+8>>2]=67108864,(n=0|Fe(w,0))?0|Oe(r,d,n)&&0|Se(r,n)&&0|Ee(r,n)?(x=0|l[w>>2],w=0|mn(k=0|(0|l[b>>2])-x),l[c>>2]=w,Br(0|w,0|x,0|k),l[u>>2]=k,X(n),ke(r),ye(d),A=m,0|(k=1)):(X(n),ke(r),ye(d),A=m,0|(k=0)):(A=m,0|(k=0))},_jp2_version:function _jp2_version(){return 4427},_llvm_bswap_i32:Cr,_malloc:mn,_memcpy:Br,_memset:Mr,_opj_create_compress:Ae,_opj_create_decompress:we,_opj_decode:xe,_opj_decode_tile_data:function _opj_decode_tile_data(e,t,i,n,r){return t|=0,n|=0,0!=(0|(e|=0))&0!=(0|(i|=0))&0!=(0|(r|=0))&&0|l[e+68>>2]?0|(r=0|$r[7&l[e+12>>2]](0|l[e+40>>2],t,i,n,r,0|e+44)):0|(r=0)},_opj_destroy_codec:ke,_opj_destroy_cstr_index:function _opj_destroy_cstr_index(e){var t;(t=0|l[(e|=0)>>2])&&(Je(t),l[e>>2]=0)},_opj_destroy_cstr_info:Ie,_opj_dump_codec:function _opj_dump_codec(e,t,i){t|=0,i|=0,(e|=0)&&ro[15&l[e+72>>2]](0|l[e+40>>2],t,i)},_opj_encode:Se,_opj_end_compress:Ee,_opj_end_decompress:function _opj_end_decompress(e,t){return 0!=(0|(e|=0))&0!=(0|(t|=0))&&0|l[e+68>>2]?0|(t=0|Jr[63&l[e+16>>2]](0|l[e+40>>2],t,0|e+44)):0|(t=0)},_opj_get_cstr_index:function _opj_get_cstr_index(e){return(e|=0)?0|(e=0|Xr[15&l[e+80>>2]](0|l[e+40>>2])):0|(e=0)},_opj_get_cstr_info:function _opj_get_cstr_info(e){return(e|=0)?0|(e=0|Xr[15&l[e+76>>2]](0|l[e+40>>2])):0|(e=0)},_opj_get_decoded_tile:function _opj_get_decoded_tile(e,t,i,n){return i|=0,n|=0,0!=(0|(e|=0))&0!=(0|(t|=0))&&0|l[e+68>>2]?0|(n=0|Kr[3&l[e+32>>2]](0|l[e+40>>2],t,i,0|e+44,n)):0|(n=0)},_opj_image_create:be,_opj_image_destroy:ye,_opj_image_tile_create:function _opj_image_tile_create(e,t,i){var n,r;if(e|=0,t|=0,i|=0,!(n=0|Ue(1,36)))return 0|(t=n);if(l[n+20>>2]=i,l[n+16>>2]=e,r=0|Ue(e,52),l[n+24>>2]=r,r){if(!e)return 0|(t=n);i=0;do{l[r+(0|52*i)>>2]=l[t+(0|36*i)>>2],l[r+(0|52*i)+4>>2]=l[t+(0|36*i)+4>>2],l[r+(0|52*i)+8>>2]=l[t+(0|36*i)+8>>2],l[r+(0|52*i)+12>>2]=l[t+(0|36*i)+12>>2],l[r+(0|52*i)+16>>2]=l[t+(0|36*i)+16>>2],l[r+(0|52*i)+20>>2]=l[t+(0|36*i)+20>>2],l[r+(0|52*i)+24>>2]=l[t+(0|36*i)+24>>2],l[r+(0|52*i)+32>>2]=l[t+(0|36*i)+32>>2],l[r+(0|52*i)+44>>2]=0,i=0|i+1}while((0|i)!=(0|e));return 0|n}return 0|(i=0|l[n+28>>2])&&We(i),We(n),0|(t=0)},_opj_read_header:Ce,_opj_read_tile_header:function _opj_read_tile_header(e,t,i,n,r,o,a,s,c,h){return r|=0,o|=0,a|=0,s|=0,c|=0,h|=0,0!=(0|(i|=0))&0!=(0|(e|=0))&0!=(0|(t|=0))&0!=(0|(n|=0))&&0|l[e+68>>2]?0|(h=0|to[3&l[e+8>>2]](0|l[e+40>>2],i,n,r,o,a,s,c,h,t,0|e+44)):0|(h=0)},_opj_set_MCT:function _opj_set_MCT(e,t,i,n){e|=0,t|=0,i|=0;var o,s=0,c=0;return o=0|B(c=(n|=0)<<2,n),n=0|f[(s=0|e+18704)>>1],a[s>>1]=0==(0|32768&n)?-32512:65535&(256|n),l[e+5608>>2]=1,r[e+18690>>0]=2,s=0|ze(0|o+c),l[(n=0|e+18696)>>2]=s,s?(Br(0|s,0|t,0|o),Br(0|(0|l[n>>2])+o,0|i,0|c),0|(c=1)):0|(c=0)},_opj_set_decode_area:function _opj_set_decode_area(e,t,i,n,r,o){return t|=0,i|=0,n|=0,r|=0,o|=0,(e|=0)&&0|l[e+68>>2]?0|(o=0|eo[3&l[e+28>>2]](0|l[e+40>>2],t,i,n,r,o,0|e+44)):0|(o=0)},_opj_set_decoded_resolution_factor:function _opj_set_decoded_resolution_factor(e,t){return t|=0,(e|=0)?0|(t=0|Jr[63&l[e+36>>2]](0|l[e+40>>2],t,0|e+44)):0|(t=0)},_opj_set_default_decoder_parameters:Be,_opj_set_default_encoder_parameters:Me,_opj_set_error_handler:Pe,_opj_set_info_handler:Te,_opj_set_warning_handler:De,_opj_setup_decoder:Re,_opj_setup_encoder:Ge,_opj_start_compress:Oe,_opj_stream_create:j,_opj_stream_create_buffer_stream:Fe,_opj_stream_create_default_file_stream:function _opj_stream_create_default_file_stream(e,t){return 0|Le(e|=0,1048576,t|=0)},_opj_stream_create_file_stream:Le,_opj_stream_default_create:Y,_opj_stream_destroy:X,_opj_stream_set_read_function:Q,_opj_stream_set_seek_function:J,_opj_stream_set_skip_function:q,_opj_stream_set_user_data:K,_opj_stream_set_user_data_length:$,_opj_stream_set_write_function:ee,_opj_version:function(){return 4427},_opj_write_tile:function _opj_write_tile(e,t,i,n,r){return t|=0,n|=0,0!=(0|(i|=0))&0!=(0|(e|=0))&0!=(0|(r|=0))?0|l[e+68>>2]?0|(r=0):0|(r=0|$r[7&l[e+8>>2]](0|l[e+40>>2],t,i,n,r,0|e+44)):0|(r=0)},_rintf:Tr,_sbrk:Dr,dynCall_di:function dynCall_di(e,t){return t|=0,+Yr[3&(e|=0)](0|t)},dynCall_ii:function dynCall_ii(e,t){return t|=0,0|Xr[15&(e|=0)](0|t)},dynCall_iii:function dynCall_iii(e,t,i){return t|=0,i|=0,0|Qr[7&(e|=0)](0|t,0|i)},dynCall_iiii:function dynCall_iiii(e,t,i,n){return t|=0,i|=0,n|=0,0|Jr[63&(e|=0)](0|t,0|i,0|n)},dynCall_iiiii:function dynCall_iiiii(e,t,i,n,r){return t|=0,i|=0,n|=0,r|=0,0|qr[63&(e|=0)](0|t,0|i,0|n,0|r)},dynCall_iiiiii:function dynCall_iiiiii(e,t,i,n,r,o){return t|=0,i|=0,n|=0,r|=0,o|=0,0|Kr[3&(e|=0)](0|t,0|i,0|n,0|r,0|o)},dynCall_iiiiiii:function dynCall_iiiiiii(e,t,i,n,r,o,a){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,0|$r[7&(e|=0)](0|t,0|i,0|n,0|r,0|o,0|a)},dynCall_iiiiiiii:function dynCall_iiiiiiii(e,t,i,n,r,o,a,s){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,0|eo[3&(e|=0)](0|t,0|i,0|n,0|r,0|o,0|a,0|s)},dynCall_iiiiiiiiiiii:function dynCall_iiiiiiiiiiii(e,t,i,n,r,o,a,s,l,c,h,u){return t|=0,i|=0,n|=0,r|=0,o|=0,a|=0,s|=0,l|=0,c|=0,h|=0,u|=0,0|to[3&(e|=0)](0|t,0|i,0|n,0|r,0|o,0|a,0|s,0|l,0|c,0|h,0|u)},dynCall_vi:function dynCall_vi(e,t){t|=0,io[7&(e|=0)](0|t)},dynCall_vii:function dynCall_vii(e,t,i){t|=0,i|=0,no[7&(e|=0)](0|t,0|i)},dynCall_viii:function dynCall_viii(e,t,i,n){t|=0,i|=0,n|=0,ro[15&(e|=0)](0|t,0|i,0|n)},dynCall_viiii:function dynCall_viiii(e,t,i,n,r){t|=0,i|=0,n|=0,r|=0,oo[3&(e|=0)](0|t,0|i,0|n,0|r)},establishStackSpace:function establishStackSpace(e){A=e|=0,0},getTempRet0:function getTempRet0(){return 0|k},runPostSets:function runPostSets(){},setTempRet0:function setTempRet0(e){k=e|=0},setThrew:function setThrew(e){e|=0,0,x||(x=e)},stackAlloc:function stackAlloc(e){var t;return t=A,A=-16&15+(A=0|A+(e|=0)),0|t},stackRestore:function stackRestore(e){A=e|=0},stackSave:function stackSave(){return 0|A}}}(o.asmGlobalArg,o.asmLibraryArg,E),Me=(o.___muldi3=Be.___muldi3,o.___udivdi3=Be.___udivdi3,o.___uremdi3=Be.___uremdi3,o._bitshift64Ashr=Be._bitshift64Ashr,o._bitshift64Lshr=Be._bitshift64Lshr,o._bitshift64Shl=Be._bitshift64Shl,o._emscripten_replace_memory=Be._emscripten_replace_memory),Pe=(o._free=Be._free,o._i64Add=Be._i64Add,o._i64Subtract=Be._i64Subtract,o._jp2_decode=Be._jp2_decode,o._jp2_encode=Be._jp2_encode,o._jp2_version=Be._jp2_version,o._llvm_bswap_i32=Be._llvm_bswap_i32,o._malloc=Be._malloc),Te=(o._memcpy=Be._memcpy,o._memset=Be._memset,o._opj_create_compress=Be._opj_create_compress,o._opj_create_decompress=Be._opj_create_decompress,o._opj_decode=Be._opj_decode,o._opj_decode_tile_data=Be._opj_decode_tile_data,o._opj_destroy_codec=Be._opj_destroy_codec,o._opj_destroy_cstr_index=Be._opj_destroy_cstr_index,o._opj_destroy_cstr_info=Be._opj_destroy_cstr_info,o._opj_dump_codec=Be._opj_dump_codec,o._opj_encode=Be._opj_encode,o._opj_end_compress=Be._opj_end_compress,o._opj_end_decompress=Be._opj_end_decompress,o._opj_get_cstr_index=Be._opj_get_cstr_index,o._opj_get_cstr_info=Be._opj_get_cstr_info,o._opj_get_decoded_tile=Be._opj_get_decoded_tile,o._opj_image_create=Be._opj_image_create,o._opj_image_destroy=Be._opj_image_destroy,o._opj_image_tile_create=Be._opj_image_tile_create,o._opj_read_header=Be._opj_read_header,o._opj_read_tile_header=Be._opj_read_tile_header,o._opj_set_MCT=Be._opj_set_MCT,o._opj_set_decode_area=Be._opj_set_decode_area,o._opj_set_decoded_resolution_factor=Be._opj_set_decoded_resolution_factor,o._opj_set_default_decoder_parameters=Be._opj_set_default_decoder_parameters,o._opj_set_default_encoder_parameters=Be._opj_set_default_encoder_parameters,o._opj_set_error_handler=Be._opj_set_error_handler,o._opj_set_info_handler=Be._opj_set_info_handler,o._opj_set_warning_handler=Be._opj_set_warning_handler,o._opj_setup_decoder=Be._opj_setup_decoder,o._opj_setup_encoder=Be._opj_setup_encoder,o._opj_start_compress=Be._opj_start_compress,o._opj_stream_create=Be._opj_stream_create,o._opj_stream_create_buffer_stream=Be._opj_stream_create_buffer_stream,o._opj_stream_create_default_file_stream=Be._opj_stream_create_default_file_stream,o._opj_stream_create_file_stream=Be._opj_stream_create_file_stream,o._opj_stream_default_create=Be._opj_stream_default_create,o._opj_stream_destroy=Be._opj_stream_destroy,o._opj_stream_set_read_function=Be._opj_stream_set_read_function,o._opj_stream_set_seek_function=Be._opj_stream_set_seek_function,o._opj_stream_set_skip_function=Be._opj_stream_set_skip_function,o._opj_stream_set_user_data=Be._opj_stream_set_user_data,o._opj_stream_set_user_data_length=Be._opj_stream_set_user_data_length,o._opj_stream_set_write_function=Be._opj_stream_set_write_function,o._opj_version=Be._opj_version,o._opj_write_tile=Be._opj_write_tile,o._rintf=Be._rintf,o._sbrk=Be._sbrk,o.establishStackSpace=Be.establishStackSpace,o.getTempRet0=Be.getTempRet0,o.runPostSets=Be.runPostSets,o.setTempRet0=Be.setTempRet0,o.setThrew=Be.setThrew,o.stackAlloc=Be.stackAlloc),De=o.stackRestore=Be.stackRestore,Re=o.stackSave=Be.stackSave;o.dynCall_di=Be.dynCall_di,o.dynCall_ii=Be.dynCall_ii,o.dynCall_iii=Be.dynCall_iii,o.dynCall_iiii=Be.dynCall_iiii,o.dynCall_iiiii=Be.dynCall_iiiii,o.dynCall_iiiiii=Be.dynCall_iiiiii,o.dynCall_iiiiiii=Be.dynCall_iiiiiii,o.dynCall_iiiiiiii=Be.dynCall_iiiiiiii,o.dynCall_iiiiiiiiiiii=Be.dynCall_iiiiiiiiiiii,o.dynCall_vi=Be.dynCall_vi,o.dynCall_vii=Be.dynCall_vii,o.dynCall_viii=Be.dynCall_viii,o.dynCall_viiii=Be.dynCall_viiii;if(o.asm=Be,o.ccall=function(e,t,i,n){var a=function(e){var t=o["_"+e];return y(t,"Cannot call unknown function "+e+", make sure it is exported"),t}(e),s=[],l=0;if(n)for(var c=0,h;c<n.length;c++){h=v[i[c]];h?(0===l&&(l=Re()),s[c]=h(n[c])):s[c]=n[c]}var u=a.apply(null,s);return"string"===t&&(u=k(u)),0!==l&&De(l),u},o.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return C[e>>0];case"i16":return M[e>>1];case"i32":case"i64":return P[e>>2];case"float":return T[e>>2];case"double":return D[e>>3];default:Ve("invalid type for getValue: "+t);}return null},o.writeArrayToMemory=re,de)if(_e(de)||("function"==typeof o.locateFile?de=o.locateFile(de):o.memoryInitializerPrefixURL&&(de=o.memoryInitializerPrefixURL+de)),u||f){var Ge=o.readBinary(de);B.set(Ge,8)}else{var Fe=function(){o.readAsync(de,Oe,function(){throw"could not load memory initializer "+de})};he++,o.monitorRunDependencies&&o.monitorRunDependencies(he);var Oe=function(e){e.byteLength&&(e=new Uint8Array(e)),B.set(e,8),o.memoryInitializerRequest&&delete o.memoryInitializerRequest.response,function(){if(he--,o.monitorRunDependencies&&o.monitorRunDependencies(he),0==he&&(null!==ue&&(clearInterval(ue),ue=null),fe)){var t=fe;fe=null,t()}}()},Le=Ee(de);if(Le)Oe(Le.buffer);else if(o.memoryInitializerRequest){var Ze=function(){var e=o.memoryInitializerRequest,t=e.response;if(200!==e.status&&0!==e.status){var i=Ee(o.memoryInitializerRequestURL);if(!i)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+de),void Fe();t=i.buffer}Oe(t)};o.memoryInitializerRequest.response?setTimeout(Ze,0):o.memoryInitializerRequest.addEventListener("load",Ze)}else Fe()}function ze(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ue(e){function t(){o.calledRun||(o.calledRun=!0,b||(te||(te=!0,Q(q)),Q(K),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;){ne(o.postRun.shift())}Q(ee)}()))}e=e||o.arguments,0<he||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;){ie(o.preRun.shift())}Q(J)}(),0<he||o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),t()},1)):t()))}function Ve(e){throw o.onAbort&&o.onAbort(e),void 0!==e?(o.print(e),o.printErr(e),e=JSON.stringify(e)):e="",b=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(o.then=function(e){if(o.calledRun)e(o);else{var t=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){t&&t(),e(o)}}return o},ze.prototype=new Error,ze.prototype.constructor=ze,fe=function e(){o.calledRun||Ue(),o.calledRun||(fe=e)},o.run=Ue,o.exit=function(e,i){i&&o.noExitRuntime&&0===e||(o.noExitRuntime||(b=!0,O=Ce,Q($),o.onExit&&o.onExit(e)),u&&t.exit(e),o.quit(e,new ze(e)))},o.abort=Ve,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;){o.preInit.pop()()}return o.noExitRuntime=!0,Ue(),e}}).call(this,i(10),i(48).Buffer)},function(e){"use strict";e.exports=function(e,t,i,n){for(var r=0|65535&e,o=0|65535&e>>>16,a=0;0!==i;){i-=a=2e3<i?2e3:i;do{o=0|o+(r=0|r+t[n++])}while(--a);r%=65521,o%=65521}return 0|(r|o<<16)}},function(e){"use strict";var n=function(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++){e=1&e?3988292384^e>>>1:e>>>1}t[i]=e}return t}();e.exports=function(e,t,i,r){e^=-1;for(var s=r;s<r+i;s++){e=e>>>8^n[255&(e^t[s])]}return-1^e}},function(e,t,i){"use strict";var n=i(0),r=!0,o=!0;try{_StringfromCharCode.apply(null,[0])}catch(e){r=!1}try{_StringfromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;256>s;s++){a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1}function l(e,t){if(65537>t&&(e.subarray&&o||!e.subarray&&r))return _StringfromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++){i+=_StringfromCharCode(e[a])}return i}a[254]=a[254]=1,t.string2buf=function(e){var t,i,r,o,a,s=e.length,l=0;for(o=0;o<s;o++){55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),l+=128>i?1:2048>i?2:65536>i?3:4}for(t=new n.Buf8(l),a=0,o=0;a<l;o++){55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),128>i?t[a++]=i:2048>i?(t[a++]=192|i>>>6,t[a++]=128|63&i):65536>i?(t[a++]=224|i>>>12,t[a++]=128|63&i>>>6,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|63&i>>>12,t[a++]=128|63&i>>>6,t[a++]=128|63&i)}return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,r=t.length;i<r;i++){t[i]=e.charCodeAt(i)}return t},t.buf2string=function(e,t){var i,n,r,o,s=t||e.length,c=Array(2*s);for(n=0,i=0;i<s;){if(128>(r=e[i++]))c[n++]=r;else if(4<(o=a[r]))c[n++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&i<s;){r=r<<6|63&e[i++],o--}1<o?c[n++]=65533:65536>r?c[n++]=r:(r-=65536,c[n++]=55296|1023&r>>10,c[n++]=56320|1023&r)}}return l(c,n)},t.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);){i--}return 0>i?t:0===i?t:i+a[e[i]]>t?i:t}},function(e){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e){"use strict";e.exports=_Mathfloor},function(e){"use strict";e.exports=_Mathceil},function(e,t,i){"use strict";var n=n||{};n.Utils=n.Utils||i(9),n.NIFTI1=n.NIFTI1||function(){this.littleEndian=!1,this.dim_info=0,this.dims=[],this.intent_p1=0,this.intent_p2=0,this.intent_p3=0,this.intent_code=0,this.datatypeCode=0,this.numBitsPerVoxel=0,this.slice_start=0,this.slice_end=0,this.slice_code=0,this.pixDims=[],this.vox_offset=0,this.scl_slope=1,this.scl_inter=0,this.xyzt_units=0,this.cal_max=0,this.cal_min=0,this.slice_duration=0,this.toffset=0,this.description="",this.aux_file="",this.intent_name="",this.qform_code=0,this.sform_code=0,this.quatern_b=0,this.quatern_c=0,this.quatern_d=0,this.qoffset_x=0,this.qoffset_y=0,this.qoffset_z=0,this.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.magic=0,this.isHDR=!1,this.extensionFlag=[0,0,0,0],this.extensionSize=0,this.extensionCode=0},n.NIFTI1.TYPE_NONE=0,n.NIFTI1.TYPE_BINARY=1,n.NIFTI1.TYPE_UINT8=2,n.NIFTI1.TYPE_INT16=4,n.NIFTI1.TYPE_INT32=8,n.NIFTI1.TYPE_FLOAT32=16,n.NIFTI1.TYPE_COMPLEX64=32,n.NIFTI1.TYPE_FLOAT64=64,n.NIFTI1.TYPE_RGB24=128,n.NIFTI1.TYPE_INT8=256,n.NIFTI1.TYPE_UINT16=512,n.NIFTI1.TYPE_UINT32=768,n.NIFTI1.TYPE_INT64=1024,n.NIFTI1.TYPE_UINT64=1280,n.NIFTI1.TYPE_FLOAT128=1536,n.NIFTI1.TYPE_COMPLEX128=1792,n.NIFTI1.TYPE_COMPLEX256=2048,n.NIFTI1.XFORM_UNKNOWN=0,n.NIFTI1.XFORM_SCANNER_ANAT=1,n.NIFTI1.XFORM_ALIGNED_ANAT=2,n.NIFTI1.XFORM_TALAIRACH=3,n.NIFTI1.XFORM_MNI_152=4,n.NIFTI1.SPATIAL_UNITS_MASK=7,n.NIFTI1.TEMPORAL_UNITS_MASK=56,n.NIFTI1.UNITS_UNKNOWN=0,n.NIFTI1.UNITS_METER=1,n.NIFTI1.UNITS_MM=2,n.NIFTI1.UNITS_MICRON=3,n.NIFTI1.UNITS_SEC=8,n.NIFTI1.UNITS_MSEC=16,n.NIFTI1.UNITS_USEC=24,n.NIFTI1.UNITS_HZ=32,n.NIFTI1.UNITS_PPM=40,n.NIFTI1.UNITS_RADS=48,n.NIFTI1.MAGIC_COOKIE=348,n.NIFTI1.MAGIC_NUMBER_LOCATION=344,n.NIFTI1.MAGIC_NUMBER=[110,43,49],n.NIFTI1.MAGIC_NUMBER2=[110,105,49],n.NIFTI1.EXTENSION_HEADER_SIZE=8,n.NIFTI1.prototype.readHeader=function(e){var t,i,r,o,a=new DataView(e),s=n.Utils.getIntAt(a,0,this.littleEndian);if(s!==n.NIFTI1.MAGIC_COOKIE&&(this.littleEndian=!0,s=n.Utils.getIntAt(a,0,this.littleEndian)),s!==n.NIFTI1.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.dim_info=n.Utils.getByteAt(a,39),t=0;8>t;t+=1){o=40+2*t,this.dims[t]=n.Utils.getShortAt(a,o,this.littleEndian)}for(this.intent_p1=n.Utils.getFloatAt(a,56,this.littleEndian),this.intent_p2=n.Utils.getFloatAt(a,60,this.littleEndian),this.intent_p3=n.Utils.getFloatAt(a,64,this.littleEndian),this.intent_code=n.Utils.getShortAt(a,68,this.littleEndian),this.datatypeCode=n.Utils.getShortAt(a,70,this.littleEndian),this.numBitsPerVoxel=n.Utils.getShortAt(a,72,this.littleEndian),this.slice_start=n.Utils.getShortAt(a,74,this.littleEndian),t=0;8>t;t+=1){o=76+4*t,this.pixDims[t]=n.Utils.getFloatAt(a,o,this.littleEndian)}for(this.vox_offset=n.Utils.getFloatAt(a,108,this.littleEndian),this.scl_slope=n.Utils.getFloatAt(a,112,this.littleEndian),this.scl_inter=n.Utils.getFloatAt(a,116,this.littleEndian),this.slice_end=n.Utils.getShortAt(a,120,this.littleEndian),this.slice_code=n.Utils.getByteAt(a,122),this.xyzt_units=n.Utils.getByteAt(a,123),this.cal_max=n.Utils.getFloatAt(a,124,this.littleEndian),this.cal_min=n.Utils.getFloatAt(a,128,this.littleEndian),this.slice_duration=n.Utils.getFloatAt(a,132,this.littleEndian),this.toffset=n.Utils.getFloatAt(a,136,this.littleEndian),this.description=n.Utils.getStringAt(a,148,228),this.aux_file=n.Utils.getStringAt(a,228,252),this.qform_code=n.Utils.getShortAt(a,252,this.littleEndian),this.sform_code=n.Utils.getShortAt(a,254,this.littleEndian),this.quatern_b=n.Utils.getFloatAt(a,256,this.littleEndian),this.quatern_c=n.Utils.getFloatAt(a,260,this.littleEndian),this.quatern_d=n.Utils.getFloatAt(a,264,this.littleEndian),this.qoffset_x=n.Utils.getFloatAt(a,268,this.littleEndian),this.qoffset_y=n.Utils.getFloatAt(a,272,this.littleEndian),this.qoffset_z=n.Utils.getFloatAt(a,276,this.littleEndian),i=0;3>i;i+=1){for(r=0;4>r;r+=1){o=280+4*(4*i+r),this.affine[i][r]=n.Utils.getFloatAt(a,o,this.littleEndian)}}this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.intent_name=n.Utils.getStringAt(a,328,344),this.magic=n.Utils.getStringAt(a,344,348),this.isHDR=this.magic===n.NIFTI1.MAGIC_NUMBER2,a.byteLength>n.NIFTI1.MAGIC_COOKIE&&(this.extensionFlag[0]=n.Utils.getByteAt(a,348),this.extensionFlag[1]=n.Utils.getByteAt(a,349),this.extensionFlag[2]=n.Utils.getByteAt(a,350),this.extensionFlag[3]=n.Utils.getByteAt(a,351),this.extensionFlag[0]&&(this.extensionSize=this.getExtensionSize(a),this.extensionCode=this.getExtensionCode(a)))},n.NIFTI1.prototype.toFormattedString=function(){var e=n.Utils.formatNumber,t="";return t+="Dim Info = "+this.dim_info+"\n",t+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+"\n",t+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+"\n",t+="Intent Code = "+this.intent_code+"\n",t+="Datatype = "+this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+")\n",t+="Bits Per Voxel = "+this.numBitsPerVoxel+"\n",t+="Slice Start = "+this.slice_start+"\n",t+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+"\n",t+="Image Offset = "+this.vox_offset+"\n",t+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+"\n",t+="Slice End = "+this.slice_end+"\n",t+="Slice Code = "+this.slice_code+"\n",t+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(n.NIFTI1.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(n.NIFTI1.TEMPORAL_UNITS_MASK&this.xyzt_units)+")\n",t+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+"\n",t+="Slice Duration = "+this.slice_duration+"\n",t+="Time Axis Shift = "+this.toffset+"\n",t+="Description: \""+this.description+"\"\n",t+="Auxiliary File: \""+this.aux_file+"\"\n",t+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+")\n",t+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+")\n",t+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+"\n",t+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+"\n",t+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+"\n",t+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+"\n",t+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+"\n",t+="Intent Name: \""+this.intent_name+"\"\n",this.extensionFlag[0]&&(t+="Extension: Size = "+this.extensionSize+"  Code = "+this.extensionCode+"\n"),t},n.NIFTI1.prototype.getDatatypeCodeString=function(e){return e===n.NIFTI1.TYPE_UINT8?"1-Byte Unsigned Integer":e===n.NIFTI1.TYPE_INT16?"2-Byte Signed Integer":e===n.NIFTI1.TYPE_INT32?"4-Byte Signed Integer":e===n.NIFTI1.TYPE_FLOAT32?"4-Byte Float":e===n.NIFTI1.TYPE_FLOAT64?"8-Byte Float":e===n.NIFTI1.TYPE_RGB24?"RGB":e===n.NIFTI1.TYPE_INT8?"1-Byte Signed Integer":e===n.NIFTI1.TYPE_UINT16?"2-Byte Unsigned Integer":e===n.NIFTI1.TYPE_UINT32?"4-Byte Unsigned Integer":e===n.NIFTI1.TYPE_INT64?"8-Byte Signed Integer":e===n.NIFTI1.TYPE_UINT64?"8-Byte Unsigned Integer":"Unknown"},n.NIFTI1.prototype.getTransformCodeString=function(e){return e===n.NIFTI1.XFORM_SCANNER_ANAT?"Scanner":e===n.NIFTI1.XFORM_ALIGNED_ANAT?"Aligned":e===n.NIFTI1.XFORM_TALAIRACH?"Talairach":e===n.NIFTI1.XFORM_MNI_152?"MNI":"Unknown"},n.NIFTI1.prototype.getUnitsCodeString=function(e){return e===n.NIFTI1.UNITS_METER?"Meters":e===n.NIFTI1.UNITS_MM?"Millimeters":e===n.NIFTI1.UNITS_MICRON?"Microns":e===n.NIFTI1.UNITS_SEC?"Seconds":e===n.NIFTI1.UNITS_MSEC?"Milliseconds":e===n.NIFTI1.UNITS_USEC?"Microseconds":e===n.NIFTI1.UNITS_HZ?"Hz":e===n.NIFTI1.UNITS_PPM?"PPM":e===n.NIFTI1.UNITS_RADS?"Rads":"Unknown"},n.NIFTI1.prototype.getQformMat=function(){return this.convertNiftiQFormToNiftiSForm(this.quatern_b,this.quatern_c,this.quatern_d,this.qoffset_x,this.qoffset_y,this.qoffset_z,this.pixDims[1],this.pixDims[2],this.pixDims[3],this.pixDims[0])},n.NIFTI1.prototype.convertNiftiQFormToNiftiSForm=function(e,t,i,n,r,o,a,s,l,c){var h,u,f,d,p=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],_=e,m=t,b=i;return p[3][0]=p[3][1]=p[3][2]=0,p[3][3]=1,1e-7>(h=1-(_*_+m*m+b*b))?(_*=h=1/_Mathsqrt(_*_+m*m+b*b),m*=h,b*=h,h=0):h=_Mathsqrt(h),u=0<a?a:1,f=0<s?s:1,d=0<l?l:1,0>c&&(d=-d),p[0][0]=(h*h+_*_-m*m-b*b)*u,p[0][1]=2*(_*m-h*b)*f,p[0][2]=2*(_*b+h*m)*d,p[1][0]=2*(_*m+h*b)*u,p[1][1]=(h*h+m*m-_*_-b*b)*f,p[1][2]=2*(m*b-h*_)*d,p[2][0]=2*(_*b-h*m)*u,p[2][1]=2*(m*b+h*_)*f,p[2][2]=(h*h+b*b-m*m-_*_)*d,p[0][3]=n,p[1][3]=r,p[2][3]=o,p},n.NIFTI1.prototype.convertNiftiSFormToNEMA=function(e){var t,i,n,r,o,a,s,l,c,h,u,f,d,p,_,m,b,y,g,v,A,w,x,k,I,S,E,C,B,M,P,T,D;if(p=0,S=[[0,0,0],[0,0,0],[0,0,0]],E=[[0,0,0],[0,0,0],[0,0,0]],t=e[0][0],i=e[0][1],n=e[0][2],r=e[1][0],o=e[1][1],a=e[1][2],s=e[2][0],l=e[2][1],c=e[2][2],0===(h=_Mathsqrt(t*t+r*r+s*s)))return null;if(t/=h,r/=h,s/=h,0===(h=_Mathsqrt(i*i+o*o+l*l)))return null;if(h=t*(i/=h)+r*(o/=h)+s*(l/=h),1e-4<_Mathabs(h)){if(i-=h*t,o-=h*r,l-=h*s,0===(h=_Mathsqrt(i*i+o*o+l*l)))return null;i/=h,o/=h,l/=h}if(0===(h=_Mathsqrt(n*n+a*a+c*c))?(n=r*l-s*o,a=s*i-l*t,c=t*o-r*i):(n/=h,a/=h,c/=h),h=t*n+r*a+s*c,1e-4<_Mathabs(h)){if(n-=h*t,a-=h*r,c-=h*s,0===(h=_Mathsqrt(n*n+a*a+c*c)))return null;n/=h,a/=h,c/=h}if(h=i*n+o*a+l*c,1e-4<_Mathabs(h)){if(n-=h*i,a-=h*o,c-=h*l,0===(h=_Mathsqrt(n*n+a*a+c*c)))return null;n/=h,a/=h,c/=h}if(S[0][0]=t,S[0][1]=i,S[0][2]=n,S[1][0]=r,S[1][1]=o,S[1][2]=a,S[2][0]=s,S[2][1]=l,S[2][2]=c,0===(u=this.nifti_mat33_determ(S)))return null;for(I=-666,y=A=w=x=1,g=2,v=3,f=1;3>=f;f+=1){for(d=1;3>=d;d+=1){if(f!==d)for(p=1;3>=p;p+=1){if(f!==p&&d!==p)for(E[0][0]=E[0][1]=E[0][2]=E[1][0]=E[1][1]=E[1][2]=E[2][0]=E[2][1]=E[2][2]=0,_=-1;1>=_;_+=2){for(m=-1;1>=m;m+=2){for(b=-1;1>=b;b+=2){E[0][f-1]=_,E[1][d-1]=m,E[2][p-1]=b,0<this.nifti_mat33_determ(E)*u&&(h=(k=this.nifti_mat33_mul(E,S))[0][0]+k[1][1]+k[2][2])>I&&(I=h,y=f,g=d,v=p,A=_,w=m,x=b)}}}}}}switch(C=B=M=P=T=D=0,y*A){case 1:C="X",P="+";break;case-1:C="X",P="-";break;case 2:C="Y",P="+";break;case-2:C="Y",P="-";break;case 3:C="Z",P="+";break;case-3:C="Z",P="-";}switch(g*w){case 1:B="X",T="+";break;case-1:B="X",T="-";break;case 2:B="Y",T="+";break;case-2:B="Y",T="-";break;case 3:B="Z",T="+";break;case-3:B="Z",T="-";}switch(v*x){case 1:M="X",D="+";break;case-1:M="X",D="-";break;case 2:M="Y",D="+";break;case-2:M="Y",D="-";break;case 3:M="Z",D="+";break;case-3:M="Z",D="-";}return C+B+M+P+T+D},n.NIFTI1.prototype.nifti_mat33_mul=function(e,t){var i,n,r=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;3>i;i+=1){for(n=0;3>n;n+=1){r[i][n]=e[i][0]*t[0][n]+e[i][1]*t[1][n]+e[i][2]*t[2][n]}}return r},n.NIFTI1.prototype.nifti_mat33_determ=function(e){var t,i,n,r,o,a,s,l,c;return t=e[0][0],i=e[0][1],n=e[0][2],r=e[1][0],o=e[1][1],a=e[1][2],s=e[2][0],l=e[2][1],t*o*(c=e[2][2])-t*l*a-r*i*c+r*l*n+s*i*a-s*o*n},n.NIFTI1.prototype.getExtensionLocation=function(){return n.NIFTI1.MAGIC_COOKIE+4},n.NIFTI1.prototype.getExtensionSize=function(e){return n.Utils.getIntAt(e,this.getExtensionLocation(),this.littleEndian)},n.NIFTI1.prototype.getExtensionCode=function(e){return n.Utils.getIntAt(e,this.getExtensionLocation()+4,this.littleEndian)},"undefined"!==typeof e&&e.exports&&(e.exports=n.NIFTI1)},function(e){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||function(){this.hSamp=0,this.quantTableSel=0,this.vSamp=0},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.ComponentSpec)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||i(1),n.lossless.Utils=n.lossless.Utils||i(2),n.lossless.HuffmanTable=n.lossless.HuffmanTable||function(){this.l=n.lossless.Utils.createArray(4,2,16),this.th=[],this.v=n.lossless.Utils.createArray(4,2,16,200),this.tc=n.lossless.Utils.createArray(4,2),this.tc[0][0]=0,this.tc[1][0]=0,this.tc[2][0]=0,this.tc[3][0]=0,this.tc[0][1]=0,this.tc[1][1]=0,this.tc[2][1]=0,this.tc[3][1]=0,this.th[0]=0,this.th[1]=0,this.th[2]=0,this.th[3]=0},n.lossless.HuffmanTable.MSB=2147483648,n.lossless.HuffmanTable.prototype.read=function(e,t){var i,n,r,o,a,s,l=0;for(i=e.get16(),l+=2;l<i;){if(l+=1,3<(r=15&(n=e.get8())))throw new Error("ERROR: Huffman table ID > 3");if(2<(o=n>>4))throw new Error("ERROR: Huffman table [Table class > 2 ]");for(this.th[r]=1,this.tc[r][o]=1,a=0;16>a;a+=1){this.l[r][o][a]=e.get8(),l+=1}for(a=0;16>a;a+=1){for(s=0;s<this.l[r][o][a];s+=1){if(l>i)throw new Error("ERROR: Huffman table format error [count>Lh]");this.v[r][o][a][s]=e.get8(),l+=1}}}if(l!==i)throw new Error("ERROR: Huffman table format error [count!=Lf]");for(a=0;4>a;a+=1){for(s=0;2>s;s+=1){0!==this.tc[a][s]&&this.buildHuffTable(t[a][s],this.l[a][s],this.v[a][s])}}return 1},n.lossless.HuffmanTable.prototype.buildHuffTable=function(e,t,i){var r,o,a,s,l;for(256,o=0,a=0;8>a;a+=1){for(s=0;s<t[a];s+=1){for(l=0;l<256>>a+1;l+=1){e[o]=i[a][s]|a+1<<8,o+=1}}}for(a=1;256>o;a+=1,o+=1){e[o]=a|n.lossless.HuffmanTable.MSB}for(r=1,o=0,a=8;16>a;a+=1){for(s=0;s<t[a];s+=1){for(l=0;l<256>>a-7;l+=1){e[256*r+o]=i[a][s]|a+1<<8,o+=1}if(256<=o){if(256<o)throw new Error("ERROR: Huffman table error(1)!");o=0,r+=1}}}},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.HuffmanTable)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||i(1),n.lossless.Utils=n.lossless.Utils||i(2),n.lossless.QuantizationTable=n.lossless.QuantizationTable||function(){this.precision=[],this.tq=[],this.quantTables=n.lossless.Utils.createArray(4,64),this.tq[0]=0,this.tq[1]=0,this.tq[2]=0,this.tq[3]=0},n.lossless.QuantizationTable.enhanceQuantizationTable=function(e,t){var i;for(i=0;8>i;i+=1){e[t[0+i]]*=90,e[t[32+i]]*=90,e[t[16+i]]*=118,e[t[48+i]]*=49,e[t[40+i]]*=71,e[t[8+i]]*=126,e[t[56+i]]*=25,e[t[24+i]]*=106}for(i=0;8>i;i+=1){e[t[0+8*i]]*=90,e[t[4+8*i]]*=90,e[t[2+8*i]]*=118,e[t[6+8*i]]*=49,e[t[5+8*i]]*=71,e[t[1+8*i]]*=126,e[t[7+8*i]]*=25,e[t[3+8*i]]*=106}for(i=0;64>i;i+=1){e[i]>>=6}},n.lossless.QuantizationTable.prototype.read=function(e,t){var i,r,o,a,s=0;for(i=e.get16(),s+=2;s<i;){if(s+=1,3<(o=15&(r=e.get8())))throw new Error("ERROR: Quantization table ID > 3");if(this.precision[o]=r>>4,0===this.precision[o])this.precision[o]=8;else{if(1!==this.precision[o])throw new Error("ERROR: Quantization table precision error");this.precision[o]=16}if(this.tq[o]=1,8===this.precision[o]){for(a=0;64>a;a+=1){if(s>i)throw new Error("ERROR: Quantization table format error");this.quantTables[o][a]=e.get8(),s+=1}n.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[o],t)}else{for(a=0;64>a;a+=1){if(s>i)throw new Error("ERROR: Quantization table format error");this.quantTables[o][a]=e.get16(),s+=2}n.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[o],t)}}if(s!==i)throw new Error("ERROR: Quantization table error [count!=Lq]");return 1},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.QuantizationTable)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||i(1),n.lossless.ScanComponent=n.lossless.ScanComponent||i(25),n.lossless.ScanHeader=n.lossless.ScanHeader||function(){this.ah=0,this.al=0,this.numComp=0,this.selection=0,this.spectralEnd=0,this.components=[]},n.lossless.ScanHeader.prototype.read=function(e){var t,i,r,o=0;for(t=e.get16(),o+=2,this.numComp=e.get8(),o+=1,i=0;i<this.numComp;i+=1){if(this.components[i]=new n.lossless.ScanComponent,o>t)throw new Error("ERROR: scan header format error");this.components[i].scanCompSel=e.get8(),o+=1,r=e.get8(),o+=1,this.components[i].dcTabSel=r>>4,this.components[i].acTabSel=15&r}if(this.selection=e.get8(),o+=1,this.spectralEnd=e.get8(),o+=1,r=e.get8(),this.ah=r>>4,this.al=15&r,(o+=1)!==t)throw new Error("ERROR: scan header format error [count!=Ns]");return 1},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.ScanHeader)},function(e){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.ScanComponent=n.lossless.ScanComponent||function(){this.acTabSel=0,this.dcTabSel=0,this.scanCompSel=0},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.ScanComponent)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||i(21),n.lossless.DataStream=n.lossless.DataStream||i(1),n.lossless.FrameHeader=n.lossless.FrameHeader||function(){this.components=[],this.dimX=0,this.dimY=0,this.numComp=0,this.precision=0},n.lossless.FrameHeader.prototype.read=function(e){var t,i,r,o,a=0;for(t=e.get16(),a+=2,this.precision=e.get8(),a+=1,this.dimY=e.get16(),a+=2,this.dimX=e.get16(),a+=2,this.numComp=e.get8(),a+=1,i=1;i<=this.numComp;i+=1){if(a>t)throw new Error("ERROR: frame format error");if(r=e.get8(),(a+=1)>=t)throw new Error("ERROR: frame format error [c>=Lf]");o=e.get8(),a+=1,this.components[r]||(this.components[r]=new n.lossless.ComponentSpec),this.components[r].hSamp=o>>4,this.components[r].vSamp=15&o,this.components[r].quantTableSel=e.get8(),a+=1}if(a!==t)throw new Error("ERROR: frame format error [Lf!=count]");return 1},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.FrameHeader)},function(e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==babelHelpers.typeof(e)&&null!==e}function o(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(babelHelpers.instanceof(t=arguments[1],Error))throw t;var h=new Error("Uncaught, unspecified \"error\" event. ("+t+")");throw h.context=t,h}if(o(i=this._events[e]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s);}else if(r(i))for(s=Array.prototype.slice.call(arguments,1),a=(c=i.slice()).length,l=0;l<a;l++){c[l].apply(this,s)}return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&0<a&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var i,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,o=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(s=a;0<s--;){if(i[s]===t||i[s].listener&&i[s].listener===t){o=s;break}}if(0>o)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events){"removeListener"!==t&&this.removeAllListeners(t)}return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;){this.removeListener(e,i[i.length-1])}return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){e.exports=i(65)},function(e,t,i){"use strict";var n=i(30),r=i(0),o=i(15),a=i(5),s=i(16),l=Object.prototype.toString,c=0;function d(e){if(!babelHelpers.instanceof(this,d))return new d(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&16>t.windowBits&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==c)throw new Error(a[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=n.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[i]);this._dict_set=!0}}function p(e,t){var i=new d(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}d.prototype.push=function(e,t){var i,a,s=this.strm,h=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(h),s.next_out=0,s.avail_out=h),1!==(i=n.deflate(s,a))&&i!==c)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=d,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},function(e,t,i){"use strict";var n,r=i(0),o=i(31),a=i(13),s=i(14),l=i(5),c=0,f=4,d=5,p=0,_=1,m=-2,y=-5,A=2,S=8,M=286,G=3,O=258,F=O+G+1,Z=42,z=69,U=73,V=91,N=103,H=113,W=666,j=1,Y=2,X=3,Q=4;function q(e,t){return e.msg=l[t],t}function K(e){return(e<<1)-(4<e?9:0)}function $(e){for(var t=e.length;0<=--t;){e[t]=0}}function ee(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=255&t>>>8,e.pending_buf[e.pending++]=255&t}function re(e,t,i,n){var o=e.avail_in;return o>n&&(o=n),0===o?0:(e.avail_in-=o,r.arraySet(t,e.input,e.next_in,o,i),1===e.state.wrap?e.adler=a(e.adler,t,o,i):2===e.state.wrap&&(e.adler=s(e.adler,t,o,i)),e.next_in+=o,e.total_in+=o,o)}function oe(e,t){var i,n,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,c=e.window,h=e.w_mask,u=e.prev,f=e.strstart+O,d=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+a]===p&&c[i+a-1]===d&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<f);if(n=O-(f-o),o=f-O,n>a){if(e.match_start=t,a=n,n>=s)break;d=c[o+a-1],p=c[o+a]}}}while((t=u[t&h])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function ae(e){var t,i,n,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-F)){r.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=s?n-s:0}while(--i);t=i=s;do{n=e.prev[--t],e.prev[t]=n>=s?n-s:0}while(--i);o+=s}if(0===e.strm.avail_in)break;if(i=re(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=G)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+G-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<G));){}}while(e.lookahead<F&&0!==e.strm.avail_in)}function se(e,t){for(var i,n;;){if(e.lookahead<F){if(ae(e),e.lookahead<F&&t===c)return j;if(0===e.lookahead)break}if(i=0,e.lookahead>=G&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+G-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-F&&(e.match_length=oe(e,i)),e.match_length>=G){if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-G),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=G){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+G-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;}else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return j}return e.insert=e.strstart<G-1?e.strstart:G-1,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?j:Y}function le(e,t){for(var i,n,r;;){if(e.lookahead<F){if(ae(e),e.lookahead<F&&t===c)return j;if(0===e.lookahead)break}if(i=0,e.lookahead>=G&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+G-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=G-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-F&&(e.match_length=oe(e,i),5>=e.match_length&&(e.strategy===1||e.match_length===G&&4096<e.strstart-e.match_start)&&(e.match_length=G-1)),e.prev_length>=G&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-G,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-G),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+G-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=G-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return j}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return j}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<G-1?e.strstart:G-1,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?j:Y}function ce(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function he(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=t.wrap?Z:H,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),p):q(e,m)}function ue(e){var t=he(e);return t===p&&function(e){e.window_size=2*e.w_size,$(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=G-1,e.match_available=0,e.ins_h=0}(e.state),t}function fe(e,t,i,n,o,a){if(!e)return m;var s=1;if(t===-1&&(t=6),0>n?(s=0,n=-n):15<n&&(s=2,n-=16),1>o||o>9||i!==S||8>n||15<n||0>t||9<t||0>a||a>4)return q(e,m);8===n&&(n=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*(2*M+1)),this.dyn_dtree=new r.Buf16(2*(2*30+1)),this.bl_tree=new r.Buf16(2*(2*19+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(15+1),this.heap=new r.Buf16(2*M+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*M+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+G-1)/G),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=i,ue(e)}n=[new ce(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(1>=e.lookahead){if(ae(e),0===e.lookahead&&t===c)return j;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return j;if(e.strstart-e.block_start>=e.w_size-F&&(te(e,!1),0===e.strm.avail_out))return j}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),j)}),new ce(4,4,8,4,se),new ce(4,5,16,8,se),new ce(4,6,32,32,se),new ce(4,4,16,16,le),new ce(8,16,32,32,le),new ce(8,16,128,128,le),new ce(8,32,128,256,le),new ce(32,128,258,1024,le),new ce(32,258,258,4096,le)],t.deflateInit=function(e,t){return fe(e,t,S,15,8,0)},t.deflateInit2=fe,t.deflateReset=ue,t.deflateResetKeep=he,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,p):m},t.deflate=function(e,t){var i,r,a,l;if(!e||!e.state||t>d||0>t)return e?q(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===W&&t!==f)return q(e,0===e.avail_out?y:m);if(r.strm=e,i=r.last_flush,r.last_flush=t,r.status===Z)if(2===r.wrap)e.adler=0,ie(r,31),ie(r,139),ie(r,8),r.gzhead?(ie(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ie(r,255&r.gzhead.time),ie(r,255&r.gzhead.time>>8),ie(r,255&r.gzhead.time>>16),ie(r,255&r.gzhead.time>>24),ie(r,9===r.level?2:r.strategy>=A||2>r.level?4:0),ie(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ie(r,255&r.gzhead.extra.length),ie(r,255&r.gzhead.extra.length>>8)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=z):(ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,9===r.level?2:r.strategy>=A||2>r.level?4:0),ie(r,3),r.status=H);else{var b=S+(r.w_bits-8<<4)<<8;b|=(r.strategy>=A||2>r.level?0:6>r.level?1:6===r.level?2:3)<<6,0!==r.strstart&&(b|=32),b+=31-b%31,r.status=H,ne(r,b),0!==r.strstart&&(ne(r,e.adler>>>16),ne(r,65535&e.adler)),e.adler=1}if(r.status===z)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending!==r.pending_buf_size));){ie(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++}r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=U)}else r.status=U;if(r.status===U)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ie(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=V)}else r.status=V;if(r.status===V)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ie(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=N)}else r.status=N;if(r.status===N&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ee(e),r.pending+2<=r.pending_buf_size&&(ie(r,255&e.adler),ie(r,255&e.adler>>8),e.adler=0,r.status=H)):r.status=H),0!==r.pending){if(ee(e),0===e.avail_out)return r.last_flush=-1,p}else if(0===e.avail_in&&K(t)<=K(i)&&t!==f)return q(e,y);if(r.status===W&&0!==e.avail_in)return q(e,y);if(0!==e.avail_in||0!==r.lookahead||t!==c&&r.status!==W){var g=r.strategy===A?function(e,t){for(var i;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===c)return j;break}if(e.match_length=0,i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return j}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?j:Y}(r,t):r.strategy===3?function(e,t){for(var i,n,r,a,s=e.window;;){if(e.lookahead<=O){if(ae(e),e.lookahead<=O&&t===c)return j;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=G&&0<e.strstart&&(n=s[r=e.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){a=e.strstart+O;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<a);e.match_length=O-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=G?(i=o._tr_tally(e,1,e.match_length-G),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(te(e,!1),0===e.strm.avail_out))return j}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?j:Y}(r,t):n[r.level].func(r,t);if(g!==X&&g!==Q||(r.status=W),g===j||g===X)return 0===e.avail_out&&(r.last_flush=-1),p;if(g===Y&&(t===1?o._tr_align(r):t!==d&&(o._tr_stored_block(r,0,0,!1),t===3&&($(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ee(e),0===e.avail_out))return r.last_flush=-1,p}return t!==f?p:0>=r.wrap?_:(2===r.wrap?(ie(r,255&e.adler),ie(r,255&e.adler>>8),ie(r,255&e.adler>>16),ie(r,255&e.adler>>24),ie(r,255&e.total_in),ie(r,255&e.total_in>>8),ie(r,255&e.total_in>>16),ie(r,255&e.total_in>>24)):(ne(r,e.adler>>>16),ne(r,65535&e.adler)),ee(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?p:_)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==Z&&t!==z&&t!==U&&t!==V&&t!==N&&t!==H&&t!==W?q(e,m):(e.state=null,t===H?q(e,-3):p):m},t.deflateSetDictionary=function(e,t){var i,n,o,s,l,c,h,u,f=t.length;if(!e||!e.state)return m;if(2===(s=(i=e.state).wrap)||1===s&&i.status!==Z||i.lookahead)return m;for(1===s&&(e.adler=a(e.adler,t,f,0)),i.wrap=0,f>=i.w_size&&(0===s&&($(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new r.Buf8(i.w_size),r.arraySet(u,t,f-i.w_size,i.w_size,0),t=u,f=i.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,ae(i);i.lookahead>=G;){n=i.strstart,o=i.lookahead-(G-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+G-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--o);i.strstart=n,i.lookahead=G-1,ae(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=G-1,i.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,i.wrap=s,p},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,i){"use strict";var n=i(0),o=0,a=1;function l(e){for(var t=e.length;0<=--t;){e[t]=0}}var h=1,f=29,d=256,p=d+1+f,_=30,m=19,b=2*p+1,y=15,g=16,A=256,w=16,x=17,k=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=Array(2*(p+2));l(B);var M=Array(2*_);l(M);var P=Array(512);l(P);var T=Array(256);l(T);var D=Array(f);l(D);var R,G,O,F=Array(_);function L(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function Z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z(e){return 256>e?P[e]:P[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=255&t>>>8}function V(e,t,i){e.bi_valid>g-i?(e.bi_buf|=65535&t<<e.bi_valid,U(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=i-g):(e.bi_buf|=65535&t<<e.bi_valid,e.bi_valid+=i)}function N(e,t,i){V(e,i[2*t],i[2*t+1])}function H(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(0<--t);return i>>>1}function W(e,t,i){var n,r,o=Array(y+1),a=0;for(n=1;n<=y;n++){o[n]=a=a+i[n-1]<<1}for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=H(o[s]++,s))}}function j(e){var t;for(t=0;t<p;t++){e.dyn_ltree[2*t]=0}for(t=0;t<_;t++){e.dyn_dtree[2*t]=0}for(t=0;t<m;t++){e.bl_tree[2*t]=0}e.dyn_ltree[2*A]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Y(e){8<e.bi_valid?U(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function X(e,t,i,n){var r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]}function Q(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&X(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!X(t,n,e.heap[r],e.depth));){e.heap[i]=e.heap[r],i=r,r<<=1}e.heap[i]=n}function J(e,t,i){var n,r,o,a,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===n?N(e,r,t):(N(e,(o=T[r])+d+1,t),0!==(a=I[o])&&V(e,r-=D[o],a),N(e,o=z(--n),i),0!==(a=S[o])&&V(e,n-=F[o],a))}while(s<e.last_lit);N(e,A,t)}function q(e,t){var i,n,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,i=0;i<l;i++){0!==o[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):o[2*i+1]=0}for(;2>e.heap_len;){o[2*(r=e.heap[++e.heap_len]=2>c?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1])}for(t.max_code=c,i=e.heap_len>>1;1<=i;i--){Q(e,o,i)}r=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Q(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,o[2*r]=o[2*i]+o[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,o[2*i+1]=o[2*n+1]=r,e.heap[1]=r++,Q(e,o,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,o,a,s,l=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,u=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,_=0;for(o=0;o<=y;o++){e.bl_count[o]=0}for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<b;i++){(o=l[2*l[2*(n=e.heap[i])+1]+1]+1)>p&&(o=p,_++),l[2*n+1]=o,n>c||(e.bl_count[o]++,a=0,n>=d&&(a=f[n-d]),s=l[2*n],e.opt_len+=s*(o+a),u&&(e.static_len+=s*(h[2*n+1]+a)))}if(0!==_){do{for(o=p-1;0===e.bl_count[o];){o--}e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,_-=2}while(0<_);for(o=p;0!==o;o--){for(n=e.bl_count[o];0!==n;){(r=e.heap[--i])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),n--)}}}}(e,t),W(o,c,e.bl_count)}function K(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++){r=a,a=t[2*(n+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*w]++):10>=s?e.bl_tree[2*x]++:e.bl_tree[2*k]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}}function $(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=i;n++){if(r=a,a=t[2*(n+1)+1],!(++s<l&&r===a)){if(s<c)do{N(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(N(e,r,e.bl_tree),s--),N(e,w,e.bl_tree),V(e,s-3,2)):10>=s?(N(e,x,e.bl_tree),V(e,s-3,3)):(N(e,k,e.bl_tree),V(e,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}}l(F);var ee=!1;function te(e,t,i,r){V(e,(0<<1)+(r?1:0),3),function(e,t,i,r){Y(e),r&&(U(e,i),U(e,~i)),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}t._tr_init=function(e){ee||(function(){var e,t,i,n,r,o=Array(y+1);for(i=0,n=0;n<f-1;n++){for(D[n]=i,e=0;e<1<<I[n];e++){T[i++]=n}}for(T[i-1]=n,r=0,n=0;16>n;n++){for(F[n]=r,e=0;e<1<<S[n];e++){P[r++]=n}}for(r>>=7;n<_;n++){for(F[n]=r<<7,e=0;e<1<<S[n]-7;e++){P[256+r++]=n}}for(t=0;t<=y;t++){o[t]=0}for(e=0;143>=e;){B[2*e+1]=8,e++,o[8]++}for(;255>=e;){B[2*e+1]=9,e++,o[9]++}for(;279>=e;){B[2*e+1]=7,e++,o[7]++}for(;287>=e;){B[2*e+1]=8,e++,o[8]++}for(W(B,p+1,o),e=0;e<_;e++){M[2*e+1]=5,M[2*e]=H(e,5)}R=new L(B,I,d+1,p,y),G=new L(M,S,0,_,y),O=new L([],E,0,m,7)}(),ee=!0),e.l_desc=new Z(e.dyn_ltree,R),e.d_desc=new Z(e.dyn_dtree,G),e.bl_desc=new Z(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,j(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,i,n){var l,c,f=0;0<e.level?(e.strm.data_type===2&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;31>=t;t++,i>>>=1){if(1&i&&0!==e.dyn_ltree[2*t])return o}if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<d;t++){if(0!==e.dyn_ltree[2*t])return a}return o}(e)),q(e,e.l_desc),q(e,e.d_desc),f=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),q(e,e.bl_desc),t=m-1;3<=t&&0===e.bl_tree[2*C[t]+1];t--){}return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=i+5,i+4<=l&&-1!==t?te(e,t,i,n):e.strategy===4||c===l?(V(e,(h<<1)+(n?1:0),3),J(e,B,M)):(V(e,(2<<1)+(n?1:0),3),function(e,t,i,n){var r;for(V(e,t-257,5),V(e,i-1,5),V(e,n-4,4),r=0;r<n;r++){V(e,e.bl_tree[2*C[r]+1],3)}$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1),J(e,e.dyn_ltree,e.dyn_dtree)),j(e),n&&Y(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=255&t>>>8,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(T[i]+d+1)]++,e.dyn_dtree[2*z(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){V(e,h<<1,3),N(e,A,B),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,i){"use strict";var n=i(33),r=i(0),o=i(15),a=i(17),s=i(5),l=i(16),c=i(36),h=Object.prototype.toString;function u(e){if(!babelHelpers.instanceof(this,u))return new u(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(s[i]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function f(e,t){var i=new u(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}u.prototype.push=function(e,t){var i,s,l,c,u,f,d=this.strm,p=this.options.chunkSize,_=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(p),d.next_out=0,d.avail_out=p),(i=n.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&_&&(f="string"==typeof _?o.string2buf(_):"[object ArrayBuffer]"===h.call(_)?new Uint8Array(_):_,i=n.inflateSetDictionary(this.strm,f)),i===a.Z_BUF_ERROR&&!0===m&&(i=a.Z_OK,m=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&i!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),c=d.next_out-l,u=o.buf2string(d.output,l),d.next_out=c,d.avail_out=p-c,c&&r.arraySet(d.output,d.output,l,c,0),this.onData(u)):this.onData(r.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((0<d.avail_in||0===d.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},function(e,t,i){"use strict";var n=i(0),r=i(13),o=i(14),a=i(34),s=i(35),c=1,h=2,u=4,d=6,p=0,b=-2,y=-3,g=-4,A=8,w=1,x=2,k=3,I=4,S=5,E=6,C=7,B=8,M=9,P=10,T=11,D=12,R=13,G=14,O=15,F=16,L=17,Z=18,z=19,U=20,V=21,N=22,H=23,W=24,j=25,Y=26,X=27,Q=28,J=29,q=30,K=31;function ne(e){return(255&e>>>24)+(65280&e>>>8)+((65280&e)<<8)+((255&e)<<24)}function re(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,p):b}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,re(e)):b}function ae(e,t){var i,n;return e&&e.state?(n=e.state,0>t?(i=0,t=-t):(i=1+(t>>4),48>t&&(t&=15)),t&&(8>t||15<t)?b:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,oe(e))):b}function se(e,t){var i,r;return e?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=r,r.window=null,(i=ae(e,t))!==p&&(e.state=null),i):b}var le,ce,he=!0;function ue(e){if(he){var t;for(le=new n.Buf32(512),ce=new n.Buf32(32),t=0;144>t;){e.lens[t++]=8}for(;256>t;){e.lens[t++]=9}for(;280>t;){e.lens[t++]=7}for(;288>t;){e.lens[t++]=8}for(s(c,e.lens,0,288,le,0,e.work,{bits:9}),t=0;32>t;){e.lens[t++]=5}s(h,e.lens,0,32,ce,0,e.work,{bits:5}),he=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function fe(e,t,i,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),r>=a.wsize?(n.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),n.arraySet(a.window,t,i-r,o,a.wnext),(r-=o)?(n.arraySet(a.window,t,i-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=oe,t.inflateReset2=ae,t.inflateResetKeep=re,t.inflateInit=function(e){return se(e,15)},t.inflateInit2=se,t.inflate=function(e,t){var i,ee,te,ie,re,oe,ae,se,le,ce,he,de,pe,_e,me,be,ye,ge,ve,Ae,we,xe,ke,Ie,Se=0,Ee=new n.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return b;(i=e.state).mode===D&&(i.mode=R),re=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,oe=e.avail_in,se=i.hold,le=i.bits,ce=oe,he=ae,xe=p;e:for(;;){switch(i.mode){case w:if(0===i.wrap){i.mode=R;break}for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(2&i.wrap&&35615===se){i.check=0,Ee[0]=255&se,Ee[1]=255&se>>>8,i.check=o(i.check,Ee,2,0),se=0,le=0,i.mode=x;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",i.mode=q;break}if((15&se)!==A){e.msg="unknown compression method",i.mode=q;break}if(le-=4,we=8+(15&(se>>>=4)),0===i.wbits)i.wbits=we;else if(we>i.wbits){e.msg="invalid window size",i.mode=q;break}i.dmax=1<<we,e.adler=i.check=1,i.mode=512&se?P:D,se=0,le=0;break;case x:for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(i.flags=se,(255&i.flags)!==A){e.msg="unknown compression method",i.mode=q;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=q;break}i.head&&(i.head.text=1&se>>8),512&i.flags&&(Ee[0]=255&se,Ee[1]=255&se>>>8,i.check=o(i.check,Ee,2,0)),se=0,le=0,i.mode=k;case k:for(;32>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.head&&(i.head.time=se),512&i.flags&&(Ee[0]=255&se,Ee[1]=255&se>>>8,Ee[2]=255&se>>>16,Ee[3]=255&se>>>24,i.check=o(i.check,Ee,4,0)),se=0,le=0,i.mode=I;case I:for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.head&&(i.head.xflags=255&se,i.head.os=se>>8),512&i.flags&&(Ee[0]=255&se,Ee[1]=255&se>>>8,i.check=o(i.check,Ee,2,0)),se=0,le=0,i.mode=S;case S:if(1024&i.flags){for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.length=se,i.head&&(i.head.extra_len=se),512&i.flags&&(Ee[0]=255&se,Ee[1]=255&se>>>8,i.check=o(i.check,Ee,2,0)),se=0,le=0}else i.head&&(i.head.extra=null);i.mode=E;case E:if(1024&i.flags&&((de=i.length)>oe&&(de=oe),de&&(i.head&&(we=i.head.extra_len-i.length,i.head.extra||(i.head.extra=Array(i.head.extra_len)),n.arraySet(i.head.extra,ee,ie,de,we)),512&i.flags&&(i.check=o(i.check,ee,de,ie)),oe-=de,ie+=de,i.length-=de),i.length))break e;i.length=0,i.mode=C;case C:if(2048&i.flags){if(0===oe)break e;de=0;do{we=ee[ie+de++],i.head&&we&&65536>i.length&&(i.head.name+=_StringfromCharCode(we))}while(we&&de<oe);if(512&i.flags&&(i.check=o(i.check,ee,de,ie)),oe-=de,ie+=de,we)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=B;case B:if(4096&i.flags){if(0===oe)break e;de=0;do{we=ee[ie+de++],i.head&&we&&65536>i.length&&(i.head.comment+=_StringfromCharCode(we))}while(we&&de<oe);if(512&i.flags&&(i.check=o(i.check,ee,de,ie)),oe-=de,ie+=de,we)break e}else i.head&&(i.head.comment=null);i.mode=M;case M:if(512&i.flags){for(;16>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se!==(65535&i.check)){e.msg="header crc mismatch",i.mode=q;break}se=0,le=0}i.head&&(i.head.hcrc=1&i.flags>>9,i.head.done=!0),e.adler=i.check=0,i.mode=D;break;case P:for(;32>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}e.adler=i.check=ne(se),se=0,le=0,i.mode=T;case T:if(0===i.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,2;e.adler=i.check=1,i.mode=D;case D:if(t===5||t===d)break e;case R:if(i.last){se>>>=7&le,le-=7&le,i.mode=X;break}for(;3>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}switch(i.last=1&se,le-=1,3&(se>>>=1)){case 0:i.mode=G;break;case 1:if(ue(i),i.mode=U,t===d){se>>>=2,le-=2;break e}break;case 2:i.mode=L;break;case 3:e.msg="invalid block type",i.mode=q;}se>>>=2,le-=2;break;case G:for(se>>>=7&le,le-=7&le;32>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if((65535&se)!=(65535^se>>>16)){e.msg="invalid stored block lengths",i.mode=q;break}if(i.length=65535&se,se=0,le=0,i.mode=O,t===d)break e;case O:i.mode=F;case F:if(de=i.length){if(de>oe&&(de=oe),de>ae&&(de=ae),0===de)break e;n.arraySet(te,ee,ie,de,re),oe-=de,ie+=de,ae-=de,re+=de,i.length-=de;break}i.mode=D;break;case L:for(;14>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(i.nlen=257+(31&se),se>>>=5,le-=5,i.ndist=1+(31&se),se>>>=5,le-=5,i.ncode=4+(15&se),se>>>=4,le-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=q;break}i.have=0,i.mode=Z;case Z:for(;i.have<i.ncode;){for(;3>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.lens[Ce[i.have++]]=7&se,se>>>=3,le-=3}for(;19>i.have;){i.lens[Ce[i.have++]]=0}if(i.lencode=i.lendyn,i.lenbits=7,ke={bits:i.lenbits},xe=s(0,i.lens,0,19,i.lencode,0,i.work,ke),i.lenbits=ke.bits,xe){e.msg="invalid code lengths set",i.mode=q;break}i.have=0,i.mode=z;case z:for(;i.have<i.nlen+i.ndist;){for(;be=255&(Se=i.lencode[se&(1<<i.lenbits)-1])>>>16,ye=65535&Se,!((me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(16>ye)se>>>=me,le-=me,i.lens[i.have++]=ye;else{if(16===ye){for(Ie=me+2;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se>>>=me,le-=me,0===i.have){e.msg="invalid bit length repeat",i.mode=q;break}we=i.lens[i.have-1],de=3+(3&se),se>>>=2,le-=2}else if(17===ye){for(Ie=me+3;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}le-=me,we=0,de=3+(7&(se>>>=me)),se>>>=3,le-=3}else{for(Ie=me+7;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}le-=me,we=0,de=11+(127&(se>>>=me)),se>>>=7,le-=7}if(i.have+de>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=q;break}for(;de--;){i.lens[i.have++]=we}}}if(i.mode===q)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=q;break}if(i.lenbits=9,ke={bits:i.lenbits},xe=s(c,i.lens,0,i.nlen,i.lencode,0,i.work,ke),i.lenbits=ke.bits,xe){e.msg="invalid literal/lengths set",i.mode=q;break}if(i.distbits=6,i.distcode=i.distdyn,ke={bits:i.distbits},xe=s(h,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,ke),i.distbits=ke.bits,xe){e.msg="invalid distances set",i.mode=q;break}if(i.mode=U,t===d)break e;case U:i.mode=V;case V:if(6<=oe&&258<=ae){e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,a(e,he),re=e.next_out,te=e.output,ae=e.avail_out,ie=e.next_in,ee=e.input,oe=e.avail_in,se=i.hold,le=i.bits,i.mode===D&&(i.back=-1);break}for(i.back=0;be=255&(Se=i.lencode[se&(1<<i.lenbits)-1])>>>16,ye=65535&Se,!((me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(be&&0==(240&be)){for(ge=me,ve=be,Ae=ye;be=255&(Se=i.lencode[Ae+((se&(1<<ge+ve)-1)>>ge)])>>>16,ye=65535&Se,!(ge+(me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}se>>>=ge,le-=ge,i.back+=ge}if(se>>>=me,le-=me,i.back+=me,i.length=ye,0===be){i.mode=Y;break}if(32&be){i.back=-1,i.mode=D;break}if(64&be){e.msg="invalid literal/length code",i.mode=q;break}i.extra=15&be,i.mode=N;case N:if(i.extra){for(Ie=i.extra;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.length+=se&(1<<i.extra)-1,se>>>=i.extra,le-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=H;case H:for(;be=255&(Se=i.distcode[se&(1<<i.distbits)-1])>>>16,ye=65535&Se,!((me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(0==(240&be)){for(ge=me,ve=be,Ae=ye;be=255&(Se=i.distcode[Ae+((se&(1<<ge+ve)-1)>>ge)])>>>16,ye=65535&Se,!(ge+(me=Se>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}se>>>=ge,le-=ge,i.back+=ge}if(se>>>=me,le-=me,i.back+=me,64&be){e.msg="invalid distance code",i.mode=q;break}i.offset=ye,i.extra=15&be,i.mode=W;case W:if(i.extra){for(Ie=i.extra;le<Ie;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}i.offset+=se&(1<<i.extra)-1,se>>>=i.extra,le-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=q;break}i.mode=j;case j:if(0===ae)break e;if(de=he-ae,i.offset>de){if((de=i.offset-de)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=q;break}de>i.wnext?(de-=i.wnext,pe=i.wsize-de):pe=i.wnext-de,de>i.length&&(de=i.length),_e=i.window}else _e=te,pe=re-i.offset,de=i.length;de>ae&&(de=ae),ae-=de,i.length-=de;do{te[re++]=_e[pe++]}while(--de);0===i.length&&(i.mode=V);break;case Y:if(0===ae)break e;te[re++]=i.length,ae--,i.mode=V;break;case X:if(i.wrap){for(;32>le;){if(0===oe)break e;oe--,se|=ee[ie++]<<le,le+=8}if(he-=ae,e.total_out+=he,i.total+=he,he&&(e.adler=i.check=i.flags?o(i.check,te,he,re-he):r(i.check,te,he,re-he)),he=ae,(i.flags?se:ne(se))!==i.check){e.msg="incorrect data check",i.mode=q;break}se=0,le=0}i.mode=Q;case Q:if(i.wrap&&i.flags){for(;32>le;){if(0===oe)break e;oe--,se+=ee[ie++]<<le,le+=8}if(se!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=q;break}se=0,le=0}i.mode=J;case J:xe=1;break e;case q:xe=y;break e;case K:return g;case 32:default:return b;}}return e.next_out=re,e.avail_out=ae,e.next_in=ie,e.avail_in=oe,i.hold=se,i.bits=le,(i.wsize||he!==e.avail_out&&i.mode<q&&(i.mode<X||t!==u))&&fe(e,e.output,e.next_out,he-e.avail_out)?(i.mode=K,g):(ce-=e.avail_in,he-=e.avail_out,e.total_in+=ce,e.total_out+=he,i.total+=he,i.wrap&&he&&(e.adler=i.check=i.flags?o(i.check,te,he,e.next_out-he):r(i.check,te,he,e.next_out-he)),e.data_type=i.bits+(i.last?64:0)+(i.mode===D?128:0)+(i.mode===U||i.mode===O?256:0),(0===ce&&0===he||t===u)&&xe===p&&(xe=-5),xe)},t.inflateEnd=function(e){if(!e||!e.state)return b;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?b:(i.head=t,t.done=!1,p):b},t.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==T?b:i.mode===T&&r(1,t,n,0)!==i.check?y:fe(e,t,n,n)?(i.mode=K,g):(i.havedict=1,p):b},t.inflateInfo="pako inflate (from Nodeca project)"},function(e){"use strict";e.exports=function(e,t){var i,n,r,o,a,s,l,c,h,u,f,d,p,_,m,b,y,g,v,A,w,x,k,I,S;i=e.state,n=e.next_in,I=e.input,r=n+(e.avail_in-5),o=e.next_out,S=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=i.dmax,c=i.wsize,h=i.whave,u=i.wnext,f=i.window,d=i.hold,p=i.bits,_=i.lencode,m=i.distcode,b=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;e:do{15>p&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),g=_[d&b];t:for(;;){if(d>>>=v=g>>>24,p-=v,0===(v=255&g>>>16))S[o++]=65535&g;else{if(!(16&v)){if(0==(64&v)){g=_[(65535&g)+(d&(1<<v)-1)];continue t}if(32&v){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}A=65535&g,(v&=15)&&(p<v&&(d+=I[n++]<<p,p+=8),A+=d&(1<<v)-1,d>>>=v,p-=v),15>p&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),g=m[d&y];i:for(;;){if(d>>>=v=g>>>24,p-=v,!(16&(v=255&g>>>16))){if(0==(64&v)){g=m[(65535&g)+(d&(1<<v)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&g,p<(v&=15)&&(d+=I[n++]<<p,(p+=8)<v&&(d+=I[n++]<<p,p+=8)),(w+=d&(1<<v)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(d>>>=v,p-=v,w>(v=o-a)){if((v=w-v)>h&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(x=0,k=f,0===u){if(x+=c-v,v<A){A-=v;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}}else if(u<v){if(x+=c+u-v,(v-=u)<A){A-=v;do{S[o++]=f[x++]}while(--v);if(x=0,u<A){A-=v=u;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}}}else if(x+=u-v,v<A){A-=v;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}for(;2<A;){S[o++]=k[x++],S[o++]=k[x++],S[o++]=k[x++],A-=3}A&&(S[o++]=k[x++],1<A&&(S[o++]=k[x++]))}else{x=o-w;do{S[o++]=S[x++],S[o++]=S[x++],S[o++]=S[x++],A-=3}while(2<A);A&&(S[o++]=S[x++],1<A&&(S[o++]=S[x++]))}break}}break}}while(n<r&&o<s);n-=A=p>>3,d&=(1<<(p-=A<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<s?s-o+257:257-(o-s),i.hold=d,i.bits=p}},function(e,t,i){"use strict";var n=i(0),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,l,c,h,u,f){var d,p,_,m,b,y,g,v,A,w=f.bits,x=0,k=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=null,R=0,G=new n.Buf16(16),O=new n.Buf16(16),F=null,L=0;for(x=0;15>=x;x++){G[x]=0}for(k=0;k<l;k++){G[t[i+k]]++}for(E=w,S=15;1<=S&&0===G[S];S--){}if(E>S&&(E=S),0===S)return c[h++]=20971520,c[h++]=20971520,f.bits=1,0;for(I=1;I<S&&0===G[I];I++){}for(E<I&&(E=I),M=1,x=1;15>=x;x++){if(M<<=1,0>(M-=G[x]))return-1}if(0<M&&(0===e||1!==S))return-1;for(O[1]=0,x=1;15>x;x++){O[x+1]=O[x]+G[x]}for(k=0;k<l;k++){0!==t[i+k]&&(u[O[t[i+k]]++]=k)}if(0===e?(D=F=u,y=19):1===e?(D=r,R-=257,F=o,L-=257,y=256):(D=a,F=s,y=-1),T=0,k=0,x=I,b=h,C=E,B=0,_=-1,m=(P=1<<E)-1,1===e&&852<P||2===e&&592<P)return 1;for(;;){0,g=x-B,u[k]<y?(v=0,A=u[k]):u[k]>y?(v=F[L+u[k]],A=D[R+u[k]]):(v=96,A=0),d=1<<x-B,I=p=1<<C;do{c[b+(T>>B)+(p-=d)]=0|(g<<24|v<<16|A)}while(0!==p);for(d=1<<x-1;T&d;){d>>=1}if(0!==d?(T&=d-1,T+=d):T=0,k++,0==--G[x]){if(x===S)break;x=t[i+u[k]]}if(x>E&&(T&m)!==_){for(0===B&&(B=E),b+=I,M=1<<(C=x-B);C+B<S&&!(0>=(M-=G[C+B]));){C++,M<<=1}if(P+=1<<C,1===e&&852<P||2===e&&592<P)return 1;c[_=T&m]=0|(E<<24|C<<16|b-h)}}return 0!==T&&(c[b+T]=0|(x-B<<24|64<<16)),f.bits=E,0}},function(e){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,i){"use strict";var n=i(38),r=i(39),o=i(40),a=i(18),s=i(41),l=i(44),c=i(8),h=i(45),u=i(46),f=127;e.exports=function(e){var t,i,d,p,_,m,b;if(i=0>e||1/e===r?"1":"0",e===n||e===r)return i+(p=c("1",8))+(d=c("0",23));if(e!=e)return i+(p=c("1",8))+(d="1"+c("0",22));if(0===e)return i+(p=c("0",8))+(d=c("0",23));if(m=(e=o(e))-(_=a(e)),_=h(_),m=u(m),_)p=_.length-1;else{for(b=0;b<m.length;b++){if("1"===m[b]){t=b+1;break}}p=-t}return d=_+m,0>p?(p<=-f&&(t=f-1),d=d.substring(t)):d=d.substring(1),p=h(p+f),i+(p=l(p,8,"0"))+(d=s(d,23,"0").substring(0,23))}},function(e){"use strict";var n=new Float32Array(1);new Uint32Array(n.buffer)[0]=2139095040,e.exports=n[0]},function(e){"use strict";var n=new Float32Array(1);new Uint32Array(n.buffer)[0]=4286578688,e.exports=n[0]},function(e){"use strict";e.exports=function(e){return 0>e?-e:0===e?0:e}},function(e,t,i){"use strict";var n=i(6),r=i(7),o=i(19),a=i(8);e.exports=function(e,t,i){var l,c;if(!n(e))throw new TypeError("invalid input argument. First argument must be a string. Value: `"+e+"`.");if(!r(t))throw new TypeError("invalid input argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(2<arguments.length){if(!n(c=i))throw new TypeError("invalid input argument. Third argument must be a string. Value: `"+c+"`.");if(0===c.length)throw new RangeError("invalid input argument. Pad string must not be an empty string.")}else c=" ";if(t>9007199254740991)throw new RangeError("invalid input argument. Output string length exceeds maximum allowed string length.");return 0>=(l=(t-e.length)/c.length)?e:(l=o(l),e+a(c,l))}},function(e,t,i){"use strict";var n=i(43);e.exports=function(e){return n(e)&&0==e%1}},function(e){"use strict";e.exports=function(e){return("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))&&e.valueOf()==e.valueOf()}},function(e,t,i){"use strict";var n=i(6),r=i(7),o=i(19),a=i(8);e.exports=function(e,t,i){var l,c;if(!n(e))throw new TypeError("invalid input argument. First argument must be a string. Value: `"+e+"`.");if(!r(t))throw new TypeError("invalid input argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");if(2<arguments.length){if(!n(c=i))throw new TypeError("invalid input argument. Third argument must be a string. Value: `"+c+"`.");if(0===c.length)throw new RangeError("invalid input argument. Pad string must not be an empty string.")}else c=" ";if(t>9007199254740991)throw new RangeError("invalid input argument. Output string length exceeds maximum allowed string length.");return 0>=(l=(t-e.length)/c.length)?e:(l=o(l),a(c,l)+e)}},function(e,t,i){"use strict";var n=i(18);e.exports=function(e){for(var t,i="";0<e;){i=(t=e/2)===(e=n(t))?"0"+i:"1"+i}return i}},function(e){"use strict";var n=149;e.exports=function(e){var t,i,o,a;if(t="",0===e)return t;for(a=n,o=0;o<n&&(1<=(i=2*e)?(e=i-1,t+="1",a===n&&(a=o)):(e=i,t+="0"),!(1===i||o-a>24));o++){}return t}},function(e,t,i){"use strict";var n=n||{};n.Utils=n.Utils||i(9),n.NIFTI1=n.NIFTI1||i(20),n.NIFTI2=n.NIFTI2||function(){this.littleEndian=!1,this.dim_info=0,this.dims=[],this.intent_p1=0,this.intent_p2=0,this.intent_p3=0,this.intent_code=0,this.datatypeCode=0,this.numBitsPerVoxel=0,this.slice_start=0,this.slice_end=0,this.slice_code=0,this.pixDims=[],this.vox_offset=0,this.scl_slope=1,this.scl_inter=0,this.xyzt_units=0,this.cal_max=0,this.cal_min=0,this.slice_duration=0,this.toffset=0,this.description="",this.aux_file="",this.intent_name="",this.qform_code=0,this.sform_code=0,this.quatern_b=0,this.quatern_c=0,this.quatern_d=0,this.qoffset_x=0,this.qoffset_y=0,this.qoffset_z=0,this.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.magic=0,this.extensionFlag=[0,0,0,0]},n.NIFTI2.MAGIC_COOKIE=540,n.NIFTI2.MAGIC_NUMBER_LOCATION=4,n.NIFTI2.MAGIC_NUMBER=[110,43,50,0,13,10,26,10],n.NIFTI2.prototype.readHeader=function(e){var t,i,r,o,a=new DataView(e),s=n.Utils.getIntAt(a,0,this.littleEndian);if(s!==n.NIFTI2.MAGIC_COOKIE&&(this.littleEndian=!0,s=n.Utils.getIntAt(a,0,this.littleEndian)),s!==n.NIFTI2.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.datatypeCode=n.Utils.getShortAt(a,12,this.littleEndian),this.numBitsPerVoxel=n.Utils.getShortAt(a,14,this.littleEndian),t=0;8>t;t+=1){o=16+8*t,this.dims[t]=n.Utils.getLongAt(a,o,this.littleEndian)}for(this.intent_p1=n.Utils.getDoubleAt(a,80,this.littleEndian),this.intent_p2=n.Utils.getDoubleAt(a,88,this.littleEndian),this.intent_p3=n.Utils.getDoubleAt(a,96,this.littleEndian),t=0;8>t;t+=1){o=104+8*t,this.pixDims[t]=n.Utils.getDoubleAt(a,o,this.littleEndian)}for(this.vox_offset=n.Utils.getLongAt(a,168,this.littleEndian),this.scl_slope=n.Utils.getDoubleAt(a,176,this.littleEndian),this.scl_inter=n.Utils.getDoubleAt(a,184,this.littleEndian),this.cal_max=n.Utils.getDoubleAt(a,192,this.littleEndian),this.cal_min=n.Utils.getDoubleAt(a,200,this.littleEndian),this.slice_duration=n.Utils.getDoubleAt(a,208,this.littleEndian),this.toffset=n.Utils.getDoubleAt(a,216,this.littleEndian),this.slice_start=n.Utils.getLongAt(a,224,this.littleEndian),this.slice_end=n.Utils.getLongAt(a,232,this.littleEndian),this.description=n.Utils.getStringAt(a,240,320),this.aux_file=n.Utils.getStringAt(a,320,344),this.qform_code=n.Utils.getIntAt(a,344,this.littleEndian),this.sform_code=n.Utils.getIntAt(a,348,this.littleEndian),this.quatern_b=n.Utils.getDoubleAt(a,352,this.littleEndian),this.quatern_c=n.Utils.getDoubleAt(a,360,this.littleEndian),this.quatern_d=n.Utils.getDoubleAt(a,368,this.littleEndian),this.qoffset_x=n.Utils.getDoubleAt(a,376,this.littleEndian),this.qoffset_y=n.Utils.getDoubleAt(a,384,this.littleEndian),this.qoffset_z=n.Utils.getDoubleAt(a,392,this.littleEndian),i=0;3>i;i+=1){for(r=0;4>r;r+=1){o=400+8*(4*i+r),this.affine[i][r]=n.Utils.getDoubleAt(a,o,this.littleEndian)}}this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.slice_code=n.Utils.getIntAt(a,496,this.littleEndian),this.xyzt_units=n.Utils.getIntAt(a,500,this.littleEndian),this.intent_code=n.Utils.getIntAt(a,504,this.littleEndian),this.intent_name=n.Utils.getStringAt(a,508,524),this.dim_info=n.Utils.getByteAt(a,524),a.byteLength>n.NIFTI2.MAGIC_COOKIE&&(this.extensionFlag[0]=n.Utils.getByteAt(a,540),this.extensionFlag[1]=n.Utils.getByteAt(a,541),this.extensionFlag[2]=n.Utils.getByteAt(a,542),this.extensionFlag[3]=n.Utils.getByteAt(a,543),this.extensionFlag[0]&&(this.extensionSize=this.getExtensionSize(a),this.extensionCode=this.getExtensionCode(a)))},n.NIFTI2.prototype.toFormattedString=function(){var e=n.Utils.formatNumber,t="";return t+="Datatype = "+ +this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+")\n",t+="Bits Per Voxel =  = "+this.numBitsPerVoxel+"\n",t+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+"\n",t+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+"\n",t+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+"\n",t+="Image Offset = "+this.vox_offset+"\n",t+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+"\n",t+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+"\n",t+="Slice Duration = "+this.slice_duration+"\n",t+="Time Axis Shift = "+this.toffset+"\n",t+="Slice Start = "+this.slice_start+"\n",t+="Slice End = "+this.slice_end+"\n",t+="Description: \""+this.description+"\"\n",t+="Auxiliary File: \""+this.aux_file+"\"\n",t+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+")\n",t+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+")\n",t+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+"\n",t+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+"\n",t+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+"\n",t+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+"\n",t+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+"\n",t+="Slice Code = "+this.slice_code+"\n",t+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(n.NIFTI1.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(n.NIFTI1.TEMPORAL_UNITS_MASK&this.xyzt_units)+")\n",t+="Intent Code = "+this.intent_code+"\n",t+="Intent Name: \""+this.intent_name+"\"\n",t+="Dim Info = "+this.dim_info+"\n"},n.NIFTI2.prototype.getExtensionLocation=function(){return n.NIFTI2.MAGIC_COOKIE+4},n.NIFTI2.prototype.getExtensionSize=n.NIFTI1.prototype.getExtensionSize,n.NIFTI2.prototype.getExtensionCode=n.NIFTI1.prototype.getExtensionCode,n.NIFTI2.prototype.getDatatypeCodeString=n.NIFTI1.prototype.getDatatypeCodeString,n.NIFTI2.prototype.getTransformCodeString=n.NIFTI1.prototype.getTransformCodeString,n.NIFTI2.prototype.getUnitsCodeString=n.NIFTI1.prototype.getUnitsCodeString,n.NIFTI2.prototype.getQformMat=n.NIFTI1.prototype.getQformMat,n.NIFTI2.prototype.convertNiftiQFormToNiftiSForm=n.NIFTI1.prototype.convertNiftiQFormToNiftiSForm,n.NIFTI2.prototype.convertNiftiSFormToNEMA=n.NIFTI1.prototype.convertNiftiSFormToNEMA,n.NIFTI2.prototype.nifti_mat33_mul=n.NIFTI1.prototype.nifti_mat33_mul,n.NIFTI2.prototype.nifti_mat33_determ=n.NIFTI1.prototype.nifti_mat33_determ,"undefined"!==typeof e&&e.exports&&(e.exports=n.NIFTI2)},function(e,t,i){"use strict";(function(e){var n=i(49),r=i(50),o=i(51);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||babelHelpers.instanceof(this,l)))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,i)}function c(e,t,i,n){if("number"==typeof t)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t,ArrayBuffer)?function(e,t,i,n){if(t.byteLength,0>i||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,i,n):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError("\"encoding\" must be a valid string encoding");var n=0|p(t,i),r=(e=s(e,n)).write(t,i);r!==n&&(e=e.slice(0,r));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|d(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t.buffer,ArrayBuffer)||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError("\"size\" argument must be a number");if(0>e)throw new RangeError("\"size\" argument must not be negative")}function u(e,t){if(h(t),e=s(e,0>t?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i){e[i]=0}return e}function f(e,t){var i=0>t.length?0:0|d(t.length);e=s(e,i);for(var n=0;n<i;n+=1){e[n]=255&t[n]}return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||babelHelpers.instanceof(e,ArrayBuffer)))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;){switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return U(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0;}}}function _(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function m(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:-2147483648>i&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),0>i&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(0>i){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,i,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):b(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function b(e,t,i,n,r){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=(n+"").toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>e.length||2>t.length)return-1;a=2,s/=2,l/=2,i/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var h=-1;for(o=i;o<s;o++){if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*a}else-1!==h&&(o-=o-h),h=-1}}else for(i+l>s&&(i=s-l),o=i;0<=o;o--){for(var u=!0,f=0;f<l;f++){if(c(e,o+f)!==c(t,f)){u=!1;break}}if(u)return o}return-1}function y(e,t,i,n){i=+i||0;var r=e.length-i;n?(n=+n)>r&&(n=r):n=r;var o=t.length;if(0!=o%2)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0,s;a<n;++a){s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function g(e,t,i,n){return V(z(t,e.length-i),e,i,n)}function v(e,t,i,n){return V(function(e){for(var t=[],i=0;i<e.length;++i){t.push(255&e.charCodeAt(i))}return t}(t),e,i,n)}function A(e,t,i,n){return v(e,t,i,n)}function w(e,t,i,n){return V(U(t),e,i,n)}function x(e,t,i,n){return V(function(e,t){for(var i,n,r,o=[],a=0;a<e.length&&!(0>(t-=2));++a){i=e.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n)}return o}(t,e.length-i),e,i,n)}function k(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function I(e,t,i){i=_Mathmin(e.length,i);for(var n=[],r=t;r<i;){var o,a,s,l,c=e[r],h=null,u=239<c?4:223<c?3:191<c?2:1;if(r+u<=i)switch(u){case 1:128>c&&(h=c);break;case 2:128==(192&(o=e[r+1]))&&127<(l=(31&c)<<6|63&o)&&(h=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&o)<<6|63&a)&&(55296>l||57343<l)&&(h=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&1114112>l&&(h=l);}null===h?(h=65533,u=1):65535<h&&(h-=65536,n.push(55296|1023&h>>>10),h=56320|1023&h),n.push(h),r+=u}return function(e){var t=e.length;if(t<=S)return _StringfromCharCode.apply(String,e);var i="",n=0;for(;n<t;){i+=_StringfromCharCode.apply(String,e.slice(n,n+=S))}return i}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return h(t),0>=t?s(e,t):void 0!==i?"string"==typeof n?s(e,t).fill(i,n):s(e,t).fill(i):s(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=_Mathmin(i,n);r<o;++r){if(e[r]!==t[r]){i=e[r],n=t[r];break}}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},l.concat=function(e,t){if(!o(e))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i){t+=e[i].length}var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a))throw new TypeError("\"list\" argument must be an Array of Buffers");a.copy(n,r),r+=a.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2){_(this,t,t+1)}return this},l.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4){_(this,t,t+3),_(this,t+1,t+2)}return this},l.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8){_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4)}return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,i){var n=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),0>=i)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;){switch(e){case"hex":return B(this,t,i);case"utf8":case"utf-8":return I(this,t,i);case"ascii":return E(this,t,i);case"latin1":case"binary":return C(this,t,i);case"base64":return k(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0;}}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),0>t||i>e.length||0>n||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,a=i-t,s=_Mathmin(o,a),c=this.slice(n,r),h=e.slice(t,i),u=0;u<s;++u){if(c[u]!==h[u]){o=c[u],a=h[u];break}}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return m(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return m(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),0<e.length&&(0>i||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;){switch(n){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return g(this,e,t,i);case"ascii":return v(this,e,t,i);case"latin1":case"binary":return A(this,e,t,i);case"base64":return w(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0;}}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function E(e,t,i){var n="";i=_Mathmin(e.length,i);for(var r=t;r<i;++r){n+=_StringfromCharCode(127&e[r])}return n}function C(e,t,i){var n="";i=_Mathmin(e.length,i);for(var r=t;r<i;++r){n+=_StringfromCharCode(e[r])}return n}function B(e,t,i){var n=e.length;(!t||0>t)&&(t=0),(!i||0>i||i>n)&&(i=n);for(var r="",o=t;o<i;++o){r+=Z(e[o])}return r}function M(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length;o+=2){r+=_StringfromCharCode(n[o]+256*n[o+1])}return r}function P(e,t,i){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,i,n,r,o){if(!l.isBuffer(e))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(t>r||t<o)throw new RangeError("\"value\" argument is out of bounds");if(i+n>e.length)throw new RangeError("Index out of range")}function D(e,t,i,n){0>t&&(t=65535+t+1);for(var r=0,o=_Mathmin(e.length-i,2);r<o;++r){e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}}function R(e,t,i,n){0>t&&(t=4294967295+t+1);for(var r=0,o=_Mathmin(e.length-i,4);r<o;++r){e[i+r]=255&t>>>8*(n?r:3-r)}}function G(e,t,i,n){if(i+n>e.length)throw new RangeError("Index out of range");if(0>i)throw new RangeError("Index out of range")}function O(e,t,i,n,o){return o||G(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function F(e,t,i,n,o){return o||G(e,0,i,8),r.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,0>e?0>(e+=n)&&(e=0):e>n&&(e=n),0>t?0>(t+=n)&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var o=0;o<r;++o){i[o]=this[o+e]}}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);){n+=this[e+o]*r}return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e+--t],r=1;0<t&&(r*=256);){n+=this[e+--t]*r}return n},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);){n+=this[e+o]*r}return n>=(r*=128)&&(n-=_Mathpow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=t,r=1,o=this[e+--n];0<n&&(r*=256);){o+=this[e+--n]*r}return o>=(r*=128)&&(o-=_Mathpow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||T(this,e,t,i,_Mathpow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);){this[t+o]=255&e/r}return t+i},l.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||T(this,e,t,i,_Mathpow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);){this[t+r]=255&e/o}return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=_Mathpow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);){0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=255&(e/a>>0)-s}return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=_Mathpow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);){0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=255&(e/a>>0)-s}return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return O(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return O(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return F(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return F(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,o=n-i;if(this===e&&i<t&&t<n)for(r=o-1;0<=r;--r){e[r+t]=this[r+i]}else if(1e3>o||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r){e[r+t]=this[r+i]}else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);256>r&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o){this[o]=e}else{var a=l.isBuffer(e)?e:z(new l(e,n).toString()),s=a.length;for(o=0;o<i-t;++o){this[o+t]=a[o%s]}}return this};var L=/[^+\/0-9A-Za-z-_]/g;function Z(e){return 16>e?"0"+e.toString(16):e.toString(16)}function z(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],a=0;a<n;++a){if(55295<(i=e.charCodeAt(a))&&57344>i){if(!r){if(56319<i){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&o.push(239,191,189);continue}r=i;continue}if(56320>i){-1<(t-=3)&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,128>i){if(0>(t-=1))break;o.push(i)}else if(2048>i){if(0>(t-=2))break;o.push(192|i>>6,128|63&i)}else if(65536>i){if(0>(t-=3))break;o.push(224|i>>12,128|63&i>>6,128|63&i)}else{if(!(1114112>i))throw new Error("Invalid code point");if(0>(t-=4))break;o.push(240|i>>18,128|63&i>>12,128|63&i>>6,128|63&i)}}return o}function U(e){return n.toByteArray(function(e){if(2>(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length)return"";for(;0!=e.length%4;){e+="="}return e}(e))}function V(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r){t[r+i]=e[r]}return r}}).call(this,i(11))},function(e,t){"use strict";t.byteLength=function(e){var t=c(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){for(var t,i=c(e),n=i[0],a=i[1],s=new o(function(e,t,i){return 3*(t+i)/4-i}(0,n,a)),l=0,h=0<a?n-4:n,u=0;u<h;u+=4){t=r[e.charCodeAt(u)]<<18|r[e.charCodeAt(u+1)]<<12|r[e.charCodeAt(u+2)]<<6|r[e.charCodeAt(u+3)],s[l++]=255&t>>16,s[l++]=255&t>>8,s[l++]=255&t}2===a&&(t=r[e.charCodeAt(u)]<<2|r[e.charCodeAt(u+1)]>>4,s[l++]=255&t);1===a&&(t=r[e.charCodeAt(u)]<<10|r[e.charCodeAt(u+1)]<<4|r[e.charCodeAt(u+2)]>>2,s[l++]=255&t>>8,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o=[],a=0,s=i-r;a<s;a+=16383){o.push(u(e,a,a+16383>s?s:a+16383))}1===r?(t=e[i-1],o.push(n[t>>2]+n[63&t<<4]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[63&t>>4]+n[63&t<<2]+"="));return o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s){n[s]=a[s],r[a.charCodeAt(s)]=s}function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function h(e){return n[63&e>>18]+n[63&e>>12]+n[63&e>>6]+n[63&e]}function u(e,t,i){for(var n,r=[],o=t;o<i;o+=3){n=(16711680&e[o]<<16)+(65280&e[o+1]<<8)+(255&e[o+2]),r.push(h(n))}return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,h=-7,u=i?r-1:0,f=i?-1:1,d=e[t+u];for(u+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;0<h;o=256*o+e[t+u],u+=f,h-=8){}for(a=o&(1<<-h)-1,o>>=-h,h+=n;0<h;a=256*a+e[t+u],u+=f,h-=8){}if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=_Mathpow(2,n),o-=c}return(d?-1:1)*a*_Mathpow(2,o-n)},t.write=function(e,t,i,n,r,o){var a,s,l,c=8*o-r-1,h=(1<<c)-1,u=h>>1,f=23===r?5.960464477539063e-8-6.617444900424222e-24:0,d=n?0:o-1,p=n?1:-1,_=0>t||0===t&&0>1/t?1:0;for(t=_Mathabs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=_Mathfloor(_Mathlog(t)/_MathLN),1>t*(l=_Mathpow(2,-a))&&(a--,l*=2),2<=(t+=1<=a+u?f/l:f*_Mathpow(2,1-u))*l&&(a++,l/=2),a+u>=h?(s=0,a=h):1<=a+u?(s=(t*l-1)*_Mathpow(2,r),a+=u):(s=t*_Mathpow(2,u-1)*_Mathpow(2,r),a=0));8<=r;e[i+d]=255&s,d+=p,s/=256,r-=8){}for(a=a<<r|s,c+=r;0<c;e[i+d]=255&a,d+=p,a/=256,c-=8){}e[i+d-p]|=128*_}},function(e){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(){},function(e,t,i){(function(e){function i(e,t){for(var i=0,n=e.length-1,r;0<=n;n--){r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i){e.unshift("..")}return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(e){return n.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++){t(e[n],n,e)&&i.push(e[n])}return i}t.resolve=function(){for(var t="",n=!1,r=arguments.length-1,a;-1<=r&&!n;r--){a=0<=r?arguments[r]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return t=i(o(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),r="/"===a(e,-1);return(e=i(o(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&r&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,i){function n(e){for(var t=0;t<e.length&&""===e[t];t++){}for(var i=e.length-1;0<=i&&""===e[i];i--){}return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var r=n(e.split("/")),o=n(i.split("/")),a=_Mathmin(r.length,o.length),s=a,l=0;l<a;l++){if(r[l]!==o[l]){s=l;break}}var c=[];for(l=s;l<r.length;l++){c.push("..")}return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=r(e),i=t[0],n=t[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},t.basename=function(e,t){var i=r(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){return r(e)[3]};var a=function(e,t,i){return e.substr(t,i)}}).call(this,i(10))},function(e){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=79)}([function(e){var i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"===typeof window?"undefined":babelHelpers.typeof(window))&&(i=window)}e.exports=i},function(e,t,i){"use strict";(function(e){var n=i(73),r=i(72),o=i(38);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||babelHelpers.instanceof(this,l)))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,i)}function c(e,t,i,n){if("number"==typeof t)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t,ArrayBuffer)?function(e,t,i,n){if(t.byteLength,0>i||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,i,n):"string"==typeof t?function(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!l.isEncoding(i))throw new TypeError("\"encoding\" must be a valid string encoding");var n=0|p(t,i),r=(e=s(e,n)).write(t,i);return r!==n&&(e=e.slice(0,r)),e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|d(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t.buffer,ArrayBuffer)||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError("\"size\" argument must be a number");if(0>e)throw new RangeError("\"size\" argument must not be negative")}function u(e,t){if(h(t),e=s(e,0>t?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i){e[i]=0}return e}function f(e,t){var i=0>t.length?0:0|d(t.length);e=s(e,i);for(var n=0;n<i;n+=1){e[n]=255&t[n]}return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||babelHelpers.instanceof(e,ArrayBuffer)))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;){switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return U(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0;}}}function _(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function m(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):2147483647<i?i=2147483647:-2147483648>i&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),0>i&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(0>i){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:b(e,t,i,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):b(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function b(e,t,i,n,r){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=(n+"").toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>e.length||2>t.length)return-1;a=2,s/=2,l/=2,i/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var h=-1;for(o=i;o<s;o++){if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*a}else-1!==h&&(o-=o-h),h=-1}}else for(i+l>s&&(i=s-l),o=i;0<=o;o--){for(var u=!0,f=0;f<l;f++){if(c(e,o+f)!==c(t,f)){u=!1;break}}if(u)return o}return-1}function y(e,t,i,n){i=+i||0;var r=e.length-i;n?(n=+n)>r&&(n=r):n=r;var o=t.length;if(0!=o%2)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0,s;a<n;++a){s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function g(e,t,i,n){return V(z(t,e.length-i),e,i,n)}function v(e,t,i,n){return V(function(e){for(var t=[],i=0;i<e.length;++i){t.push(255&e.charCodeAt(i))}return t}(t),e,i,n)}function A(e,t,i,n){return v(e,t,i,n)}function w(e,t,i,n){return V(U(t),e,i,n)}function x(e,t,i,n){return V(function(e,t){for(var i,n,r,o=[],a=0;a<e.length&&!(0>(t-=2));++a){i=e.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n)}return o}(t,e.length-i),e,i,n)}function k(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function I(e,t,i){i=_Mathmin(e.length,i);for(var n=[],r=t;r<i;){var o,a,s,l,c=e[r],h=null,u=239<c?4:223<c?3:191<c?2:1;if(r+u<=i)switch(u){case 1:128>c&&(h=c);break;case 2:128==(192&(o=e[r+1]))&&127<(l=(31&c)<<6|63&o)&&(h=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&o)<<6|63&a)&&(55296>l||57343<l)&&(h=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&1114112>l&&(h=l);}null===h?(h=65533,u=1):65535<h&&(h-=65536,n.push(55296|1023&h>>>10),h=56320|1023&h),n.push(h),r+=u}return function(e){var t=e.length;if(t<=S)return _StringfromCharCode.apply(String,e);for(var i="",n=0;n<t;){i+=_StringfromCharCode.apply(String,e.slice(n,n+=S))}return i}(n)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function foo(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return h(t),0>=t?s(e,t):void 0!==i?"string"==typeof n?s(e,t).fill(i,n):s(e,t).fill(i):s(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=_Mathmin(i,n);r<o;++r){if(e[r]!==t[r]){i=e[r],n=t[r];break}}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},l.concat=function(e,t){if(!o(e))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i){t+=e[i].length}var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a))throw new TypeError("\"list\" argument must be an Array of Buffers");a.copy(n,r),r+=a.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2){_(this,t,t+1)}return this},l.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4){_(this,t,t+3),_(this,t+1,t+2)}return this},l.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8){_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4)}return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,i){var n=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),0>=i)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;){switch(e){case"hex":return B(this,t,i);case"utf8":case"utf-8":return I(this,t,i);case"ascii":return E(this,t,i);case"latin1":case"binary":return C(this,t,i);case"base64":return k(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0;}}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),0>t||i>e.length||0>n||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,a=i-t,s=_Mathmin(o,a),c=this.slice(n,r),h=e.slice(t,i),u=0;u<s;++u){if(c[u]!==h[u]){o=c[u],a=h[u];break}}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return m(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return m(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),0<e.length&&(0>i||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;){switch(n){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return g(this,e,t,i);case"ascii":return v(this,e,t,i);case"latin1":case"binary":return A(this,e,t,i);case"base64":return w(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0;}}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function E(e,t,i){var n="";i=_Mathmin(e.length,i);for(var r=t;r<i;++r){n+=_StringfromCharCode(127&e[r])}return n}function C(e,t,i){var n="";i=_Mathmin(e.length,i);for(var r=t;r<i;++r){n+=_StringfromCharCode(e[r])}return n}function B(e,t,i){var n=e.length;(!t||0>t)&&(t=0),(!i||0>i||i>n)&&(i=n);for(var r="",o=t;o<i;++o){r+=Z(e[o])}return r}function M(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length;o+=2){r+=_StringfromCharCode(n[o]+256*n[o+1])}return r}function P(e,t,i){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,i,n,r,o){if(!l.isBuffer(e))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(t>r||t<o)throw new RangeError("\"value\" argument is out of bounds");if(i+n>e.length)throw new RangeError("Index out of range")}function D(e,t,i,n){0>t&&(t=65535+t+1);for(var r=0,o=_Mathmin(e.length-i,2);r<o;++r){e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}}function R(e,t,i,n){0>t&&(t=4294967295+t+1);for(var r=0,o=_Mathmin(e.length-i,4);r<o;++r){e[i+r]=255&t>>>8*(n?r:3-r)}}function G(e,t,i,n){if(i+n>e.length)throw new RangeError("Index out of range");if(0>i)throw new RangeError("Index out of range")}function O(e,t,i,n,o){return o||G(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function F(e,t,i,n,o){return o||G(e,0,i,8),r.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,0>e?0>(e+=n)&&(e=0):e>n&&(e=n),0>t?0>(t+=n)&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var o=0;o<r;++o){i[o]=this[o+e]}}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);){n+=this[e+o]*r}return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e+--t],r=1;0<t&&(r*=256);){n+=this[e+--t]*r}return n},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);){n+=this[e+o]*r}return n>=(r*=128)&&(n-=_Mathpow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);for(var n=t,r=1,o=this[e+--n];0<n&&(r*=256);){o+=this[e+--n]*r}return o>=(r*=128)&&(o-=_Mathpow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){e=+e,t|=0,i|=0,n||T(this,e,t,i,_Mathpow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);){this[t+o]=255&e/r}return t+i},l.prototype.writeUIntBE=function(e,t,i,n){e=+e,t|=0,i|=0,n||T(this,e,t,i,_Mathpow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);){this[t+r]=255&e/o}return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=_Mathpow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);){0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=255&(e/a>>0)-s}return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=_Mathpow(2,8*i-1);T(this,e,t,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);){0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=255&(e/a>>0)-s}return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||T(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return O(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return O(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return F(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return F(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,o=n-i;if(this===e&&i<t&&t<n)for(r=o-1;0<=r;--r){e[r+t]=this[r+i]}else if(1e3>o||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r){e[r+t]=this[r+i]}else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);256>r&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o){this[o]=e}else{var a=l.isBuffer(e)?e:z(new l(e,n).toString()),s=a.length;for(o=0;o<i-t;++o){this[o+t]=a[o%s]}}return this};var L=/[^+\/0-9A-Za-z-_]/g;function Z(e){return 16>e?"0"+e.toString(16):e.toString(16)}function z(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],a=0;a<n;++a){if(55295<(i=e.charCodeAt(a))&&57344>i){if(!r){if(56319<i){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&o.push(239,191,189);continue}r=i;continue}if(56320>i){-1<(t-=3)&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,128>i){if(0>(t-=1))break;o.push(i)}else if(2048>i){if(0>(t-=2))break;o.push(192|i>>6,128|63&i)}else if(65536>i){if(0>(t-=3))break;o.push(224|i>>12,128|63&i>>6,128|63&i)}else{if(!(1114112>i))throw new Error("Invalid code point");if(0>(t-=4))break;o.push(240|i>>18,128|63&i>>12,128|63&i>>6,128|63&i)}}return o}function U(e){return n.toByteArray(function(e){if(2>(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length)return"";for(;0!=e.length%4;){e+="="}return e}(e))}function V(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r){t[r+i]=e[r]}return r}}).call(this,i(0))},function(e,t,i){"use strict";var n=i(10),r=Object.keys||function(e){var t=[];for(var i in e){t.push(i)}return t};e.exports=u;var o=i(6);o.inherits=i(5);var a=i(35),s=i(18);o.inherits(u,a);for(var l=r(s.prototype),c=0,h;c<l.length;c++){h=l[c];u.prototype[h]||(u.prototype[h]=s.prototype[h])}function u(e){if(!babelHelpers.instanceof(this,u))return new u(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"destroyed",{get:function get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function set(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],h=!1,u=-1;function f(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!h){var e=s(f);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;){l&&l[u].run()}u=-1,t=c.length}l=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}c.push(new p(e,t)),1!==c.length||h||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(){return[]},r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readTag: missing required parameter 'byteStream'";var t=256*(256*e.readUint16()),i=e.readUint16();return"x"+("00000000"+(t+i).toString(16)).substr(-8)}},function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){(function(e){function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==babelHelpers.typeof(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==babelHelpers.typeof(e)&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||babelHelpers.instanceof(e,Error)},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==babelHelpers.typeof(e)||void 0===e},t.isBuffer=e.isBuffer}).call(this,i(1).Buffer)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(14);function o(e,t){return void 0!==e.parser?e.parser:t}var a=function(){function e(t,i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this.byteArrayParser=t,this.byteArray=i,this.elements=n}return n(e,[{key:"uint16",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readUint16(this.byteArray,i.dataOffset+2*t)}},{key:"int16",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readInt16(this.byteArray,i.dataOffset+2*t)}},{key:"uint32",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readUint32(this.byteArray,i.dataOffset+4*t)}},{key:"int32",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readInt32(this.byteArray,i.dataOffset+4*t)}},{key:"float",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readFloat(this.byteArray,i.dataOffset+4*t)}},{key:"double",value:function value(e,t){var i=this.elements[e];if(t=void 0!==t?t:0,i&&0!==i.length)return o(i,this.byteArrayParser).readDouble(this.byteArray,i.dataOffset+8*t)}},{key:"numStringValues",value:function value(e){var t=this.elements[e];if(t&&0<t.length){var i=(0,r.readFixedString)(this.byteArray,t.dataOffset,t.length).match(/\\/g);return null===i?1:i.length+1}}},{key:"string",value:function value(e,t){var i=this.elements[e];if(i&&0<i.length){var n=(0,r.readFixedString)(this.byteArray,i.dataOffset,i.length);return 0<=t?n.split("\\")[t].trim():n.trim()}}},{key:"text",value:function value(e,t){var i=this.elements[e];if(i&&0<i.length){var n=(0,r.readFixedString)(this.byteArray,i.dataOffset,i.length);return 0<=t?n.split("\\")[t].replace(/ +$/,""):n.replace(/ +$/,"")}}},{key:"floatString",value:function value(e,t){var i=this.elements[e];if(i&&0<i.length){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseFloat(n)}}},{key:"intString",value:function value(e,t){var i=this.elements[e];if(i&&0<i.length){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseInt(n)}}},{key:"attributeTag",value:function value(e){var t=this.elements[e];if(t&&4===t.length){var i=o(t,this.byteArrayParser).readUint16,n=this.byteArray,r=t.dataOffset;return"x"+("00000000"+(256*(256*i(n,r))+i(n,r+2)).toString(16)).substr(-8)}}}]),e}();t.default=a},function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1),i;t.length;){i=t.shift();if(i){if("object"!=babelHelpers.typeof(i))throw new TypeError(i+"must be non-object");for(var n in i){r(i,n)&&(e[n]=i[n])}}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function arraySet(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var o=0;o<n;o++){e[r+o]=t[i+o]}},flattenChunks:function flattenChunks(e){var t,i,n,r,o,a;for(n=0,t=0,i=e.length;t<i;t++){n+=e[t].length}for(a=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++){o=e[t],a.set(o,r),r+=o.length}return a}},a={arraySet:function arraySet(e,t,i,n,r){for(var o=0;o<n;o++){e[r+o]=t[i+o]}},flattenChunks:function flattenChunks(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},function(e,t,i){var n=i(1),r=n.Buffer;function o(e,t){for(var i in e){t[i]=e[i]}}function a(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(r,a),a.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,i){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function nextTick(e,i,n,r){if("function"!=typeof e)throw new TypeError("\"callback\" argument must be a function");var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,n)});case 4:return t.nextTick(function(){e.call(null,i,n,r)});default:for(o=Array(s-1),a=0;a<o.length;){o[a++]=arguments[a]}return t.nextTick(function(){e.apply(null,o)});}}}:e.exports=t}).call(this,i(3))},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,i,n){if(void 0!==e&&babelHelpers.instanceof(t,e))return t.slice(i,i+n);if(babelHelpers.instanceof(t,Uint8Array))return new Uint8Array(t.buffer,t.byteOffset+i,n);throw"dicomParser.from: unknown type for byteArray"}}).call(this,i(1).Buffer)},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(11),a=(n=o)&&n.__esModule?n:{default:n},s=i(14),l=function(){function t(i,n,r){if(function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===i)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(void 0===n)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(0==babelHelpers.instanceof(n,Uint8Array)&&0==babelHelpers.instanceof(n,e))throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(0>r)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(r>=n.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=i,this.byteArray=n,this.position=r||0,this.warnings=[]}return r(t,[{key:"seek",value:function value(e){if(0>this.position+e)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=e}},{key:"readByteStream",value:function value(e){if(this.position+e>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var i=(0,a.default)(this.byteArray,this.position,e);return this.position+=e,new t(this.byteArrayParser,i)}},{key:"readUint16",value:function value(){var e=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,e}},{key:"readUint32",value:function value(){var e=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,e}},{key:"readFixedString",value:function value(e){var t=(0,s.readFixedString)(this.byteArray,this.position,e);return this.position+=e,t}}]),t}();t.default=l}).call(this,i(1).Buffer)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var t={tag:(0,o.default)(e),length:e.readUint32(),dataOffset:e.position};if("xfffee000"!==t.tag)throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset "+e.position;return t};var n,r=i(4),o=(n=r)&&n.__esModule?n:{default:n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFixedString=function(e,t,i){if(0>i)throw"dicomParser.readFixedString - length cannot be less than 0";if(t+i>e.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var n,r="",o=0;o<i;o++){if(0===(n=e[t+o]))return t+=i,r;r+=_StringfromCharCode(n)}return r}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var l={tag:(0,a.default)(e),vr:e.readFixedString(2)};return 2===c(l.vr)?(l.length=e.readUint16(),l.dataOffset=e.position):(e.seek(2),l.length=e.readUint32(),l.dataOffset=e.position),4294967295===l.length&&(l.hadUndefinedLength=!0),l.tag===i?l:"SQ"===l.vr?((0,s.default)(e,l,t),l):4294967295===l.length?"x7fe00010"===l.tag?((0,n.default)(e,l,t),l):"UN"===l.vr?((0,r.default)(e,l),l):((0,o.default)(e,l),l):(e.seek(l.length),l)};var n=l(i(42)),r=l(i(41)),o=l(i(24)),a=l(i(4)),s=l(i(40));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return"OB"===e||"OW"===e||"SQ"===e||"OF"===e||"UT"===e||"UN"===e?4:2}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDicomDataSetExplicit=function(e,t,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(i=void 0===i?t.byteArray.length:i,void 0===t)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(i<t.position||i>t.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var o=e.elements,a;t.position<i;){a=(0,n.default)(t,e.warnings,r.untilTag);if(o[a.tag]=a,a.tag===r.untilTag)return}if(t.position>i)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"},t.parseDicomDataSetImplicit=function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(i=void 0===i?e.byteArray.length:i,void 0===t)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(i<t.position||i>t.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var o=e.elements,a;t.position<i;){a=(0,r.default)(t,n.untilTag,n.vrCallback);if(o[a.tag]=a,a.tag===n.untilTag)return}};var n=o(i(15)),r=o(i(23));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,s,c){if(s=s||1,c=c||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(void 0===i)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if(void 0===s)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(0>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(0>i)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(i>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(1>s)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(i+s>t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var h=new r.default(e.byteArrayParser,e.byteArray,t.dataOffset),u=(0,o.default)(h);if("xfffee000"!==u.tag)throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";h.seek(u.length);var f=h.position;if(1===s)return(0,a.default)(h.byteArray,f+c[i].offset+8,c[i].length);for(var d=l(c,i,s),p=(0,n.default)(h.byteArray,d),_=0,m=i;m<i+s;m++){for(var b=f+c[m].offset+8,y=0;y<c[m].length;y++){p[_++]=h.byteArray[b++]}}return p};var n=s(i(22)),r=s(i(12)),o=s(i(13)),a=s(i(11));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,i){for(var n=0,r=t;r<t+i;r++){n+=e[r].length}return n}},function(e,t,i){"use strict";(function(t,n,r){var o=i(10);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t){var n=e.entry;for(e.entry=null;n;){var r=n.callback;t.pendingcb--,r(void 0),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?n:o.nextTick;y.WritableState=b;var c=i(6);c.inherits=i(5);var h,u={deprecate:i(61)},f=i(34),d=i(9).Buffer,p=r.Uint8Array||function(){},_=i(33);function m(){}function b(e,t){s=s||i(2),e=e||{};var n=babelHelpers.instanceof(t,s);this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,c=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(c||0===c)?c:h,this.highWaterMark=_Mathfloor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,n=i.sync,r=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,n,r){--t.pendingcb,i?(o.nextTick(r,n),o.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(r(n),e._writableState.errorEmitted=!0,e.emit("error",n),k(e,t))}(e,i,n,t,r);else{var a=w(i);a||i.corked||i.bufferProcessing||!i.bufferedRequest||A(e,i),n?l(v,e,i,a,r):v(e,i,a,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||i(2),!(h.call(y,this)||babelHelpers.instanceof(this,s)))return new y(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function g(e,t,i,n,r,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function v(e,t,i,n){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),k(e,t)}function A(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var n=t.bufferedRequestCount,r=Array(n),o=t.corkedRequestsFree;o.entry=i;for(var s=0,l=!0;i;){r[s]=i,i.isBuf||(l=!1),i=i.next,s+=1}r.allBuffers=l,g(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;i;){var c=i.chunk,h=i.encoding,u=i.callback;if(g(e,t,!1,t.objectMode?1:c.length,c,h,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function k(e,t){var i=w(t);return i&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}c.inherits(y,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;){t.push(e),e=e.next}return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function value(e){return!!h.call(this,e)||this===y&&e&&babelHelpers.instanceof(e._writableState,b)}})):h=function(e){return babelHelpers.instanceof(e,this)},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,i){var n,r=this._writableState,a=!1,s=!r.objectMode&&(n=e,d.isBuffer(n)||babelHelpers.instanceof(n,p));return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(i=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=m),r.ended?function(e,t){var i=new Error("write after end");e.emit("error",i),o.nextTick(t,i)}(this,i):(s||function(e,t,i,n){var r=!0,a=!1;return null===i?a=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(n,a),r=!1),r}(this,r,e,i))&&(r.pendingcb++,a=function(e,t,i,n,r,o){if(!i){var a=function(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,i)),t}(t,n,r);n!==a&&(i=!0,r="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,s,n,r,o);return l}(this,r,s,e,t,i)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||A(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},y.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,i){var n=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,i){t.ending=!0,k(e,t),i&&(t.finished?o.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}(this,n,i)},Object.defineProperty(y.prototype,"destroyed",{get:function get(){return void 0!==this._writableState&&this._writableState.destroyed},set:function set(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=_.destroy,y.prototype._undestroy=_.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i(3),i(63).setImmediate,i(0))},function(e,t,i){(t=e.exports=i(35)).Stream=t,t.Readable=t,t.Writable=i(18),t.Duplex=i(2),t.Transform=i(31),t.PassThrough=i(60)},function(e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==babelHelpers.typeof(e)&&null!==e}function o(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(babelHelpers.instanceof(t=arguments[1],Error))throw t;var h=new Error("Uncaught, unspecified \"error\" event. ("+t+")");throw h.context=t,h}if(o(i=this._events[e]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s);}else if(r(i))for(s=Array.prototype.slice.call(arguments,1),a=(c=i.slice()).length,l=0;l<a;l++){c[l].apply(this,s)}return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&0<a&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var i,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,o=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(s=a;0<s--;){if(i[s]===t||i[s].listener&&i[s].listener===t){o=s;break}}if(0>o)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events){"removeListener"!==t&&this.removeAllListeners(t)}return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;){this.removeListener(e,i[i.length-1])}return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function readUint16(e,t){if(0>t)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return e[t]+256*e[t+1]},readInt16:function readInt16(e,t){if(0>t)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";var i=e[t]+(e[t+1]<<8);return 32768&i&&(i=i-65535-1),i},readUint32:function readUint32(e,t){if(0>t)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return e[t]+256*e[t+1]+256*(256*e[t+2])+256*(256*(256*e[t+3]))},readInt32:function readInt32(e,t){if(0>t)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)},readFloat:function readFloat(e,t){if(0>t)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var i=new Uint8Array(4);return i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],new Float32Array(i.buffer)[0]},readDouble:function readDouble(e,t){if(0>t)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var i=new Uint8Array(8);return i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],i[4]=e[t+4],i[5]=e[t+5],i[6]=e[t+6],i[7]=e[t+7],new Float64Array(i.buffer)[0]}}},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,i){if(void 0!==e&&babelHelpers.instanceof(t,e))return e.alloc(i);if(babelHelpers.instanceof(t,Uint8Array))return new Uint8Array(i);throw"dicomParser.alloc: unknown type for byteArray"}}).call(this,i(1).Buffer)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var a={tag:(0,o.default)(e),length:e.readUint32(),dataOffset:e.position};return 4294967295===a.length&&(a.hadUndefinedLength=!0),a.tag===t?a:s(a,e,i)?((0,r.default)(e,a),a):a.hadUndefinedLength?((0,n.default)(e,a),a):(e.seek(a.length),a)};var n=a(i(24)),r=a(i(39)),o=a(i(4));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,i){if(void 0!==i)return"SQ"===i(e.tag);if(t.position+4<=t.byteArray.length){var n=(0,o.default)(t);return t.seek(-4),"xfffee000"===n||"xfffee0dd"===n}return t.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var i=e.byteArray.length-8,n;e.position<=i;){n=e.readUint16();if(65534===n){var r=e.readUint16();if(57357===r){var o=e.readUint32();return 0!==o&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0};t.isStringVr=function(e){return n[e]},t.isPrivateTag=function(e){return 1==parseInt(e[4],10)%2},t.parsePN=function(e){if(void 0!==e){var t=e.split("^");return{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,n,r){if(n=n||t.basicOffsetTable,r=r||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(void 0===i)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(void 0===n)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(0===n.length)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(0>i)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(i>=n.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var l=n[i],c=a(r,l);if(void 0===c)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";var h=s(i,n,r,c);return(0,o.default)(e,t,c,h,r)};var n,r=i(17),o=(n=r)&&n.__esModule?n:{default:n},a=function(e,t){for(var i=0;i<e.length;i++){if(e[i].offset===t)return i}},s=function(e,t,i,n){if(e===t.length-1)return i.length-n;for(var r=t[e+1],o=n+1;o<i.length;o++){if(i[o].offset===r)return o-n}throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"}},function(e){"use strict";var n=function(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++){e=1&e?3988292384^e>>>1:e>>>1}t[i]=e}return t}();e.exports=function(e,t,i,r){e^=-1;for(var s=r;s<r+i;s++){e=e>>>8^n[255&(e^t[s])]}return-1^e}},function(e){"use strict";e.exports=function(e,t,i,n){for(var r=0|65535&e,o=0|65535&e>>>16,a=0;0!==i;){i-=a=2e3<i?2e3:i;do{o=0|o+(r=0|r+t[n++])}while(--a);r%=65521,o%=65521}return 0|(r|o<<16)}},function(e,t,i){(function(e,n){var r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++){t.push(s(arguments[i]))}return t.join(" ")}i=1;for(var n=arguments,o=n.length,a=(e+"").replace(r,function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return n[i++]+"";case"%d":return+n[i++];case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e;}}),l=n[i];i<o;l=n[++i]){_(l)||!v(l)?a+=" "+l:a+=" "+s(l)}return a},t.deprecate=function(i,r){if(y(e.process))return function(){return t.deprecate(i,r).apply(this,arguments)};if(!0===n.noDeprecation)return i;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return i.apply(this,arguments)}};var o,a={};function s(e,i){var n={seen:[],stylize:c};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),p(i)?n.showHidden=i:i&&t._extend(n,i),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),h(n,e,n.depth)}function l(e,t){var i=s.styles[t];return i?"\x1B["+s.colors[i][0]+"m"+e+"\x1B["+s.colors[i][1]+"m":e}function c(e){return e}function h(e,i,n){if(e.customInspect&&i&&x(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return b(r)||(r=h(e,r,n)),r}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\"")+"'";return e.stylize(i,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}(e,i);if(o)return o;var a=Object.keys(i),s=function(e){var t={};return e.forEach(function(e){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),w(i)&&(0<=a.indexOf("message")||0<=a.indexOf("description")))return u(i);if(0===a.length){if(x(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(g(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(A(i))return e.stylize(Date.prototype.toString.call(i),"date");if(w(i))return u(i)}var c,v="",k=!1,I=["{","}"];return d(i)&&(k=!0,I=["[","]"]),x(i)&&(v=" [Function"+(i.name?": "+i.name:"")+"]"),g(i)&&(v=" "+RegExp.prototype.toString.call(i)),A(i)&&(v=" "+Date.prototype.toUTCString.call(i)),w(i)&&(v=" "+u(i)),0!==a.length||k&&0!=i.length?0>n?g(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),c=k?function(e,t,i,n,r){for(var o=[],a=0,s=t.length;a<s;++a){E(t,a+"")?o.push(f(e,t,i,n,a+"",!0)):o.push("")}return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(e,t,i,n,r,!0))}),o}(e,i,n,s,a):a.map(function(t){return f(e,i,n,s,t,k)}),e.seen.pop(),function(e,t,i){return 60<e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}(c,v,I)):I[0]+v+I[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,i,n,r,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),E(n,r)||(a="["+r+"]"),s||(0>e.seen.indexOf(l.value)?-1<(s=_(i)?h(e,l.value,null):h(e,l.value,i-1)).indexOf("\n")&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,"\"").replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function _(e){return null===e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function g(e){return v(e)&&"[object RegExp]"===k(e)}function v(e){return"object"==babelHelpers.typeof(e)&&null!==e}function A(e){return v(e)&&"[object Date]"===k(e)}function w(e){return v(e)&&("[object Error]"===k(e)||babelHelpers.instanceof(e,Error))}function x(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function I(e){return 10>e?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=_,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=b,t.isSymbol=function(e){return"symbol"==babelHelpers.typeof(e)},t.isUndefined=y,t.isRegExp=g,t.isObject=v,t.isDate=A,t.isError=w,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==babelHelpers.typeof(e)||void 0===e},t.isBuffer=i(54);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,i;console.log("%s - %s",(e=new Date,i=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":"),[e.getDate(),S[e.getMonth()],i].join(" ")),t.format.apply(t,arguments))},t.inherits=i(53),t._extend=function(e,t){if(!t||!v(t))return e;for(var i=Object.keys(t),n=i.length;n--;){e[i[n]]=t[i[n]]}return e}}).call(this,i(0),i(3))},function(e,t,i){"use strict";(function(t){function n(e,t){if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=_Mathmin(i,n);r<o;++r){if(e[r]!==t[r]){i=e[r],n=t[r];break}}return i<n?-1:n<i?1:0}function r(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=i(29),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function h(e){return!r(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(babelHelpers.instanceof(e,DataView)||!!(e.buffer&&babelHelpers.instanceof(e.buffer,ArrayBuffer))))}var u=e.exports=b,f=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(o.isFunction(e)){if(l)return e.name;var t=e.toString().match(f);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function _(e){if(l||!o.isFunction(e))return o.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,i,n,r){throw new u.AssertionError({message:i,actual:e,expected:t,operator:n,stackStartFunction:r})}function b(e,t){e||m(e,!0,t,"==",u.ok)}function y(e,t,i,a){if(e===t)return!0;if(r(e)&&r(t))return 0===n(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==babelHelpers.typeof(e)||null!==t&&"object"==babelHelpers.typeof(t)){if(h(e)&&h(t)&&c(e)===c(t)&&!(babelHelpers.instanceof(e,Float32Array)||babelHelpers.instanceof(e,Float64Array)))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(r(e)!==r(t))return!1;var l=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,i,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=g(e),a=g(t);if(r&&!a||!r&&a)return!1;if(r)return e=s.call(e),t=s.call(t),y(e,t,i);var l,c,h=w(e),u=w(t);if(h.length!==u.length)return!1;for(h.sort(),u.sort(),c=h.length-1;0<=c;c--){if(h[c]!==u[c])return!1}for(c=h.length-1;0<=c;c--){if(l=h[c],!y(e[l],t[l],i,n))return!1}return!0}(e,t,i,a))}return i?e===t:e==t}function g(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(babelHelpers.instanceof(e,t))return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function A(e,t,i,n){var r;if("function"!=typeof t)throw new TypeError("\"block\" argument must be a function");"string"==typeof i&&(n=i,i=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),e&&!r&&m(r,i,"Missing expected exception"+n);var a="string"==typeof n,s=!e&&o.isError(r),l=!e&&r&&!i;if((s&&a&&v(r,i)||l)&&m(r,i,"Got unwanted exception"+n),e&&r&&i&&!v(r,i)||!e&&r)throw r}u.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(_((t=this).actual),128)+" "+t.operator+" "+p(_(t.expected),128),this.generatedMessage=!0);var i=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,i);else{var n=new Error;if(n.stack){var r=n.stack,o=d(i),a=r.indexOf("\n"+o);if(0<=a){var s=r.indexOf("\n",a+1);r=r.substring(s+1)}this.stack=r}}},o.inherits(u.AssertionError,Error),u.fail=m,u.ok=b,u.equal=function(e,t,i){e!=t&&m(e,t,i,"==",u.equal)},u.notEqual=function(e,t,i){e==t&&m(e,t,i,"!=",u.notEqual)},u.deepEqual=function(e,t,i){y(e,t,!1)||m(e,t,i,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(e,t,i){y(e,t,!0)||m(e,t,i,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(e,t,i){y(e,t,!1)&&m(e,t,i,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function e(t,i,n){y(t,i,!0)&&m(t,i,n,"notDeepStrictEqual",e)},u.strictEqual=function(e,t,i){e!==t&&m(e,t,i,"===",u.strictEqual)},u.notStrictEqual=function(e,t,i){e===t&&m(e,t,i,"!==",u.notStrictEqual)},u.throws=function(e,t,i){A(!0,e,t,i)},u.doesNotThrow=function(e,t,i){A(!1,e,t,i)},u.ifError=function(e){if(e)throw e};var w=Object.keys||function(e){var t=[];for(var i in e){a.call(e,i)&&t.push(i)}return t}}).call(this,i(0))},function(e,t,i){"use strict";e.exports=o;var n=i(2),r=i(6);function o(e){if(!babelHelpers.instanceof(this,o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,i){s(e,t,i)}):s(this,null,null)}function s(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=i(5),r.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var i=this;n.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},function(e,t,i){"use strict";var n=i(9).Buffer,r=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1;}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0;}}}(e);if("string"!=typeof t&&(n.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=h,this.end=u,t=3;break;default:return this.write=f,void(this.end=d);}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return 127>=e?0:6==e>>5?2:14==e>>4?3:30==e>>3?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"\uFFFD".repeat(i);if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"\uFFFD".repeat(i+1);if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"\uFFFD".repeat(i+2)}}(this,e,t);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if(0==(e.length-t)%2){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(55296<=n&&56319>=n)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function h(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var i=function(e,t,i){var n=t.length-1;if(n<i)return 0;var r=a(t[n]);return 0<=r?(0<r&&(e.lastNeed=r-1),r):--n<i?0:0<=(r=a(t[n]))?(0<r&&(e.lastNeed=r-2),r):--n<i?0:0<=(r=a(t[n]))?(0<r&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,i){"use strict";var n=i(10);function r(e,t){e.emit("error",t)}e.exports={destroy:function destroy(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(r,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,i){e.exports=i(20).EventEmitter},function(e,t,i){"use strict";(function(t,n){var r=i(10);e.exports=g;var o,a=i(38);g.ReadableState=y,i(20).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=i(34),c=i(9).Buffer,h=t.Uint8Array||function(){},u=i(6);u.inherits=i(5);var f=i(66),d;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,_=i(65),m=i(33);u.inherits(g,l);var b=["error","close","destroy","pause","resume"];function y(e,t){o=o||i(2),e=e||{};var n=babelHelpers.instanceof(t,o);this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(a||0===a)?a:s,this.highWaterMark=_Mathfloor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=i(32).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function g(e){if(o=o||i(2),!babelHelpers.instanceof(this,g))return new g(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function v(e,t,i,n,r){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,k(e)}}(e,a)):(r||(o=function(e,t){var i,n;return n=t,c.isBuffer(n)||babelHelpers.instanceof(n,h)||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}(a,t)),o?e.emit("error",o):a.objectMode||t&&0<t.length?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):A(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?A(e,a,t,!1):S(e,a)):A(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function A(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&k(e)),S(e,t)}Object.defineProperty(g.prototype,"destroyed",{get:function get(){return void 0!==this._readableState&&this._readableState.destroyed},set:function set(e){this._readableState&&(this._readableState.destroyed=e)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(e,t){this.push(null),t(e)},g.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),i=!0),v(this,e,t,!1,i)},g.prototype.unshift=function(e){return v(this,e,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return p||(p=i(32).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var w=8388608;function x(e,t){return 0>=e||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(I,e):I(e))}function I(e){d("emit readable"),e.emit("readable"),M(e)}function S(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(E,e,t))}function E(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),i!==t.length);){i=t.length}t.readingMore=!1}function C(e){d("readable nexttick read 0"),e.read(0)}function B(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read();){}}function P(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():i?function(e,t){var i=t.head,n=1,r=i.data;for(e-=r.length;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++n}return t.length-=n,r}(e,t):function(e,t){var i=c.allocUnsafe(e),n=t.head,r=1;for(n.data.copy(i),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,a),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t),n}(e,t.buffer,t.decoder),i);var i}function T(e){var t=e._readableState;if(0<t.length)throw new Error("\"endReadable()\" called on non-empty stream");t.endEmitted||(t.ended=!0,r.nextTick(D,t,e))}function D(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var i=0,n=e.length;i<n;i++){if(e[i]===t)return i}return-1}g.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):k(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&T(this),null;var n,r=t.needReadable;return d("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",r=!0),t.ended||t.reading?d("reading or ended",r=!1):r&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(i,t))),null===(n=0<e?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&T(this)),null!==n&&this.emit("data",n),n},g.prototype._read=function(){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(e,t){var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var l=t&&!1===t.end||e===n.stdout||e===n.stderr?y:c;function c(){d("onend"),e.end()}o.endEmitted?r.nextTick(l):i.once("end",l),e.on("unpipe",function t(n,r){d("onunpipe"),n===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",m),e.removeListener("finish",b),e.removeListener("drain",h),e.removeListener("error",_),e.removeListener("unpipe",t),i.removeListener("end",c),i.removeListener("end",y),i.removeListener("data",p),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())});var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(i);e.on("drain",h);var u=!1,f=!1;function p(t){d("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||1<o.pipesCount&&-1!==R(o.pipes,e))&&!u&&(d("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,f=!0),i.pause())}function _(t){d("onerror",t),y(),e.removeListener("error",_),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",b),y()}function b(){d("onfinish"),e.removeListener("close",m),y()}function y(){d("unpipe"),i.unpipe(e)}return i.on("data",p),function(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",_),e.once("close",m),e.once("finish",b),e.emit("pipe",i),o.flowing||(d("pipe resume"),i.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++){n[o].emit("unpipe",this,i)}return this}var a=R(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},g.prototype.on=function(e,t){var i=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):r.nextTick(C,this))}return i},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(B,e,t))}(this,e)),this},g.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var r in e.on("end",function(){if(d("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){d("wrapped data"),i.decoder&&(r=i.decoder.write(r)),(!i.objectMode||null!==r&&void 0!==r)&&(i.objectMode||r&&r.length)&&(t.push(r)||(n=!0,e.pause()))}),e){void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r))}for(var o=0;o<b.length;o++){e.on(b[o],this.emit.bind(this,b[o]))}return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},g._fromList=P}).call(this,i(0),i(3))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var i=new n.default(o.default,e);return function(){!function(){if(i.seek(128),"DICM"!==i.readFixedString(4))throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file."}();for(var e=[],t={};i.position<i.byteArray.length;){var n=i.position,s=(0,a.default)(i,e);if("x0002ffff"<s.tag){i.position=n;break}s.parser=o.default,t[s.tag]=s}var l=new r.default(i.byteArrayParser,i.byteArray,t);return l.warnings=i.warnings,l.position=i.position,l}()};var n=s(i(12)),r=s(i(7)),o=s(i(21)),a=s(i(15));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function readUint16(e,t){if(0>t)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(e[t]<<8)+e[t+1]},readInt16:function readInt16(e,t){if(0>t)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";var i=(e[t]<<8)+e[t+1];return 32768&i&&(i=i-65535-1),i},readUint32:function readUint32(e,t){if(0>t)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*e[t]+e[t+1])+e[t+2])+e[t+3]},readInt32:function readInt32(e,t){if(0>t)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]},readFloat:function readFloat(e,t){if(0>t)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var i=new Uint8Array(4);return i[3]=e[t],i[2]=e[t+1],i[1]=e[t+2],i[0]=e[t+3],new Float32Array(i.buffer)[0]},readDouble:function readDouble(e,t){if(0>t)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var i=new Uint8Array(8);return i[7]=e[t],i[6]=e[t+1],i[5]=e[t+2],i[4]=e[t+3],i[3]=e[t+4],i[2]=e[t+5],i[1]=e[t+6],i[0]=e[t+7],new Float64Array(i.buffer)[0]}}},function(e){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,i){for(;e.position+4<=e.byteArray.length;){var n=(0,a.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var r=c(e,i);t.items.push(r)}e.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),t.length=e.byteArray.length-t.dataOffset}(e,t,i):function(e,t,i){for(var n=t.dataOffset+t.length,r;e.position<n;){r=c(e,i);t.items.push(r)}}(e,t,i)};var n=l(i(7)),r=l(i(23)),o=l(i(13)),a=l(i(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}(i(16));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var i=(0,o.default)(e);return 4294967295===i.length?(i.hadUndefinedLength=!0,i.dataSet=function(e,t){for(var i={},o;e.position<e.byteArray.length;){o=(0,r.default)(e,void 0,t);if(i[o.tag]=o,"xfffee00d"===o.tag)return new n.default(e.byteArrayParser,e.byteArray,i)}return e.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new n.default(e.byteArrayParser,e.byteArray,i)}(e,t),i.length=e.position-i.dataOffset):(i.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetImplicit(i.dataSet,e,e.position+i.length,{vrCallback:t})),i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,i){for(;e.position+4<=e.byteArray.length;){var n=(0,a.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var r=c(e,i);t.items.push(r)}i.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),t.length=e.position-t.dataOffset}(e,t,i):function(e,t,i){for(var n=t.dataOffset+t.length,r;e.position<n;){r=c(e,i);t.items.push(r)}}(e,t,i)};var n=l(i(7)),r=l(i(15)),o=l(i(13)),a=l(i(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}(i(16));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var i=(0,o.default)(e);return 4294967295===i.length?(i.hadUndefinedLength=!0,i.dataSet=function(e,t){for(var i={},o;e.position<e.byteArray.length;){o=(0,r.default)(e,t);if(i[o.tag]=o,"xfffee00d"===o.tag)return new n.default(e.byteArrayParser,e.byteArray,i)}return t.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new n.default(e.byteArrayParser,e.byteArray,i)}(e,t),i.length=e.position-i.dataOffset):(i.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetExplicit(i.dataSet,e,e.position+i.length)),i}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var i=e.byteArray.length-8,n;e.position<=i;){n=e.readUint16();if(65534===n){var r=e.readUint16();if(57565===r){var o=e.readUint32();return 0!==o&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],"xfffee000"!==(0,o.default)(e))throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var n=e.readUint32()/4,r=0,a;r<n;r++){a=e.readUint32();t.basicOffsetTable.push(a)}for(var s=e.position;e.position<e.byteArray.length;){var l=(0,o.default)(e),c=e.readUint32();if("xfffee0dd"===l)return e.seek(c),void(t.length=e.position-t.dataOffset);if("xfffee000"!==l)return i&&i.push("unexpected tag "+l+" while searching for end of pixel data element with undefined length"),c>e.byteArray.length-e.position&&(c=e.byteArray.length-e.position),t.fragments.push({offset:e.position-s-8,position:e.position,length:c}),e.seek(c),void(t.length=e.position-t.dataOffset);t.fragments.push({offset:e.position-s-8,position:e.position,length:c}),e.seek(c)}i&&i.push("pixel data element "+t.tag+" missing sequence delimiter tag xfffee0dd")};var n,r=i(4),o=(n=r)&&n.__esModule?n:{default:n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e||void 0===t)throw"dicomParser.explicitElementToString: missing required parameters";if(void 0===t.vr)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var i,r=t.vr,o=t.tag;function a(t,i){for(var n="",r=0;r<t;r++){0!==r&&(n+="/"),n+=i.call(e,o,r).toString()}return n}if(!0===n.isStringVr(r))i=e.string(o);else{if("AT"===r){var s=e.uint32(o);if(void 0===s)return;return 0>s&&(s=4294967295+s+1),"x"+s.toString(16).toUpperCase()}"US"===r?i=a(t.length/2,e.uint16):"SS"===r?i=a(t.length/2,e.int16):"UL"===r?i=a(t.length/4,e.uint32):"SL"===r?i=a(t.length/4,e.int32):"FD"===r?i=a(t.length/8,e.double):"FL"===r&&(i=a(t.length/4,e.float))}return i};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}(i(25))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(a||(a=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),void 0===e)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(void 0===i)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(0>i)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return 0!==t.basicOffsetTable.length?(0,n.default)(e,t,i):(0,r.default)(e,t,0,t.fragments.length)};var n=o(i(26)),r=o(i(17));function o(e){return e&&e.__esModule?e:{default:e}}var a=!1},function(e){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,i){"use strict";var n=i(8),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,l,c,h,u,f){var d,p,_,m,b,y,g,v,A,w=f.bits,x=0,k=0,I=0,S=0,E=0,C=0,B=0,M=0,P=0,T=0,D=null,R=0,G=new n.Buf16(16),O=new n.Buf16(16),F=null,L=0;for(x=0;15>=x;x++){G[x]=0}for(k=0;k<l;k++){G[t[i+k]]++}for(E=w,S=15;1<=S&&0===G[S];S--){}if(E>S&&(E=S),0===S)return c[h++]=20971520,c[h++]=20971520,f.bits=1,0;for(I=1;I<S&&0===G[I];I++){}for(E<I&&(E=I),M=1,x=1;15>=x;x++){if(M<<=1,0>(M-=G[x]))return-1}if(0<M&&(0===e||1!==S))return-1;for(O[1]=0,x=1;15>x;x++){O[x+1]=O[x]+G[x]}for(k=0;k<l;k++){0!==t[i+k]&&(u[O[t[i+k]]++]=k)}if(0===e?(D=F=u,y=19):1===e?(D=r,R-=257,F=o,L-=257,y=256):(D=a,F=s,y=-1),T=0,k=0,x=I,b=h,C=E,B=0,_=-1,m=(P=1<<E)-1,1===e&&852<P||2===e&&592<P)return 1;for(;;){g=x-B,u[k]<y?(v=0,A=u[k]):u[k]>y?(v=F[L+u[k]],A=D[R+u[k]]):(v=96,A=0),d=1<<x-B,I=p=1<<C;do{c[b+(T>>B)+(p-=d)]=0|(g<<24|v<<16|A)}while(0!==p);for(d=1<<x-1;T&d;){d>>=1}if(0!==d?(T&=d-1,T+=d):T=0,k++,0==--G[x]){if(x===S)break;x=t[i+u[k]]}if(x>E&&(T&m)!==_){for(0===B&&(B=E),b+=I,M=1<<(C=x-B);C+B<S&&!(0>=(M-=G[C+B]));){C++,M<<=1}if(P+=1<<C,1===e&&852<P||2===e&&592<P)return 1;c[_=T&m]=0|(E<<24|C<<16|b-h)}}return 0!==T&&(c[b+T]=0|(x-B<<24|64<<16)),f.bits=E,0}},function(e){"use strict";e.exports=function(e,t){var i,n,r,o,a,s,l,c,h,u,f,d,p,_,m,b,y,g,v,A,w,x,k,I,S;i=e.state,n=e.next_in,I=e.input,r=n+(e.avail_in-5),o=e.next_out,S=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=i.dmax,c=i.wsize,h=i.whave,u=i.wnext,f=i.window,d=i.hold,p=i.bits,_=i.lencode,m=i.distcode,b=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;e:do{15>p&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),g=_[d&b];t:for(;;){if(d>>>=v=g>>>24,p-=v,0==(v=255&g>>>16))S[o++]=65535&g;else{if(!(16&v)){if(0==(64&v)){g=_[(65535&g)+(d&(1<<v)-1)];continue t}if(32&v){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}A=65535&g,(v&=15)&&(p<v&&(d+=I[n++]<<p,p+=8),A+=d&(1<<v)-1,d>>>=v,p-=v),15>p&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),g=m[d&y];i:for(;;){if(d>>>=v=g>>>24,p-=v,!(16&(v=255&g>>>16))){if(0==(64&v)){g=m[(65535&g)+(d&(1<<v)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&g,p<(v&=15)&&(d+=I[n++]<<p,(p+=8)<v&&(d+=I[n++]<<p,p+=8)),(w+=d&(1<<v)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(d>>>=v,p-=v,w>(v=o-a)){if((v=w-v)>h&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(x=0,k=f,0===u){if(x+=c-v,v<A){A-=v;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}}else if(u<v){if(x+=c+u-v,(v-=u)<A){A-=v;do{S[o++]=f[x++]}while(--v);if(x=0,u<A){A-=v=u;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}}}else if(x+=u-v,v<A){A-=v;do{S[o++]=f[x++]}while(--v);x=o-w,k=S}for(;2<A;){S[o++]=k[x++],S[o++]=k[x++],S[o++]=k[x++],A-=3}A&&(S[o++]=k[x++],1<A&&(S[o++]=k[x++]))}else{x=o-w;do{S[o++]=S[x++],S[o++]=S[x++],S[o++]=S[x++],A-=3}while(2<A);A&&(S[o++]=S[x++],1<A&&(S[o++]=S[x++]))}break}}break}}while(n<r&&o<s);n-=A=p>>3,d&=(1<<(p-=A<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<s?s-o+257:257-(o-s),i.hold=d,i.bits=p}},function(e,t,i){"use strict";var n=i(8),r=i(28),o=i(27),a=i(47),s=i(46),l=1,c=2,h=0,u=-2,f=1,d=12,p=30;function b(e){return(255&e>>>24)+(65280&e>>>8)+((65280&e)<<8)+((255&e)<<24)}function y(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,h):u}function g(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,y(e)):u}function v(e,t){var i,n;return e&&e.state?(n=e.state,0>t?(i=0,t=-t):(i=1+(t>>4),48>t&&(t&=15)),t&&(8>t||15<t)?u:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,g(e))):u}function A(e,t){var i,r;return e?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=r,r.window=null,(i=v(e,t))!==h&&(e.state=null),i):u}var w,x,k=!0;function I(e){if(k){var t;for(w=new n.Buf32(512),x=new n.Buf32(32),t=0;144>t;){e.lens[t++]=8}for(;256>t;){e.lens[t++]=9}for(;280>t;){e.lens[t++]=7}for(;288>t;){e.lens[t++]=8}for(s(l,e.lens,0,288,w,0,e.work,{bits:9}),t=0;32>t;){e.lens[t++]=5}s(c,e.lens,0,32,x,0,e.work,{bits:5}),k=!1}e.lencode=w,e.lenbits=9,e.distcode=x,e.distbits=5}function S(e,t,i,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),r>=a.wsize?(n.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),n.arraySet(a.window,t,i-r,o,a.wnext),(r-=o)?(n.arraySet(a.window,t,i-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=g,t.inflateReset2=v,t.inflateResetKeep=y,t.inflateInit=function(e){return A(e,15)},t.inflateInit2=A,t.inflate=function(e,t){var i,_,m,y,g,v,A,w,x,k,E,C,B,M,P,T,D,R,G,O,F,L,Z,z,U=0,V=new n.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(i=e.state).mode===d&&(i.mode=13),g=e.next_out,m=e.output,A=e.avail_out,y=e.next_in,_=e.input,v=e.avail_in,w=i.hold,x=i.bits,k=v,E=A,L=h;e:for(;;){switch(i.mode){case f:if(0===i.wrap){i.mode=13;break}for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(2&i.wrap&&35615===w){i.check=0,V[0]=255&w,V[1]=255&w>>>8,i.check=o(i.check,V,2,0),w=0,x=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",i.mode=p;break}if(8!=(15&w)){e.msg="unknown compression method",i.mode=p;break}if(x-=4,F=8+(15&(w>>>=4)),0===i.wbits)i.wbits=F;else if(F>i.wbits){e.msg="invalid window size",i.mode=p;break}i.dmax=1<<F,e.adler=i.check=1,i.mode=512&w?10:d,w=0,x=0;break;case 2:for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(i.flags=w,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=p;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=p;break}i.head&&(i.head.text=1&w>>8),512&i.flags&&(V[0]=255&w,V[1]=255&w>>>8,i.check=o(i.check,V,2,0)),w=0,x=0,i.mode=3;case 3:for(;32>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.head&&(i.head.time=w),512&i.flags&&(V[0]=255&w,V[1]=255&w>>>8,V[2]=255&w>>>16,V[3]=255&w>>>24,i.check=o(i.check,V,4,0)),w=0,x=0,i.mode=4;case 4:for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.head&&(i.head.xflags=255&w,i.head.os=w>>8),512&i.flags&&(V[0]=255&w,V[1]=255&w>>>8,i.check=o(i.check,V,2,0)),w=0,x=0,i.mode=5;case 5:if(1024&i.flags){for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.length=w,i.head&&(i.head.extra_len=w),512&i.flags&&(V[0]=255&w,V[1]=255&w>>>8,i.check=o(i.check,V,2,0)),w=0,x=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((C=i.length)>v&&(C=v),C&&(i.head&&(F=i.head.extra_len-i.length,i.head.extra||(i.head.extra=Array(i.head.extra_len)),n.arraySet(i.head.extra,_,y,C,F)),512&i.flags&&(i.check=o(i.check,_,C,y)),v-=C,y+=C,i.length-=C),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===v)break e;C=0;do{F=_[y+C++],i.head&&F&&65536>i.length&&(i.head.name+=_StringfromCharCode(F))}while(F&&C<v);if(512&i.flags&&(i.check=o(i.check,_,C,y)),v-=C,y+=C,F)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===v)break e;C=0;do{F=_[y+C++],i.head&&F&&65536>i.length&&(i.head.comment+=_StringfromCharCode(F))}while(F&&C<v);if(512&i.flags&&(i.check=o(i.check,_,C,y)),v-=C,y+=C,F)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;16>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(w!==(65535&i.check)){e.msg="header crc mismatch",i.mode=p;break}w=0,x=0}i.head&&(i.head.hcrc=1&i.flags>>9,i.head.done=!0),e.adler=i.check=0,i.mode=d;break;case 10:for(;32>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}e.adler=i.check=b(w),w=0,x=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=g,e.avail_out=A,e.next_in=y,e.avail_in=v,i.hold=w,i.bits=x,2;e.adler=i.check=1,i.mode=d;case d:if(5===t||6===t)break e;case 13:if(i.last){w>>>=7&x,x-=7&x,i.mode=27;break}for(;3>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}switch(i.last=1&w,x-=1,3&(w>>>=1)){case 0:i.mode=14;break;case 1:if(I(i),i.mode=20,6===t){w>>>=2,x-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=p;}w>>>=2,x-=2;break;case 14:for(w>>>=7&x,x-=7&x;32>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if((65535&w)!=(65535^w>>>16)){e.msg="invalid stored block lengths",i.mode=p;break}if(i.length=65535&w,w=0,x=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(C=i.length){if(C>v&&(C=v),C>A&&(C=A),0===C)break e;n.arraySet(m,_,y,C,g),v-=C,y+=C,A-=C,g+=C,i.length-=C;break}i.mode=d;break;case 17:for(;14>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(i.nlen=257+(31&w),w>>>=5,x-=5,i.ndist=1+(31&w),w>>>=5,x-=5,i.ncode=4+(15&w),w>>>=4,x-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=p;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;3>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.lens[N[i.have++]]=7&w,w>>>=3,x-=3}for(;19>i.have;){i.lens[N[i.have++]]=0}if(i.lencode=i.lendyn,i.lenbits=7,Z={bits:i.lenbits},L=s(0,i.lens,0,19,i.lencode,0,i.work,Z),i.lenbits=Z.bits,L){e.msg="invalid code lengths set",i.mode=p;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;T=255&(U=i.lencode[w&(1<<i.lenbits)-1])>>>16,D=65535&U,!((P=U>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(16>D)w>>>=P,x-=P,i.lens[i.have++]=D;else{if(16===D){for(z=P+2;x<z;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(w>>>=P,x-=P,0===i.have){e.msg="invalid bit length repeat",i.mode=p;break}F=i.lens[i.have-1],C=3+(3&w),w>>>=2,x-=2}else if(17===D){for(z=P+3;x<z;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}x-=P,F=0,C=3+(7&(w>>>=P)),w>>>=3,x-=3}else{for(z=P+7;x<z;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}x-=P,F=0,C=11+(127&(w>>>=P)),w>>>=7,x-=7}if(i.have+C>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=p;break}for(;C--;){i.lens[i.have++]=F}}}if(i.mode===p)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=p;break}if(i.lenbits=9,Z={bits:i.lenbits},L=s(l,i.lens,0,i.nlen,i.lencode,0,i.work,Z),i.lenbits=Z.bits,L){e.msg="invalid literal/lengths set",i.mode=p;break}if(i.distbits=6,i.distcode=i.distdyn,Z={bits:i.distbits},L=s(c,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Z),i.distbits=Z.bits,L){e.msg="invalid distances set",i.mode=p;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(6<=v&&258<=A){e.next_out=g,e.avail_out=A,e.next_in=y,e.avail_in=v,i.hold=w,i.bits=x,a(e,E),g=e.next_out,m=e.output,A=e.avail_out,y=e.next_in,_=e.input,v=e.avail_in,w=i.hold,x=i.bits,i.mode===d&&(i.back=-1);break}for(i.back=0;T=255&(U=i.lencode[w&(1<<i.lenbits)-1])>>>16,D=65535&U,!((P=U>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(T&&0==(240&T)){for(R=P,G=T,O=D;T=255&(U=i.lencode[O+((w&(1<<R+G)-1)>>R)])>>>16,D=65535&U,!(R+(P=U>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}w>>>=R,x-=R,i.back+=R}if(w>>>=P,x-=P,i.back+=P,i.length=D,0===T){i.mode=26;break}if(32&T){i.back=-1,i.mode=d;break}if(64&T){e.msg="invalid literal/length code",i.mode=p;break}i.extra=15&T,i.mode=22;case 22:if(i.extra){for(z=i.extra;x<z;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.length+=w&(1<<i.extra)-1,w>>>=i.extra,x-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;T=255&(U=i.distcode[w&(1<<i.distbits)-1])>>>16,D=65535&U,!((P=U>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(0==(240&T)){for(R=P,G=T,O=D;T=255&(U=i.distcode[O+((w&(1<<R+G)-1)>>R)])>>>16,D=65535&U,!(R+(P=U>>>24)<=x);){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}w>>>=R,x-=R,i.back+=R}if(w>>>=P,x-=P,i.back+=P,64&T){e.msg="invalid distance code",i.mode=p;break}i.offset=D,i.extra=15&T,i.mode=24;case 24:if(i.extra){for(z=i.extra;x<z;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}i.offset+=w&(1<<i.extra)-1,w>>>=i.extra,x-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=p;break}i.mode=25;case 25:if(0===A)break e;if(C=E-A,i.offset>C){if((C=i.offset-C)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=p;break}C>i.wnext?(C-=i.wnext,B=i.wsize-C):B=i.wnext-C,C>i.length&&(C=i.length),M=i.window}else M=m,B=g-i.offset,C=i.length;C>A&&(C=A),A-=C,i.length-=C;do{m[g++]=M[B++]}while(--C);0===i.length&&(i.mode=21);break;case 26:if(0===A)break e;m[g++]=i.length,A--,i.mode=21;break;case 27:if(i.wrap){for(;32>x;){if(0===v)break e;v--,w|=_[y++]<<x,x+=8}if(E-=A,e.total_out+=E,i.total+=E,E&&(e.adler=i.check=i.flags?o(i.check,m,E,g-E):r(i.check,m,E,g-E)),E=A,(i.flags?w:b(w))!==i.check){e.msg="incorrect data check",i.mode=p;break}w=0,x=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;32>x;){if(0===v)break e;v--,w+=_[y++]<<x,x+=8}if(w!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=p;break}w=0,x=0}i.mode=29;case 29:L=1;break e;case p:L=-3;break e;case 31:return-4;case 32:default:return u;}}return e.next_out=g,e.avail_out=A,e.next_in=y,e.avail_in=v,i.hold=w,i.bits=x,(i.wsize||E!==e.avail_out&&i.mode<p&&(27>i.mode||4!==t))&&S(e,e.output,e.next_out,E-e.avail_out)?(i.mode=31,-4):(k-=e.avail_in,E-=e.avail_out,e.total_in+=k,e.total_out+=E,i.total+=E,i.wrap&&E&&(e.adler=i.check=i.flags?o(i.check,m,E,e.next_out-E):r(i.check,m,E,e.next_out-E)),e.data_type=i.bits+(i.last?64:0)+(i.mode===d?128:0)+(20===i.mode||15===i.mode?256:0),(0===k&&0===E||4===t)&&L===h&&(L=-5),L)},t.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,h},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?u:(i.head=t,t.done=!1,h):u},t.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?u:11===i.mode&&r(1,t,n,0)!==i.check?-3:S(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,h):u},t.inflateInfo="pako inflate (from Nodeca project)"},function(e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,i){"use strict";var n=i(8);function r(e){for(var t=e.length;0<=--t;){e[t]=0}}var a=256,s=a+1+29,l=30,c=19,h=2*s+1,u=15,f=16,d=256,p=16,_=17,m=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=Array(2*(s+2));r(A);var w=Array(2*l);r(w);var x=Array(512);r(x);var k=Array(256);r(k);var I=Array(29);r(I);var S,E,C,B=Array(l);function M(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function P(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function T(e){return 256>e?x[e]:x[256+(e>>>7)]}function D(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=255&t>>>8}function R(e,t,i){e.bi_valid>f-i?(e.bi_buf|=65535&t<<e.bi_valid,D(e,e.bi_buf),e.bi_buf=t>>f-e.bi_valid,e.bi_valid+=i-f):(e.bi_buf|=65535&t<<e.bi_valid,e.bi_valid+=i)}function G(e,t,i){R(e,i[2*t],i[2*t+1])}function O(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(0<--t);return i>>>1}function F(e,t,i){var n,r,o=Array(u+1),a=0;for(n=1;n<=u;n++){o[n]=a=a+i[n-1]<<1}for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=O(o[s]++,s))}}function L(e){var t;for(t=0;t<s;t++){e.dyn_ltree[2*t]=0}for(t=0;t<l;t++){e.dyn_dtree[2*t]=0}for(t=0;t<c;t++){e.bl_tree[2*t]=0}e.dyn_ltree[2*d]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Z(e){8<e.bi_valid?D(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function z(e,t,i,n){var r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]}function U(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&z(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!z(t,n,e.heap[r],e.depth));){e.heap[i]=e.heap[r],i=r,r<<=1}e.heap[i]=n}function V(e,t,i){var n,r,o,s,l=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===n?G(e,r,t):(G(e,(o=k[r])+a+1,t),0!==(s=b[o])&&R(e,r-=I[o],s),G(e,o=T(--n),i),0!==(s=y[o])&&R(e,n-=B[o],s))}while(l<e.last_lit);G(e,d,t)}function N(e,t){var i,n,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,i=0;i<l;i++){0!==o[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):o[2*i+1]=0}for(;2>e.heap_len;){o[2*(r=e.heap[++e.heap_len]=2>c?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1])}for(t.max_code=c,i=e.heap_len>>1;1<=i;i--){U(e,o,i)}r=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],U(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,o[2*r]=o[2*i]+o[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,o[2*i+1]=o[2*n+1]=r,e.heap[1]=r++,U(e,o,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,o,a,s,l=t.dyn_tree,c=t.max_code,f=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,_=t.stat_desc.extra_base,m=t.stat_desc.max_length,b=0;for(o=0;o<=u;o++){e.bl_count[o]=0}for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<h;i++){(o=l[2*l[2*(n=e.heap[i])+1]+1]+1)>m&&(o=m,b++),l[2*n+1]=o,n>c||(e.bl_count[o]++,a=0,n>=_&&(a=p[n-_]),s=l[2*n],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(f[2*n+1]+a)))}if(0!==b){do{for(o=m-1;0===e.bl_count[o];){o--}e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,b-=2}while(0<b);for(o=m;0!==o;o--){for(n=e.bl_count[o];0!==n;){(r=e.heap[--i])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),n--)}}}}(e,t),F(o,c,e.bl_count)}function H(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++){r=a,a=t[2*(n+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*p]++):10>=s?e.bl_tree[2*_]++:e.bl_tree[2*m]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}}function W(e,t,i){var n,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=i;n++){if(r=a,a=t[2*(n+1)+1],!(++s<l&&r===a)){if(s<c)do{G(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(G(e,r,e.bl_tree),s--),G(e,p,e.bl_tree),R(e,s-3,2)):10>=s?(G(e,_,e.bl_tree),R(e,s-3,3)):(G(e,m,e.bl_tree),R(e,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}}r(B);var j=!1;function Y(e,t,i,r){R(e,(0<<1)+(r?1:0),3),function(e,t,i){Z(e),D(e,i),D(e,~i),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}t._tr_init=function(e){j||(function(){var e,t,i,n,r,o=Array(u+1);for(i=0,n=0;28>n;n++){for(I[n]=i,e=0;e<1<<b[n];e++){k[i++]=n}}for(k[i-1]=n,r=0,n=0;16>n;n++){for(B[n]=r,e=0;e<1<<y[n];e++){x[r++]=n}}for(r>>=7;n<l;n++){for(B[n]=r<<7,e=0;e<1<<y[n]-7;e++){x[256+r++]=n}}for(t=0;t<=u;t++){o[t]=0}for(e=0;143>=e;){A[2*e+1]=8,e++,o[8]++}for(;255>=e;){A[2*e+1]=9,e++,o[9]++}for(;279>=e;){A[2*e+1]=7,e++,o[7]++}for(;287>=e;){A[2*e+1]=8,e++,o[8]++}for(F(A,s+1,o),e=0;e<l;e++){w[2*e+1]=5,w[2*e]=O(e,5)}S=new M(A,b,a+1,s,u),E=new M(w,y,0,l,u),C=new M([],g,0,c,7)}(),j=!0),e.l_desc=new P(e.dyn_ltree,S),e.d_desc=new P(e.dyn_dtree,E),e.bl_desc=new P(e.bl_tree,C),e.bi_buf=0,e.bi_valid=0,L(e)},t._tr_stored_block=Y,t._tr_flush_block=function(e,t,i,n){var r,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;31>=t;t++,i>>>=1){if(1&i&&0!==e.dyn_ltree[2*t])return 0}if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++){if(0!==e.dyn_ltree[2*t])return 1}return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(H(e,e.dyn_ltree,e.l_desc.max_code),H(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*v[t]+1];t--){}return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?Y(e,t,i,n):4===e.strategy||o===r?(R(e,2+(n?1:0),3),V(e,A,w)):(R(e,4+(n?1:0),3),function(e,t,i,n){var r;for(R(e,t-257,5),R(e,i-1,5),R(e,n-4,4),r=0;r<n;r++){R(e,e.bl_tree[2*v[r]+1],3)}W(e,e.dyn_ltree,t-1),W(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),V(e,e.dyn_ltree,e.dyn_dtree)),L(e),n&&Z(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=255&t>>>8,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(k[i]+a+1)]++,e.dyn_dtree[2*T(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){R(e,2,3),G(e,d,A),function(e){16===e.bi_valid?(D(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,i){"use strict";var n,r=i(8),o=i(50),a=i(28),s=i(27),l=i(49),c=0,h=4,u=0,f=-2,b=8,g=286,k=3,I=258,S=I+k+1,E=42,C=103,B=113,M=666,P=1,T=2,D=3,R=4;function G(e,t){return e.msg=l[t],t}function O(e){return(e<<1)-(4<e?9:0)}function F(e){for(var t=e.length;0<=--t;){e[t]=0}}function L(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function Z(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,L(e.strm)}function z(e,t){e.pending_buf[e.pending++]=t}function U(e,t){e.pending_buf[e.pending++]=255&t>>>8,e.pending_buf[e.pending++]=255&t}function V(e,t){var i,n,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-S?e.strstart-(e.w_size-S):0,c=e.window,h=e.w_mask,u=e.prev,f=e.strstart+I,d=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+a]===p&&c[i+a-1]===d&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<f);if(n=I-(f-o),o=f-I,n>a){if(e.match_start=t,a=n,n>=s)break;d=c[o+a-1],p=c[o+a]}}}while((t=u[t&h])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function N(e){var t,i,n,o,l,c,h,u,f,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-S)){r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--i);t=i=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--i);o+=p}if(0===e.strm.avail_in)break;if(c=e.strm,h=e.window,u=e.strstart+e.lookahead,f=o,d=void 0,(d=c.avail_in)>f&&(d=f),i=0===d?0:(c.avail_in-=d,r.arraySet(h,c.input,c.next_in,d,u),1===c.state.wrap?c.adler=a(c.adler,h,d,u):2===c.state.wrap&&(c.adler=s(c.adler,h,d,u)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=i,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k));){}}while(e.lookahead<S&&0!==e.strm.avail_in)}function H(e,t){for(var i,n;;){if(e.lookahead<S){if(N(e),e.lookahead<S&&t===c)return P;if(0===e.lookahead)break}if(i=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-S&&(e.match_length=V(e,i)),e.match_length>=k){if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;}else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Z(e,!1),0===e.strm.avail_out))return P}return e.insert=e.strstart<k-1?e.strstart:k-1,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):e.last_lit&&(Z(e,!1),0===e.strm.avail_out)?P:T}function W(e,t){for(var i,n,r;;){if(e.lookahead<S){if(N(e),e.lookahead<S&&t===c)return P;if(0===e.lookahead)break}if(i=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-S&&(e.match_length=V(e,i),5>=e.match_length&&(e.strategy===1||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-k,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=k-1,e.strstart++,n&&(Z(e,!1),0===e.strm.avail_out))return P}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&Z(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return P}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):e.last_lit&&(Z(e,!1),0===e.strm.avail_out)?P:T}function j(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function Y(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=t.wrap?E:B,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),u):G(e,f)}function X(e){var t,i=Y(e);return i===u&&((t=e.state).window_size=2*t.w_size,F(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=k-1,t.match_available=0,t.ins_h=0),i}function Q(e,t,i,n,o,a){if(!e)return f;var s=1;if(t===-1&&(t=6),0>n?(s=0,n=-n):15<n&&(s=2,n-=16),1>o||o>9||i!==b||8>n||15<n||0>t||9<t||0>a||a>4)return G(e,f);8===n&&(n=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*(2*g+1)),this.dyn_dtree=new r.Buf16(2*(2*30+1)),this.bl_tree=new r.Buf16(2*(2*19+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(15+1),this.heap=new r.Buf16(2*g+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*g+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=i,X(e)}n=[new j(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(1>=e.lookahead){if(N(e),0===e.lookahead&&t===c)return P;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Z(e,!1),0===e.strm.avail_out))return P;if(e.strstart-e.block_start>=e.w_size-S&&(Z(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):(e.strstart>e.block_start&&(Z(e,!1),e.strm.avail_out),P)}),new j(4,4,8,4,H),new j(4,5,16,8,H),new j(4,6,32,32,H),new j(4,4,16,16,W),new j(8,16,32,32,W),new j(8,16,128,128,W),new j(8,32,128,256,W),new j(32,128,258,1024,W),new j(32,258,258,4096,W)],t.deflateInit=function(e,t){return Q(e,t,b,15,8,0)},t.deflateInit2=Q,t.deflateReset=X,t.deflateResetKeep=Y,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,u):f},t.deflate=function(e,t){var i,r,a,l;if(!e||!e.state||5<t||0>t)return e?G(e,f):f;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===M&&t!==h)return G(e,0===e.avail_out?-5:f);if(r.strm=e,i=r.last_flush,r.last_flush=t,r.status===E)if(2===r.wrap)e.adler=0,z(r,31),z(r,139),z(r,8),r.gzhead?(z(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),z(r,255&r.gzhead.time),z(r,255&r.gzhead.time>>8),z(r,255&r.gzhead.time>>16),z(r,255&r.gzhead.time>>24),z(r,9===r.level?2:2<=r.strategy||2>r.level?4:0),z(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(z(r,255&r.gzhead.extra.length),z(r,255&r.gzhead.extra.length>>8)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(z(r,0),z(r,0),z(r,0),z(r,0),z(r,0),z(r,9===r.level?2:2<=r.strategy||2>r.level?4:0),z(r,3),r.status=B);else{var d=b+(r.w_bits-8<<4)<<8;d|=(2<=r.strategy||2>r.level?0:6>r.level?1:6===r.level?2:3)<<6,0!==r.strstart&&(d|=32),d+=31-d%31,r.status=B,U(r,d),0!==r.strstart&&(U(r,e.adler>>>16),U(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),L(e),a=r.pending,r.pending!==r.pending_buf_size));){z(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++}r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),L(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,z(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),L(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,z(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=C)}else r.status=C;if(r.status===C&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&L(e),r.pending+2<=r.pending_buf_size&&(z(r,255&e.adler),z(r,255&e.adler>>8),e.adler=0,r.status=B)):r.status=B),0!==r.pending){if(L(e),0===e.avail_out)return r.last_flush=-1,u}else if(0===e.avail_in&&O(t)<=O(i)&&t!==h)return G(e,-5);if(r.status===M&&0!==e.avail_in)return G(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==c&&r.status!==M){var p=2===r.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(N(e),0===e.lookahead)){if(t===c)return P;break}if(e.match_length=0,i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(Z(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):e.last_lit&&(Z(e,!1),0===e.strm.avail_out)?P:T}(r,t):3===r.strategy?function(e,t){for(var i,n,r,a,s=e.window;;){if(e.lookahead<=I){if(N(e),e.lookahead<=I&&t===c)return P;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(n=s[r=e.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){a=e.strstart+I;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<a);e.match_length=I-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(i=o._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(Z(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===h?(Z(e,!0),0===e.strm.avail_out?D:R):e.last_lit&&(Z(e,!1),0===e.strm.avail_out)?P:T}(r,t):n[r.level].func(r,t);if(p!==D&&p!==R||(r.status=M),p===P||p===D)return 0===e.avail_out&&(r.last_flush=-1),u;if(p===T&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(F(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),L(e),0===e.avail_out))return r.last_flush=-1,u}return t!==h?u:0>=r.wrap?1:(2===r.wrap?(z(r,255&e.adler),z(r,255&e.adler>>8),z(r,255&e.adler>>16),z(r,255&e.adler>>24),z(r,255&e.total_in),z(r,255&e.total_in>>8),z(r,255&e.total_in>>16),z(r,255&e.total_in>>24)):(U(r,e.adler>>>16),U(r,65535&e.adler)),L(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?u:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==E&&69!==t&&73!==t&&91!==t&&t!==C&&t!==B&&t!==M?G(e,f):(e.state=null,t===B?G(e,-3):u):f},t.deflateSetDictionary=function(e,t){var i,n,o,s,l,c,h,d,p=t.length;if(!e||!e.state)return f;if(2===(s=(i=e.state).wrap)||1===s&&i.status!==E||i.lookahead)return f;for(1===s&&(e.adler=a(e.adler,t,p,0)),i.wrap=0,p>=i.w_size&&(0===s&&(F(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new r.Buf8(i.w_size),r.arraySet(d,t,p-i.w_size,i.w_size,0),t=d,p=i.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=p,e.next_in=0,e.input=t,N(i);i.lookahead>=k;){n=i.strstart,o=i.lookahead-(k-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+k-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--o);i.strstart=n,i.lookahead=k-1,N(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=k-1,i.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,i.wrap=s,u},t.deflateInfo="pako deflate (from Nodeca project)"},function(e){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e){e.exports=function(e){return e&&"object"==babelHelpers.typeof(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,i){"use strict";(function(e,n){var r=i(30),o=i(52),a=i(51),s=i(48),l=i(45);for(var c in l){t[c]=l[c]}function h(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,r(this.init_done,"close before init"),r(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},h.prototype.write=function(e,t,i,n,r,o,a){return this._write(!0,e,t,i,n,r,o,a)},h.prototype.writeSync=function(e,t,i,n,r,o,a){return this._write(!1,e,t,i,n,r,o,a)},h.prototype._write=function(i,o,a,s,l,c,h,u){if(r.equal(arguments.length,8),r(this.init_done,"write before init"),r(this.mode!==t.NONE,"already finalized"),r.equal(!1,this.write_in_progress,"write already in progress"),r.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,r.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==t.Z_NO_FLUSH&&o!==t.Z_PARTIAL_FLUSH&&o!==t.Z_SYNC_FLUSH&&o!==t.Z_FULL_FLUSH&&o!==t.Z_FINISH&&o!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=u,this.strm.output=c,this.strm.next_out=h,this.flush=o,!i)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return n.nextTick(function(){f._process(),f._after()}),this},h.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},h.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(0<this.strm.avail_in&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read");}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));0<this.strm.avail_in&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];){this.reset(),this.err=s.inflate(this.strm,this.flush)}break;default:throw new Error("Unknown mode "+this.mode);}},h.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1;}return!0},h.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},h.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(e,i,n,o,a){r(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),r(8<=e&&15>=e,"invalid windowBits"),r(-1<=i&&9>=i,"invalid compression level"),r(1<=n&&9>=n,"invalid memlevel"),r(o===t.Z_FILTERED||o===t.Z_HUFFMAN_ONLY||o===t.Z_RLE||o===t.Z_FIXED||o===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(i,e,n,o,a),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(e,i,n,r,l){switch(this.level=e,this.windowBits=i,this.memLevel=n,this.strategy=r,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode);}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary);}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm);}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=h}).call(this,i(1).Buffer,i(3))},function(e,t,i){e.exports=i(19).PassThrough},function(e,t,i){e.exports=i(19).Transform},function(e,t,i){e.exports=i(2)},function(e,t,i){e.exports=i(18)},function(e,t,i){"use strict";e.exports=o;var n=i(31),r=i(6);function o(e){if(!babelHelpers.instanceof(this,o))return new o(e);n.call(this,e)}r.inherits=i(5),r.inherits(o,n),o.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){(function(t){function i(e){try{if(!t.localStorage)return!1}catch(e){return!1}var i=t.localStorage[e];return null!=i&&"true"===(i+"").toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,i(0))},function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var n,r,o,a,s,l=1,c={},h=!1,u=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,n=function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=Array(arguments.length-1),i=0;i<t.length;i++){t[i]=arguments[i+1]}var r={callback:e,args:t};return c[l]=r,n(l),l++},f.clearImmediate=d}function d(e){delete c[e]}function p(e){if(h)setTimeout(p,0,e);else{var t=c[e];if(t){h=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n);}}(t)}finally{d(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(0),i(3))},function(e,t,i){(function(e){var n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(62),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(0))},function(){},function(e,t,i){"use strict";var n=i(9).Buffer,r=i(64);e.exports=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;){i+=e+t.data}return i},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,i,r,o=n.allocUnsafe(e>>>0),a=this.head,s=0;a;){t=a.data,i=o,r=s,t.copy(i,r),s+=a.data.length,a=a.next}return o},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(){},function(e,t,i){e.exports=r;var n=i(20).EventEmitter;function r(){n.call(this)}i(5)(r,n),r.Readable=i(19),r.Writable=i(59),r.Duplex=i(58),r.Transform=i(57),r.PassThrough=i(56),r.Stream=r,r.prototype.pipe=function(e,t){var i=this;function r(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(i.on("end",s),i.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(h(),0===n.listenerCount(this,"error"))throw e}function h(){i.removeListener("data",r),e.removeListener("drain",o),i.removeListener("end",s),i.removeListener("close",l),i.removeListener("error",c),e.removeListener("error",c),i.removeListener("end",h),i.removeListener("close",h),e.removeListener("close",h)}return i.on("error",c),e.on("error",c),i.on("end",h),i.on("close",h),e.on("close",h),e.emit("pipe",i),e}},function(e,t,i){"use strict";(function(e){var n=i(1).Buffer,r=i(67).Transform,o=i(55),a=i(29),s=i(30).ok,l=i(1).kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(o),u=0,f;u<h.length;u++){f=h[u];f.match(/^Z/)&&Object.defineProperty(t,f,{enumerable:!0,value:o[f],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),_=0,m;_<p.length;_++){m=p[_];d[d[m]]=m}function b(e,t,i){var r=[],o=0;function a(){for(var t;null!==(t=e.read());){r.push(t),o+=t.length}e.once("readable",a)}function s(){var t,a=null;o>=l?a=new RangeError(c):t=n.concat(r,o),r=[],e.close(),i(a,t)}e.on("error",function(t){e.removeListener("end",s),e.removeListener("readable",a),i(t)}),e.on("end",s),e.end(t),a()}function y(e,t){if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var i=e._finishFlushFlag;return e._processChunk(t,i)}function g(e){if(!babelHelpers.instanceof(this,g))return new g(e);E.call(this,e,o.DEFLATE)}function v(e){if(!babelHelpers.instanceof(this,v))return new v(e);E.call(this,e,o.INFLATE)}function A(e){if(!babelHelpers.instanceof(this,A))return new A(e);E.call(this,e,o.GZIP)}function w(e){if(!babelHelpers.instanceof(this,w))return new w(e);E.call(this,e,o.GUNZIP)}function x(e){if(!babelHelpers.instanceof(this,x))return new x(e);E.call(this,e,o.DEFLATERAW)}function k(e){if(!babelHelpers.instanceof(this,k))return new k(e);E.call(this,e,o.INFLATERAW)}function I(e){if(!babelHelpers.instanceof(this,I))return new I(e);E.call(this,e,o.UNZIP)}function S(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function E(e,i){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,r.call(this,e),e.flush&&!S(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!S(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(i);var s=this;this._hadError=!1,this._handle.onerror=function(e,i){C(s),s._hadError=!0;var n=new Error(e);n.errno=i,n.code=t.codes[i],s.emit("error",n)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var c=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function get(){return!a._handle},configurable:!0,enumerable:!0})}function C(t,i){i&&e.nextTick(i),t._handle&&(t._handle.close(),t._handle=null)}function B(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=g,t.Inflate=v,t.Gzip=A,t.Gunzip=w,t.DeflateRaw=x,t.InflateRaw=k,t.Unzip=I,t.createDeflate=function(e){return new g(e)},t.createInflate=function(e){return new v(e)},t.createDeflateRaw=function(e){return new x(e)},t.createInflateRaw=function(e){return new k(e)},t.createGzip=function(e){return new A(e)},t.createGunzip=function(e){return new w(e)},t.createUnzip=function(e){return new I(e)},t.deflate=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new g(t),e,i)},t.deflateSync=function(e,t){return y(new g(t),e)},t.gzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new A(t),e,i)},t.gzipSync=function(e,t){return y(new A(t),e)},t.deflateRaw=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new x(t),e,i)},t.deflateRawSync=function(e,t){return y(new x(t),e)},t.unzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new I(t),e,i)},t.unzipSync=function(e,t){return y(new I(t),e)},t.inflate=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new v(t),e,i)},t.inflateSync=function(e,t){return y(new v(t),e)},t.gunzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new w(t),e,i)},t.gunzipSync=function(e,t){return y(new w(t),e)},t.inflateRaw=function(e,t,i){return"function"==typeof t&&(i=t,t={}),b(new k(t),e,i)},t.inflateRawSync=function(e,t){return y(new k(t),e)},a.inherits(E,r),E.prototype.params=function(i,n,r){if(i<t.Z_MIN_LEVEL||i>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+i);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==i||this._strategy!==n){var a=this;this.flush(o.Z_SYNC_FLUSH,function(){s(a._handle,"zlib binding closed"),a._handle.params(i,n),a._hadError||(a._level=i,a._strategy=n,r&&r())})}else e.nextTick(r)},E.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},E.prototype._flush=function(e){this._transform(n.alloc(0),"",e)},E.prototype.flush=function(t,i){var r=this,a=this._writableState;"function"!=typeof t&&(void 0!==t||i)||(i=t,t=o.Z_FULL_FLUSH),a.ended?i&&e.nextTick(i):a.ending?i&&this.once("end",i):a.needDrain?i&&this.once("drain",function(){return r.flush(t,i)}):(this._flushFlag=t,this.write(n.alloc(0),"",i))},E.prototype.close=function(t){C(this,t),e.nextTick(B,this)},E.prototype._transform=function(e,t,i){var r,a=this._writableState,s=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||n.isBuffer(e)?this._handle?(s?r=this._finishFlushFlag:(r=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,r,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},E.prototype._processChunk=function(e,t,i){var r=e&&e.length,o=this._chunkSize-this._offset,a=0,h=this,u="function"==typeof i;if(!u){var f,d=[],p=0;this.on("error",function(e){f=e}),s(this._handle,"zlib binding closed");do{var _=this._handle.writeSync(t,e,a,r,this._buffer,this._offset,o)}while(!this._hadError&&y(_[0],_[1]));if(this._hadError)throw f;if(p>=l)throw C(this),new RangeError(c);var m=n.concat(d,p);return C(this),m}s(this._handle,"zlib binding closed");var b=this._handle.write(t,e,a,r,this._buffer,this._offset,o);function y(l,c){if(this&&(this.buffer=null,this.callback=null),!h._hadError){var f=o-c;if(s(0<=f,"have should not go down"),0<f){var _=h._buffer.slice(h._offset,h._offset+f);h._offset+=f,u?h.push(_):(d.push(_),p+=_.length)}if((0===c||h._offset>=h._chunkSize)&&(o=h._chunkSize,h._offset=0,h._buffer=n.allocUnsafe(h._chunkSize)),0===c){if(a+=r-l,r=l,!u)return!0;var m=h._handle.write(t,e,a,r,h._buffer,h._offset,h._chunkSize);return m.callback=y,void(m.buffer=e)}if(!u)return!1;i()}}b.buffer=e,b.callback=y},a.inherits(g,E),a.inherits(v,E),a.inherits(A,E),a.inherits(w,E),a.inherits(x,E),a.inherits(k,E),a.inherits(I,E)}).call(this,i(3))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function get(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function get(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,f){if(void 0===t)throw"dicomParser.parseDicom: missing required parameter 'byteArray'";return d=(0,l.default)(t,f),p=function(l){var d=function(e){if(void 0===e.elements.x00020010)throw"dicomParser.parseDicom: missing required meta header attribute 0002,0010";var i=e.elements.x00020010;return h.readFixedString(t,i.dataOffset,i.length)}(l),p=function(e){return"1.2.840.10008.1.2"!==e}(d),_=function(a,l){if("1.2.840.10008.1.2.1.99"===a){if(f&&f.inflater){var h=f.inflater(t,l);return new o.default(s.default,h,0)}if(void 0!==e&&this.module!==e){var u=i(68),d=(0,c.default)(t,l,t.length-l),p=u.inflateRawSync(d),_=(0,n.default)(t,p.length+l);return t.copy(_,0,0,l),p.copy(_,l),new o.default(s.default,_,0)}if("undefined"!=typeof pako){var m=t.slice(l),b=pako.inflateRaw(m),y=(0,n.default)(t,b.length+l);return y.set(t.slice(0,l),0),y.set(b,l),new o.default(s.default,y,0)}throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax"}return"1.2.840.10008.1.2.2"===a?new o.default(r.default,t,l):new o.default(s.default,t,l)}(d,l.position),m=new a.default(_.byteArrayParser,_.byteArray,{});m.warnings=_.warnings;try{p?u.parseDicomDataSetExplicit(m,_,_.byteArray.length,f):u.parseDicomDataSetImplicit(m,_,_.byteArray.length,f)}catch(e){throw{exception:e,dataSet:m}}return m}(d),function(e,t){for(var i in e.elements){e.elements.hasOwnProperty(i)&&(t.elements[i]=e.elements[i])}return void 0!==e.warnings&&(t.warnings=e.warnings.concat(t.warnings)),t}(d,p);var d,p};var n=d(i(22)),r=d(i(37)),o=d(i(12)),a=d(i(7)),s=d(i(21)),l=d(i(36)),c=d(i(11)),h=f(i(14)),u=f(i(16));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}}).call(this,i(69)(e))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.8.1"},function(e,t){t.read=function(e,t,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,h=-7,u=i?r-1:0,f=i?-1:1,d=e[t+u];for(u+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;0<h;o=256*o+e[t+u],u+=f,h-=8){}for(a=o&(1<<-h)-1,o>>=-h,h+=n;0<h;a=256*a+e[t+u],u+=f,h-=8){}if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=_Mathpow(2,n),o-=c}return(d?-1:1)*a*_Mathpow(2,o-n)},t.write=function(e,t,i,n,r,o){var a,s,l,c=8*o-r-1,h=(1<<c)-1,u=h>>1,f=23===r?5.960464477539063e-8-6.617444900424222e-24:0,d=n?0:o-1,p=n?1:-1,_=0>t||0===t&&0>1/t?1:0;for(t=_Mathabs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=_Mathfloor(_Mathlog(t)/_MathLN),1>t*(l=_Mathpow(2,-a))&&(a--,l*=2),2<=(t+=1<=a+u?f/l:f*_Mathpow(2,1-u))*l&&(a++,l/=2),a+u>=h?(s=0,a=h):1<=a+u?(s=(t*l-1)*_Mathpow(2,r),a+=u):(s=t*_Mathpow(2,u-1)*_Mathpow(2,r),a=0));8<=r;e[i+d]=255&s,d+=p,s/=256,r-=8){}for(a=a<<r|s,c+=r;0<c;e[i+d]=255&a,d+=p,a/=256,c-=8){}e[i+d-p]|=128*_}},function(e,t){"use strict";t.byteLength=function(e){return 3*e.length/4-c(e)},t.toByteArray=function(e){var t,i,n,a,s,l=e.length;a=c(e),s=new o(3*l/4-a),i=0<a?l-4:l;var h=0;for(t=0;t<i;t+=4){n=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],s[h++]=255&n>>16,s[h++]=255&n>>8,s[h++]=255&n}return 2===a?(n=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,s[h++]=255&n):1===a&&(n=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,s[h++]=255&n>>8,s[h++]=255&n),s},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o="",a=[],s=0,l=i-r;s<l;s+=16383){a.push(h(e,s,s+16383>l?l:s+16383))}return 1===r?(t=e[i-1],o+=n[t>>2],o+=n[63&t<<4],o+="=="):2===r&&(t=(e[i-2]<<8)+e[i-1],o+=n[t>>10],o+=n[63&t>>4],o+=n[63&t<<2],o+="="),a.push(o),a.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s){n[s]=a[s],r[a.charCodeAt(s)]=s}function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function h(e,t,i){for(var r,o,a=[],s=t;s<i;s+=3){r=(16711680&e[s]<<16)+(65280&e[s+1]<<8)+(255&e[s+2]),a.push(n[63&(o=r)>>18]+n[63&o>>12]+n[63&o>>6]+n[63&o])}return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){"use strict";function n(e,t){return 255===e.byteArray[t]&&217===e.byteArray[t+1]}function r(e,t,i){var r=t.fragments[i];return!(!n(e,r.position+r.length-2)&&!n(e,r.position+r.length-3))}function o(e,t,i){for(var n=i;n<t.fragments.length;n++){if(r(e,t,n))return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(void 0===e)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(void 0===t)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if("x7fe00010"!==t.tag)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(!0!==t.encapsulatedPixelData)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(0>=t.fragments.length)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(i&&0>=i.length)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";i=i||t.fragments;for(var n=[],r=0;;){n.push(t.fragments[r].offset);var a=o(e,t,r);if(void 0===a||a===t.fragments.length-1)return n;r=a+1}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,i){if(void 0===t)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";i=i||{omitPrivateAttibutes:!0,maxElementLength:128};var n={};for(var r in t.elements){var s=t.elements[r];if(!0!==i.omitPrivateAttibutes||!a.isPrivateTag(r))if(s.items){for(var l=[],c=0;c<s.items.length;c++){l.push(e(s.items[c].dataSet,i))}n[r]=l}else{var h;h=void 0,s.length<i.maxElementLength&&(h=(0,o.default)(t,s)),n[r]=void 0!==h?h:{dataOffset:s.dataOffset,length:s.length}}}return n};var n,r=i(43),o=(n=r)&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e){Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t.default=e,t}(i(25))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&8===e.length){var i=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10),r=parseInt(e.substring(6,8),10);if(t&&!0!==function(e,t,i){return!isNaN(i)&&0<t&&12>=t&&0<e&&e<=function(e,t){switch(e){case 2:return 0==t%4&&t%100||0==t%400?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31;}}(t,i)}(r,n,i))throw"invalid DA '"+e+"'";return{year:i,month:n,day:r}}if(t)throw"invalid DA '"+e+"'"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(2<=e.length){var i=parseInt(e.substring(0,2),10),n=4<=e.length?parseInt(e.substring(2,4),10):void 0,r=6<=e.length?parseInt(e.substring(4,6),10):void 0,o=8<=e.length?parseInt(e.substring(7,13),10):void 0;if(t&&(isNaN(i)||void 0!==n&&isNaN(n)||void 0!==r&&isNaN(r)||void 0!==o&&isNaN(o)||0>i||23<i||n&&(0>n||59<n)||r&&(0>r||59<r)||o&&(0>o||999999<o)))throw"invalid TM '"+e+"'";return{hours:i,minutes:n,seconds:r,fractionalSeconds:o}}if(t)throw"invalid TM '"+e+"'"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(25);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function get(){return n[e]}})});var r=i(77);Object.defineProperty(t,"parseTM",{enumerable:!0,get:function get(){return c(r).default}});var o=i(76);Object.defineProperty(t,"parseDA",{enumerable:!0,get:function get(){return c(o).default}});var a=i(43);Object.defineProperty(t,"explicitElementToString",{enumerable:!0,get:function get(){return c(a).default}});var s=i(75);Object.defineProperty(t,"explicitDataSetToJS",{enumerable:!0,get:function get(){return c(s).default}});var l=i(74);function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createJPEGBasicOffsetTable",{enumerable:!0,get:function get(){return c(l).default}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(78);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function get(){return n[e]}})});var r=i(16);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function get(){return r[e]}})});var o=i(14);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function get(){return o[e]}})});var a=i(22);Object.defineProperty(t,"alloc",{enumerable:!0,get:function get(){return E(a).default}});var s=i(71);Object.defineProperty(t,"version",{enumerable:!0,get:function get(){return E(s).default}});var l=i(37);Object.defineProperty(t,"bigEndianByteArrayParser",{enumerable:!0,get:function get(){return E(l).default}});var c=i(12);Object.defineProperty(t,"ByteStream",{enumerable:!0,get:function get(){return E(c).default}});var h=i(11);Object.defineProperty(t,"sharedCopy",{enumerable:!0,get:function get(){return E(h).default}});var u=i(7);Object.defineProperty(t,"DataSet",{enumerable:!0,get:function get(){return E(u).default}});var f=i(41);Object.defineProperty(t,"findAndSetUNElementLength",{enumerable:!0,get:function get(){return E(f).default}});var d=i(42);Object.defineProperty(t,"findEndOfEncapsulatedElement",{enumerable:!0,get:function get(){return E(d).default}});var p=i(24);Object.defineProperty(t,"findItemDelimitationItemAndSetElementLength",{enumerable:!0,get:function get(){return E(p).default}});var _=i(21);Object.defineProperty(t,"littleEndianByteArrayParser",{enumerable:!0,get:function get(){return E(_).default}});var m=i(70);Object.defineProperty(t,"parseDicom",{enumerable:!0,get:function get(){return E(m).default}});var b=i(15);Object.defineProperty(t,"readDicomElementExplicit",{enumerable:!0,get:function get(){return E(b).default}});var y=i(23);Object.defineProperty(t,"readDicomElementImplicit",{enumerable:!0,get:function get(){return E(y).default}});var g=i(26);Object.defineProperty(t,"readEncapsulatedImageFrame",{enumerable:!0,get:function get(){return E(g).default}});var v=i(44);Object.defineProperty(t,"readEncapsulatedPixelData",{enumerable:!0,get:function get(){return E(v).default}});var A=i(17);Object.defineProperty(t,"readEncapsulatedPixelDataFromFragments",{enumerable:!0,get:function get(){return E(A).default}});var w=i(36);Object.defineProperty(t,"readPart10Header",{enumerable:!0,get:function get(){return E(w).default}});var x=i(40);Object.defineProperty(t,"readSequenceItemsExplicit",{enumerable:!0,get:function get(){return E(x).default}});var k=i(39);Object.defineProperty(t,"readSequenceItemsImplicit",{enumerable:!0,get:function get(){return E(k).default}});var I=i(13);Object.defineProperty(t,"readSequenceItem",{enumerable:!0,get:function get(){return E(I).default}});var S=i(4);function E(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"readTag",{enumerable:!0,get:function get(){return E(S).default}})}])},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||i(21),n.lossless.DataStream=n.lossless.DataStream||i(1),n.lossless.Decoder=n.lossless.Decoder||i(56),n.lossless.FrameHeader=n.lossless.FrameHeader||i(26),n.lossless.HuffmanTable=n.lossless.HuffmanTable||i(22),n.lossless.QuantizationTable=n.lossless.QuantizationTable||i(23),n.lossless.ScanComponent=n.lossless.ScanComponent||i(25),n.lossless.ScanHeader=n.lossless.ScanHeader||i(24),n.lossless.Utils=n.lossless.Utils||i(2),"undefined"!==typeof e&&e.exports&&(e.exports=n)},function(e,t,i){"use strict";var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||i(1),n.lossless.HuffmanTable=n.lossless.HuffmanTable||i(22),n.lossless.QuantizationTable=n.lossless.QuantizationTable||i(23),n.lossless.ScanHeader=n.lossless.ScanHeader||i(24),n.lossless.FrameHeader=n.lossless.FrameHeader||i(26),n.lossless.Utils=n.lossless.Utils||i(2),n.lossless.Decoder=n.lossless.Decoder||function(e,t){this.buffer=e,this.frame=new n.lossless.FrameHeader,this.huffTable=new n.lossless.HuffmanTable,this.quantTable=new n.lossless.QuantizationTable,this.scan=new n.lossless.ScanHeader,this.DU=n.lossless.Utils.createArray(10,4,64),this.HuffTab=n.lossless.Utils.createArray(4,2,12800),this.IDCT_Source=[],this.nBlock=[],this.acTab=n.lossless.Utils.createArray(10,1),this.dcTab=n.lossless.Utils.createArray(10,1),this.qTab=n.lossless.Utils.createArray(10,1),this.marker=0,this.markerIndex=0,this.numComp=0,this.restartInterval=0,this.selection=0,this.xDim=0,this.yDim=0,this.xLoc=0,this.yLoc=0,this.numBytes=0,this.outputData=null,this.restarting=!1,this.mask=0,void 0!==t&&(this.numBytes=t)},n.lossless.Decoder.IDCT_P=[0,5,40,16,45,2,7,42,21,56,8,61,18,47,1,4,41,23,58,13,32,24,37,10,63,17,44,3,6,43,20,57,15,34,29,48,53,26,39,9,60,19,46,22,59,12,33,31,50,55,25,36,11,62,14,35,28,49,52,27,38,30,51,54],n.lossless.Decoder.TABLE=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],n.lossless.Decoder.MAX_HUFFMAN_SUBTREE=50,n.lossless.Decoder.MSB=2147483648,n.lossless.Decoder.RESTART_MARKER_BEGIN=65488,n.lossless.Decoder.RESTART_MARKER_END=65495,n.lossless.Decoder.prototype.decompress=function(e,t,i){return this.decode(e,t,i).buffer},n.lossless.Decoder.prototype.decode=function(e,t,i,r){var o,a,s,l,c=0,h=[],u=[],f=[];if(void 0!==e&&(this.buffer=e),void 0!==r&&(this.numBytes=r),this.stream=new n.lossless.DataStream(this.buffer,t,i),this.buffer=null,this.xLoc=0,this.yLoc=0,65496!==(o=this.stream.get16()))throw new Error("Not a JPEG file");for(o=this.stream.get16();4092!=o>>4||65476===o;){switch(o){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,n.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(255!=o>>8)throw new Error("ERROR: format throw new IOException! (decode)");}o=this.stream.get16()}if(65472>o||65479<o)throw new Error("ERROR: could not handle arithmetic code!");this.frame.read(this.stream),o=this.stream.get16();do{for(;65498!==o;){switch(o){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,n.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(255!=o>>8)throw new Error("ERROR: format throw new IOException! (Parser.decode)");}o=this.stream.get16()}switch(this.precision=this.frame.precision,this.components=this.frame.components,this.numBytes||(this.numBytes=parseInt(_Mathceil(this.precision/8))),1==this.numBytes?this.mask=255:this.mask=65535,this.scan.read(this.stream),this.numComp=this.scan.numComp,this.selection=this.scan.selection,1===this.numBytes?3===this.numComp?(this.getter=this.getValueRGB,this.setter=this.setValueRGB,this.output=this.outputRGB):(this.getter=this.getValue8,this.setter=this.setValue8,this.output=this.outputSingle):(this.getter=this.getValue16,this.setter=this.setValue16,this.output=this.outputSingle),this.selection){case 2:this.selector=this.select2;break;case 3:this.selector=this.select3;break;case 4:this.selector=this.select4;break;case 5:this.selector=this.select5;break;case 6:this.selector=this.select6;break;case 7:this.selector=this.select7;break;default:this.selector=this.select1;}for(this.scanComps=this.scan.components,this.quantTables=this.quantTable.quantTables,a=0;a<this.numComp;a+=1){s=this.scanComps[a].scanCompSel,this.qTab[a]=this.quantTables[this.components[s].quantTableSel],this.nBlock[a]=this.components[s].vSamp*this.components[s].hSamp,this.dcTab[a]=this.HuffTab[this.scanComps[a].dcTabSel][0],this.acTab[a]=this.HuffTab[this.scanComps[a].acTabSel][1]}for(this.xDim=this.frame.dimX,this.yDim=this.frame.dimY,this.outputData=new DataView(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)),c+=1;;){for(u[0]=0,f[0]=0,a=0;10>a;a+=1){h[a]=1<<this.precision-1}if(0===this.restartInterval){for(o=this.decodeUnit(h,u,f);0===o&&this.xLoc<this.xDim&&this.yLoc<this.yDim;){this.output(h),o=this.decodeUnit(h,u,f)}break}for(l=0;l<this.restartInterval&&(this.restarting=0==l,o=this.decodeUnit(h,u,f),this.output(h),0===o);l+=1){}if(0===o&&(0!==this.markerIndex?(o=65280|this.marker,this.markerIndex=0):o=this.stream.get16()),!(o>=n.lossless.Decoder.RESTART_MARKER_BEGIN&&o<=n.lossless.Decoder.RESTART_MARKER_END))break}65500===o&&1===c&&(this.readNumber(),o=this.stream.get16())}while(65497!==o&&this.xLoc<this.xDim&&this.yLoc<this.yDim&&0===c);return this.outputData},n.lossless.Decoder.prototype.decodeUnit=function(e,t,i){return 1==this.numComp?this.decodeSingle(e,t,i):3==this.numComp?this.decodeRGB(e,t,i):-1},n.lossless.Decoder.prototype.select1=function(e){return this.getPreviousX(e)},n.lossless.Decoder.prototype.select2=function(e){return this.getPreviousY(e)},n.lossless.Decoder.prototype.select3=function(e){return this.getPreviousXY(e)},n.lossless.Decoder.prototype.select4=function(e){return this.getPreviousX(e)+this.getPreviousY(e)-this.getPreviousXY(e)},n.lossless.Decoder.prototype.select5=function(e){return this.getPreviousX(e)+(this.getPreviousY(e)-this.getPreviousXY(e)>>1)},n.lossless.Decoder.prototype.select6=function(e){return this.getPreviousY(e)+(this.getPreviousX(e)-this.getPreviousXY(e)>>1)},n.lossless.Decoder.prototype.select7=function(e){return(this.getPreviousX(e)+this.getPreviousY(e))/2},n.lossless.Decoder.prototype.decodeRGB=function(e,t,i){var r,o,a,s,l,c,h,u;for(e[0]=this.selector(0),e[1]=this.selector(1),e[2]=this.selector(2),l=0;l<this.numComp;l+=1){for(s=this.qTab[l],o=this.acTab[l],a=this.dcTab[l],c=0;c<this.nBlock[l];c+=1){for(h=0;h<this.IDCT_Source.length;h+=1){this.IDCT_Source[h]=0}if(65280<=(r=this.getHuffmanValue(a,t,i)))return r;for(e[l]=this.IDCT_Source[0]=e[l]+this.getn(i,r,t,i),this.IDCT_Source[0]*=s[0],u=1;64>u;u+=1){if(65280<=(r=this.getHuffmanValue(o,t,i)))return r;if(u+=r>>4,0==(15&r)){if(0==r>>4)break}else this.IDCT_Source[n.lossless.Decoder.IDCT_P[u]]=this.getn(i,15&r,t,i)*s[u]}}}return 0},n.lossless.Decoder.prototype.decodeSingle=function(e,t,i){var r,o,a,s;for(this.restarting?(this.restarting=!1,e[0]=1<<this.frame.precision-1):e[0]=this.selector(),o=0;o<this.nBlock[0];o+=1){if(65280<=(r=this.getHuffmanValue(this.dcTab[0],t,i)))return r;if((s=(a=this.getn(e,r,t,i))>>8)>=n.lossless.Decoder.RESTART_MARKER_BEGIN&&s<=n.lossless.Decoder.RESTART_MARKER_END)return s;e[0]+=a}return 0},n.lossless.Decoder.prototype.getHuffmanValue=function(e,t,i){var r,o;if(65535,8>i[0]?(t[0]<<=8,255===(o=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=o):i[0]-=8,0!=((r=e[t[0]>>i[0]])&n.lossless.Decoder.MSB)){if(0!==this.markerIndex)return this.markerIndex=0,65280|this.marker;t[0]&=65535>>16-i[0],t[0]<<=8,255===(o=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=o,r=e[256*(255&r)+(t[0]>>i[0])],i[0]+=8}if(i[0]+=8-(r>>8),0>i[0])throw new Error("index="+i[0]+" temp="+t[0]+" code="+r+" in HuffmanValue()");return i[0]<this.markerIndex?(this.markerIndex=0,65280|this.marker):(t[0]&=65535>>16-i[0],255&r)},n.lossless.Decoder.prototype.getn=function(e,t,i,n){var r,o;if(1,-1,65535,0===t)return 0;if(16===t)return 0<=e[0]?-32768:32768;if(n[0]-=t,0<=n[0]){if(n[0]<this.markerIndex&&!this.isLastPixel())return this.markerIndex=0,(65280|this.marker)<<8;r=i[0]>>n[0],i[0]&=65535>>16-n[0]}else{if(i[0]<<=8,255===(o=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),i[0]|=o,n[0]+=8,0>n[0]){if(0!==this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;i[0]<<=8,255===(o=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),i[0]|=o,n[0]+=8}if(0>n[0])throw new Error("index="+n[0]+" in getn()");if(n[0]<this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;r=i[0]>>n[0],i[0]&=65535>>16-n[0]}return r<1<<t-1&&(r+=1+(-1<<t)),r},n.lossless.Decoder.prototype.getPreviousX=function(e){return 0<this.xLoc?this.getter(this.yLoc*this.xDim+this.xLoc-1,e):0<this.yLoc?this.getPreviousY(e):1<<this.frame.precision-1},n.lossless.Decoder.prototype.getPreviousXY=function(e){return 0<this.xLoc&&0<this.yLoc?this.getter((this.yLoc-1)*this.xDim+this.xLoc-1,e):this.getPreviousY(e)},n.lossless.Decoder.prototype.getPreviousY=function(e){return 0<this.yLoc?this.getter((this.yLoc-1)*this.xDim+this.xLoc,e):this.getPreviousX(e)},n.lossless.Decoder.prototype.isLastPixel=function(){return this.xLoc===this.xDim-1&&this.yLoc===this.yDim-1},n.lossless.Decoder.prototype.outputSingle=function(e){this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(this.yLoc*this.xDim+this.xLoc,this.mask&e[0]),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},n.lossless.Decoder.prototype.outputRGB=function(e){var t=this.yLoc*this.xDim+this.xLoc;this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(t,e[0],0),this.setter(t,e[1],1),this.setter(t,e[2],2),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},n.lossless.Decoder.prototype.setValue16=function(e,t){this.outputData.setInt16(2*e,t,!0)},n.lossless.Decoder.prototype.getValue16=function(e){return this.outputData.getInt16(2*e,!0)},n.lossless.Decoder.prototype.setValue8=function(e,t){this.outputData.setInt8(e,t)},n.lossless.Decoder.prototype.getValue8=function(e){return this.outputData.getInt8(e)},n.lossless.Decoder.prototype.setValueRGB=function(e,t,i){this.outputData.setUint8(3*e+i,t)},n.lossless.Decoder.prototype.getValueRGB=function(e,t){return this.outputData.getUint8(3*e+t)},n.lossless.Decoder.prototype.readApp=function(){var e=0,t=this.stream.get16();for(e+=2;e<t;){this.stream.get8(),e+=1}return t},n.lossless.Decoder.prototype.readComment=function(){var e,t="",i=0;for(e=this.stream.get16(),i+=2;i<e;){t+=this.stream.get8(),i+=1}return t},n.lossless.Decoder.prototype.readNumber=function(){if(4!==this.stream.get16())throw new Error("ERROR: Define number format throw new IOException [Ld!=4]");return this.stream.get16()},"undefined"!==typeof e&&e.exports&&(e.exports=n.lossless.Decoder)},function(e){var i={Unkown:0,Grayscale:1,AdobeRGB:2,RGB:3,CYMK:4},n=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,n=799,r=3406,o=2276,a=1567,s=3784,l=5793,c=2896;function h(){}function u(e,t){for(var i,n,r=0,o=[],a=16;0<a&&!e[a-1];){a--}o.push({children:[],index:0});var s,l=o[0];for(i=0;i<a;i++){for(n=0;n<e[i];n++){for((l=o.pop()).children[l.index]=t[r];0<l.index;){l=o.pop()}for(l.index++,o.push(l);o.length<=i;){o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s}r++}i+1<a&&(o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s)}return o[0].children}function f(e,t,i){return 64*((e.blocksPerLine+1)*t+i)}function d(t,i,n,r,o,a,s,l,c){n.precision,n.samplesPerLine,n.scanLines;var h=n.mcusPerLine,u=n.progressive,d=(n.maxH,n.maxV,i),p=0,_=0;function m(){if(0<_)return 1&p>>--_;if(255==(p=t[i++])){var e=t[i++];if(e)throw"unexpected marker: "+(p<<8|e).toString(16)}return _=7,p>>>7}function b(e){for(var t,i=e;null!==(t=m());){if("number"==typeof(i=i[t]))return i;if("object"!=babelHelpers.typeof(i))throw"invalid huffman sequence"}return null}function y(e){for(var t=0,i;0<e;){i=m();if(null===i)return;t=t<<1|i,e--}return t}function g(e){var t=y(e);return t>=1<<e-1?t:t+(-1<<e)+1}var v=0,A,w=0;function x(e,t,i,n,r){t(e,f(e,(0|i/h)*e.v+n,i%h*e.h+r))}function k(e,t,i){t(e,f(e,0|i/e.blocksPerLine,i%e.blocksPerLine))}var I,S,E,C,B,M,P=r.length;M=u?0===a?0===l?function(e,t){var i=b(e.huffmanTableDC),n=0===i?0:g(i)<<c;e.blockData[t]=e.pred+=n}:function(e,t){e.blockData[t]|=m()<<c}:0===l?function(t,i){if(0<v)v--;else for(var n=a;n<=s;){var o=b(t.huffmanTableAC),l=15&o,h=o>>4;if(0!==l){var u=e[n+=h];t.blockData[i+u]=g(l)*(1<<c),n++}else{if(15>h){v=y(h)+(1<<h)-1;break}n+=16}}}:function(t,i){for(var n=a,o=0,l;n<=s;){l=e[n];switch(w){case 0:var h=b(t.huffmanTableAC),u=15&h;if(o=h>>4,0===u)15>o?(v=y(o)+(1<<o),w=4):(o=16,w=1);else{if(1!==u)throw"invalid ACn encoding";A=g(u),w=o?2:3}continue;case 1:case 2:t.blockData[i+l]?t.blockData[i+l]+=m()<<c:0==--o&&(w=2==w?3:0);break;case 3:t.blockData[i+l]?t.blockData[i+l]+=m()<<c:(t.blockData[i+l]=A<<c,w=0);break;case 4:t.blockData[i+l]&&(t.blockData[i+l]+=m()<<c);}n++}4===w&&0==--v&&(w=0)}:function(t,i){var n=b(t.huffmanTableDC),r=0===n?0:g(n);t.blockData[i]=t.pred+=r;for(var o=1;64>o;){var a=b(t.huffmanTableAC),s=15&a,l=a>>4;if(0!==s){var c=e[o+=l];t.blockData[i+c]=g(s),o++}else{if(15>l)break;o+=16}}};var T,D,R,G,O=0;for(D=1==P?r[0].blocksPerLine*r[0].blocksPerColumn:h*n.mcusPerColumn,o||(o=D);O<D;){for(S=0;S<P;S++){r[S].pred=0}if(v=0,1==P)for(I=r[0],B=0;B<o;B++){k(I,M,O),O++}else for(B=0;B<o;B++){for(S=0;S<P;S++){for(R=(I=r[S]).h,G=I.v,E=0;E<G;E++){for(C=0;C<R;C++){x(I,M,O,E,C)}}}O++}if(_=0,65280>=(T=t[i]<<8|t[i+1]))throw"marker was not found";if(!(65488<=T&&65495>=T))break;i+=2}return i-d}function p(e,i,h){var u,f,d,p,_,m,b,y,g,v,A=e.quantizationTable;for(v=0;64>v;v++){h[v]=e.blockData[i+v]*A[v]}for(v=0;8>v;++v){var w=8*v;0!==h[1+w]||0!==h[2+w]||0!==h[3+w]||0!==h[4+w]||0!==h[5+w]||0!==h[6+w]||0!==h[7+w]?(u=l*h[0+w]+128>>8,f=l*h[4+w]+128>>8,d=h[2+w],p=h[6+w],_=c*(h[1+w]-h[7+w])+128>>8,y=c*(h[1+w]+h[7+w])+128>>8,m=h[3+w]<<4,b=h[5+w]<<4,g=u-f+1>>1,u=u+f+1>>1,f=g,g=d*s+p*a+128>>8,d=d*a-p*s+128>>8,p=g,g=_-b+1>>1,_=_+b+1>>1,b=g,g=y+m+1>>1,m=y-m+1>>1,y=g,g=u-p+1>>1,u=u+p+1>>1,p=g,g=f-d+1>>1,f=f+d+1>>1,d=g,g=_*o+y*r+2048>>12,_=_*r-y*o+2048>>12,y=g,g=m*n+b*t+2048>>12,m=m*t-b*n+2048>>12,b=g,h[0+w]=u+y,h[7+w]=u-y,h[1+w]=f+b,h[6+w]=f-b,h[2+w]=d+m,h[5+w]=d-m,h[3+w]=p+_,h[4+w]=p-_):(g=l*h[0+w]+512>>10,h[0+w]=g,h[1+w]=g,h[2+w]=g,h[3+w]=g,h[4+w]=g,h[5+w]=g,h[6+w]=g,h[7+w]=g)}for(v=0;8>v;++v){var x=v;0!==h[8+x]||0!==h[16+x]||0!==h[24+x]||0!==h[32+x]||0!==h[40+x]||0!==h[48+x]||0!==h[56+x]?(u=l*h[0+x]+2048>>12,f=l*h[32+x]+2048>>12,d=h[16+x],p=h[48+x],_=c*(h[8+x]-h[56+x])+2048>>12,y=c*(h[8+x]+h[56+x])+2048>>12,m=h[24+x],b=h[40+x],g=u-f+1>>1,u=u+f+1>>1,f=g,g=d*s+p*a+2048>>12,d=d*a-p*s+2048>>12,p=g,g=_-b+1>>1,_=_+b+1>>1,b=g,g=y+m+1>>1,m=y-m+1>>1,y=g,g=u-p+1>>1,u=u+p+1>>1,p=g,g=f-d+1>>1,f=f+d+1>>1,d=g,g=_*o+y*r+2048>>12,_=_*r-y*o+2048>>12,y=g,g=m*n+b*t+2048>>12,m=m*t-b*n+2048>>12,b=g,h[0+x]=u+y,h[56+x]=u-y,h[8+x]=f+b,h[48+x]=f-b,h[16+x]=d+m,h[40+x]=d-m,h[24+x]=p+_,h[32+x]=p-_):(g=l*h[v+0]+8192>>14,h[0+x]=g,h[8+x]=g,h[16+x]=g,h[24+x]=g,h[32+x]=g,h[40+x]=g,h[48+x]=g,h[56+x]=g)}for(v=0;64>v;++v){var k=i+v,I=h[v];I=I<=-2056/e.bitConversion?0:I>=2024/e.bitConversion?255/e.bitConversion:I+2056/e.bitConversion>>4,e.blockData[k]=I}}function _(e,t){for(var i=t.blocksPerLine,n=t.blocksPerColumn,r=new Int32Array(64),o=0;o<n;o++){for(var a=0;a<i;a++){p(t,f(t,o,a),r)}}return t.blockData}function m(e){return 0>=e?0:255<=e?255:0|e}return h.prototype={load:function load(e){var t=function(e){this.parse(e),this.onload&&this.onload()}.bind(this);if(-1<e.indexOf("data:")){for(var i=e.indexOf("base64,")+7,n=atob(e.substring(i)),r=new Uint8Array(n.length),o=n.length-1;0<=o;o--){r[o]=n.charCodeAt(o)}t(n)}else{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){var e=new Uint8Array(a.response);t(e)}.bind(this),a.send(null)}},parse:function parse(t){function n(){var e=t[l]<<8|t[l+1];return l+=2,e}function r(){var e=n(),i=t.subarray(l,l+e-2);return l+=i.length,i}function o(e){for(var t=_Mathceil(e.samplesPerLine/8/e.maxH),i=_Mathceil(e.scanLines/8/e.maxV),n=0;n<e.components.length;n++){W=e.components[n];var r=_Mathceil(_Mathceil(e.samplesPerLine/8)*W.h/e.maxH),o=_Mathceil(_Mathceil(e.scanLines/8)*W.v/e.maxV),a=t*W.h,s=64*(i*W.v)*(a+1);W.blockData=new Int16Array(s),W.blocksPerLine=r,W.blocksPerColumn=o}e.mcusPerLine=t,e.mcusPerColumn=i}var a,s,l=0,c=(t.length,null),h=null,f=[],p=[],m=[],b=n();if(65496!=b)throw"SOI not found";for(b=n();65497!=b;){var y,g;switch(b){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v=r();65504===b&&74===v[0]&&70===v[1]&&73===v[2]&&70===v[3]&&0===v[4]&&(c={version:{major:v[5],minor:v[6]},densityUnits:v[7],xDensity:v[8]<<8|v[9],yDensity:v[10]<<8|v[11],thumbWidth:v[12],thumbHeight:v[13],thumbData:v.subarray(14,14+3*v[12]*v[13])}),65518===b&&65===v[0]&&100===v[1]&&111===v[2]&&98===v[3]&&101===v[4]&&0===v[5]&&(h={version:v[6],flags0:v[7]<<8|v[8],flags1:v[9]<<8|v[10],transformCode:v[11]});break;case 65499:for(var A=n()+l-2;l<A;){var w=t[l++],x=new Int32Array(64);if(0==w>>4)for(y=0;64>y;y++){x[e[y]]=t[l++]}else{if(1!=w>>4)throw"DQT: invalid table spec";for(y=0;64>y;y++){x[e[y]]=n()}}f[15&w]=x}break;case 65472:case 65473:case 65474:if(a)throw"Only single frame JPEGs supported";n(),(a={}).extended=65473===b,a.progressive=65474===b,a.precision=t[l++],a.scanLines=n(),a.samplesPerLine=n(),a.components=[],a.componentIds={};var k,I=t[l++],S=0,E=0;for(H=0;H<I;H++){k=t[l];var C=t[l+1]>>4,B=15&t[l+1];S<C&&(S=C),E<B&&(E=B);var M=t[l+2];g=a.components.push({h:C,v:B,quantizationTable:f[M],quantizationTableId:M,bitConversion:255/((1<<a.precision)-1)}),a.componentIds[k]=g-1,l+=3}a.maxH=S,a.maxV=E,o(a);break;case 65476:var P=n();for(H=2;H<P;){var T=t[l++],D=new Uint8Array(16),R=0;for(y=0;16>y;y++,l++){R+=D[y]=t[l]}var G=new Uint8Array(R);for(y=0;y<R;y++,l++){G[y]=t[l]}H+=17+R,(0==T>>4?m:p)[15&T]=u(D,G)}break;case 65501:n(),s=n();break;case 65498:n();var O=t[l++],F=[];for(H=0;H<O;H++){var L=a.componentIds[t[l++]];W=a.components[L];var Z=t[l++];W.huffmanTableDC=m[Z>>4],W.huffmanTableAC=p[15&Z],F.push(W)}var z=t[l++],U=t[l++],V=t[l++],N=d(t,l,a,F,s,z,U,V>>4,15&V);l+=N;break;default:if(255==t[l-3]&&192<=t[l-2]&&254>=t[l-2]){l-=3;break}throw"unknown JPEG marker "+b.toString(16);}b=n()}switch(this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=c,this.adobe=h,this.components=[],a.components.length){case 1:this.colorspace=i.Grayscale;break;case 3:this.adobe?this.colorspace=i.AdobeRGB:this.colorspace=i.RGB;break;case 4:this.colorspace=i.CYMK;break;default:this.colorspace=i.Unknown;}for(var H=0;H<a.components.length;H++){var W;(W=a.components[H]).quantizationTable||null===W.quantizationTableId||(W.quantizationTable=f[W.quantizationTableId]),this.components.push({output:_(0,W),scaleX:W.h/a.maxH,scaleY:W.v/a.maxV,blocksPerLine:W.blocksPerLine,blocksPerColumn:W.blocksPerColumn,bitConversion:W.bitConversion})}},getData16:function getData16(e,t){if(1!==this.components.length)throw"Unsupported color mode";var i,n,r,o,a,s,l=this.width/e,c=this.height/t,h=0,u=this.components.length,d=new Uint16Array(e*t*u),p=new Uint16Array(8*((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn));for(s=0;s<u;s++){for(var _,m,b,y=(i=this.components[s]).blocksPerLine,g=i.blocksPerColumn,v=y<<3,A=0,w=0;w<g;w++){for(var x=w<<3,k=0;k<y;k++){var I=f(i,w,k),S=(h=0,k<<3);for(_=0;8>_;_++){A=(x+_)*v;for(m=0;8>m;m++){p[A+S+m]=i.output[I+h++]}}}}for(n=i.scaleX*l,r=i.scaleY*c,h=s,a=0;a<t;a++){for(o=0;o<e;o++){b=(0|a*r)*v+(0|o*n),d[h]=p[b],h+=u}}}return d},getData:function getData(e,t){var i,n,r,o,a,s,l,c,h,u,d,p,_,b,y,g=this.width/e,v=this.height/t,A=0,w=this.components.length,x=e*t*w,k=new Uint8Array(x),I=new Uint8Array(8*((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn));for(s=0;s<w;s++){for(var S,E,C,B=(i=this.components[s]).blocksPerLine,M=i.blocksPerColumn,P=B<<3,T=0,D=0;D<M;D++){for(var R=D<<3,G=0;G<B;G++){var O=f(i,D,G),F=(A=0,G<<3);for(S=0;8>S;S++){T=(R+S)*P;for(E=0;8>E;E++){I[T+F+E]=i.output[O+A++]*i.bitConversion}}}}for(n=i.scaleX*g,r=i.scaleY*v,A=s,a=0;a<t;a++){for(o=0;o<e;o++){C=(0|a*r)*P+(0|o*n),k[A]=I[C],A+=w}}}switch(w){case 1:case 2:break;case 3:if(y=!0,this.adobe&&this.adobe.transformCode?y=!0:void 0!==this.colorTransform&&(y=!!this.colorTransform),y)for(s=0;s<x;s+=w){l=k[s],c=k[s+1],p=m(l-179.456+1.402*(h=k[s+2])),_=m(l+135.459-.344*c-.714*h),b=m(l-226.816+1.772*c),k[s]=p,k[s+1]=_,k[s+2]=b}break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";if(y=!1,this.adobe&&this.adobe.transformCode?y=!0:void 0!==this.colorTransform&&(y=!!this.colorTransform),y)for(s=0;s<x;s+=w){l=k[s],c=k[s+1],u=m(434.456-l-1.402*(h=k[s+2])),d=m(119.541-l+.344*c+.714*h),l=m(481.816-l-1.772*c),k[s]=u,k[s+1]=d,k[s+2]=l}break;default:throw"Unsupported color mode";}return k}},h}();"undefined"!==typeof e&&e.exports&&(e.exports=n)},function(e){"use strict";var n=function(){var e={LL:0,LH:1,HL:1,HH:2};function t(){this.failOnCorruptedImage=!1}function i(e,t){e.x0=_Mathceil(t.XOsiz/e.XRsiz),e.x1=_Mathceil(t.Xsiz/e.XRsiz),e.y0=_Mathceil(t.YOsiz/e.YRsiz),e.y1=_Mathceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function n(e,t){for(var i,n=e.SIZ,r=[],o=_Mathceil((n.Xsiz-n.XTOsiz)/n.XTsiz),a=_Mathceil((n.Ysiz-n.YTOsiz)/n.YTsiz),s=0;s<a;s++){for(var l=0;l<o;l++){(i={}).tx0=_Mathmax(n.XTOsiz+l*n.XTsiz,n.XOsiz),i.ty0=_Mathmax(n.YTOsiz+s*n.YTsiz,n.YOsiz),i.tx1=_Mathmin(n.XTOsiz+(l+1)*n.XTsiz,n.Xsiz),i.ty1=_Mathmin(n.YTOsiz+(s+1)*n.YTsiz,n.Ysiz),i.width=i.tx1-i.tx0,i.height=i.ty1-i.ty0,i.components=[],r.push(i)}}e.tiles=r;for(var c=0,h=n.Csiz;c<h;c++){for(var u=t[c],f=0,d=r.length,p;f<d;f++){p={};i=r[f],p.tcx0=_Mathceil(i.tx0/u.XRsiz),p.tcy0=_Mathceil(i.ty0/u.YRsiz),p.tcx1=_Mathceil(i.tx1/u.XRsiz),p.tcy1=_Mathceil(i.ty1/u.YRsiz),p.width=p.tcx1-p.tcx0,p.height=p.tcy1-p.tcy0,i.components[c]=p}}}function o(e,t,i){var n=t.codingStyleParameters,r={};return n.entropyCoderWithCustomPrecincts?(r.PPx=n.precinctsSizes[i].PPx,r.PPy=n.precinctsSizes[i].PPy):(r.PPx=15,r.PPy=15),r.xcb_=0<i?_Mathmin(n.xcb,r.PPx-1):_Mathmin(n.xcb,r.PPx),r.ycb_=0<i?_Mathmin(n.ycb,r.PPy-1):_Mathmin(n.ycb,r.PPy),r}function l(e,t,i){var n=1<<i.PPx,r=1<<i.PPy,o=0===t.resLevel,a=1<<i.PPx+(o?0:-1),s=1<<i.PPy+(o?0:-1),l=t.trx1>t.trx0?_Mathceil(t.trx1/n)-_Mathfloor(t.trx0/n):0,c=t.try1>t.try0?_Mathceil(t.try1/r)-_Mathfloor(t.try0/r):0;t.precinctParameters={precinctWidth:n,precinctHeight:r,numprecinctswide:l,numprecinctshigh:c,numprecincts:l*c,precinctWidthInSubband:a,precinctHeightInSubband:s}}function c(e,t,i){var n,r,o,a,s=i.xcb_,l=i.ycb_,c=1<<s,h=1<<l,u=t.tbx0>>s,f=t.tby0>>l,d=t.tbx1+c-1>>s,p=t.tby1+h-1>>l,_=t.resolution.precinctParameters,m=[],b=[];for(r=f;r<p;r++){for(n=u;n<d;n++){if((o={cbx:n,cby:r,tbx0:c*n,tby0:h*r,tbx1:c*(n+1),tby1:h*(r+1)}).tbx0_=_Mathmax(t.tbx0,o.tbx0),o.tby0_=_Mathmax(t.tby0,o.tby0),o.tbx1_=_Mathmin(t.tbx1,o.tbx1),o.tby1_=_Mathmin(t.tby1,o.tby1),a=_Mathfloor((o.tbx0_-t.tbx0)/_.precinctWidthInSubband)+_Mathfloor((o.tby0_-t.tby0)/_.precinctHeightInSubband)*_.numprecinctswide,o.precinctNumber=a,o.subbandType=t.type,o.Lblock=3,!(o.tbx1_<=o.tbx0_||o.tby1_<=o.tby0_)){m.push(o);var y=b[a];void 0!==y?(n<y.cbxMin?y.cbxMin=n:n>y.cbxMax&&(y.cbxMax=n),r<y.cbyMin?y.cbxMin=r:r>y.cbyMax&&(y.cbyMax=r)):b[a]=y={cbxMin:n,cbyMin:r,cbxMax:n,cbyMax:r},o.precinct=y}}}t.codeblockParameters={codeblockWidth:s,codeblockHeight:l,numcodeblockwide:d-u+1,numcodeblockhigh:p-f+1},t.codeblocks=m,t.precincts=b}function h(e,t,i){for(var n=[],r=e.subbands,o=0,a=r.length;o<a;o++){for(var s=r[o].codeblocks,l=0,c=s.length,h;l<c;l++){h=s[l];h.precinctNumber===t&&n.push(h)}}return{layerNumber:i,codeblocks:n}}function u(e,t,i,n,r){var o=e*n.minWidth,a=t*n.minHeight;if(0!=o%i.width||0!=a%i.height)return null;var s=a/i.width*r.precinctParameters.numprecinctswide;return o/i.height+s}function f(e){for(var _NumberMAX_VALUE=Number.MAX_VALUE,t=e.components.length,i=_NumberMAX_VALUE,n=_NumberMAX_VALUE,r=0,o=0,a=Array(t),s=0;s<t;s++){for(var l=e.components[s],c=l.codingStyleParameters.decompositionLevelsCount,h=Array(c+1),u=_NumberMAX_VALUE,f=_NumberMAX_VALUE,d=0,p=0,_=1,m=c;0<=m;--m){var b=l.resolutions[m],y=_*b.precinctParameters.precinctWidth,g=_*b.precinctParameters.precinctHeight;u=_Mathmin(u,y),f=_Mathmin(f,g),d=_Mathmax(d,b.precinctParameters.numprecinctswide),p=_Mathmax(p,b.precinctParameters.numprecinctshigh),h[m]={width:y,height:g},_<<=1}i=_Mathmin(i,u),n=_Mathmin(n,f),r=_Mathmax(r,d),o=_Mathmax(o,p),a[s]={resolutions:h,minWidth:u,minHeight:f,maxNumWide:d,maxNumHigh:p}}return{components:a,minWidth:i,minHeight:n,maxNumWide:r,maxNumHigh:o}}function d(e){for(var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=t.Csiz,a=0;a<r;a++){for(var s=n.components[a],d=s.codingStyleParameters.decompositionLevelsCount,p=[],_=[],m=0;m<=d;m++){var b,y=o(0,s,m),g={},v=1<<d-m;if(g.trx0=_Mathceil(s.tcx0/v),g.try0=_Mathceil(s.tcy0/v),g.trx1=_Mathceil(s.tcx1/v),g.try1=_Mathceil(s.tcy1/v),g.resLevel=m,l(0,g,y),p.push(g),0===m)(b={}).type="LL",b.tbx0=_Mathceil(s.tcx0/v),b.tby0=_Mathceil(s.tcy0/v),b.tbx1=_Mathceil(s.tcx1/v),b.tby1=_Mathceil(s.tcy1/v),b.resolution=g,c(0,b,y),_.push(b),g.subbands=[b];else{var A=1<<d-m+1,w=[];(b={}).type="HL",b.tbx0=_Mathceil(s.tcx0/A-.5),b.tby0=_Mathceil(s.tcy0/A),b.tbx1=_Mathceil(s.tcx1/A-.5),b.tby1=_Mathceil(s.tcy1/A),b.resolution=g,c(0,b,y),_.push(b),w.push(b),(b={}).type="LH",b.tbx0=_Mathceil(s.tcx0/A),b.tby0=_Mathceil(s.tcy0/A-.5),b.tbx1=_Mathceil(s.tcx1/A),b.tby1=_Mathceil(s.tcy1/A-.5),b.resolution=g,c(0,b,y),_.push(b),w.push(b),(b={}).type="HH",b.tbx0=_Mathceil(s.tcx0/A-.5),b.tby0=_Mathceil(s.tcy0/A-.5),b.tbx1=_Mathceil(s.tcx1/A-.5),b.tby1=_Mathceil(s.tcy1/A-.5),b.resolution=g,c(0,b,y),_.push(b),w.push(b),g.subbands=w}}s.resolutions=p,s.subbands=_}var x=n.codingStyleDefaultParameters.progressionOrder;switch(x){case 0:n.packetsIterator=new function(e){for(var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=0,s=0;s<o;s++){a=_Mathmax(a,n.components[s].codingStyleParameters.decompositionLevelsCount)}var l=0,c=0,u=0,f=0;this.nextPacket=function(){for(;l<r;l++){for(;c<=a;c++){for(;u<o;u++){var e=n.components[u];if(!(c>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[c],i=t.precinctParameters.numprecincts,s;f<i;){s=h(t,f,l);return f++,s}f=0}}u=0}c=0}}}(e);break;case 1:n.packetsIterator=new function(e){for(var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=0,s=0;s<o;s++){a=_Mathmax(a,n.components[s].codingStyleParameters.decompositionLevelsCount)}var l=0,c=0,u=0,f=0;this.nextPacket=function(){for(;l<=a;l++){for(;c<r;c++){for(;u<o;u++){var e=n.components[u];if(!(l>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[l],i=t.precinctParameters.numprecincts,s;f<i;){s=h(t,f,c);return f++,s}f=0}}u=0}c=0}}}(e);break;case 2:n.packetsIterator=new function(e){var t,i,n,r,o=e.SIZ,a=e.currentTile.index,s=e.tiles[a],l=s.codingStyleDefaultParameters.layersCount,c=o.Csiz,u=0;for(n=0;n<c;n++){var f=s.components[n];u=_Mathmax(u,f.codingStyleParameters.decompositionLevelsCount)}var d=new Int32Array(u+1);for(i=0;i<=u;++i){var p=0;for(n=0;n<c;++n){var _=s.components[n].resolutions;i<_.length&&(p=_Mathmax(p,_[i].precinctParameters.numprecincts))}d[i]=p}t=0,i=0,n=0,r=0,this.nextPacket=function(){for(;i<=u;i++){for(;r<d[i];r++){for(;n<c;n++){var e=s.components[n];if(!(i>e.codingStyleParameters.decompositionLevelsCount)){var o=e.resolutions[i],a=o.precinctParameters.numprecincts;if(!(r>=a)){for(;t<l;){var f=h(o,r,t);return t++,f}t=0}}}n=0}r=0}}}(e);break;case 3:n.packetsIterator=new function(e){var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=f(n),s=a,l=0,c=0,d=0,p=0,_=0;this.nextPacket=function(){for(;_<s.maxNumHigh;_++){for(;p<s.maxNumWide;p++){for(;d<o;d++){for(var e=n.components[d],t=e.codingStyleParameters.decompositionLevelsCount;c<=t;c++){var i=e.resolutions[c],f=a.components[d].resolutions[c],m=u(p,_,f,s,i);if(null!==m){for(;l<r;){var b=h(i,m,l);return l++,b}l=0}}c=0}d=0}p=0}}}(e);break;case 4:n.packetsIterator=new function(e){var t=e.SIZ,i=e.currentTile.index,n=e.tiles[i],r=n.codingStyleDefaultParameters.layersCount,o=t.Csiz,a=f(n),s=0,l=0,c=0,d=0,p=0;this.nextPacket=function(){for(;c<o;++c){for(var e=n.components[c],t=a.components[c],i=e.codingStyleParameters.decompositionLevelsCount;p<t.maxNumHigh;p++){for(;d<t.maxNumWide;d++){for(;l<=i;l++){var f=e.resolutions[l],_=t.resolutions[l],m=u(d,p,_,t,f);if(null!==m){for(;s<r;){var b=h(f,m,s);return s++,b}s=0}}l=0}d=0}p=0}}}(e);break;default:throw new Error("JPX Error: Unsupported progression order "+x);}}function b(e,t,i,n){var r,o=0,a=0,s=!1;function l(e){for(;a<e;){if(i+o>=t.length)throw new Error("Unexpected EOF");var n=t[i+o];o++,s?(r=r<<7|n,a+=7,s=!1):(r=r<<8|n,a+=8),255===n&&(s=!0)}return r>>>(a-=e)&(1<<e)-1}function c(e){return 255===t[i+o-1]&&t[i+o]===e?(h(1),!0):255===t[i+o]&&t[i+o+1]===e&&(h(2),!0)}function h(e){o+=e}function u(){a=0,s&&(o++,s=!1)}function f(){if(0===l(1))return 1;if(0===l(1))return 2;var e=l(2);return 3>e?e+3:31>(e=l(5))?e+6:(e=l(7))+37}for(var d=e.currentTile.index,_=e.tiles[d],m=e.COD.sopMarkerUsed,b=e.COD.ephMarkerUsed,y=_.packetsIterator;o<n;){try{u(),m&&c(145)&&h(4);var g=y.nextPacket();if(void 0===g)return;if(!l(1))continue;for(var v,x=g.layerNumber,k=[],I=0,S=g.codeblocks.length;I<S;I++){var E=(v=g.codeblocks[I]).precinct,C=v.cbx-E.cbxMin,B=v.cby-E.cbyMin,M=!1,P=!1;if(void 0!==v.included)M=!!l(1);else{var T,D;if(void 0!==(E=v.precinct).inclusionTree)T=E.inclusionTree;else{var R=E.cbxMax-E.cbxMin+1,G=E.cbyMax-E.cbyMin+1;T=new w(R,G),D=new A(R,G),E.inclusionTree=T,E.zeroBitPlanesTree=D}for(T.reset(C,B,x);;){if(o>=t.length)return;if(T.isAboveThreshold())break;if(T.isKnown())T.nextLevel();else if(l(1)){if(T.setKnown(),T.isLeaf()){v.included=!0,M=P=!0;break}T.nextLevel()}else T.incrementValue()}}if(M){if(P){for((D=E.zeroBitPlanesTree).reset(C,B);;){if(o>=t.length)return;if(l(1)){if(!D.nextLevel())break}else D.incrementValue()}v.zeroBitPlanes=D.value}for(var O=f();l(1);){v.Lblock++}var F=p(O),L=l((O<1<<F?F-1:F)+v.Lblock);k.push({codeblock:v,codingpasses:O,dataLength:L})}}for(u(),b&&c(146);0<k.length;){var Z=k.shift();void 0===(v=Z.codeblock).data&&(v.data=[]),v.data.push({data:t,start:i+o,end:i+o+Z.dataLength,codingpasses:Z.codingpasses}),o+=Z.dataLength}}catch(e){return}}return o}function y(e,t,i,n,o,a,s,l){for(var c=n.tbx0,h=n.tby0,u=n.tbx1-n.tbx0,f=n.codeblocks,d="H"===n.type.charAt(0)?1:0,p="H"===n.type.charAt(1)?t:0,_=0,m=f.length;_<m;++_){var b=f[_],y=b.tbx1_-b.tbx0_,g=b.tby1_-b.tby0_;if(0!==y&&0!==g&&void 0!==b.data){var v,A;v=new x(y,g,b.subbandType,b.zeroBitPlanes,a),A=2;var w,k,I,S=b.data,E=0,C=0;for(w=0,k=S.length;w<k;w++){E+=(I=S[w]).end-I.start,C+=I.codingpasses}var B=new Int16Array(E),M=0;for(w=0,k=S.length;w<k;w++){var P=(I=S[w]).data.subarray(I.start,I.end);B.set(P,M),M+=P.length}var T=new r(B,0,E);for(v.setDecoder(T),w=0;w<C;w++){switch(A){case 0:v.runSignificancePropogationPass();break;case 1:v.runMagnitudeRefinementPass();break;case 2:v.runCleanupPass(),l&&v.checkSegmentationSymbol();}A=(A+1)%3}var D,R,G,O=b.tbx0_-c+(b.tby0_-h)*u,F=v.coefficentsSign,L=v.coefficentsMagnitude,Z=v.bitsDecoded,z=s?0:.5;M=0;var U="LL"!==n.type;for(w=0;w<g;w++){var V=2*(0|O/u)*(t-u)+d+p;for(D=0;D<y;D++){if(0!==(R=L[M])){R=(R+z)*o,0!==F[M]&&(R=-R),G=Z[M];var N=U?V+(O<<1):O;e[N]=s&&G>=a?R:R*(1<<a-G)}O++,M++}O+=u-y}}}}function g(t,i,n){for(var r=i.components[n],o=r.codingStyleParameters,a=r.quantizationParameters,s=o.decompositionLevelsCount,l=a.SPqcds,c=a.scalarExpounded,h=a.guardBits,u=o.segmentationSymbolUsed,f=t.components[n].precision,d=o.reversibleTransformation,p=d?new S:new I,_=[],m=0,b=0;b<=s;b++){for(var g=r.resolutions[b],v=g.trx1-g.trx0,A=g.try1-g.try0,w=new Float32Array(v*A),x=0,k=g.subbands.length;x<k;x++){var E,C;c?(E=l[m].mu,C=l[m].epsilon,m++):(E=l[0].mu,C=l[0].epsilon+(0<b?1-b:0));var B=g.subbands[x],M=e[B.type];y(w,v,0,B,d?1:_Mathpow(2,f+M-C)*(1+E/2048),h+C-1,d,u)}_.push({width:v,height:A,items:w})}var P=p.calculate(_,r.tcx0,r.tcy0);return{left:r.tcx0,top:r.tcy0,width:P.width,height:P.height,items:P.items}}function v(e,t){for(var i=e.SIZ.Csiz,n=e.tiles[t],r=0;r<i;r++){var o=n.components[r],a=void 0!==e.currentTile.QCC[r]?e.currentTile.QCC[r]:e.currentTile.QCD;o.quantizationParameters=a;var s=void 0!==e.currentTile.COC[r]?e.currentTile.COC[r]:e.currentTile.COD;o.codingStyleParameters=s}n.codingStyleDefaultParameters=e.currentTile.COD}t.prototype={parse:function parse(e){if(65359!==_(e,0))for(var t=0,i=e.length;t<i;){var n=8,r=m(e,t),o=m(e,t+4);if(t+=n,1===r&&(r=4294967296*m(e,t)+m(e,t+4),t+=8,n+=8),0===r&&(r=i-t+n),r<n)throw new Error("JPX Error: Invalid box field size");var l=r-n,c=!0;switch(o){case 1785737832:c=!1;break;case 1668246642:var h=e[t];e[t+1],e[t+2];if(1===h){var u=m(e,t+3);switch(u){case 16:case 17:case 18:break;default:s("Unknown colorspace "+u);}}else 2===h&&a("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,t,t+l);break;case 1783636e3:218793738!==m(e,t)&&s("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:s("Unsupported header type "+o+" ("+_StringfromCharCode(255&o>>24,255&o>>16,255&o>>8,255&o)+")");}c&&(t+=l)}else this.parseCodestream(e,0,e.length)},parseImageProperties:function parseImageProperties(e){for(var t=e.getByte();0<=t;){if(65361===(t<<8|(t=e.getByte()))){e.skip(4);var i=e.getInt32()>>>0,n=e.getInt32()>>>0,r=e.getInt32()>>>0,o=e.getInt32()>>>0;e.skip(16);var a=e.getUint16();return this.width=i-r,this.height=n-o,this.componentsCount=a,void(this.bitsPerComponent=8)}}throw new Error("JPX Error: No size marker found in JPX stream")},parseCodestream:function parseCodestream(e,t,r){var o={};try{for(var a=!1,l=t,c;l+1<r;){c=_(e,l);l+=2;var h,u,f,p,y,A,w=0;switch(c){case 65359:o.mainHeader=!0;break;case 65497:break;case 65361:w=_(e,l);var x={};x.Xsiz=m(e,l+4),x.Ysiz=m(e,l+8),x.XOsiz=m(e,l+12),x.YOsiz=m(e,l+16),x.XTsiz=m(e,l+20),x.YTsiz=m(e,l+24),x.XTOsiz=m(e,l+28),x.YTOsiz=m(e,l+32);var k=_(e,l+36);x.Csiz=k;var I=[];h=l+38;for(var S=0,E;S<k;S++){E={precision:1+(127&e[h]),isSigned:!!(128&e[h]),XRsiz:e[h+1],YRsiz:e[h+1]};i(E,x),I.push(E)}o.SIZ=x,o.components=I,n(o,I),o.QCC=[],o.COC=[];break;case 65372:w=_(e,l);var C={};switch(h=l+2,31&(u=e[h++])){case 0:p=8,y=!0;break;case 1:p=16,y=!1;break;case 2:p=16,y=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+u);}for(C.noQuantization=8===p,C.scalarExpounded=y,C.guardBits=u>>5,f=[];h<w+l;){var B={};8===p?(B.epsilon=e[h++]>>3,B.mu=0):(B.epsilon=e[h]>>3,B.mu=(7&e[h])<<8|e[h+1],h+=2),f.push(B)}C.SPqcds=f,o.mainHeader?o.QCD=C:(o.currentTile.QCD=C,o.currentTile.QCC=[]);break;case 65373:w=_(e,l);var M,P={};switch(h=l+2,257>o.SIZ.Csiz?M=e[h++]:(M=_(e,h),h+=2),31&(u=e[h++])){case 0:p=8,y=!0;break;case 1:p=16,y=!1;break;case 2:p=16,y=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+u);}for(P.noQuantization=8===p,P.scalarExpounded=y,P.guardBits=u>>5,f=[];h<w+l;){B={},8===p?(B.epsilon=e[h++]>>3,B.mu=0):(B.epsilon=e[h]>>3,B.mu=(7&e[h])<<8|e[h+1],h+=2),f.push(B)}P.SPqcds=f,o.mainHeader?o.QCC[M]=P:o.currentTile.QCC[M]=P;break;case 65362:w=_(e,l);var T={};h=l+2;var D=e[h++];T.entropyCoderWithCustomPrecincts=!!(1&D),T.sopMarkerUsed=!!(2&D),T.ephMarkerUsed=!!(4&D),T.progressionOrder=e[h++],T.layersCount=_(e,h),h+=2,T.multipleComponentTransform=e[h++],T.decompositionLevelsCount=e[h++],T.xcb=2+(15&e[h++]),T.ycb=2+(15&e[h++]);var R=e[h++];if(T.selectiveArithmeticCodingBypass=!!(1&R),T.resetContextProbabilities=!!(2&R),T.terminationOnEachCodingPass=!!(4&R),T.verticalyStripe=!!(8&R),T.predictableTermination=!!(16&R),T.segmentationSymbolUsed=!!(32&R),T.reversibleTransformation=e[h++],T.entropyCoderWithCustomPrecincts){for(var G=[],O;h<w+l;){O=e[h++];G.push({PPx:15&O,PPy:O>>4})}T.precinctsSizes=G}var F=[];if(T.selectiveArithmeticCodingBypass&&F.push("selectiveArithmeticCodingBypass"),T.resetContextProbabilities&&F.push("resetContextProbabilities"),T.terminationOnEachCodingPass&&F.push("terminationOnEachCodingPass"),T.verticalyStripe&&F.push("verticalyStripe"),T.predictableTermination&&F.push("predictableTermination"),0<F.length)throw a=!0,new Error("JPX Error: Unsupported COD options ("+F.join(", ")+")");o.mainHeader?o.COD=T:(o.currentTile.COD=T,o.currentTile.COC=[]);break;case 65424:w=_(e,l),(A={}).index=_(e,l+2),A.length=m(e,l+4),A.dataEnd=A.length+l-2,A.partIndex=e[l+8],A.partsCount=e[l+9],o.mainHeader=!1,0===A.partIndex&&(A.COD=o.COD,A.COC=o.COC.slice(0),A.QCD=o.QCD,A.QCC=o.QCC.slice(0)),o.currentTile=A;break;case 65427:0===(A=o.currentTile).partIndex&&(v(o,A.index),d(o)),b(o,e,l,w=A.dataEnd-l);break;case 65365:case 65367:case 65368:case 65380:w=_(e,l);break;case 65363:throw new Error("JPX Error: Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("JPX Error: Unknown codestream code: "+c.toString(16));}l+=w}}catch(e){if(a||this.failOnCorruptedImage)throw e;s("Trying to recover from "+e.message)}this.tiles=function(e){for(var t=e.SIZ,i=e.components,n=t.Csiz,r=[],o=0,a=e.tiles.length;o<a;o++){var s,l=e.tiles[o],c=[];for(s=0;s<n;s++){c[s]=g(e,l,s)}var h=c[0],u=i[0].isSigned;if(u)var f=new Int16Array(h.items.length*n);else var f=new Uint16Array(h.items.length*n);var d,p,_,m,b,y,v,A,w,x,k,I,S,E,C,B={left:h.left,top:h.top,width:h.width,height:h.height,items:f},M=0;if(l.codingStyleDefaultParameters.multipleComponentTransform){var P=4===n,T=c[0].items,D=c[1].items,R=c[2].items,G=P?c[3].items:null;d=i[0].precision-8,p=.5+(128<<d),m=-(b=.5*(_=255*(1<<d)));var O=l.components[0],F=n-3;if(v=T.length,O.codingStyleParameters.reversibleTransformation)for(y=0;y<v;y++,M+=F){A=T[y]+p,w=D[y],x=R[y],k=(I=A-(x+w>>2))+x,S=I+w,f[M++]=0>=k?0:k>=_?255:k>>d,f[M++]=0>=I?0:I>=_?255:I>>d,f[M++]=0>=S?0:S>=_?255:S>>d}else for(y=0;y<v;y++,M+=F){A=T[y]+p,w=D[y],x=R[y],k=A+1.402*x,I=A-.34413*w-.71414*x,S=A+1.772*w,f[M++]=0>=k?0:k>=_?255:k>>d,f[M++]=0>=I?0:I>=_?255:I>>d,f[M++]=0>=S?0:S>=_?255:S>>d}if(P)for(y=0,M=3;y<v;y++,M+=4){E=G[y],f[M]=E<=m?0:E>=b?255:E+p>>d}}else for(s=0;s<n;s++){if(8===i[s].precision){var L=c[s].items;for(d=i[s].precision-8,p=.5+(128<<d),m=-(_=127.5*(1<<d)),M=s,y=0,v=L.length;y<v;y++){C=L[y],f[M]=C<=m?0:C>=_?255:C+p>>d,M+=n}}else{var u=i[s].isSigned,L=c[s].items;if(u)for(M=s,y=0,v=L.length;y<v;y++){f[M]=L[y],M+=n}else{d=i[s].precision-8,p=.5+(128<<d);var Z=_Mathpow(2,i[s].precision)-1;for(M=s,y=0,v=L.length;y<v;y++){C=L[y],f[M]=_Mathmax(_Mathmin(C+p,Z),0),M+=n}}}}r.push(B)}return r}(o),this.width=o.SIZ.Xsiz-o.SIZ.XOsiz,this.height=o.SIZ.Ysiz-o.SIZ.YOsiz,this.componentsCount=o.SIZ.Csiz}};var A=function(){function e(e,t){var i=p(_Mathmax(e,t))+1;this.levels=[];for(var n=0,r;n<i;n++){r={width:e,height:t,items:[]};this.levels.push(r),e=_Mathceil(e/2),t=_Mathceil(t/2)}}return e.prototype={reset:function reset(e,t){for(var i,n=0,r=0,o;n<this.levels.length;){o=e+t*(i=this.levels[n]).width;if(void 0!==i.items[o]){r=i.items[o];break}i.index=o,e>>=1,t>>=1,n++}n--,(i=this.levels[n]).items[i.index]=r,this.currentLevel=n,delete this.value},incrementValue:function incrementValue(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function nextLevel(){var e=this.currentLevel,t=this.levels[e],i=t.items[t.index];return 0>--e?(this.value=i,!1):(this.currentLevel=e,(t=this.levels[e]).items[t.index]=i,!0)}},e}(),w=function(){function e(e,t){var i=p(_Mathmax(e,t))+1;this.levels=[];for(var n=0;n<i;n++){for(var r=new Uint8Array(e*t),o=new Uint8Array(e*t),a=0,s=r.length;a<s;a++){r[a]=0,o[a]=0}var l={width:e,height:t,items:r,status:o};this.levels.push(l),e=_Mathceil(e/2),t=_Mathceil(t/2)}}return e.prototype={reset:function reset(e,t,i){this.currentStopValue=i;for(var n=0;n<this.levels.length;){var r=this.levels[n],o=e+t*r.width;r.index=o,e>>=1,t>>=1,n++}this.currentLevel=this.levels.length-1,this.minValue=this.levels[this.currentLevel].items[0]},incrementValue:function incrementValue(){var e=this.levels[this.currentLevel];e.items[e.index]=e.items[e.index]+1,e.items[e.index]>this.minValue&&(this.minValue=e.items[e.index])},nextLevel:function nextLevel(){var e=this.currentLevel;if(0>--e)return!1;this.currentLevel=e;var t=this.levels[e];return t.items[t.index]<this.minValue?t.items[t.index]=this.minValue:t.items[t.index]>this.minValue&&(this.minValue=t.items[t.index]),!0},isLeaf:function isLeaf(){return 0===this.currentLevel},isAboveThreshold:function isAboveThreshold(){var e=this.currentLevel,t=this.levels[e];return t.items[t.index]>this.currentStopValue},isKnown:function isKnown(){var e=this.currentLevel,t=this.levels[e];return 0<t.status[t.index]},setKnown:function setKnown(){var e=this.currentLevel,t=this.levels[e];t.status[t.index]=1}},e}(),x=function(){var e=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),t=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),i=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);function n(n,r,o,a,s){this.width=n,this.height=r,this.contextLabelTable="HH"===o?i:"HL"===o?t:e;var l=n*r;this.neighborsSignificance=new Uint8Array(l),this.coefficentsSign=new Uint8Array(l),this.coefficentsMagnitude=14<s?new Uint32Array(l):6<s?new Uint16Array(l):new Uint8Array(l),this.processingFlags=new Uint8Array(l);var c=new Uint8Array(l);if(0!==a)for(var h=0;h<l;h++){c[h]=a}this.bitsDecoded=c,this.reset()}return n.prototype={setDecoder:function setDecoder(e){this.decoder=e},reset:function reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6},setNeighborsSignificance:function setNeighborsSignificance(e,t,i){var n,r=this.neighborsSignificance,o=this.width,a=this.height,s=0<t,l=t+1<o;0<e&&(n=i-o,s&&(r[n-1]+=16),l&&(r[n+1]+=16),r[n]+=4),e+1<a&&(n=i+o,s&&(r[n-1]+=16),l&&(r[n+1]+=16),r[n]+=4),s&&(r[i-1]+=1),l&&(r[i+1]+=1),r[i]|=128},runSignificancePropogationPass:function runSignificancePropogationPass(){for(var e=this.decoder,t=this.width,i=this.height,n=this.coefficentsMagnitude,r=this.coefficentsSign,o=this.neighborsSignificance,a=this.processingFlags,s=this.contexts,l=this.contextLabelTable,c=this.bitsDecoded,h=0;h<i;h+=4){for(var u=0;u<t;u++){for(var f=h*t+u,d=0,p;4>d;d++,f+=t){p=h+d;if(p>=i)break;if(a[f]&=-2,!n[f]&&o[f]){var _=l[o[f]];if(e.readBit(s,_)){var m=this.decodeSignBit(p,u,f);r[f]=m,n[f]=1,this.setNeighborsSignificance(p,u,f),a[f]|=2}c[f]++,a[f]|=1}}}}},decodeSignBit:function decodeSignBit(e,t,i){var n,r,o,a,s,l,c=this.width,h=this.height,u=this.coefficentsMagnitude,f=this.coefficentsSign;a=0<t&&0!==u[i-1],t+1<c&&0!==u[i+1]?(o=f[i+1],n=a?1-o-(r=f[i-1]):1-o-o):n=a?1-(r=f[i-1])-r:0;var d=3*n;return a=0<e&&0!==u[i-c],e+1<h&&0!==u[i+c]?(o=f[i+c],n=a?1-o-(r=f[i-c])+d:1-o-o+d):n=a?1-(r=f[i-c])-r+d:d,0<=n?(s=9+n,l=this.decoder.readBit(this.contexts,s)):(s=9-n,l=1^this.decoder.readBit(this.contexts,s)),l},runMagnitudeRefinementPass:function runMagnitudeRefinementPass(){for(var e,t=this.decoder,i=this.width,n=this.height,r=this.coefficentsMagnitude,o=this.neighborsSignificance,a=this.contexts,s=this.bitsDecoded,l=this.processingFlags,c=i*n,u=0;u<c;u=e){e=_Mathmin(c,u+4*i);for(var f=0;f<i;f++){for(var d=u+f;d<e;d+=i){if(r[d]&&0==(1&l[d])){var p=16;if(0!=(2&l[d]))l[d]^=2,p=0===(127&o[d])?15:14;var _=t.readBit(a,p);r[d]=r[d]<<1|_,s[d]++,l[d]|=1}}}}},runCleanupPass:function runCleanupPass(){for(var e,t=this.decoder,i=this.width,n=this.height,r=this.neighborsSignificance,o=this.coefficentsMagnitude,a=this.coefficentsSign,s=this.contexts,l=this.contextLabelTable,c=this.bitsDecoded,h=this.processingFlags,u=i,f=2*i,d=3*i,p=0;p<n;p=e){e=_Mathmin(p+4,n);for(var _=p*i,m=p+3<n,b=0;b<i;b++){var y,g=_+b,v=0,A=g,w=p;if(m&&0===h[g]&&0===h[g+u]&&0===h[g+f]&&0===h[g+d]&&0===r[g]&&0===r[g+u]&&0===r[g+f]&&0===r[g+d]){if(!t.readBit(s,18)){c[g]++,c[g+u]++,c[g+f]++,c[g+d]++;continue}0!==(v=t.readBit(s,17)<<1|t.readBit(s,17))&&(w=p+v,A+=v*i),y=this.decodeSignBit(w,b,A),a[A]=y,o[A]=1,this.setNeighborsSignificance(w,b,A),h[A]|=2,A=g;for(var x=p;x<=w;x++,A+=i){c[A]++}v++}for(w=p+v;w<e;w++,A+=i){if(!o[A]&&0==(1&h[A])){var k=l[r[A]];1===t.readBit(s,k)&&(y=this.decodeSignBit(w,b,A),a[A]=y,o[A]=1,this.setNeighborsSignificance(w,b,A),h[A]|=2),c[A]++}}}}},checkSegmentationSymbol:function checkSegmentationSymbol(){var e=this.decoder,t=this.contexts;if(10!==(e.readBit(t,17)<<3|e.readBit(t,17)<<2|e.readBit(t,17)<<1|e.readBit(t,17)))throw new Error("JPX Error: Invalid segmentation symbol")}},n}(),k=function(){function e(){}return e.prototype.calculate=function(e,t,i){for(var n=e[0],r=1,o=e.length;r<o;r++){n=this.iterate(n,e[r],t,i)}return n},e.prototype.extend=function(e,t,i){var n=t-1,r=t+1,o=t+i-2,a=t+i;e[n--]=e[r++],e[a++]=e[o--],e[n--]=e[r++],e[a++]=e[o--],e[n--]=e[r++],e[a++]=e[o--],e[n]=e[r],e[a]=e[o]},e.prototype.iterate=function(e,t,i,n){var r,o,a,s,l,c,h=e.width,u=e.height,f=e.items,d=t.width,p=t.height,_=t.items;for(a=0,r=0;r<u;r++){for(s=2*r*d,o=0;o<h;o++,a++,s+=2){_[s]=f[a]}}f=e.items=null;var m=new Float32Array(d+8);if(1===d){if(0!=(1&i))for(c=0,a=0;c<p;c++,a+=d){_[a]*=.5}}else for(c=0,a=0;c<p;c++,a+=d){m.set(_.subarray(a,a+d),4),this.extend(m,4,d),this.filter(m,4,d),_.set(m.subarray(4,4+d),a)}var b=16,y=[];for(r=0;r<b;r++){y.push(new Float32Array(p+8))}var g,v=0;if(e=4+p,1===p){if(0!=(1&n))for(l=0;l<d;l++){_[l]*=.5}}else for(l=0;l<d;l++){if(0===v){for(b=_Mathmin(d-l,b),a=l,s=4;s<e;a+=d,s++){for(g=0;g<b;g++){y[g][s]=_[a+g]}}v=b}var A=y[--v];if(this.extend(A,4,p),this.filter(A,4,p),0===v)for(a=l-b+1,s=4;s<e;a+=d,s++){for(g=0;g<b;g++){_[a+g]=y[g][s]}}}return{width:d,height:p,items:_}},e}(),I=function(){function e(){k.call(this)}return e.prototype=Object.create(k.prototype),e.prototype.filter=function(e,t,i){var n,r,o,a,s=i>>1,l=-1.586134342059924,c=-.052980118572961,h=.882911075530934,u=.443506852043971,f=1.230174104914001;for(n=(t|=0)-3,r=s+4;r--;n+=2){e[n]*=.8128930661159609}for(o=u*e[(n=t-2)-1],r=s+3;r--&&(a=u*e[n+1],e[n]=f*e[n]-o-a,r--);n+=2){o=u*e[(n+=2)+1],e[n]=f*e[n]-o-a}for(o=h*e[(n=t-1)-1],r=s+2;r--&&(a=h*e[n+1],e[n]-=o+a,r--);n+=2){o=h*e[(n+=2)+1],e[n]-=o+a}for(o=c*e[(n=t)-1],r=s+1;r--&&(a=c*e[n+1],e[n]-=o+a,r--);n+=2){o=c*e[(n+=2)+1],e[n]-=o+a}if(0!==s)for(o=l*e[(n=t+1)-1],r=s;r--&&(a=l*e[n+1],e[n]-=o+a,r--);n+=2){o=l*e[(n+=2)+1],e[n]-=o+a}},e}(),S=function(){function e(){k.call(this)}return e.prototype=Object.create(k.prototype),e.prototype.filter=function(e,t,i){var n,r,o=i>>1;for(n=t|=0,r=o+1;r--;n+=2){e[n]-=e[n-1]+e[n+1]+2>>2}for(n=t+1,r=o;r--;n+=2){e[n]+=e[n-1]+e[n+1]>>1}},e}();return t}(),r=function(){var e=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];function t(e,t,i){this.data=e,this.bp=t,this.dataEnd=i,this.chigh=e[t],this.clow=0,this.byteIn(),this.chigh=65535&this.chigh<<7|127&this.clow>>9,this.clow=65535&this.clow<<7,this.ct-=7,this.a=32768}return t.prototype={byteIn:function byteIn(){var e=this.data,t=this.bp;255===e[t]?143<e[t+1]?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t):(t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t);65535<this.clow&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function readBit(t,i){var n,r=t[i]>>1,o=1&t[i],a=e[r],s=a.qe,l=this.a-s;if(this.chigh<s)l<s?(l=s,n=o,r=a.nmps):(l=s,n=1^o,1===a.switchFlag&&(o=n),r=a.nlps);else{if(this.chigh-=s,0!=(32768&l))return this.a=l,o;l<s?(n=1^o,1===a.switchFlag&&(o=n),r=a.nlps):(n=o,r=a.nmps)}do{0===this.ct&&this.byteIn(),l<<=1,this.chigh=65535&this.chigh<<1|1&this.clow>>15,this.clow=65535&this.clow<<1,this.ct--}while(0==(32768&l));return this.a=l,t[i]=r<<1|o,n}},t}(),o="undefined"==typeof window?this:window;o.PDFJS||(o.PDFJS={}),o.PDFJS.pdfBug=!1,PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};function a(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function s(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},PDFJS.UnsupportedManager=function(){var e=[];return{listen:function listen(t){e.push(t)},notify:function notify(t){s("Unsupported feature \""+t+"\"");for(var i=0,n=e.length;i<n;i++){e[i](t)}}}}();function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!1}),i}PDFJS.isValidUrl=function(e,t){if(!e)return!1;var i=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(e);if(!i)return t;switch(i=i[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":case"tel":return!0;default:return!1;}},PDFJS.shadow=l;PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var c=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.PasswordException=c;var h=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.UnknownErrorException=h;var u=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();PDFJS.InvalidPDFException=u;var f=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();PDFJS.MissingPDFException=f;var d=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.UnexpectedResponseException=d;(function(){function e(e){this.message=e}e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e})(),function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e}(),function(){function e(e){this.message=e}e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e}();function p(e){for(var t=1,i=0;e>t;){t<<=1,i++}return i}function _(e,t){return e[t]<<8|e[t+1]}function m(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}Object.defineProperty(PDFJS,"isLittleEndian",{configurable:!0,get:function get(){return l(PDFJS,"isLittleEndian",function(){var e=new Uint8Array(2);return e[0]=1,1===new Uint16Array(e.buffer)[0]}())}}),Object.defineProperty(PDFJS,"hasCanvasTypedArrays",{configurable:!0,get:function get(){return l(PDFJS,"hasCanvasTypedArrays",function(){var e=document.createElement("canvas");return e.width=e.height=1,void 0!==e.getContext("2d").createImageData(1,1).data.buffer}())}});!function(){function e(n,r){this.buffer=n,this.byteLength=n.length,this.length=void 0===r?this.byteLength>>2:r,function(n){for(;t<n;){Object.defineProperty(e.prototype,t,i(t)),t++}}(this.length)}e.prototype=Object.create(null);var t=0;function i(e){return{get:function get(){var t=this.buffer,i=e<<2;return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0},set:function set(t){var i=this.buffer,n=e<<2;i[n]=255&t,i[n+1]=255&t>>8,i[n+2]=255&t>>16,i[n+3]=255&t>>>24}}}}();var b=PDFJS.Util=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];return e.makeCssRgb=function(e,i,n){return t[1]=e,t[3]=i,t[5]=n,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},e.applyInverseTransform=function(e,t){var i=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i]},e.getAxialAlignedBoundingBox=function(t,i){var n=e.applyTransform(t,i),r=e.applyTransform(t.slice(2,4),i),o=e.applyTransform([t[0],t[3]],i),a=e.applyTransform([t[2],t[1]],i);return[_Mathmin(n[0],r[0],o[0],a[0]),_Mathmin(n[1],r[1],o[1],a[1]),_Mathmax(n[0],r[0],o[0],a[0]),_Mathmax(n[1],r[1],o[1],a[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,s=_Mathsqrt((i+o)*(i+o)-4*(i*o-r*n))/2;return[_Mathsqrt(a+s||1),_Mathsqrt(a-s||1)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,i){function n(e,t){return e-t}var r=[t[0],t[2],i[0],i[2]].sort(n),o=[t[1],t[3],i[1],i[3]].sort(n),a=[];return t=e.normalizeRect(t),i=e.normalizeRect(i),(r[0]===t[0]&&r[1]===i[0]||r[0]===i[0]&&r[1]===t[0])&&(a[0]=r[1],a[2]=r[2],(o[0]===t[1]&&o[1]===i[1]||o[0]===i[1]&&o[1]===t[1])&&(a[1]=o[1],a[3]=o[2],a))},e.sign=function(e){return 0>e?-1:1},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var i in t){e[i]=t[i]}},e.getInheritableProperty=function(e,t){for(;e&&!e.has(t);){e=e.get("Parent")}return e?e.get(t):null},e.inherit=function(e,t,i){for(var n in e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i){e.prototype[n]=i[n]}},e.loadScript=function(e,t){var i=document.createElement("script"),n=!1;i.setAttribute("src",e),t&&(i.onload=function(){n||t(),n=!0}),document.getElementsByTagName("head")[0].appendChild(i)},e}();PDFJS.PageViewport=function(){function e(e,t,i,n,r,o){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=n,this.offsetY=r;var a,s,l,c,h,u,f,d,p=(e[2]+e[0])/2,_=(e[3]+e[1])/2;switch(i=0>(i%=360)?i+360:i){case 180:a=-1,s=0,l=0,c=1;break;case 90:a=0,s=1,l=1,c=0;break;case 270:a=0,s=-1,l=-1,c=0;break;default:a=1,s=0,l=0,c=-1;}o&&(l=-l,c=-c),0===a?(h=_Mathabs(_-e[1])*t+n,u=_Mathabs(p-e[0])*t+r,f=_Mathabs(e[3]-e[1])*t,d=_Mathabs(e[2]-e[0])*t):(h=_Mathabs(p-e[0])*t+n,u=_Mathabs(_-e[1])*t+r,f=_Mathabs(e[2]-e[0])*t,d=_Mathabs(e[3]-e[1])*t),this.transform=[a*t,s*t,l*t,c*t,h-a*t*p-l*t*_,u-s*t*p-c*t*_],this.width=f,this.height=d,this.fontScale=t}return e.prototype={clone:function clone(t){var i="scale"in(t=t||{})?t.scale:this.scale,n="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),i,n,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function convertToViewportPoint(e,t){return b.applyTransform([e,t],this.transform)},convertToViewportRectangle:function convertToViewportRectangle(e){var t=b.applyTransform([e[0],e[1]],this.transform),i=b.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]},convertToPdfPoint:function convertToPdfPoint(e,t){return b.applyInverseTransform([e,t],this.transform)}},e}();PDFJS.createPromiseCapability=function(){var e={};return e.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),e},function(){if(o.Promise)return"function"!=typeof o.Promise.all&&(o.Promise.all=function(e){var t,i,n=0,r=[],a=new o.Promise(function(e,n){t=e,i=n});return e.forEach(function(e,o){n++,e.then(function(e){r[o]=e,0===--n&&t(r)},i)}),0===n&&t(r),a}),"function"!=typeof o.Promise.resolve&&(o.Promise.resolve=function(e){return new o.Promise(function(t){t(e)})}),"function"!=typeof o.Promise.reject&&(o.Promise.reject=function(e){return new o.Promise(function(t,i){i(e)})}),void("function"!=typeof o.Promise.prototype.catch&&(o.Promise.prototype.catch=function(e){return o.Promise.prototype.then(void 0,e)}));var e=0,t=2,i={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function scheduleHandlers(t){t._status!==e&&(this.handlers=this.handlers.concat(t._handlers),t._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function runHandlers(){for(var e=Date.now()+1;0<this.handlers.length;){var i=this.handlers.shift(),n=i.thisPromise._status,r=i.thisPromise._value;try{1===n?"function"==typeof i.onResolve&&(r=i.onResolve(r)):"function"==typeof i.onReject&&(r=i.onReject(r),n=1,i.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(i.thisPromise))}catch(e){n=t,r=e}if(i.nextPromise._updateStatus(n,r),Date.now()>=e)break}0<this.handlers.length?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function addUnhandledRejection(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function removeUnhandeledRejection(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++){this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)}},scheduleRejectionCheck:function scheduleRejectionCheck(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var e=Date.now(),t=0;t<this.unhandledRejections.length;t++){if(500<e-this.unhandledRejections[t].time){var i=this.unhandledRejections[t].promise._value,n="Unhandled rejection: "+i;i.stack&&(n+="\n"+i.stack),s(n),this.unhandledRejections.splice(t),t--}}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500))}};function n(t){this._status=e,this._handlers=[];try{t.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}n.all=function(e){var i,r,o=new n(function(e,t){i=e,r=t}),a=e.length,s=[];if(0===a)return i(s),o;function l(e){o._status!==t&&(s=[],r(e))}for(var c=0,h=e.length;c<h;++c){var u=e[c],f=function(e){return function(n){o._status!==t&&(s[e]=n,0===--a&&i(s))}}(c);n.isPromise(u)?u.then(f,l):f(u)}return o},n.isPromise=function(e){return e&&"function"==typeof e.then},n.resolve=function(e){return new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,i){i(e)})},n.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function _updateStatus(e,r){1!==this._status&&this._status!==t&&(1===e&&n.isPromise(r)?r.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,t)):(this._status=e,this._value=r,e===t&&0===this._handlers.length&&(this._unhandledRejection=!0,i.addUnhandledRejection(this)),i.scheduleHandlers(this)))},_resolve:function _resolve(e){this._updateStatus(1,e)},_reject:function _reject(e){this._updateStatus(t,e)},then:function then(e,t){var r=new n(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:e,onReject:t,nextPromise:r}),i.scheduleHandlers(this),r},catch:function _catch(e){return this.then(void 0,e)}},o.Promise=n}();!function(){function e(e,t,i){for(;e.length<i;){e+=t}return e}(function(){this.started={},this.times=[],this.enabled=!0}).prototype={time:function time(e){this.enabled&&(e in this.started&&s("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function timeEnd(e){this.enabled&&(e in this.started||s("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function toString(){var t,i,n=this.times,r="",o=0;for(t=0,i=n.length;t<i;++t){var a=n[t].name;a.length>o&&(o=a.length)}for(t=0,i=n.length;t<i;++t){var s=n[t],l=s.end-s.start;r+=e(s.name," ",o)+" "+l+"ms\n"}return r}}}();PDFJS.createBlob=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});var i=new MozBlobBuilder;return i.append(e),i.getBlob(t)},PDFJS.createObjectURL=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,i){if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var n=PDFJS.createBlob(t,i);return URL.createObjectURL(n)}for(var r="data:"+i+";base64,",o=0,a=t.length;o<a;o+=3){var s=255&t[o],l=255&t[o+1],c=255&t[o+2];r+=e[s>>2]+e[(3&s)<<4|l>>4]+e[o+1<a?(15&l)<<2|c>>6:64]+e[o+2<a?63&c:64]}return r}}(),"undefined"!==typeof e&&e.exports&&(e.exports=n)},function(e,t,i){"use strict";var n=i(60),r=/[ \f\t\v]*\r?\n/,o=/^NRRD\d{4}$/,a=/^([^:]*)(:[ =])(.*)$/,s=/^LIST(?: (\d+))?$/;function l(e){return e.replace("\\","\\\\").replace("\n","\\n")}function c(e){return e.split("\\\\").map(function(e){return e.replace("\\n","\n")}).join("\\")}function h(e,t,i,r){var o,a=function(e){return e in d?d[e]:e}(e);switch(e){case"data":case"buffer":case"keys":case"version":break;case"content":case"number":case"sampleUnits":case"space":o=a+": "+t;break;case"blockSize":case"lineSkip":case"byteSkip":case"dimension":case"spaceDimension":n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should at least contain a number!"),o=a+": "+t;break;case"min":case"max":case"oldMin":case"oldMax":n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should contain a number!"),o=a+": "+t;break;case"spaceOrigin":n(t.length===r,"Field "+e+" should be a list with length equal to the space dimension!"),t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should be a list of numbers!")}),o=a+": ("+t.join(",")+")";break;case"labels":case"units":case"spaceUnits":n(void 0!==t.length&&t.length==i,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach(function(t){n("string"==typeof t||babelHelpers.instanceof(t,String),"Field "+e+" should be a list of numbers!")}),o=a+": "+t.map(g).join(" ");break;case"sizes":n(void 0!==t.length&&t.length==i,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should be a list of numbers!")}),o=a+": "+t.join(" ");break;case"spacings":case"thicknesses":case"axisMins":case"axisMaxs":n(void 0!==t.length&&t.length==i,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"Field "+e+" should be a list of numbers!")}),o=a+": "+t.join(" ");break;case"spaceDirections":n(void 0!==t.length&&t.length===i,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach(function(t){n(null===t||void 0!==t.length&&t.length===r,"The elements of field "+e+" should be lists with length equal to the space dimension!"),null!==t&&t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"The elements of field "+e+" should be lists of numbers!")})}),o=a+": "+t.map(function(e){return null===e?"none":"("+e.join(",")+")"}).join(" ");break;case"measurementFrame":n(void 0!==t.length&&t.length===r,"Field "+e+" should be a list with length equal to the space dimension!"),t.forEach(function(t){n(null===t||void 0!==t.length&&t.length===r,"The elements of field "+e+" should be lists with length equal to the space dimension!"),null!==t&&t.forEach(function(t){n("number"==typeof t||babelHelpers.instanceof(t,Number),"The elements of field "+e+" should be lists of numbers!")})}),o=a+": "+t.map(function(e){return null===e?"none":"("+e.join(",")+")"}).join(" ");break;case"type":case"encoding":case"endian":n("string"==typeof t||babelHelpers.instanceof(t,String),"Field "+e+" should contain a string!"),o=a+": "+t;break;case"dataFile":t.length||t.files&&"subdim"in t||(o=a+": "+function(e){if("string"==typeof e||babelHelpers.instanceof(e,String))return e;if("format"in e&&"min"in e&&"max"in e&&"step"in e)return"subdim"in e?e.format+" "+e.min+" "+e.max+" "+e.step+" "+e.subdim:e.format+" "+e.min+" "+e.max+" "+e.step;throw new Error("Unrecognized data file format!")}(t));break;case"centers":case"kinds":n(void 0!==t.length&&t.length==i,"Field "+e+" should be a list with length equal to the dimension!"),o=a+": "+t.map(B).join(" ");break;default:console.warn("Unrecognized NRRD field: "+e+", skipping.");}return o}function u(e,t){switch(e){case"content":case"number":case"sampleUnits":break;case"dimension":case"blockSize":case"lineSkip":case"byteSkip":case"spaceDimension":t=_(t);break;case"min":case"max":case"oldMin":case"oldMax":t=m(t);break;case"spaceOrigin":t=b(t);break;case"labels":case"units":case"spaceUnits":t=A(t,y);break;case"sizes":t=A(t,_);break;case"spacings":case"thicknesses":case"axisMins":case"axisMaxs":t=A(t,m);break;case"spaceDirections":case"measurementFrame":t=A(t,b);break;case"type":t=w(t);break;case"encoding":t=x(t);break;case"endian":t=k(t);break;case"dataFile":t=function(e){var t=I.exec(e);return t?5==t.length&&t[4]?{format:e.substring(0,t.index),min:_(t[1]),max:_(t[2]),step:_(t[3]),subdim:_(t[4])}:{format:e.substring(0,t.index),min:_(t[1]),max:_(t[2]),step:_(t[3])}:e}(t);break;case"centers":t=A(t,S);break;case"kinds":t=A(t,C);break;case"space":t=function(e){switch(e.toLowerCase()){case"right-anterior-superior":case"ras":return"right-anterior-superior";case"left-anterior-superior":case"las":return"left-anterior-superior";case"left-posterior-superior":case"lps":return"left-posterior-superior";case"right-anterior-superior-time":case"rast":return"right-anterior-superior-time";case"left-anterior-superior-time":case"last":return"left-anterior-superior-time";case"left-posterior-superior-time":case"lpst":return"left-posterior-superior-time";case"scanner-xyz":return"scanner-xyz";case"scanner-xyz-time":return"scanner-xyz-time";case"3d-right-handed":return"3D-right-handed";case"3d-left-handed":return"3D-left-handed";case"3d-right-handed-time":return"3D-right-handed-time";case"3d-left-handed-time":return"3D-left-handed-time";default:return console.warn("Unrecognized space: "+e),e;}}(t);break;default:console.warn("Unrecognized NRRD field: "+e);}return t}e.exports.serialize=function(e){var t,i,n,r,o,a,s,c,u,f,d=1,p={},_=[];for(r in e){p[r]=e[r]}if(void 0===p.sizes)throw new Error("Sizes missing from NRRD file!");if(void 0===p.dimension&&(p.dimension=p.sizes.length),babelHelpers.instanceof(p.data,Int8Array)?o="int8":babelHelpers.instanceof(p.data,Uint8Array)?o="uint8":babelHelpers.instanceof(p.data,Int16Array)?o="int16":babelHelpers.instanceof(p.data,Uint16Array)?o="uint16":babelHelpers.instanceof(p.data,Int32Array)?o="int32":babelHelpers.instanceof(p.data,Uint32Array)?o="uint32":babelHelpers.instanceof(p.data,Float32Array)?o="float":babelHelpers.instanceof(p.data,Float64Array)&&(o="double"),void 0===p.type&&void 0!==o)p.type=o;else{if(void 0===p.type)throw new Error("Type of data is not given and cannot be inferred!");("string"==typeof p.type||babelHelpers.instanceof(p.type,String))&&(p.type=w(p.type))}void 0===p.encoding?p.encoding="raw":("string"==typeof p.encoding||babelHelpers.instanceof(p.encoding,String))&&(p.encoding=x(p.encoding)),p.data&&"block"!=p.type&&"int8"!=p.type&&"uint8"!=p.type&&"ascii"!=p.encoding?p.endian=M:"block"==p.type||"int8"==p.type||"uint8"==p.type||"ascii"==p.encoding?p.endian=void 0:("string"==typeof p.endian||babelHelpers.instanceof(p.endian,String))&&(p.endian=k(p.endian));var m;if(void 0!==p.spaceDimension)m=p.spaceDimension;else if(void 0!==p.space)switch(p.space){case"right-anterior-superior":case"RAS":m=3;break;case"left-anterior-superior":case"LAS":m=3;break;case"left-posterior-superior":case"LPS":m=3;break;case"right-anterior-superior-time":case"RAST":m=4;break;case"left-anterior-superior-time":case"LAST":m=4;break;case"left-posterior-superior-time":case"LPST":m=4;break;case"scanner-xyz":m=3;break;case"scanner-xyz-time":m=4;break;case"3D-right-handed":case"3D-left-handed":m=3;break;case"3D-right-handed-time":case"3D-left-handed-time":m=4;break;default:console.warn("Unrecognized space: "+p.space);}for(D(p),t=0;t<p.sizes.length;t++){if(0>=p.sizes[t])throw new Error("Sizes should be a list of positive (>0) integers!");d*=p.sizes[t]}if(p.data){if(p.data.length<d)throw new Error("Missing data to serialize!")}else if(p.buffer){if("raw"==p.encoding&&(a="block"==p.type&&void 0!==p.blockSize?p.blockSize:T(p.type),p.buffer.byteLength<d*a))throw new Error("Missing data to serialize!")}else if(!p.dataFile)throw new Error("Will not serialize an empty NRRD file!");if(p.data)switch(p.encoding){case"raw":s=p.type==o&&p.endian==M?p.data.buffer.slice(p.data.byteOffset,p.data.byteOffset+p.data.byteLength):p.endian==M?(s=R(p.data,p.type)).buffer.slice(s.byteOffset,s.byteOffset+s.byteLength):function(e,t,i){var n,r,o,a=T(t),s=new ArrayBuffer(e.length*a);switch(i){case"big":r=!1;break;case"little":r=!0;break;default:return void console.warn("Unsupported endianness in NRRD file: "+i);}switch(o=new DataView(s),t){case"int8":for(n=0;n<e.length;n++){o.setInt8(n,e[n],r)}return s;case"uint8":for(n=0;n<e.length;n++){o.setUint8(n,e[n],r)}return s;case"int16":for(n=0;n<e.length;n++){o.setInt16(2*n,e[n],r)}return s;case"uint16":for(n=0;n<e.length;n++){o.setUint16(2*n,e[n],r)}return s;case"int32":for(n=0;n<e.length;n++){o.setInt32(4*n,e[n],r)}return s;case"uint32":for(n=0;n<e.length;n++){o.setUint32(4*n,e[n],r)}return s;case"float":for(n=0;n<e.length;n++){o.setFloat32(4*n,e[n],r)}return s;case"double":for(n=0;n<e.length;n++){o.setFloat64(8*n,e[n],r)}return s;default:return void console.warn("Cannot serialize NRRD type: "+t+".");}}(p.data,p.type,p.endian);break;case"ascii":s=p.type==o?G(p.data):G(R(p.data,p.type));break;default:throw new Error("Unsupported NRRD encoding: "+p.encoding);}else p.buffer&&(s=p.buffer);_.push("NRRD0005"),_.push("# Generated by nrrd-js");var b=["dimension","spaceDimension","space"];for(t=0;t<b.length;t++){void 0!==p[r=b[t]]&&void 0!==(u=h(r,p[r],p.dimension,m))&&_.push(u)}for(r in p){void 0!==p[r]&&(0<=b.indexOf(r)||void 0!==(u=h(r,p[r],p.dimension,m))&&_.push(u))}if(p.keys)for(r in p.keys){if(0<=r.indexOf(":="))throw new Error("The combination ':=' is not allowed in an NRRD key!");_.push(r+":="+l(p[r]))}if(p.dataFile&&p.dataFile.length?(_.push("data file: LIST"),Array.prototype.push.apply(_,p.dataFile)):p.dataFile&&p.dataFile.files&&"subdim"in p.dataFile&&(_.push("data file: LIST "+p.dataFile.subdim),Array.prototype.push.apply(_,p.dataFile.files)),!s||"dataFile"in p)for(_.push(""),f=_.join("\n"),i=new ArrayBuffer(f.length),n=new Uint8Array(i),t=0;t<f.length;t++){n[t]=f.charCodeAt(t)}else{for(_.push(""),_.push(""),f=_.join("\n"),i=new ArrayBuffer(f.length+s.byteLength),n=new Uint8Array(i),t=0;t<f.length;t++){n[t]=f.charCodeAt(t)}c=new Uint8Array(s),n.set(c,f.length)}return i},e.exports.parse=function(e){var t,i,n,l,h,f,d={data:void 0,buffer:void 0,keys:{},version:void 0},b=new Uint8Array(e);for(b.buffer!==e&&(e=b.buffer),t=2;t<b.length;){if(10==b[t]){if(10==b[t-1]||13==b[t-1]&&10==b[t-2]){n=t+1;break}t++}else 13==b[t]?t++:t+=2}if(void 0===n?i=_StringfromCharCode.apply(null,b):(i=_StringfromCharCode.apply(null,b.subarray(0,n)),d.buffer=e.slice(n)),l=(l=i.split(r)).filter(function(e){return 0<e.length&&"#"!=e[0]}),!o.test(l[0]))throw new Error("File is not an NRRD file!");for(d.version=parseInt(l[0].substring(4,8),10),5<d.version&&console.warn("Reading an unsupported version of the NRRD format; things may go haywire."),t=1;t<l.length;t++){if(h=a.exec(l[t])){if(": "==h[2])h[1]=p(h[1]),"dataFile"==h[1]&&(f=s.exec(h[3]))?(2==f.length&&f[1]?d[h[1]]={files:l.slice(t+1),subdim:_(f[1])}:d[h[1]]=l.slice(t+1),l.length=t):d[h[1]]=u(h[1],h[3]);else{if(":="!=h[2])throw new Error("Logic error in NRRD parser.");d.keys[h[1]]=c(h[3])}}else console.warn("Unrecognized line in NRRD header: "+l[t])}if(D(d),"dataFile"in d)console.warn("No support for external data yet!");else switch(d.encoding){case"raw":d.data=function(e,t,i,n){var r,o,a,s=1;for(r=0;r<i.length;r++){if(0>=i[r])throw new Error("Sizes should be a list of positive (>0) integers!");s*=i[r]}if("block"==t)return e.slice(0,s*n.blockSize);if("int8"==t||"uint8"==t||n.endian==M)switch(t){case"int8":return l(1),new Int8Array(e.slice(0,s));case"uint8":return l(1),new Uint8Array(e.slice(0,s));case"int16":return l(2),new Int16Array(e.slice(0,2*s));case"uint16":return l(2),new Uint16Array(e.slice(0,2*s));case"int32":return l(4),new Int32Array(e.slice(0,4*s));case"uint32":return l(4),new Uint32Array(e.slice(0,4*s));case"float":return l(4),new Float32Array(e.slice(0,4*s));case"double":return l(8),new Float64Array(e.slice(0,8*s));default:return void console.warn("Unsupported NRRD type: "+t+", returning raw buffer.");}else{switch(n.endian){case"big":break;case"little":break;default:return void console.warn("Unsupported endianness in NRRD file: "+n.endian);}switch(a=new DataView(e),t){case"int8":for(o=new Int8Array(s),r=0;r<s;r++){o[r]=a.getInt8(r)}return o;case"uint8":for(o=new Uint8Array(s),r=0;r<s;r++){o[r]=a.getUint8(r)}return o;case"int16":for(o=new Int16Array(s),r=0;r<s;r++){o[r]=a.getInt16(2*r)}return o;case"uint16":for(o=new Uint16Array(s),r=0;r<s;r++){o[r]=a.getUint16(2*r)}return o;case"int32":for(o=new Int32Array(s),r=0;r<s;r++){o[r]=a.getInt32(4*r)}return o;case"uint32":for(o=new Uint32Array(s),r=0;r<s;r++){o[r]=a.getUint32(4*r)}return o;case"float":for(o=new Float32Array(s),r=0;r<s;r++){o[r]=a.getFloat32(4*r)}return o;case"double":for(o=new Float64Array(s),r=0;r<s;r++){o[r]=a.getFloat64(8*r)}return o;default:return void console.warn("Unsupported NRRD type: "+t+", returning raw buffer.");}}function l(t){if(e.byteLength<s*t)throw new Error("NRRD file does not contain enough data!")}}(d.buffer,d.type,d.sizes,{endian:d.endian,blockSize:d.blockSize});break;case"ascii":d.data=function(e,t,i){var n,r,o,a,s=1;for(n=0;n<i.length;n++){if(0>=i[n])throw new Error("Sizes should be a list of positive (>0) integers!");s*=i[n]}if(r=new Uint8Array(e),o=_StringfromCharCode.apply(null,r),(a=o.split(P)).length<s)throw new Error("Not enough data in NRRD file!");a.length>s&&(""===a[0]&&(a=a.slice(1)),a=a.slice(0,s));switch(t){case"int8":return new Int8Array(a.map(_));case"uint8":return new Uint8Array(a.map(_));case"int16":return new Int16Array(a.map(_));case"uint16":return new Uint16Array(a.map(_));case"int32":return new Int32Array(a.map(_));case"uint32":return new Uint32Array(a.map(_));case"float":return new Float32Array(a.map(m));case"double":return new Float64Array(a.map(m));default:return void console.warn("Unsupported NRRD type: "+t+".");}}(d.buffer,d.type,d.sizes);break;default:console.warn("Unsupported NRRD encoding: "+d.encoding);}return d};var f={"block size":"blockSize",blocksize:"blockSize","old min":"oldMin",oldmin:"oldMin","old max":"oldMax",oldmax:"oldMax","data file":"dataFile",datafile:"dataFile","line skip":"lineSkip",lineskip:"lineSkip","byte skip":"byteSkip",byteskip:"byteSkip","sample units":"sampleUnits",sampleunits:"sampleUnits","axis mins":"axisMins","axis maxs":"axisMaxs",centers:"centers",centerings:"centers","space dimension":"spaceDimension","space units":"spaceUnits","space origin":"spaceOrigin","space directions":"spaceDirections","measurement frame":"measurementFrame"},d=function(){var e,t={};for(e in f){t[f[e]]=e}return t}();function p(e){return(e=e.toLowerCase())in f?f[e]:e}function _(e){var t=parseInt(e,10);if(_NumberisNaN(t))throw new Error("Malformed NRRD integer: "+e);return t}function m(e){if(0<=(e=e.toLowerCase()).indexOf("nan"))return NaN;if(0<=e.indexOf("-inf"))return-1/0;if(0<=e.indexOf("inf"))return 1/0;var t=parseFloat(e);if(_NumberisNaN(t))throw new Error("Malformed NRRD float: "+e);return t}function b(e){if("none"==e)return null;if(2>e.length||"("!==e[0]||")"!==e[e.length-1])throw new Error("Malformed NRRD vector: "+e);return e.slice(1,-1).split(",").map(m)}function y(e){if(2>length||"\""!=e[0]||"\""!=e[e.length-1])throw new Error("Invalid NRRD quoted string: "+e);return e.slice(1,-1).replace("\\\"","\"")}function g(e){return"\""+e.replace("\"","\\\"")+"\""}var v=/[ \t]+/;function A(e,t){return e.split(v).map(t)}function w(e){switch(e.toLowerCase()){case"signed char":case"int8":case"int8_t":return"int8";case"uchar":case"unsigned char":case"uint8":case"uint8_t":return"uint8";case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":return"int16";case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":return"uint16";case"int":case"signed int":case"int32":case"int32_t":return"int32";case"uint":case"unsigned int":case"uint32":case"uint32_t":return"uint32";case"longlong":case"long long":case"long long int":case"signed long long":case"signed long long int":case"int64":case"int64_t":return"int64";case"ulonglong":case"unsigned long long":case"unsigned long long int":case"uint64":case"uint64_t":return"uint64";case"float":return"float";case"double":return"double";case"block":return"block";default:return console.warn("Unrecognized NRRD type: "+e),e;}}function x(e){switch(e.toLowerCase()){case"raw":return"raw";case"txt":case"text":case"ascii":return"ascii";case"hex":return"hex";case"gz":case"gzip":return"gzip";case"bz2":case"bzip2":return"bzip2";default:return console.warn("Unrecognized NRRD encoding: "+e),e;}}function k(e){switch(e.toLowerCase()){case"little":return"little";case"big":return"big";default:return console.warn("Unrecognized NRRD endianness: "+e),e;}}var I=/ (-?\d+) (-?\d+) (-?\d+)(?: (\d+))?$/;function S(e){switch(e.toLowerCase()){case"cell":return"cell";case"node":return"node";case"???":case"none":return null;default:return console.warn("Unrecognized NRRD center: "+e),e;}}var E={domain:"domain",space:"space",time:"time",list:"list",point:"point",vector:"vector","covariant-vector":"covariant-vector",normal:"normal",stub:"stub",scalar:"scalar",complex:"complex","2-vector":"2-vector","3-color":"3-color","rgb-color":"RGB-color","hsv-color":"HSV-color","xyz-color":"XYZ-color","4-color":"4-color","rgba-color":"RGBA-color","3-vector":"3-vector","3-gradient":"3-gradient","3-normal":"3-normal","4-vector":"4-vector",quaternion:"quaternion","2d-symmetric-matrix":"2D-symmetric-matrix","2d-masked-symmetric-matrix":"2D-masked-symmetric-matrix","2d-matrix":"2D-matrix","2d-masked-matrix":"2D-masked-matrix","3d-symmetric-matrix":"3D-symmetric-matrix","3d-masked-symmetric-matrix":"3D-masked-symmetric-matrix","3d-matrix":"3D-matrix","3d-masked-matrix":"3D-masked-matrix","???":null,none:null};function C(e){var t=e.toLowerCase();return t in E?E[t]:(console.warn("Unrecognized NRRD kind: "+e),e)}function B(e){return null===e?"???":e}var M=function(){var e=new ArrayBuffer(4),t=new Uint32Array(e),i=new Uint8Array(e);return t[0]=16909060,1==i[0]&&2==i[1]&&3==i[2]&&4==i[3]?"big":4==i[0]&&3==i[1]&&2==i[2]&&1==i[3]?"little":void console.warn("Unrecognized system endianness!")}(),P=/[ \t\n\r\v\f]+/;function T(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":return 4;case"int64":case"uint64":return 8;case"float":return 4;case"double":return 8;default:throw new Error("Do not know the size of NRRD type: "+e);}}function D(e){if(void 0===e.dimension)throw new Error("Dimension missing from NRRD file!");if(void 0===e.type)throw new Error("Type missing from NRRD file!");if(void 0===e.encoding)throw new Error("Encoding missing from NRRD file!");if(void 0===e.sizes)throw new Error("Sizes missing from NRRD file!");if("block"!=e.type&&"int8"!=e.type&&"uint8"!=e.type&&"ascii"!=e.encoding&&void 0===e.endian)throw new Error("Endianness missing from NRRD file!");if("block"==e.type&&void 0===e.blockSize)throw new Error("Missing block size in NRRD file!");if(0===e.dimension)throw new Error("Zero-dimensional NRRD file?");if(e.dimension!=e.sizes.length)throw new Error("Length of 'sizes' is different from 'dimension' in an NRRD file!");if(e.spacings&&e.dimension!=e.spacings.length)throw new Error("Length of 'spacings' is different from 'dimension' in an NRRD file!");if(e.thicknesses&&e.dimension!=e.thicknesses.length)throw new Error("Length of 'thicknesses' is different from 'dimension' in an NRRD file!");if(e.axisMins&&e.dimension!=e.axisMins.length)throw new Error("Length of 'axis mins' is different from 'dimension' in an NRRD file!");if(e.axisMaxs&&e.dimension!=e.axisMaxs.length)throw new Error("Length of 'axis maxs' is different from 'dimension' in an NRRD file!");if(e.centers&&e.dimension!=e.centers.length)throw new Error("Length of 'centers' is different from 'dimension' in an NRRD file!");if(e.labels&&e.dimension!=e.labels.length)throw new Error("Length of 'labels' is different from 'dimension' in an NRRD file!");if(e.units&&e.dimension!=e.units.length)throw new Error("Length of 'units' is different from 'dimension' in an NRRD file!");if(e.kinds&&e.dimension!=e.kinds.length)throw new Error("Length of 'kinds' is different from 'dimension' in an NRRD file!");if(!(void 0!==e.data&&0!==e.data.length||void 0!==e.buffer&&0!==e.buffer.byteLength||void 0!==e.dataFile))throw new Error("NRRD file has neither inline or external data!")}function R(e,t){switch(t){case"int8":return new Int8Array(e);case"uint8":return new Uint8Array(e);case"int16":return new Int16Array(e);case"uint16":return new Uint16Array(e);case"int32":return new Int32Array(e);case"uint32":return new Uint32Array(e);case"float":return new Float32Array(e);case"double":return new Float64Array(e);default:throw new Error("Cannot cast to NRRD type: "+t);}}function G(e){var t,i,n,r,o=Array(e.length);for(t=0;t<e.length;t++){o[t]=""+e[t]}for(i=o.join(" "),n=new ArrayBuffer(i.length),r=new Uint8Array(n),t=0;t<r.length;t++){r[t]=i.charCodeAt(t)}return n}},function(e,t,i){"use strict";(function(t){function n(e,t){if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=_Mathmin(i,n);r<o;++r){if(e[r]!==t[r]){i=e[r],n=t[r];break}}return i<n?-1:n<i?1:0}function r(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=i(61),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function h(e){return!r(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(babelHelpers.instanceof(e,DataView)||!!(e.buffer&&babelHelpers.instanceof(e.buffer,ArrayBuffer))))}var u=e.exports=b,f=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(o.isFunction(e)){if(l)return e.name;var t=e.toString().match(f);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function _(e){if(l||!o.isFunction(e))return o.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,i,n,r){throw new u.AssertionError({message:i,actual:e,expected:t,operator:n,stackStartFunction:r})}function b(e,t){e||m(e,!0,t,"==",u.ok)}function y(e,t,i,a){if(e===t)return!0;if(r(e)&&r(t))return 0===n(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==babelHelpers.typeof(e)||null!==t&&"object"==babelHelpers.typeof(t)){if(h(e)&&h(t)&&c(e)===c(t)&&!(babelHelpers.instanceof(e,Float32Array)||babelHelpers.instanceof(e,Float64Array)))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(r(e)!==r(t))return!1;var l=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,i,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=g(e),a=g(t);if(r&&!a||!r&&a)return!1;if(r)return e=s.call(e),t=s.call(t),y(e,t,i);var l,c,h=w(e),u=w(t);if(h.length!==u.length)return!1;for(h.sort(),u.sort(),c=h.length-1;0<=c;c--){if(h[c]!==u[c])return!1}for(c=h.length-1;0<=c;c--){if(l=h[c],!y(e[l],t[l],i,n))return!1}return!0}(e,t,i,a))}return i?e===t:e==t}function g(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(babelHelpers.instanceof(e,t))return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function A(e,t,i,n){var r;if("function"!=typeof t)throw new TypeError("\"block\" argument must be a function");"string"==typeof i&&(n=i,i=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),e&&!r&&m(r,i,"Missing expected exception"+n);var a="string"==typeof n,s=!e&&o.isError(r),l=!e&&r&&!i;if((s&&a&&v(r,i)||l)&&m(r,i,"Got unwanted exception"+n),e&&r&&i&&!v(r,i)||!e&&r)throw r}u.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return p(_(e.actual),128)+" "+e.operator+" "+p(_(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var n=i.stack,r=d(t),o=n.indexOf("\n"+r);if(0<=o){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},o.inherits(u.AssertionError,Error),u.fail=m,u.ok=b,u.equal=function(e,t,i){e!=t&&m(e,t,i,"==",u.equal)},u.notEqual=function(e,t,i){e==t&&m(e,t,i,"!=",u.notEqual)},u.deepEqual=function(e,t,i){y(e,t,!1)||m(e,t,i,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(e,t,i){y(e,t,!0)||m(e,t,i,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(e,t,i){y(e,t,!1)&&m(e,t,i,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function e(t,i,n){y(t,i,!0)&&m(t,i,n,"notDeepStrictEqual",e)},u.strictEqual=function(e,t,i){e!==t&&m(e,t,i,"===",u.strictEqual)},u.notStrictEqual=function(e,t,i){e===t&&m(e,t,i,"!==",u.notStrictEqual)},u.throws=function(e,t,i){A(!0,e,t,i)},u.doesNotThrow=function(e,t,i){A(!1,e,t,i)},u.ifError=function(e){if(e)throw e};var w=Object.keys||function(e){var t=[];for(var i in e){a.call(e,i)&&t.push(i)}return t}}).call(this,i(11))},function(e,t,i){(function(e,n){var r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++){t.push(s(arguments[i]))}return t.join(" ")}i=1;for(var n=arguments,o=n.length,a=(e+"").replace(r,function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return n[i++]+"";case"%d":return+n[i++];case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e;}}),l=n[i];i<o;l=n[++i]){_(l)||!v(l)?a+=" "+l:a+=" "+s(l)}return a},t.deprecate=function(i,r){if(y(e.process))return function(){return t.deprecate(i,r).apply(this,arguments)};if(!0===n.noDeprecation)return i;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return i.apply(this,arguments)}};var o,a={};function s(e,i){var n={seen:[],stylize:c};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),p(i)?n.showHidden=i:i&&t._extend(n,i),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),h(n,e,n.depth)}function l(e,t){var i=s.styles[t];return i?"\x1B["+s.colors[i][0]+"m"+e+"\x1B["+s.colors[i][1]+"m":e}function c(e){return e}function h(e,i,n){if(e.customInspect&&i&&x(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return b(r)||(r=h(e,r,n)),r}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\"")+"'";return e.stylize(i,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(_(t))return e.stylize("null","null")}(e,i);if(o)return o;var a=Object.keys(i),s=function(e){var t={};return e.forEach(function(e){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),w(i)&&(0<=a.indexOf("message")||0<=a.indexOf("description")))return u(i);if(0===a.length){if(x(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(g(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(A(i))return e.stylize(Date.prototype.toString.call(i),"date");if(w(i))return u(i)}var c,v="",k=!1,I=["{","}"];(d(i)&&(k=!0,I=["[","]"]),x(i))&&(v=" [Function"+(i.name?": "+i.name:"")+"]");return g(i)&&(v=" "+RegExp.prototype.toString.call(i)),A(i)&&(v=" "+Date.prototype.toUTCString.call(i)),w(i)&&(v=" "+u(i)),0!==a.length||k&&0!=i.length?0>n?g(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),c=k?function(e,t,i,n,r){for(var o=[],a=0,s=t.length;a<s;++a){E(t,a+"")?o.push(f(e,t,i,n,a+"",!0)):o.push("")}return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(e,t,i,n,r,!0))}),o}(e,i,n,s,a):a.map(function(t){return f(e,i,n,s,t,k)}),e.seen.pop(),function(e,t,i){if(60<e.reduce(function(e,t){return 0,0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(c,v,I)):I[0]+v+I[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,i,n,r,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),E(n,r)||(a="["+r+"]"),s||(0>e.seen.indexOf(l.value)?-1<(s=_(i)?h(e,l.value,null):h(e,l.value,i-1)).indexOf("\n")&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,"\"").replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function _(e){return null===e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function g(e){return v(e)&&"[object RegExp]"===k(e)}function v(e){return"object"==babelHelpers.typeof(e)&&null!==e}function A(e){return v(e)&&"[object Date]"===k(e)}function w(e){return v(e)&&("[object Error]"===k(e)||babelHelpers.instanceof(e,Error))}function x(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function I(e){return 10>e?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=_,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=b,t.isSymbol=function(e){return"symbol"==babelHelpers.typeof(e)},t.isUndefined=y,t.isRegExp=g,t.isObject=v,t.isDate=A,t.isError=w,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==babelHelpers.typeof(e)||void 0===e},t.isBuffer=i(62);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=i(63),t._extend=function(e,t){if(!t||!v(t))return e;for(var i=Object.keys(t),n=i.length;n--;){e[i[n]]=t[i[n]]}return e}}).call(this,i(11),i(10))},function(e){e.exports=function(e){return e&&"object"==babelHelpers.typeof(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e){e.exports={name:"ami.js",version:"0.0.23-dev",main:"build/ami.js",keywords:["ami","ami.js","three.js","webgl","dicom","nifti","awesome","medical","imaging","xtk","nrrd","vtk","stl","trk"],author:{name:"Nicolas Rannou",email:"nicolas@eunate.ch",url:"https://eunate.ch"},license:"Apache-2.0",repository:{type:"git",url:"https://fnndsc.github.io/ami"},config:{threeVersion:"93",amiCDN:"https://cdnjs.cloudflare.com/ajax/libs/ami.js",gaKey:"UA-39303022-3",babel:"--module-bind js=babel-loader --colors --display-error-details"},sideEffects:!1,dependencies:{"OpenJPEG.js":"joedrago/openjpeg#master","dicom-parser":"1.8.1","image-JPEG2000":"ReflexionMed/image-JPEG2000#master","jpeg-lossless-decoder-js":"1.2.3","math-float32-to-binary-string":"^1.0.0","nifti-reader-js":"v0.5.3","nrrd-js":"^0.2.1",pako:"1.0.1",three:"0.92.0"},scripts:{"build:ami":"webpack --config webpack.config.build.js","build:ami:prod":"cross-env NODE_ENV=production yarn build:ami","build:clean":"rimraf -rf build/*","build:clean:hot":"rimraf -rf build/*.hot-update.*","dev:ami":"webpack --config webpack.config.build.js --hot --watch --colors","dist:ami":"yarn build:clean && yarn build:ami && yarn build:ami:prod && yarn doc","dist:examples":"node ./scripts/buildDist.js && node ./scripts/router.js examples deploy","dist:clean":"rimraf -rf dist/*","analyze:ami":"cross-env NODE_WEBPACK_ANALYZE=true yarn build:ami","analyze:ami:prod":"cross-env NODE_WEBPACK_ANALYZE=true yarn build:ami:prod",clean:"yarn build:clean && yarn dist:clean",example:"node ./scripts/router.js examples",lesson:"node ./scripts/router.js lessons","gen:index:examples":"node ./scripts/genIndexFiles.js examples","gen:index:examples:ga":"cross-env NODE_GA=true node ./scripts/genIndexFiles.js examples","gen:index:lessons":"node ./scripts/genIndexFiles.js lessons","gen:index:lessons:cdn":"node ./scripts/genIndexFiles.js lessons cdn",test:"karma start",testExamples:"yarn dist:clean && yarn dist:examples && echo 'hi'",lint:"eslint src/**/*.js --fix",doc:"jsdoc -p -r -R README.md -c jsdoc.json -d dist/doc src",ami:"yarn lint && yarn dist:ami && yarn test",deploy:"yarn dist:clean && yarn build:clean && yarn dist:ami && yarn dist:examples && gh-pages -d dist"},devDependencies:{"babel-cli":"latest","babel-core":"^6.26.0","babel-loader":"^7.1.2","babel-preset-env":"^1.6.0","babel-runtime":"^6.26.0","compression-webpack-plugin":"^1.0.1","cross-env":"^3.2.3",eslint:"^5.2.0","eslint-config-google":"latest","gh-pages":"^1.2.0",glslify:"5.1.0","jasmine-core":"^2.99.1",jsdoc:"jsdoc3/jsdoc#master",karma:"^2.0.5","karma-chrome-launcher":"^2.2.0","karma-jasmine":"^1.1.2","karma-sinon":"^1.0.5","karma-spec-reporter":"^0.0.32","karma-webpack":"3.0.0","live-server":"^1.1.0","node-pre-gyp":"^0.10.0",puppeteer:"^1.6.1",rimraf:"^2.6.1","rollup-plugin-node-builtins":"^2.1.2",shelljs:"^0.8.2",sinon:"^2.0.0","uglifyjs-webpack-plugin":"^1.2.7",webpack:"^4.16.3","webpack-bundle-analyzer":"^2.9.0","webpack-dev-server":"^3.1.5","webpack-cli":"^3.1.0","webpack-watch-livereload-plugin":"^0.0.1"},engines:{node:">=6.9.0"}}},function(e,t,i){"use strict";var _NumberNEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,_NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,_MathPI=Math.PI;i.r(t);var n=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.matrix4=function(e){return!(null===e||void 0===e||!e.hasOwnProperty("elements")||16!==e.elements.length||"function"!=typeof e.identity||"function"!=typeof e.copy||"function"!=typeof e.determinant)},e.vector3=function(e){return!(!(null!==e&&void 0!==e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("z"))||e.hasOwnProperty("w"))},e.box=function(e){return!!(null!==e&&void 0!==e&&e.hasOwnProperty("center")&&this.vector3(e.center)&&e.hasOwnProperty("halfDimensions")&&this.vector3(e.halfDimensions)&&0<=e.halfDimensions.x&&0<=e.halfDimensions.y&&0<=e.halfDimensions.z)},e.ray=function(e){return!!(null!==e&&void 0!==e&&e.hasOwnProperty("position")&&this.vector3(e.position)&&e.hasOwnProperty("direction")&&this.vector3(e.direction))},e}(),r={DEG2RAD:_MathPI/180,RAD2DEG:180/_MathPI,generateUUID:function(){for(var e=[],t=0;256>t;t++){e[t]=(16>t?"0":"")+t.toString(16)}return function(){var t=0|4294967295*Math.random(),i=0|4294967295*Math.random(),n=0|4294967295*Math.random(),r=0|4294967295*Math.random();return(e[255&t]+e[255&t>>8]+e[255&t>>16]+e[255&t>>24]+"-"+e[255&i]+e[255&i>>8]+"-"+e[64|15&i>>16]+e[255&i>>24]+"-"+e[128|63&n]+e[255&n>>8]+"-"+e[255&n>>16]+e[255&n>>24]+e[255&r]+e[255&r>>8]+e[255&r>>16]+e[255&r>>24]).toUpperCase()}}(),clamp:function clamp(e,t,i){return _Mathmax(t,_Mathmin(i,e))},euclideanModulo:function euclideanModulo(e,t){return(e%t+t)%t},mapLinear:function mapLinear(e,t,i,n,r){return n+(e-t)*(r-n)/(i-t)},lerp:function lerp(e,t,i){return(1-i)*e+i*t},smoothstep:function smoothstep(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)},smootherstep:function smootherstep(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*e*(e*(6*e-15)+10)},randInt:function randInt(e,t){return e+_Mathfloor(Math.random()*(t-e+1))},randFloat:function randFloat(e,t){return e+Math.random()*(t-e)},randFloatSpread:function randFloatSpread(e){return e*(.5-Math.random())},degToRad:function degToRad(e){return e*r.DEG2RAD},radToDeg:function radToDeg(e){return e*r.RAD2DEG},isPowerOfTwo:function isPowerOfTwo(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function ceilPowerOfTwo(e){return _Mathpow(2,_Mathceil(_Mathlog(e)/_MathLN))},floorPowerOfTwo:function floorPowerOfTwo(e){return _Mathpow(2,_Mathfloor(_Mathlog(e)/_MathLN))}};function o(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function a(e,t,i,n){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==n?n:1}function s(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0}function l(e,t){this.center=void 0!==e?e:new s,this.radius=void 0!==t?t:0}function c(e,t){this.min=void 0!==e?e:new s(1/0,1/0,1/0),this.max=void 0!==t?t:new s(-1/0,-1/0,-1/0)}function h(e,t){this.origin=void 0!==e?e:new s,this.direction=void 0!==t?t:new s}function u(e,t,i,n){this.ray=new h(e,t),this.near=i||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function get(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function f(e,t){return e.distance-t.distance}function d(e,t,i,n){if(!1!==e.visible&&(e.raycast(t,i),!0===n))for(var r=e.children,o=0,a=r.length;o<a;o++){d(r[o],t,i,!0)}}function p(e,t){this.start=void 0!==e?e:new s,this.end=void 0!==t?t:new s}function _(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function m(e,t){this.normal=void 0!==e?e:new s(1,0,0),this.constant=void 0!==t?t:0}function b(e,t,i){this.a=void 0!==e?e:new s,this.b=void 0!==t?t:new s,this.c=void 0!==i?i:new s}Object.assign(o.prototype,{isMatrix4:!0,set:function set(e,t,i,n,r,o,a,s,l,c,h,u,f,d,p,_){var m=this.elements;return m[0]=e,m[4]=t,m[8]=i,m[12]=n,m[1]=r,m[5]=o,m[9]=a,m[13]=s,m[2]=l,m[6]=c,m[10]=h,m[14]=u,m[3]=f,m[7]=d,m[11]=p,m[15]=_,this},identity:function identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function clone(){return new o().fromArray(this.elements)},copy:function copy(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this},copyPosition:function copyPosition(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(){var e=new s;return function(t){var i=this.elements,n=t.elements,r=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[4]=n[4]*o,i[5]=n[5]*o,i[6]=n[6]*o,i[8]=n[8]*a,i[9]=n[9]*a,i[10]=n[10]*a,this}}(),makeRotationFromEuler:function makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,i=e.x,n=e.y,r=e.z,o=_Mathcos(i),a=_Mathsin(i),s=_Mathcos(n),l=_Mathsin(n),c=_Mathcos(r),h=_Mathsin(r);if("XYZ"===e.order){var u=o*c,f=o*h,d=a*c,p=a*h;t[0]=s*c,t[4]=-s*h,t[8]=l,t[1]=f+d*l,t[5]=u-p*l,t[9]=-a*s,t[2]=p-u*l,t[6]=d+f*l,t[10]=o*s}else if("YXZ"===e.order){var _=s*c,m=s*h,b=l*c,y=l*h;t[0]=_+y*a,t[4]=b*a-m,t[8]=o*l,t[1]=o*h,t[5]=o*c,t[9]=-a,t[2]=m*a-b,t[6]=y+_*a,t[10]=o*s}else if("ZXY"===e.order){_=s*c,m=s*h,b=l*c,y=l*h;t[0]=_-y*a,t[4]=-o*h,t[8]=b+m*a,t[1]=m+b*a,t[5]=o*c,t[9]=y-_*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){u=o*c,f=o*h,d=a*c,p=a*h;t[0]=s*c,t[4]=d*l-f,t[8]=u*l+p,t[1]=s*h,t[5]=p*l+u,t[9]=f*l-d,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var g=o*s,v=o*l,A=a*s,w=a*l;t[0]=s*c,t[4]=w-g*h,t[8]=A*h+v,t[1]=h,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=v*h+A,t[10]=g-w*h}else if("XZY"===e.order){g=o*s,v=o*l,A=a*s,w=a*l;t[0]=s*c,t[4]=-h,t[8]=l*c,t[1]=g*h+w,t[5]=o*c,t[9]=v*h-A,t[2]=A*h-v,t[6]=a*c,t[10]=w*h+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function makeRotationFromQuaternion(e){var t=this.elements,i=e._x,n=e._y,r=e._z,o=e._w,a=i+i,s=n+n,l=r+r,c=i*a,h=i*s,u=i*l,f=n*s,d=n*l,p=r*l,_=o*a,m=o*s,b=o*l;return t[0]=1-(f+p),t[4]=h-b,t[8]=u+m,t[1]=h+b,t[5]=1-(c+p),t[9]=d-_,t[2]=u-m,t[6]=d+_,t[10]=1-(c+f),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new s,t=new s,i=new s;return function(n,r,o){var a=this.elements;return i.subVectors(n,r),0===i.lengthSq()&&(i.z=1),i.normalize(),e.crossVectors(o,i),0===e.lengthSq()&&(1===_Mathabs(o.z)?i.x+=1e-4:i.z+=1e-4,i.normalize(),e.crossVectors(o,i)),e.normalize(),t.crossVectors(i,e),a[0]=e.x,a[4]=t.x,a[8]=i.x,a[1]=e.y,a[5]=t.y,a[9]=i.y,a[2]=e.z,a[6]=t.z,a[10]=i.z,this}}(),multiply:function multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function premultiply(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function multiplyMatrices(e,t){var i=e.elements,n=t.elements,r=this.elements,o=i[0],a=i[4],s=i[8],l=i[12],c=i[1],h=i[5],u=i[9],f=i[13],d=i[2],p=i[6],_=i[10],m=i[14],b=i[3],y=i[7],g=i[11],v=i[15],A=n[0],w=n[4],x=n[8],k=n[12],I=n[1],S=n[5],E=n[9],C=n[13],B=n[2],M=n[6],P=n[10],T=n[14],D=n[3],R=n[7],G=n[11],O=n[15];return r[0]=o*A+a*I+s*B+l*D,r[4]=o*w+a*S+s*M+l*R,r[8]=o*x+a*E+s*P+l*G,r[12]=o*k+a*C+s*T+l*O,r[1]=c*A+h*I+u*B+f*D,r[5]=c*w+h*S+u*M+f*R,r[9]=c*x+h*E+u*P+f*G,r[13]=c*k+h*C+u*T+f*O,r[2]=d*A+p*I+_*B+m*D,r[6]=d*w+p*S+_*M+m*R,r[10]=d*x+p*E+_*P+m*G,r[14]=d*k+p*C+_*T+m*O,r[3]=b*A+y*I+g*B+v*D,r[7]=b*w+y*S+g*M+v*R,r[11]=b*x+y*E+g*P+v*G,r[15]=b*k+y*C+g*T+v*O,this},multiplyScalar:function multiplyScalar(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new s;return function(t){for(var i=0,n=t.count;i<n;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix4(this),t.setXYZ(i,e.x,e.y,e.z)}return t}}(),determinant:function determinant(){var e=this.elements,t=e[0],i=e[4],n=e[8],r=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],h=e[6],u=e[10],f=e[14];return e[3]*(+r*s*h-n*l*h-r*a*u+i*l*u+n*a*f-i*s*f)+e[7]*(+t*s*f-t*l*u+r*o*u-n*o*f+n*l*c-r*s*c)+e[11]*(+t*l*h-t*a*f-r*o*h+i*o*f+r*a*c-i*l*c)+e[15]*(-n*a*c-t*s*h+t*a*u+n*o*h-i*o*u+i*s*c)},transpose:function transpose(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function setPosition(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function getInverse(e,t){var i=this.elements,n=e.elements,r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],h=n[6],u=n[7],f=n[8],d=n[9],p=n[10],_=n[11],m=n[12],b=n[13],y=n[14],g=n[15],v=d*y*u-b*p*u+b*h*_-c*y*_-d*h*g+c*p*g,A=m*p*u-f*y*u-m*h*_+l*y*_+f*h*g-l*p*g,w=f*b*u-m*d*u+m*c*_-l*b*_-f*c*g+l*d*g,x=m*d*h-f*b*h-m*c*p+l*b*p+f*c*y-l*d*y,k=r*v+o*A+a*w+s*x;if(0===k){var I="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(I);return console.warn(I),this.identity()}var S=1/k;return i[0]=v*S,i[1]=(b*p*s-d*y*s-b*a*_+o*y*_+d*a*g-o*p*g)*S,i[2]=(c*y*s-b*h*s+b*a*u-o*y*u-c*a*g+o*h*g)*S,i[3]=(d*h*s-c*p*s-d*a*u+o*p*u+c*a*_-o*h*_)*S,i[4]=A*S,i[5]=(f*y*s-m*p*s+m*a*_-r*y*_-f*a*g+r*p*g)*S,i[6]=(m*h*s-l*y*s-m*a*u+r*y*u+l*a*g-r*h*g)*S,i[7]=(l*p*s-f*h*s+f*a*u-r*p*u-l*a*_+r*h*_)*S,i[8]=w*S,i[9]=(m*d*s-f*b*s-m*o*_+r*b*_+f*o*g-r*d*g)*S,i[10]=(l*b*s-m*c*s+m*o*u-r*b*u-l*o*g+r*c*g)*S,i[11]=(f*c*s-l*d*s-f*o*u+r*d*u+l*o*_-r*c*_)*S,i[12]=x*S,i[13]=(f*b*a-m*d*a+m*o*p-r*b*p-f*o*y+r*d*y)*S,i[14]=(m*c*a-l*b*a-m*o*h+r*b*h+l*o*y-r*c*y)*S,i[15]=(l*d*a-f*c*a+f*o*h-r*d*h-l*o*p+r*c*p)*S,this},scale:function scale(e){var t=this.elements,i=e.x,n=e.y,r=e.z;return t[0]*=i,t[4]*=n,t[8]*=r,t[1]*=i,t[5]*=n,t[9]*=r,t[2]*=i,t[6]*=n,t[10]*=r,t[3]*=i,t[7]*=n,t[11]*=r,this},getMaxScaleOnAxis:function getMaxScaleOnAxis(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return _Mathsqrt(_Mathmax(t,i,n))},makeTranslation:function makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function makeRotationX(e){var t=_Mathcos(e),i=_Mathsin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function makeRotationY(e){var t=_Mathcos(e),i=_Mathsin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function makeRotationZ(e){var t=_Mathcos(e),i=_Mathsin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function makeRotationAxis(e,t){var i=_Mathcos(t),n=_Mathsin(t),r=1-i,o=e.x,a=e.y,s=e.z,l=r*o,c=r*a;return this.set(l*o+i,l*a-n*s,l*s+n*a,0,l*a+n*s,c*a+i,c*s-n*o,0,l*s-n*a,c*s+n*o,r*s*s+i,0,0,0,0,1),this},makeScale:function makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},makeShear:function makeShear(e,t,i){return this.set(1,t,i,0,e,1,i,0,e,t,1,0,0,0,0,1),this},compose:function compose(e,t,i){return this.makeRotationFromQuaternion(t),this.scale(i),this.setPosition(e),this},decompose:function(){var e=new s,t=new o;return function(i,n,r){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),l=e.set(o[8],o[9],o[10]).length();0>this.determinant()&&(a=-a),i.x=o[12],i.y=o[13],i.z=o[14],t.copy(this);var c=1/a,h=1/s,u=1/l;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=h,t.elements[5]*=h,t.elements[6]*=h,t.elements[8]*=u,t.elements[9]*=u,t.elements[10]*=u,n.setFromRotationMatrix(t),r.x=a,r.y=s,r.z=l,this}}(),makePerspective:function makePerspective(e,t,i,n,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements;return a[0]=2*r/(t-e),a[4]=0,a[8]=(t+e)/(t-e),a[12]=0,a[1]=0,a[5]=2*r/(i-n),a[9]=(i+n)/(i-n),a[13]=0,a[2]=0,a[6]=0,a[10]=-(o+r)/(o-r),a[14]=-2*o*r/(o-r),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function makeOrthographic(e,t,i,n,r,o){var a=this.elements,s=1/(t-e),l=1/(i-n),c=1/(o-r);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-((t+e)*s),a[1]=0,a[5]=2*l,a[9]=0,a[13]=-((i+n)*l),a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-((o+r)*c),a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function equals(e){for(var t=this.elements,i=e.elements,n=0;16>n;n++){if(t[n]!==i[n])return!1}return!0},fromArray:function fromArray(e,t){void 0===t&&(t=0);for(var i=0;16>i;i++){this.elements[i]=e[i+t]}return this},toArray:function toArray(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}),Object.assign(a,{slerp:function slerp(e,t,i,n){return i.copy(e).slerp(t,n)},slerpFlat:function slerpFlat(e,t,i,n,r,o,a){var s=i[n+0],l=i[n+1],c=i[n+2],h=i[n+3],u=r[o+0],f=r[o+1],d=r[o+2],p=r[o+3];if(h!==p||s!==u||l!==f||c!==d){var _=1-a,m=s*u+l*f+c*d+h*p,b=0<=m?1:-1,y=1-m*m;if(y>Number.EPSILON){var g=_Mathsqrt(y),v=_Mathatan(g,m*b);_=_Mathsin(_*v)/g,a=_Mathsin(a*v)/g}var A=a*b;if(s=s*_+u*A,l=l*_+f*A,c=c*_+d*A,h=h*_+p*A,_===1-a){var w=1/_Mathsqrt(s*s+l*l+c*c+h*h);s*=w,l*=w,c*=w,h*=w}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=h}}),Object.defineProperties(a.prototype,{x:{get:function get(){return this._x},set:function set(e){this._x=e,this.onChangeCallback()}},y:{get:function get(){return this._y},set:function set(e){this._y=e,this.onChangeCallback()}},z:{get:function get(){return this._z},set:function set(e){this._z=e,this.onChangeCallback()}},w:{get:function get(){return this._w},set:function set(e){this._w=e,this.onChangeCallback()}}}),Object.assign(a.prototype,{set:function set(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function clone(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=e._x,n=e._y,r=e._z,o=e.order,a=_Mathcos,s=_Mathsin,l=a(i/2),c=a(n/2),h=a(r/2),u=s(i/2),f=s(n/2),d=s(r/2);return"XYZ"===o?(this._x=u*c*h+l*f*d,this._y=l*f*h-u*c*d,this._z=l*c*d+u*f*h,this._w=l*c*h-u*f*d):"YXZ"===o?(this._x=u*c*h+l*f*d,this._y=l*f*h-u*c*d,this._z=l*c*d-u*f*h,this._w=l*c*h+u*f*d):"ZXY"===o?(this._x=u*c*h-l*f*d,this._y=l*f*h+u*c*d,this._z=l*c*d+u*f*h,this._w=l*c*h-u*f*d):"ZYX"===o?(this._x=u*c*h-l*f*d,this._y=l*f*h+u*c*d,this._z=l*c*d-u*f*h,this._w=l*c*h+u*f*d):"YZX"===o?(this._x=u*c*h+l*f*d,this._y=l*f*h+u*c*d,this._z=l*c*d-u*f*h,this._w=l*c*h-u*f*d):"XZY"===o&&(this._x=u*c*h-l*f*d,this._y=l*f*h-u*c*d,this._z=l*c*d+u*f*h,this._w=l*c*h+u*f*d),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function setFromAxisAngle(e,t){var i=t/2,n=_Mathsin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=_Mathcos(i),this.onChangeCallback(),this},setFromRotationMatrix:function setFromRotationMatrix(e){var t,i=e.elements,n=i[0],r=i[4],o=i[8],a=i[1],s=i[5],l=i[9],c=i[2],h=i[6],u=i[10],f=n+s+u;return 0<f?(t=.5/_Mathsqrt(f+1),this._w=.25/t,this._x=(h-l)*t,this._y=(o-c)*t,this._z=(a-r)*t):n>s&&n>u?(t=2*_Mathsqrt(1+n-s-u),this._w=(h-l)/t,this._x=.25*t,this._y=(r+a)/t,this._z=(o+c)/t):s>u?(t=2*_Mathsqrt(1+s-n-u),this._w=(o-c)/t,this._x=(r+a)/t,this._y=.25*t,this._z=(l+h)/t):(t=2*_Mathsqrt(1+u-n-s),this._w=(a-r)/t,this._x=(o+c)/t,this._y=(l+h)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new s;return function(i,n){return void 0===t&&(t=new s),1e-6>(e=i.dot(n)+1)?(e=0,_Mathabs(i.x)>_Mathabs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,n),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function inverse(){return this.conjugate()},conjugate:function conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function length(){return _Mathsqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function normalize(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function premultiply(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function multiplyQuaternions(e,t){var i=e._x,n=e._y,r=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=i*c+o*a+n*l-r*s,this._y=n*c+o*s+r*a-i*l,this._z=r*c+o*l+i*s-n*a,this._w=o*c-i*a-n*s-r*l,this.onChangeCallback(),this},slerp:function slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this._x,n=this._y,r=this._z,o=this._w,a=o*e._w+i*e._x+n*e._y+r*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),1<=a)return this._w=o,this._x=i,this._y=n,this._z=r,this;var s=_Mathsqrt(1-a*a);if(.001>_Mathabs(s))return this._w=.5*(o+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(r+this._z),this;var l=_Mathatan(s,a),c=_Mathsin((1-t)*l)/s,h=_Mathsin(t*l)/s;return this._w=o*c+this._w*h,this._x=i*c+this._x*h,this._y=n*c+this._y*h,this._z=r*c+this._z*h,this.onChangeCallback(),this},equals:function equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function fromArray(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function onChange(e){return this.onChangeCallback=e,this},onChangeCallback:function onChangeCallback(){}}),Object.assign(s.prototype,{isVector3:!0,set:function set(e,t,i){return this.x=e,this.y=t,this.z=i,this},setScalar:function setScalar(e){return this.x=e,this.y=e,this.z=e,this},setX:function setX(e){return this.x=e,this},setY:function setY(e){return this.y=e,this},setZ:function setZ(e){return this.z=e,this},setComponent:function setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e);}return this},getComponent:function getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e);}},clone:function clone(){return new this.constructor(this.x,this.y,this.z)},copy:function copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new a;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new a;return function(t,i){return this.applyQuaternion(e.setFromAxisAngle(t,i))}}(),applyMatrix3:function applyMatrix3(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this},applyMatrix4:function applyMatrix4(e){var t=this.x,i=this.y,n=this.z,r=e.elements,o=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*o,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*o,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*o,this},applyQuaternion:function applyQuaternion(e){var t=this.x,i=this.y,n=this.z,r=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*n-a*i,c=s*i+a*t-r*n,h=s*n+r*i-o*t,u=-r*t-o*i-a*n;return this.x=l*s+u*-r+c*-a-h*-o,this.y=c*s+u*-o+h*-r-l*-a,this.z=h*s+u*-a+l*-o-c*-r,this},project:function(){var e=new o;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new o;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function transformDirection(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n,this.y=r[1]*t+r[5]*i+r[9]*n,this.z=r[2]*t+r[6]*i+r[10]*n,this.normalize()},divide:function divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function divideScalar(e){return this.multiplyScalar(1/e)},min:function min(e){return this.x=_Mathmin(this.x,e.x),this.y=_Mathmin(this.y,e.y),this.z=_Mathmin(this.z,e.z),this},max:function max(e){return this.x=_Mathmax(this.x,e.x),this.y=_Mathmax(this.y,e.y),this.z=_Mathmax(this.z,e.z),this},clamp:function clamp(e,t){return this.x=_Mathmax(e.x,_Mathmin(t.x,this.x)),this.y=_Mathmax(e.y,_Mathmin(t.y,this.y)),this.z=_Mathmax(e.z,_Mathmin(t.z,this.z)),this},clampScalar:function(){var e=new s,t=new s;return function(i,n){return e.set(i,i,i),t.set(n,n,n),this.clamp(e,t)}}(),clampLength:function clampLength(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(_Mathmax(e,_Mathmin(t,i)))},floor:function floor(){return this.x=_Mathfloor(this.x),this.y=_Mathfloor(this.y),this.z=_Mathfloor(this.z),this},ceil:function ceil(){return this.x=_Mathceil(this.x),this.y=_Mathceil(this.y),this.z=_Mathceil(this.z),this},round:function round(){return this.x=_Mathround(this.x),this.y=_Mathround(this.y),this.z=_Mathround(this.z),this},roundToZero:function roundToZero(){return this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x),this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y),this.z=0>this.z?_Mathceil(this.z):_Mathfloor(this.z),this},negate:function negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function dot(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)+_Mathabs(this.z)},normalize:function normalize(){return this.divideScalar(this.length()||1)},setLength:function setLength(e){return this.normalize().multiplyScalar(e)},lerp:function lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function lerpVectors(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},cross:function cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function crossVectors(e,t){var i=e.x,n=e.y,r=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-r*a,this.y=r*o-i*s,this.z=i*a-n*o,this},projectOnVector:function projectOnVector(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new s;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new s;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function angleTo(e){var t=this.dot(e)/_Mathsqrt(this.lengthSq()*e.lengthSq());return _Mathacos(r.clamp(t,-1,1))},distanceTo:function distanceTo(e){return _Mathsqrt(this.distanceToSquared(e))},distanceToSquared:function distanceToSquared(e){var t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n},manhattanDistanceTo:function manhattanDistanceTo(e){return _Mathabs(this.x-e.x)+_Mathabs(this.y-e.y)+_Mathabs(this.z-e.z)},setFromSpherical:function setFromSpherical(e){var t=_Mathsin(e.phi)*e.radius;return this.x=t*_Mathsin(e.theta),this.y=_Mathcos(e.phi)*e.radius,this.z=t*_Mathcos(e.theta),this},setFromCylindrical:function setFromCylindrical(e){return this.x=e.radius*_Mathsin(e.theta),this.y=e.y,this.z=e.radius*_Mathcos(e.theta),this},setFromMatrixPosition:function setFromMatrixPosition(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function setFromMatrixScale(e){var t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this},setFromMatrixColumn:function setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)},equals:function equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function fromArray(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function fromBufferAttribute(e,t,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(l.prototype,{set:function set(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new c;return function(t,i){var n=this.center;void 0!==i?n.copy(i):e.setFromPoints(t).getCenter(n);for(var r=0,o=0,a=t.length;o<a;o++){r=_Mathmax(r,n.distanceToSquared(t[o]))}return this.radius=_Mathsqrt(r),this}}(),clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function empty(){return 0>=this.radius},containsPoint:function containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function distanceToPoint(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function intersectsSphere(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function intersectsBox(e){return e.intersectsSphere(this)},intersectsPlane:function intersectsPlane(e){return _Mathabs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function clampPoint(e,t){var i=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new s),t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function getBoundingBox(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new c),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function translate(e){return this.center.add(e),this},equals:function equals(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(c.prototype,{isBox3:!0,set:function set(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function setFromArray(e){for(var t=1/0,i=1/0,n=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],h=e[s+1],u=e[s+2];c<t&&(t=c),h<i&&(i=h),u<n&&(n=u),c>r&&(r=c),h>o&&(o=h),u>a&&(a=u)}return this.min.set(t,i,n),this.max.set(r,o,a),this},setFromBufferAttribute:function setFromBufferAttribute(e){for(var t=1/0,i=1/0,n=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),h=e.getY(s),u=e.getZ(s);c<t&&(t=c),h<i&&(i=h),u<n&&(n=u),c>r&&(r=c),h>o&&(o=h),u>a&&(a=u)}return this.min.set(t,i,n),this.max.set(r,o,a),this},setFromPoints:function setFromPoints(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++){this.expandByPoint(e[t])}return this},setFromCenterAndSize:function(){var e=new s;return function(t,i){var n=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),setFromObject:function setFromObject(e){return this.makeEmpty(),this.expandByObject(e)},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function getCenter(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new s),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function getSize(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new s),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function expandByPoint(e){return this.min.min(e),this.max.max(e),this},expandByVector:function expandByVector(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,i,n=new s;function r(r){var o=r.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(t=0,i=a.length;t<i;t++){n.copy(a[t]),n.applyMatrix4(r.matrixWorld),e.expandByPoint(n)}}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(t=0,i=s.count;t<i;t++){n.fromBufferAttribute(s,t).applyMatrix4(r.matrixWorld),e.expandByPoint(n)}}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(r),this}}(),containsPoint:function containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function getParameter(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new s),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new s;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function intersectsPlane(e){var t,i;return 0<e.normal.x?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=e.constant&&i>=e.constant},intersectsTriangle:function(){var e=new s,t=new s,i=new s,n=new s,r=new s,o=new s,a=new s,l=new s,c=new s,h=new s;function u(n){var r,o;for(r=0,o=n.length-3;r<=o;r+=3){a.fromArray(n,r);var s=c.x*_Mathabs(a.x)+c.y*_Mathabs(a.y)+c.z*_Mathabs(a.z),l=e.dot(a),h=t.dot(a),u=i.dot(a);if(_Mathmax(-_Mathmax(l,h,u),_Mathmin(l,h,u))>s)return!1}return!0}return function(a){if(this.isEmpty())return!1;this.getCenter(l),c.subVectors(this.max,l),e.subVectors(a.a,l),t.subVectors(a.b,l),i.subVectors(a.c,l),n.subVectors(t,e),r.subVectors(i,t),o.subVectors(e,i);var s=[0,-n.z,n.y,0,-r.z,r.y,0,-o.z,o.y,n.z,0,-n.x,r.z,0,-r.x,o.z,0,-o.x,-n.y,n.x,0,-r.y,r.x,0,-o.y,o.x,0];return!!u(s)&&!!u(s=[1,0,0,0,1,0,0,0,1])&&(h.crossVectors(n,r),u(s=[h.x,h.y,h.z]))}}(),clampPoint:function clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new s),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new s;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new s;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new l),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function union(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new s,new s,new s,new s,new s,new s,new s,new s];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function translate(e){return this.min.add(e),this.max.add(e),this},equals:function equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(h.prototype,{set:function set(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new s),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new s;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new s),t.subVectors(e,this.origin);var i=t.dot(this.direction);return 0>i?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function distanceToPoint(e){return _Mathsqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new s;return function(t){var i=e.subVectors(t,this.origin).dot(this.direction);return 0>i?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(i).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new s,t=new s,i=new s;return function(n,r,o,a){e.copy(n).add(r).multiplyScalar(.5),t.copy(r).sub(n).normalize(),i.copy(this.origin).sub(e);var s,l,c,h,u=.5*n.distanceTo(r),f=-this.direction.dot(t),d=i.dot(this.direction),p=-i.dot(t),_=i.lengthSq(),m=_Mathabs(1-f*f);if(0<m){if(l=f*d-p,h=u*m,0<=(s=f*p-d)){if(l>=-h){if(l<=h){var b=1/m;c=(s*=b)*(s+f*(l*=b)+2*d)+l*(f*s+l+2*p)+_}else l=u,c=-(s=_Mathmax(0,-(f*l+d)))*s+l*(l+2*p)+_;}else l=-u,c=-(s=_Mathmax(0,-(f*l+d)))*s+l*(l+2*p)+_;}else l<=-h?c=-(s=_Mathmax(0,-(-f*u+d)))*s+(l=0<s?-u:_Mathmin(_Mathmax(-u,-p),u))*(l+2*p)+_:l<=h?(s=0,c=(l=_Mathmin(_Mathmax(-u,-p),u))*(l+2*p)+_):c=-(s=_Mathmax(0,-(f*u+d)))*s+(l=0<s?u:_Mathmin(_Mathmax(-u,-p),u))*(l+2*p)+_;}else l=0<f?-u:u,c=-(s=_Mathmax(0,-(f*l+d)))*s+l*(l+2*p)+_;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(l).add(e),c}}(),intersectSphere:function(){var e=new s;return function(t,i){e.subVectors(t.center,this.origin);var n=e.dot(this.direction),r=e.dot(e)-n*n,o=t.radius*t.radius;if(r>o)return null;var a=_Mathsqrt(o-r),s=n-a,l=n+a;return 0>s&&0>l?null:0>s?this.at(l,i):this.at(s,i)}}(),intersectsSphere:function intersectsSphere(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function distanceToPlane(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=i?i:null},intersectPlane:function intersectPlane(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},intersectsPlane:function intersectsPlane(e){var t=e.distanceToPoint(this.origin);return 0===t||0>e.normal.dot(this.direction)*t},intersectBox:function intersectBox(e,t){var i,n,r,o,a,s,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,u=this.origin;return 0<=l?(i=(e.min.x-u.x)*l,n=(e.max.x-u.x)*l):(i=(e.max.x-u.x)*l,n=(e.min.x-u.x)*l),0<=c?(r=(e.min.y-u.y)*c,o=(e.max.y-u.y)*c):(r=(e.max.y-u.y)*c,o=(e.min.y-u.y)*c),i>o||r>n?null:((r>i||i!=i)&&(i=r),(o<n||n!=n)&&(n=o),0<=h?(a=(e.min.z-u.z)*h,s=(e.max.z-u.z)*h):(a=(e.max.z-u.z)*h,s=(e.min.z-u.z)*h),i>s||a>n?null:((a>i||i!=i)&&(i=a),(s<n||n!=n)&&(n=s),0>n?null:this.at(0<=i?i:n,t)))},intersectsBox:function(){var e=new s;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new s,t=new s,i=new s,n=new s;return function(r,o,a,s,l){t.subVectors(o,r),i.subVectors(a,r),n.crossVectors(t,i);var c,h=this.direction.dot(n);if(0<h){if(s)return null;c=1}else{if(!(0>h))return null;c=-1,h=-h}e.subVectors(this.origin,r);var u=c*this.direction.dot(i.crossVectors(e,i));if(0>u)return null;var f=c*this.direction.dot(t.cross(e));if(0>f)return null;if(u+f>h)return null;var d=-c*e.dot(n);return 0>d?null:this.at(d/h,l)}}(),applyMatrix4:function applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(u.prototype,{linePrecision:1,set:function set(e,t){this.ray.set(e,t)},setFromCamera:function setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function intersectObject(e,t,i){var n=i||[];return d(e,this,n,t),n.sort(f),n},intersectObjects:function intersectObjects(e,t,i){var n=i||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,o=e.length;r<o;r++){d(e[r],this,n,t)}return n.sort(f),n}}),Object.assign(p.prototype,{set:function set(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function getCenter(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new s),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function delta(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new s),e.subVectors(this.end,this.start)},distanceSq:function distanceSq(){return this.start.distanceToSquared(this.end)},distance:function distance(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new s),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new s,t=new s;return function(i,n){e.subVectors(i,this.start),t.subVectors(this.end,this.start);var o=t.dot(t),a=t.dot(e)/o;return n&&(a=r.clamp(a,0,1)),a}}(),closestPointToPoint:function closestPointToPoint(e,t,i){var n=this.closestPointToPointParameter(e,t);return void 0===i&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new s),this.delta(i).multiplyScalar(n).add(this.start)},applyMatrix4:function applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(_.prototype,{isMatrix3:!0,set:function set(e,t,i,n,r,o,a,s,l){var c=this.elements;return c[0]=e,c[1]=n,c[2]=a,c[3]=t,c[4]=r,c[5]=s,c[6]=i,c[7]=o,c[8]=l,this},identity:function identity(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function clone(){return new this.constructor().fromArray(this.elements)},copy:function copy(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},setFromMatrix4:function setFromMatrix4(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new s;return function(t){for(var i=0,n=t.count;i<n;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix3(this),t.setXYZ(i,e.x,e.y,e.z)}return t}}(),multiply:function multiply(e){return this.multiplyMatrices(this,e)},premultiply:function premultiply(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function multiplyMatrices(e,t){var i=e.elements,n=t.elements,r=this.elements,o=i[0],a=i[3],s=i[6],l=i[1],c=i[4],h=i[7],u=i[2],f=i[5],d=i[8],p=n[0],_=n[3],m=n[6],b=n[1],y=n[4],g=n[7],v=n[2],A=n[5],w=n[8];return r[0]=o*p+a*b+s*v,r[3]=o*_+a*y+s*A,r[6]=o*m+a*g+s*w,r[1]=l*p+c*b+h*v,r[4]=l*_+c*y+h*A,r[7]=l*m+c*g+h*w,r[2]=u*p+f*b+d*v,r[5]=u*_+f*y+d*A,r[8]=u*m+f*g+d*w,this},multiplyScalar:function multiplyScalar(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function determinant(){var e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-i*r*c+i*a*s+n*r*l-n*o*s},getInverse:function getInverse(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var i=e.elements,n=this.elements,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5],h=i[6],u=i[7],f=i[8],d=f*l-c*u,p=c*h-f*s,_=u*s-l*h,m=r*d+o*p+a*_;if(0===m){var b="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(b);return console.warn(b),this.identity()}var y=1/m;return n[0]=d*y,n[1]=(a*u-f*o)*y,n[2]=(c*o-a*l)*y,n[3]=p*y,n[4]=(f*r-a*h)*y,n[5]=(a*s-c*r)*y,n[6]=_*y,n[7]=(o*h-u*r)*y,n[8]=(l*r-o*s)*y,this},transpose:function transpose(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function getNormalMatrix(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function transposeIntoArray(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function setUvTransform(e,t,i,n,r,o,a){var s=_Mathcos(r),l=_Mathsin(r);this.set(i*s,i*l,-i*(s*o+l*a)+o+e,-n*l,n*s,-n*(-l*o+s*a)+a+t,0,0,1)},scale:function scale(e,t){var i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this},rotate:function rotate(e){var t=_Mathcos(e),i=_Mathsin(e),n=this.elements,r=n[0],o=n[3],a=n[6],s=n[1],l=n[4],c=n[7];return n[0]=t*r+i*s,n[3]=t*o+i*l,n[6]=t*a+i*c,n[1]=-i*r+t*s,n[4]=-i*o+t*l,n[7]=-i*a+t*c,this},translate:function translate(e,t){var i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this},equals:function equals(e){for(var t=this.elements,i=e.elements,n=0;9>n;n++){if(t[n]!==i[n])return!1}return!0},fromArray:function fromArray(e,t){void 0===t&&(t=0);for(var i=0;9>i;i++){this.elements[i]=e[i+t]}return this},toArray:function toArray(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}}),Object.assign(m.prototype,{set:function set(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function setComponents(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new s,t=new s;return function(i,n,r){var o=e.subVectors(r,n).cross(t.subVectors(i,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,i),this}}(),clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function normalize(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function negate(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function distanceToPoint(e){return this.normal.dot(e)+this.constant},distanceToSphere:function distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function projectPoint(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new s),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new s;return function(t,i){void 0===i&&(console.warn("THREE.Plane: .intersectLine() target is now required"),i=new s);var n=t.delta(e),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?i.copy(t.start):void 0;var o=-(t.start.dot(this.normal)+this.constant)/r;return 0>o||1<o?void 0:i.copy(n).multiplyScalar(o).add(t.start)}}(),intersectsLine:function intersectsLine(e){var t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return 0>t&&0<i||0>i&&0<t},intersectsBox:function intersectsBox(e){return e.intersectsPlane(this)},intersectsSphere:function intersectsSphere(e){return e.intersectsPlane(this)},coplanarPoint:function coplanarPoint(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new s),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new s,t=new _;return function(i,n){var r=n||t.getNormalMatrix(i),o=this.coplanarPoint(e).applyMatrix4(i),a=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(a),this}}(),translate:function translate(e){return this.constant-=e.dot(this.normal),this},equals:function equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(b,{getNormal:function(){var e=new s;return function(t,i,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new s),r.subVectors(n,i),e.subVectors(t,i),r.cross(e);var o=r.lengthSq();return 0<o?r.multiplyScalar(1/_Mathsqrt(o)):r.set(0,0,0)}}(),getBarycoord:function(){var e=new s,t=new s,i=new s;return function(n,r,o,a,l){e.subVectors(a,r),t.subVectors(o,r),i.subVectors(n,r);var c=e.dot(e),h=e.dot(t),u=e.dot(i),f=t.dot(t),d=t.dot(i),p=c*f-h*h;if(void 0===l&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),l=new s),0===p)return l.set(-2,-1,-1);var _=1/p,m=(f*u-h*d)*_,b=(c*d-h*u)*_;return l.set(1-m-b,b,m)}}(),containsPoint:function(){var e=new s;return function(t,i,n,r){return b.getBarycoord(t,i,n,r,e),0<=e.x&&0<=e.y&&1>=e.x+e.y}}()}),Object.assign(b.prototype,{set:function set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function setFromPointsAndIndices(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this},clone:function clone(){return new this.constructor().copy(this)},copy:function copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new s,t=new s;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function getMidpoint(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new s),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function getNormal(e){return b.getNormal(this.a,this.b,this.c,e)},getPlane:function getPlane(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new s),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function getBarycoord(e,t){return b.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function containsPoint(e){return b.containsPoint(e,this.a,this.b,this.c)},intersectsBox:function intersectsBox(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new m,t=[new p,new p,new p],i=new s,n=new s;return function(r,o){void 0===o&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),o=new s);var a=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(r,i),!0===this.containsPoint(i))o.copy(i);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var l=0;l<t.length;l++){t[l].closestPointToPoint(i,!0,n);var c=i.distanceToSquared(n);c<a&&(a=c,o.copy(n))}}return o}}(),equals:function equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var y="function"==typeof Symbol&&"symbol"==babelHelpers.typeof(Symbol.iterator)?function(e){return babelHelpers.typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":babelHelpers.typeof(e)},g=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.bbox=function(e,t){return n.vector3(e)&&n.vector3(t)?0<=t.x&&0<=t.y&&0<=t.z?{min:e.clone().sub(t),max:e.clone().add(t)}:(window.console.log("halfDimensions must be >= 0."),window.console.log(t),!1):(window.console.log("Invalid center or plane halfDimensions."),!1)},e.minMax=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=[65535,-32768],i=e.length,n=0,r;n<i;n++){r=e[n];t[0]=_Mathmin(t[0],r),t[1]=_Mathmax(t[1],r)}return t},e.isElement=function(e){try{return babelHelpers.instanceof(e,HTMLElement)}catch(t){return"object"===(void 0===e?"undefined":y(e))&&1===e.nodeType&&"object"===y(e.style)&&"object"===y(e.ownerDocument)}},e.isString=function(e){return"string"==typeof e||babelHelpers.instanceof(e,String)},e.parseUrl=function(e){var t=new URL(e,"http://fix.me"),i={filename:t.searchParams.get("filename"),extension:"",pathname:t.pathname,query:t.search};i.filename||(i.filename=i.pathname.split("/").pop());var n=i.filename.split(".");i.extension=1<n.length?n.pop():"dicom";return(!isNaN(i.extension)||-1!==["asp","aspx","go","gs","hs","jsp","js","php","pl","py","rb","htm","html"].indexOf(i.extension)||i.query&&i.query.includes("contentType=application%2Fdicom"))&&(i.extension="dicom"),i},e.ijk2LPS=function(e,t,i,n,r){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:new o,s=new o;return s.set(e.x*n.y,t.x*n.x,i.x*n.z,r.x,e.y*n.y,t.y*n.x,i.y*n.z,r.y,e.z*n.y,t.z*n.x,i.z*n.z,r.z,0,0,0,1),s.premultiply(a),s},e.aabb2LPS=function(e,t,i,n){var r=new o;return r.set(e.x,t.x,i.x,n.x,e.y,t.y,i.y,n.y,e.z,t.z,i.z,n.z,0,0,0,1),r},e.worldToData=function(e,t){var i=new s().copy(t).applyMatrix4(e);return i.addScalar(.5).floor(),i},e.value=function(e,t){window.console.warn("value is deprecated, please use getPixelData instead"),this.getPixelData(e,t)},e.getPixelData=function(e,t){return 0<=t.z&&t.z<e._frame.length?e._frame[t.z].getPixelData(t.x,t.y):null},e.setPixelData=function(e,t,i){if(!(0<=t.z&&t.z<e._frame.length))return null;e._frame[t.z].setPixelData(t.x,t.y,i)},e.rescaleSlopeIntercept=function(e,t,i){return e*t+i},e.centerOfMass=function(e){for(var t=new s(0,0,0),i=0;i<e.length;i++){t.x+=e[i].x,t.y+=e[i].y,t.z+=e[i].z}return t.divideScalar(e.length),t},e.orderIntersections=function(e,t){for(var i=this.centerOfMass(e),n=new s(e[0].x-i.x,e[0].y-i.y,e[0].z-i.z).normalize(),r=new s(0,0,0).crossVectors(n,t).normalize(),o=[],a=0,l;a<e.length;a++){l=new s(e[a].x,e[a].y,e[a].z);l.direction=new s(e[a].x-i.x,e[a].y-i.y,e[a].z-i.z).normalize();var c=n.dot(l.direction),h=r.dot(l.direction);l.xy={x:c,y:h};var u=_Mathatan(h,c)*(180/_MathPI);l.angle=u,o.push(l)}o.sort(function(e,t){return e.angle-t.angle});for(var f=[o[0]],d=1;d<o.length;d++){1e-4<_Mathabs(o[d-1].angle-o[d].angle)&&f.push(o[d])}return f},e.getRoI=function(t,i,n){t.geometry.computeBoundingBox();var r=new c().setFromObject(t),o=r.min.clone().project(i),a=r.max.clone().project(i),s=i.controls.domElement.offsetWidth,l=i.controls.domElement.offsetHeight,h=new u,f=[];o.x=_Mathround((o.x+1)*s/2),o.y=_Mathround((1-o.y)*l/2),a.x=_Mathround((a.x+1)*s/2),a.y=_Mathround((1-a.y)*l/2);var d=[_Mathmin(o.x,a.x),_Mathmax(o.x,a.x)];o.x=d[0],a.x=d[1];var p=[_Mathmin(o.y,a.y),_Mathmax(o.y,a.y)];o.y=p[0],a.y=p[1];for(var _=[],m=null,b=o.x;b<=a.x;b++){for(var y=o.y;y<=a.y;y++){h.setFromCamera({x:2*(b/s)-1,y:2*(-y/l)+1},i),0!==(_=h.intersectObject(t)).length&&null!==(m=e.getPixelData(n,e.worldToData(n.lps2IJK,_[0].point)))&&1===n.numberOfChannels&&f.push(e.rescaleSlopeIntercept(m,n.rescaleSlope,n.rescaleIntercept))}}if(0===f.length)return null;var g=f.reduce(function(e,t){return e+t})/f.length;return{min:f.reduce(function(e,t){return e<t?e:t}),max:f.reduce(function(e,t){return e>t?e:t}),mean:g,sd:_Mathsqrt(f.reduce(function(e,t){return e+_Mathpow(t-g,2)},0)/f.length)}},e.getGeometryArea=function(e){if(1>e.faces.length)return 0;var t=0,i=e.vertices;return e.faces.forEach(function(e){t+=new b(i[e.a],i[e.b],i[e.c]).getArea()}),t},e}(),v=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.aabbPlane=function(e,t){var i=[];if(!this.validateAabb(e)||!this.validatePlane(t))return window.console.log("Invalid aabb or plane provided."),!1;var n=new o;n.getInverse(e.toAABB);var r=t.direction.clone().applyMatrix4(e.toAABB),a=new s(0,0,0).applyMatrix4(e.toAABB),l=this.posdir(t.position.clone().applyMatrix4(e.toAABB),new s(r.x-a.x,r.y-a.y,r.z-a.z).normalize()),c=g.bbox(e.center,e.halfDimensions),h=new s(new s(1,0,0),new s(0,1,0),new s(0,0,1)),u=this.posdir(new s(e.center.x-e.halfDimensions.x,e.center.y-e.halfDimensions.y,e.center.z-e.halfDimensions.z),h.x);this.rayPlaneInBBox(u,l,c,i),u.direction=h.y,this.rayPlaneInBBox(u,l,c,i),u.direction=h.z,this.rayPlaneInBBox(u,l,c,i);var f=this.posdir(new s(e.center.x+e.halfDimensions.x,e.center.y+e.halfDimensions.y,e.center.z+e.halfDimensions.z),h.x);this.rayPlaneInBBox(f,l,c,i),f.direction=h.y,this.rayPlaneInBBox(f,l,c,i),f.direction=h.z,this.rayPlaneInBBox(f,l,c,i);var d=this.posdir(new s(e.center.x+e.halfDimensions.x,e.center.y-e.halfDimensions.y,e.center.z-e.halfDimensions.z),h.y);this.rayPlaneInBBox(d,l,c,i),d.direction=h.z,this.rayPlaneInBBox(d,l,c,i);var p=this.posdir(new s(e.center.x-e.halfDimensions.x,e.center.y+e.halfDimensions.y,e.center.z-e.halfDimensions.z),h.x);this.rayPlaneInBBox(p,l,c,i),p.direction=h.z,this.rayPlaneInBBox(p,l,c,i);var _=this.posdir(new s(e.center.x-e.halfDimensions.x,e.center.y-e.halfDimensions.y,e.center.z+e.halfDimensions.z),h.x);return this.rayPlaneInBBox(_,l,c,i),_.direction=h.y,this.rayPlaneInBBox(_,l,c,i),i.map(function(e){return e.applyMatrix4(n)}),i},e.rayPlane=function(e,t){if(0!==e.direction.dot(t.direction)){var i=(t.direction.x*(t.position.x-e.position.x)+t.direction.y*(t.position.y-e.position.y)+t.direction.z*(t.position.z-e.position.z))/(t.direction.x*e.direction.x+t.direction.y*e.direction.y+t.direction.z*e.direction.z);return new s(e.position.x+i*e.direction.x,e.position.y+i*e.direction.y,e.position.z+i*e.direction.z)}return null},e.rayBox=function(e,t){var i=[],n=g.bbox(t.center,t.halfDimensions),r=this.posdir(new s(n.min.x,t.center.y,t.center.z),new s(-1,0,0));return this.rayPlaneInBBox(e,r,n,i),r=this.posdir(new s(n.max.x,t.center.y,t.center.z),new s(1,0,0)),this.rayPlaneInBBox(e,r,n,i),r=this.posdir(new s(t.center.x,n.min.y,t.center.z),new s(0,-1,0)),this.rayPlaneInBBox(e,r,n,i),r=this.posdir(new s(t.center.x,n.max.y,t.center.z),new s(0,1,0)),this.rayPlaneInBBox(e,r,n,i),r=this.posdir(new s(t.center.x,t.center.y,n.min.z),new s(0,0,-1)),this.rayPlaneInBBox(e,r,n,i),r=this.posdir(new s(t.center.x,t.center.y,n.max.z),new s(0,0,1)),this.rayPlaneInBBox(e,r,n,i),i},e.rayPlaneInBBox=function(e,t,i,n){var r=this.rayPlane(e,t);r&&this.inBBox(r,i)&&(n.find(this.findIntersection(r))||n.push(r))},e.findIntersection=function(e){return function(t){return e.x===t.x&&e.y===t.y&&e.z===t.z}},e.inBBox=function(e,t){return!!(e&&e.x>=t.min.x-1e-4&&e.y>=t.min.y-1e-4&&e.z>=t.min.z-1e-4&&e.x<=t.max.x+1e-4&&e.y<=t.max.y+1e-4&&e.z<=t.max.z+1e-4)},e.posdir=function(e,t){return{position:e,direction:t}},e.validatePlane=function(e){return null===e?(window.console.log("Invalid plane."),window.console.log(e),!1):n.vector3(e.position)?!!n.vector3(e.direction)||(window.console.log("Invalid plane.direction."),window.console.log(e.direction),!1):(window.console.log("Invalid plane.position."),window.console.log(e.position),!1)},e.validateAabb=function(e){return null===e?(window.console.log("Invalid aabb."),window.console.log(e),!1):n.matrix4(e.toAABB)?n.vector3(e.center)?!!(n.vector3(e.halfDimensions)&&0<=e.halfDimensions.x&&0<=e.halfDimensions.y&&0<=e.halfDimensions.z)||(window.console.log("Invalid aabb.halfDimensions."),window.console.log(e.halfDimensions),!1):(window.console.log("Invalid aabb.center."),window.console.log(e.center),!1):(window.console.log("Invalid aabb.toAABB: "),window.console.log(e.toAABB),!1)},e}(),A=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),w=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.OrthographicCamera?null:function(t){function i(n,r,o,a,s,l){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r,o,a,s,l));return c._front=null,c._back=null,c._directions=[new e.Vector3(1,0,0),new e.Vector3(0,1,0),new e.Vector3(0,0,1)],c._directionsLabel=["A","P","L","R","I","S"],c._orientation="default",c._convention="radio",c._stackOrientation=0,c._right=null,c._up=null,c._direction=null,c._controls=null,c._box=null,c._canvas={width:null,height:null},c._fromFront=!0,c._angle=0,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.init=function(t,i,r,o,a,s){if(window.console.warn("cameras.orthographic.init(...) is deprecated.\n        Use .cosines, .controls, .box and .canvas instead."),!(n.vector3(t)&&n.vector3(i)&&n.vector3(r)&&n.box(a)&&o))return window.console.log("Invalid input provided."),!1;this._right=t,this._up=this._adjustTopDirection(t,i),this._direction=new e.Vector3().crossVectors(this._right,this._up),this._controls=o,this._box=a,this._canvas=s;var l={position:this._box.center,direction:this._direction},c=this._orderIntersections(v.rayBox(l,this._box),this._direction);this._front=c[0],this._back=c[1],this.up.set(this._up.x,this._up.y,this._up.z),this._updateCanvas(),this._updatePositionAndTarget(this._front,this._back),this._updateMatrices(),this._updateDirections()},i.prototype.update=function(){if("default"===this._orientation)switch(this._getMaxIndex(this._directions[2])){case 0:this._orientation="sagittal";break;case 1:this._orientation="coronal";break;case 2:this._orientation="axial";break;default:this._orientation="free";}if("free"===this._orientation)this._right=this._directions[0],this._up=this._directions[1],this._direction=this._directions[2];else{var e=this.leftDirection(),t=this._directions[e],i=this.posteriorDirection(),n=this._directions[i],r=this.superiorDirection(),o=this._directions[r];if("radio"===this._convention)switch(this._orientation){case"axial":0<n.y&&n.negate(),0>o.z&&o.negate(),this._right=t,this._up=n,this._direction=o;break;case"coronal":0>o.z&&o.negate(),0>n.y&&n.negate(),this._right=t,this._up=o,this._direction=n;break;case"sagittal":0>o.z&&o.negate(),0<t.x&&t.negate(),this._right=n,this._up=o,this._direction=t;break;default:window.console.warn("\""+this._orientation+"\" orientation is not valid.\n                  (choices: axial, coronal, sagittal)");}else if("neuro"===this._convention)switch(this._orientation){case"axial":0<n.y&&n.negate(),0<o.z&&o.negate(),this._right=t,this._up=n,this._direction=o;break;case"coronal":0>o.z&&o.negate(),0<n.y&&n.negate(),this._right=t,this._up=o,this._direction=n;break;case"sagittal":0>o.z&&o.negate(),0<t.x&&t.negate(),this._right=n,this._up=o,this._direction=t;break;default:window.console.warn("\""+this._orientation+"\" orientation is not valid.\n                  (choices: axial, coronal, sagittal)");}else window.console.warn(this._convention+" is not valid (choices: radio, neuro)")}var a={position:this._box.center,direction:this._direction},s=this._orderIntersections(v.rayBox(a,this._box),this._direction);this._front=s[0],this._back=s[1],this.up.set(this._up.x,this._up.y,this._up.z),this._updateCanvas(),this._updatePositionAndTarget(this._front,this._back),this._updateMatrices(),this._updateDirections()},i.prototype.leftDirection=function(){return this._findMaxIndex(this._directions,0)},i.prototype.posteriorDirection=function(){return this._findMaxIndex(this._directions,1)},i.prototype.superiorDirection=function(){return this._findMaxIndex(this._directions,2)},i.prototype.invertRows=function(){this.up.multiplyScalar(-1),this.invertColumns(),this._updateDirections()},i.prototype.invertColumns=function(){this.center();var e=this._oppositePosition(this.position);this._updatePositionAndTarget(e,this.position.clone()),this._updateMatrices(),this._fromFront=!this._fromFront,this._angle%=360,this._angle=360-this._angle,this._updateDirections()},i.prototype.center=function(){this._fromFront?this._updatePositionAndTarget(this._front,this._back):this._updatePositionAndTarget(this._back,this._front),this._updateMatrices(),this._updateDirections()},i.prototype.rotate=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.center();var i=90,n=1;this._fromFront||(n=-1),null===t?(i*=-n,this._angle+=90):(i=360-n*(t-this._angle),this._angle=t),this._angle%=360;var r=new e.Matrix4().makeRotationAxis(this._direction,i*_MathPI/180);this.up.applyMatrix4(r),this._updateMatrices(),this._updateDirections()},i.prototype.fitBox=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1.5,i=1;switch(e){case 0:i=t*this._computeZoom(this._canvas.width,this._right);break;case 1:i=t*this._computeZoom(this._canvas.height,this._up);break;case 2:i=t*_Mathmin(this._computeZoom(this._canvas.width,this._right),this._computeZoom(this._canvas.height,this._up));}if(!i)return!1;this.zoom=i,this.center()},i.prototype._adjustTopDirection=function(e,t){var i=this._getMaxIndex(t);return(2===i&&0>t.getComponent(i)||1===i&&0<t.getComponent(i)||0===i&&0<t.getComponent(i))&&t.negate(),t},i.prototype._getMaxIndex=function(e){var t=_Mathabs(e.x),i=0;return _Mathabs(e.y)>t&&(t=_Mathabs(e.y),i=1),_Mathabs(e.z)>t&&(i=2),i},i.prototype._findMaxIndex=function(e,t){for(var i=this._getMaxIndices(e),n=0;n<i.length;n++){if(i[n]===t)return n}},i.prototype._getMaxIndices=function(e){var t=[];return t.push(this._getMaxIndex(e[0])),t.push(this._getMaxIndex(e[1])),t.push(this._getMaxIndex(e[2])),t},i.prototype._orderIntersections=function(e,t){return e[0].dot(t)<e[1].dot(t)?e:[e[1],e[0]]},i.prototype._updateCanvas=function(){this.left=-this._canvas.width/2,this.right=this._canvas.width/2,this.top=this._canvas.height/2,this.bottom=-this._canvas.height/2,this._updateMatrices(),this.controls.handleResize()},i.prototype._oppositePosition=function(t){var i=t.clone();i.sub(this._box.center);var n=new e.Matrix4().makeRotationAxis(this.up,Math.PI);return i.applyMatrix4(n),i.add(this._box.center),i},i.prototype._computeZoom=function(e,t){if(!(e&&0<e))return window.console.log("Invalid dimension provided."),window.console.log(e),!1;var i={position:this._box.center.clone(),direction:t},n=v.rayBox(i,this._box);return 2>n.length?(window.console.log("Can not adjust the camera ( < 2 intersections)."),window.console.log(i),window.console.log(this._box),!1):e/n[0].distanceTo(n[1])},i.prototype._updatePositionAndTarget=function(e,t){this.position.set(e.x,e.y,e.z),this.lookAt(t.x,t.y,t.z),this._controls.target.set(t.x,t.y,t.z)},i.prototype._updateMatrices=function(){this._controls.update(),this.updateProjectionMatrix(),this.updateMatrixWorld()},i.prototype._updateLabels=function(){this._directionsLabel=[this._vector2Label(this._up),this._vector2Label(this._up.clone().negate()),this._vector2Label(this._right),this._vector2Label(this._right.clone().negate()),this._vector2Label(this._direction),this._vector2Label(this._direction.clone().negate())]},i.prototype._vector2Label=function(e){for(var t=this._getMaxIndex(e),i=e.clone().divideScalar(_Mathabs(e.getComponent(t))),n="",r=0;3>r;r++){0===r&&(1<=i.getComponent(r)+.2?n+="L":-1>=i.getComponent(r)-.2&&(n+="R")),1===r&&(1<=i.getComponent(r)+.2?n+="P":-1>=i.getComponent(r)-.2&&(n+="A")),2===r&&(1<=i.getComponent(r)+.2?n+="S":-1>=i.getComponent(r)-.2&&(n+="I"))}return n},i.prototype._updateDirections=function(){this._up=this.up.clone();var t=new e.Vector3(0,0,-1).applyMatrix4(this.matrixWorld);this._direction=t.sub(this.position).normalize(),this._right=new e.Vector3().crossVectors(this._direction,this.up),this._updateLabels()},A(i,[{key:"controls",set:function set(e){this._controls=e},get:function get(){return this._controls}},{key:"box",set:function set(e){this._box=e},get:function get(){return this._box}},{key:"canvas",set:function set(e){this._canvas=e,this._updateCanvas()},get:function get(){return this._canvas}},{key:"angle",set:function set(e){this.rotate(e)},get:function get(){return this._angle}},{key:"directions",set:function set(e){this._directions=e},get:function get(){return this._directions}},{key:"convention",set:function set(e){this._convention=e},get:function get(){return this._convention}},{key:"orientation",set:function set(e){this._orientation=e},get:function get(){return this._orientation}},{key:"directionsLabel",set:function set(e){this._directionsLabel=e},get:function get(){return this._directionsLabel}},{key:"stackOrientation",set:function set(e){if(this._stackOrientation=e,0===this._stackOrientation)this._orientation="default";else{var t=this._getMaxIndex(this._directions[(this._stackOrientation+2)%3]);0===t?this._orientation="sagittal":1===t?this._orientation="coronal":2===t&&(this._orientation="axial")}},get:function get(){if("default"===this._orientation)this._stackOrientation=0;else{var e=this._getMaxIndex(this._direction);e===this._getMaxIndex(this._directions[2])?this._stackOrientation=0:e===this._getMaxIndex(this._directions[0])?this._stackOrientation=1:e===this._getMaxIndex(this._directions[1])&&(this._stackOrientation=2)}return this._stackOrientation}}]),i}(e.OrthographicCamera)},x=w(),k=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.EventDispatcher?null:function(t){function i(n,r){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this)),a=o,s={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM:4,TOUCH_PAN:5,CUSTOM:99};o.object=n,o.domElement=void 0!==r?r:document,o.enabled=!0,o.screen={left:0,top:0,width:0,height:0},o.rotateSpeed=1,o.zoomSpeed=1.2,o.panSpeed=.3,o.noRotate=!1,o.noZoom=!1,o.noPan=!1,o.noCustom=!1,o.forceState=-1,o.staticMoving=!1,o.dynamicDampingFactor=.2,o.minDistance=0,o.maxDistance=1/0,o.keys=[65,83,68],o.target=new e.Vector3;var l=new e.Vector3,c=s.NONE,h=s.NONE,u=new e.Vector3,f=new e.Vector2,d=new e.Vector2,p=new e.Vector3,_=0,m=new e.Vector2,b=new e.Vector2,y=0,g=0,v=new e.Vector2,A=new e.Vector2,w=new e.Vector2,x=new e.Vector2;o.target0=o.target.clone(),o.position0=o.object.position.clone(),o.up0=o.object.up.clone();var k={type:"change"},I={type:"start"},S={type:"end"};o.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},o.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var E=function(){var t=new e.Vector2;return function(e,i){return t.set((e-a.screen.left)/a.screen.width,(i-a.screen.top)/a.screen.height),t}}(),C=function(){var t=new e.Vector2;return function(e,i){return t.set((e-.5*a.screen.width-a.screen.left)/(.5*a.screen.width),(a.screen.height+2*(a.screen.top-i))/a.screen.width),t}}();function B(e){!1!==a.enabled&&(window.removeEventListener("keydown",B),h=c,c===s.NONE&&(e.keyCode!==a.keys[s.ROTATE]||a.noRotate?e.keyCode!==a.keys[s.ZOOM]||a.noZoom?e.keyCode!==a.keys[s.PAN]||a.noPan||(c=s.PAN):c=s.ZOOM:c=s.ROTATE))}function M(){!1!==a.enabled&&(c=h,window.addEventListener("keydown",B,!1))}function P(e){!1!==a.enabled&&(e.preventDefault(),e.stopPropagation(),c===s.NONE&&(c=e.button),c!==s.ROTATE||a.noRotate?c!==s.ZOOM||a.noZoom?c!==s.PAN||a.noPan?c!==s.CUSTOM||a.noCustom||(w.copy(E(e.pageX,e.pageY)),x.copy(v)):(v.copy(E(e.pageX,e.pageY)),A.copy(v)):(m.copy(E(e.pageX,e.pageY)),b.copy(m)):(d.copy(C(e.pageX,e.pageY)),f.copy(d)),document.addEventListener("mousemove",T,!1),document.addEventListener("mouseup",D,!1),a.dispatchEvent(I))}function T(e){!1!==a.enabled&&(e.preventDefault(),e.stopPropagation(),c!==s.ROTATE||a.noRotate?c!==s.ZOOM||a.noZoom?c!==s.PAN||a.noPan?c!==s.CUSTOM||a.noCustom||x.copy(E(e.pageX,e.pageY)):A.copy(E(e.pageX,e.pageY)):b.copy(E(e.pageX,e.pageY)):(f.copy(d),d.copy(C(e.pageX,e.pageY))))}function D(e){!1!==a.enabled&&(e.preventDefault(),e.stopPropagation(),-1===a.forceState&&(c=s.NONE),document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",D),a.dispatchEvent(S))}function R(e){if(!1!==a.enabled&&!0!==a.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:m.y-=.025*e.deltaY;break;case 1:m.y-=.01*e.deltaY;break;default:m.y-=25e-5*e.deltaY;}a.dispatchEvent(I),a.dispatchEvent(S)}}function G(e){if(!1!==a.enabled){if(-1===a.forceState)switch(e.touches.length){case 1:c=s.TOUCH_ROTATE,d.copy(C(e.touches[0].pageX,e.touches[0].pageY)),f.copy(d);break;case 2:c=s.TOUCH_ZOOM;var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;g=y=_Mathsqrt(t*t+i*i);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;v.copy(E(n,r)),A.copy(v);break;default:c=s.NONE;}else switch(c){case 0:c=s.TOUCH_ROTATE,d.copy(C(e.touches[0].pageX,e.touches[0].pageY)),f.copy(d);break;case 1:case 4:if(2<=e.touches.length){c=s.TOUCH_ZOOM;t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;g=y=_Mathsqrt(t*t+i*i)}else c=s.ZOOM,m.copy(E(e.touches[0].pageX,e.touches[0].pageY)),b.copy(m);break;case 2:case 5:if(2<=e.touches.length){c=s.TOUCH_PAN;n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;v.copy(E(n,r)),A.copy(v)}else c=s.PAN,v.copy(E(e.touches[0].pageX,e.touches[0].pageY)),A.copy(v);break;case 99:c=s.CUSTOM;n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;w.copy(E(n,r)),x.copy(w);break;default:c=s.NONE;}a.dispatchEvent(I)}}function O(e){if(!1!==a.enabled)if(e.preventDefault(),e.stopPropagation(),-1===a.forceState)switch(e.touches.length){case 1:f.copy(d),d.copy(C(e.touches[0].pageX,e.touches[0].pageY));break;case 2:var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;g=_Mathsqrt(t*t+i*i);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;A.copy(E(n,r));break;default:c=s.NONE;}else switch(c){case 0:f.copy(d),d.copy(C(e.touches[0].pageX,e.touches[0].pageY));break;case 1:b.copy(E(e.touches[0].pageX,e.touches[0].pageY));break;case 2:A.copy(E(e.touches[0].pageX,e.touches[0].pageY));break;case 4:t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;g=_Mathsqrt(t*t+i*i);break;case 5:n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;A.copy(E(n,r));break;case 99:n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;x.copy(E(n,r));break;default:c=s.NONE;}}function F(e){if(!1!==a.enabled){if(-1===a.forceState){switch(e.touches.length){case 1:f.copy(d),d.copy(C(e.touches[0].pageX,e.touches[0].pageY));break;case 2:y=g=0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;A.copy(E(t,i)),v.copy(A);}c=s.NONE}else switch(c){case 0:f.copy(d),d.copy(C(e.touches[0].pageX,e.touches[0].pageY));break;case 1:case 2:break;case 4:y=g=0,c=s.ZOOM;break;case 5:if(2<=e.touches.length){t=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;A.copy(E(t,i)),v.copy(A)}c=s.PAN;break;case 99:t=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;x.copy(E(t,i)),w.copy(x);break;default:c=s.NONE;}a.dispatchEvent(S)}}function L(e){e.preventDefault()}return o.rotateCamera=function(){var t=new e.Vector3,i=new e.Quaternion,n=new e.Vector3,r=new e.Vector3,o=new e.Vector3,s=new e.Vector3,l;return function(){s.set(d.x-f.x,d.y-f.y,0),(l=s.length())?(u.copy(a.object.position).sub(a.target),n.copy(u).normalize(),r.copy(a.object.up).normalize(),o.crossVectors(r,n).normalize(),r.setLength(d.y-f.y),o.setLength(d.x-f.x),s.copy(r.add(o)),t.crossVectors(s,u).normalize(),l*=a.rotateSpeed,i.setFromAxisAngle(t,l),u.applyQuaternion(i),a.object.up.applyQuaternion(i),p.copy(t),_=l):!a.staticMoving&&_&&(_*=_Mathsqrt(1-a.dynamicDampingFactor),u.copy(a.object.position).sub(a.target),i.setFromAxisAngle(p,_),u.applyQuaternion(i),a.object.up.applyQuaternion(i)),f.copy(d)}}(),o.zoomCamera=function(){var e;c===s.TOUCH_ZOOM?(e=y/g,y=g,u.multiplyScalar(e)):1!==(e=1+(b.y-m.y)*a.zoomSpeed)&&0<e&&(u.multiplyScalar(e),a.staticMoving?m.copy(b):m.y+=(b.y-m.y)*this.dynamicDampingFactor)},o.panCamera=function(){var t=new e.Vector2,i=new e.Vector3,n=new e.Vector3;return function(){t.copy(A).sub(v),t.lengthSq()&&(t.multiplyScalar(u.length()*a.panSpeed),n.copy(u).cross(a.object.up).setLength(t.x),n.add(i.copy(a.object.up).setLength(t.y)),a.object.position.add(n),a.target.add(n),a.staticMoving?v.copy(A):v.add(t.subVectors(A,v).multiplyScalar(a.dynamicDampingFactor)))}}(),o.checkDistances=function(){a.noZoom&&a.noPan||(u.lengthSq()>a.maxDistance*a.maxDistance&&a.object.position.addVectors(a.target,u.setLength(a.maxDistance)),u.lengthSq()<a.minDistance*a.minDistance&&a.object.position.addVectors(a.target,u.setLength(a.minDistance)))},o.update=function(){u.subVectors(a.object.position,a.target),a.noRotate||a.rotateCamera(),a.noZoom||a.zoomCamera(),a.noPan||a.panCamera(),a.noCustom||a.custom(w,x),a.object.position.addVectors(a.target,u),a.checkDistances(),a.object.lookAt(a.target),1e-6<l.distanceToSquared(a.object.position)&&(a.dispatchEvent(k),l.copy(a.object.position))},o.reset=function(){c=s.NONE,h=s.NONE,a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.up.copy(a.up0),u.subVectors(a.object.position,a.target),a.object.lookAt(a.target),a.dispatchEvent(k),l.copy(a.object.position)},o.setState=function(e){a.forceState=e,h=e,c=e},o.custom=function(){},o.dispose=function(){this.domElement.removeEventListener("contextmenu",L,!1),this.domElement.removeEventListener("mousedown",P,!1),this.domElement.removeEventListener("wheel",R,!1),this.domElement.removeEventListener("touchstart",G,!1),this.domElement.removeEventListener("touchend",F,!1),this.domElement.removeEventListener("touchmove",O,!1),window.removeEventListener("keydown",B,!1),window.removeEventListener("keyup",M,!1)},o.domElement.addEventListener("contextmenu",L,!1),o.domElement.addEventListener("mousedown",P,!1),o.domElement.addEventListener("wheel",R,!1),o.domElement.addEventListener("touchstart",G,!1),o.domElement.addEventListener("touchend",F,!1),o.domElement.addEventListener("touchmove",O,!1),window.addEventListener("keydown",B,!1),window.addEventListener("keyup",M,!1),o.handleResize(),o.update(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i}(e.EventDispatcher)},I=k(),S=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.EventDispatcher?null:function(t){function i(n,r){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{NONE:-1,ROTATE:1,ZOOM:2,PAN:0,SCROLL:4,TOUCH_ROTATE:4,TOUCH_ZOOM_PAN:5};!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this)),s=a,l=o;a.object=n,a.domElement=void 0!==r?r:document,a.enabled=!0,a.screen={left:0,top:0,width:0,height:0},a.radius=0,a.zoomSpeed=1.2,a.noZoom=!1,a.noPan=!1,a.staticMoving=!1,a.dynamicDampingFactor=.2,a.keys=[65,83,68],a.target=new e.Vector3;var c=!0,h=l.NONE,u=l.NONE,f=new e.Vector3,d=new e.Vector2,p=new e.Vector2,_=0,m=0,b=new e.Vector2,y=new e.Vector2;a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.up0=a.object.up.clone(),a.left0=a.object.left,a.right0=a.object.right,a.top0=a.object.top,a.bottom0=a.object.bottom;var g={type:"change"},v={type:"start"},A={type:"end"};a.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}this.radius=.5*_Mathmin(this.screen.width,this.screen.height),this.left0=this.object.left,this.right0=this.object.right,this.top0=this.object.top,this.bottom0=this.object.bottom},a.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var w=function(){var t=new e.Vector2;return function(e,i){return t.set((e-s.screen.left)/s.screen.width,(i-s.screen.top)/s.screen.height),t}}();function x(e){!1!==s.enabled&&(window.removeEventListener("keydown",x),u=h,h===l.NONE&&(e.keyCode!==s.keys[l.ROTATE]||s.noRotate?e.keyCode!==s.keys[l.ZOOM]||s.noZoom?e.keyCode!==s.keys[l.PAN]||s.noPan||(h=l.PAN):h=l.ZOOM:h=l.ROTATE))}function k(){!1!==s.enabled&&(h=u,window.addEventListener("keydown",x,!1))}function I(e){!1!==s.enabled&&(e.preventDefault(),e.stopPropagation(),h===l.NONE&&(h=e.button),(h!==l.ROTATE||s.noRotate)&&(h!==l.ZOOM||s.noZoom?h!==l.PAN||s.noPan||(b.copy(w(e.pageX,e.pageY)),y.copy(b)):(d.copy(w(e.pageX,e.pageY)),p.copy(d))),document.addEventListener("mousemove",S,!1),document.addEventListener("mouseup",E,!1),s.dispatchEvent(v))}function S(e){!1!==s.enabled&&(e.preventDefault(),e.stopPropagation(),(h!==l.ROTATE||s.noRotate)&&(h!==l.ZOOM||s.noZoom?h!==l.PAN||s.noPan||y.copy(w(e.pageX,e.pageY)):p.copy(w(e.pageX,e.pageY))))}function E(e){!1!==s.enabled&&(e.preventDefault(),e.stopPropagation(),h=l.NONE,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",E),s.dispatchEvent(A))}function C(e){!1!==s.enabled&&(e.preventDefault(),e.stopPropagation(),s.dispatchEvent({type:"OnScroll",delta:.01*e.deltaX+.01*e.deltaY}),s.dispatchEvent(v),s.dispatchEvent(A))}function B(e){if(!1!==s.enabled){switch(e.touches.length){case 1:h=l.TOUCH_ROTATE;break;case 2:h=l.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;m=_=_Mathsqrt(t*t+i*i);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;b.copy(w(n,r)),y.copy(b);break;default:h=l.NONE;}s.dispatchEvent(v)}}function M(e){if(!1!==s.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:break;case 2:var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY;m=_Mathsqrt(t*t+i*i);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(w(n,r));break;default:h=l.NONE;}}function P(e){if(!1!==s.enabled){switch(e.touches.length){case 1:break;case 2:_=m=0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(w(t,i)),b.copy(y);}h=l.NONE,s.dispatchEvent(A)}}function T(e){e.preventDefault()}return a.zoomCamera=function(){if(h===l.TOUCH_ZOOM_PAN){var e=m/_;_=m,s.object.zoom*=e,c=!0}else{e=1+(p.y-d.y)*s.zoomSpeed;1e-6<_Mathabs(e-1)&&0<e&&(s.object.zoom/=e,s.staticMoving?d.copy(p):d.y+=(p.y-d.y)*this.dynamicDampingFactor,c=!0)}},a.panCamera=function(){var t=new e.Vector2,i=new e.Vector3,n=new e.Vector3;return function(){if(t.copy(y).sub(b),t.lengthSq()){var e=(s.object.right-s.object.left)/s.object.zoom,r=(s.object.top-s.object.bottom)/s.object.zoom;t.x*=e,t.y*=r,n.copy(f).cross(s.object.up).setLength(t.x),n.add(i.copy(s.object.up).setLength(t.y)),s.object.position.add(n),s.target.add(n),s.staticMoving?b.copy(y):b.add(t.subVectors(y,b).multiplyScalar(s.dynamicDampingFactor)),c=!0}}}(),a.update=function(){f.subVectors(s.object.position,s.target),s.noZoom||(s.zoomCamera(),c&&s.object.updateProjectionMatrix()),s.noPan||s.panCamera(),s.object.position.addVectors(s.target,f),s.object.lookAt(s.target),c&&(s.dispatchEvent(g),c=!1)},a.reset=function(){h=l.NONE,u=l.NONE,s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.up.copy(s.up0),f.subVectors(s.object.position,s.target),s.object.left=s.left0,s.object.right=s.right0,s.object.top=s.top0,s.object.bottom=s.bottom0,s.object.lookAt(s.target),s.dispatchEvent(g),c=!1},a.dispose=function(){this.domElement.removeEventListener("contextmenu",T,!1),this.domElement.removeEventListener("mousedown",I,!1),this.domElement.removeEventListener("wheel",C,!1),this.domElement.removeEventListener("touchstart",B,!1),this.domElement.removeEventListener("touchend",P,!1),this.domElement.removeEventListener("touchmove",M,!1),window.removeEventListener("keydown",x,!1),window.removeEventListener("keyup",k,!1)},a.domElement.addEventListener("contextmenu",T,!1),a.domElement.addEventListener("mousedown",I,!1),a.domElement.addEventListener("wheel",C,!1),a.domElement.addEventListener("touchstart",B,!1),a.domElement.addEventListener("touchend",P,!1),a.domElement.addEventListener("touchmove",M,!1),window.addEventListener("keydown",x,!1),window.addEventListener("keyup",k,!1),a.handleResize(),a.update(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i}(e.EventDispatcher)},E=S(),C=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.cielab2XYZ=function(e,t,i){var n=(e+16)/116,r=t/500+n,o=n-i/200;return n=.008856<_Mathpow(n,3)?_Mathpow(n,3):(n-16/116)/7.787,[95.047*(r=.008856<_Mathpow(r,3)?_Mathpow(r,3):(r-16/116)/7.787),100*n,108.883*(o=.008856<_Mathpow(o,3)?_Mathpow(o,3):(o-16/116)/7.787)]},e.xyz2RGB=function(e,t,i){var n=3.2406*(e/=100)+-1.5372*(t/=100)+-.4986*(i/=100),r=-.9689*e+1.8758*t+.0415*i,o=.0557*e+-.204*t+1.057*i;return .0031308<n?n=1.055*_Mathpow(n,1/2.4)-.055:n*=12.92,.0031308<r?r=1.055*_Mathpow(r,1/2.4)-.055:r*=12.92,.0031308<o?o=1.055*_Mathpow(o,1/2.4)-.055:o*=12.92,[n*=255,r*=255,o*=255]},e.cielab2RGB=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(0<=e&&100>=e))return null;var n=this.cielab2XYZ(e,t,i);return this.xyz2RGB.apply(this,n)},e}(),B=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.ShapeGeometry?null:function(t){function i(n,r,o,a){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:new e.Matrix4;!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var l={halfDimensions:n,center:r,toAABB:s},c={position:o,direction:a},h=v.aabbPlane(l,c);if(3>h.length)throw window.console.log("WARNING: Less than 3 intersections between AABB and Plane."),window.console.log("AABB"),window.console.log(l),window.console.log("Plane"),window.console.log(c),window.console.log("exiting..."),new Error("geometries.slice has less than 3 intersections, can not create a valid geometry.");var u=g.orderIntersections(h,a),f=new e.Shape;f.moveTo(u[0].xy.x,u[0].xy.y);for(var d=1;d<u.length;d++){f.lineTo(u[d].xy.x,u[d].xy.y)}f.lineTo(u[0].xy.x,u[0].xy.y);var p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,f));return p.type="SliceGeometry",p.vertices=u,p.verticesNeedUpdate=!0,p.computeVertexNormals(),p}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i}(e.ShapeGeometry)},M=B(),P=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),T=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.BoxGeometry?null:function(t){function i(n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,1,1,1));return r._location=n,r.applyMatrix(new e.Matrix4().makeTranslation(r._location.x,r._location.y,r._location.z)),r.verticesNeedUpdate=!0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.resetVertices=function(){this.vertices[0].set(.5,.5,.5),this.vertices[1].set(.5,.5,-.5),this.vertices[2].set(.5,-.5,.5),this.vertices[3].set(.5,-.5,-.5),this.vertices[4].set(-.5,.5,-.5),this.vertices[5].set(-.5,.5,.5),this.vertices[6].set(-.5,-.5,-.5),this.vertices[7].set(-.5,-.5,.5)},P(i,[{key:"location",set:function set(t){this._location=t,this.vertices[0].set(.5,.5,.5),this.vertices[1].set(.5,.5,-.5),this.vertices[2].set(.5,-.5,.5),this.vertices[3].set(.5,-.5,-.5),this.vertices[4].set(-.5,.5,-.5),this.vertices[5].set(-.5,.5,.5),this.vertices[6].set(-.5,-.5,-.5),this.vertices[7].set(-.5,-.5,.5),this.applyMatrix(new e.Matrix4().makeTranslation(this._location.x,this._location.y,this._location.z)),this.verticesNeedUpdate=!0},get:function get(){return this._location}}]),i}(e.BoxGeometry)},D=T(),R=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),G=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return n._helpersSlice=e,n._visible=!0,n._color=16711680,n._material=null,n._geometry=null,n._mesh=null,n._create(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){if(this._material||(this._material=new e.LineBasicMaterial({color:this._color,linewidth:1})),this._helpersSlice.geometry.vertices){this._geometry=new e.Geometry;for(var t=0;t<this._helpersSlice.geometry.vertices.length;t++){this._geometry.vertices.push(this._helpersSlice.geometry.vertices[t])}this._geometry.vertices.push(this._helpersSlice.geometry.vertices[0]),this._mesh=new e.Line(this._geometry,this._material),"IJK"===this._helpersSlice.aabbSpace&&this._mesh.applyMatrix(this._helpersSlice.stack.ijk2LPS),this._mesh.visible=this._visible,this.add(this._mesh)}},i.prototype._update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh=null),this._create()},i.prototype.dispose=function(){this._mesh.material.dispose(),this._mesh.material=null,this._geometry.dispose(),this._geometry=null,this._material.dispose(),this._material=null},R(i,[{key:"helpersSlice",set:function set(e){this._helpersSlice=e,this._update()},get:function get(){return this._helpersSlice}},{key:"visible",set:function set(e){this._visible=e,this._mesh&&(this._mesh.visible=this._visible)},get:function get(){return this._visible}},{key:"color",set:function set(e){this._color=e,this._material&&this._material.color.set(this._color)},get:function get(){return this._color}}]),i}(e.Object3D)},O=G(),F=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),L=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return n._stack=e,n._visible=!0,n._color=16777215,n._material=null,n._geometry=null,n._mesh=null,n._meshStack=null,n._create(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){var t=this._stack.dimensionsIJK,i=this._stack.halfDimensionsIJK,n=new e.Vector3(-.5,-.5,-.5),r=new e.BoxGeometry(t.x,t.y,t.z);r.applyMatrix(new e.Matrix4().makeTranslation(i.x+n.x,i.y+n.y,i.z+n.z)),this._geometry=r,this._material=new e.MeshBasicMaterial({wireframe:!0});var o=new e.Mesh(this._geometry,null);o.applyMatrix(this._stack.ijk2LPS),o.visible=this._visible,this._meshStack=o,this._mesh=new e.BoxHelper(this._meshStack,this._color),this._material=this._mesh.material,this.add(this._mesh)},i.prototype._update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null),this._create()},i.prototype.dispose=function(){this._mesh.material.dispose(),this._mesh.material=null,this._geometry.dispose(),this._geometry=null,this._material.dispose(),this._material=null},F(i,[{key:"visible",set:function set(e){this._visible=e,this._mesh&&(this._mesh.visible=this._visible)},get:function get(){return this._visible}},{key:"color",set:function set(e){this._color=e,this._material&&this._material.color.set(this._color)},get:function get(){return this._color}}]),i}(e.Object3D)},Z=L(),z=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uCanvasWidth:{type:"f",value:0,typeGLSL:"float"},uCanvasHeight:{type:"f",value:0,typeGLSL:"float"},uWidth:{type:"f",value:1,typeGLSL:"float"},uOpacity:{type:"f",value:1,typeGLSL:"float"},uTextureFilled:{type:"t",value:[],typeGLSL:"sampler2D"}}},e}(),U=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\nvarying vec4 vProjectedCoords;\n\n//\n// main\n//\nvoid main() {\n\n  vec4 vPos = modelMatrix * vec4(position, 1.0 );\n  mat4 vProjectionViewMatrix = projectionMatrix * viewMatrix;\n  vProjectedCoords =  projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}(),V=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\n\nfloat luma (vec3 rgb) {\n  return (rgb.r + rgb.g + rgb.b)/3.0;\n}\n\nconst float T = 0.04;\nconst float M = 1.0;\nconst float L = 0.002;\n\nvoid main(void) {\n\n  vec2 texCoord = vec2(((vProjectedCoords.x / vProjectedCoords.w) + 1.0 ) / 2.0,\n                ((vProjectedCoords.y / vProjectedCoords.w) + 1.0 ) / 2.0 );\n\n  float borderWidth = uWidth; // in px\n  float step_u = borderWidth * 1.0 / uCanvasWidth;\n  float step_v = borderWidth * 1.0 / uCanvasHeight;\n  vec4 centerPixel = texture2D(uTextureFilled, texCoord);\n\n  vec4 rightPixel  = texture2D(uTextureFilled, texCoord + vec2(step_u, 0.0));\n  vec4 bottomPixel = texture2D(uTextureFilled, texCoord + vec2(0.0, step_v));\n\n  // now manually compute the derivatives\n  float _dFdX = length(rightPixel - centerPixel) / step_u;\n  float _dFdY = length(bottomPixel - centerPixel) / step_v;\n\n  // gl_FragColor.r = _dFdX;\n  // gl_FragColor.g = _dFdY;\n  gl_FragColor.r = max(max(centerPixel.r, rightPixel.r), bottomPixel.r);\n  gl_FragColor.g = max(max(centerPixel.g, rightPixel.g), bottomPixel.g);\n  gl_FragColor.b = max(max(centerPixel.b, rightPixel.b), bottomPixel.b);\n  float maxDerivative = max(_dFdX, _dFdY);\n  float clampedDerivative = clamp(maxDerivative, 0., 1.);\n  gl_FragColor.a = uOpacity * clampedDerivative;\n\n  return;\n  // float h = 1./uCanvasHeight;\n  // float w = 1./uCanvasWidth;\n  // vec4 n[9];\n  // n[0] = texture2D(uTextureFilled, vProjectedTextCoords + vec2( -w, -h));\n  // n[1] = texture2D(uTextureFilled, vProjectedTextCoords + vec2(0.0, -h));\n  // n[2] = texture2D(uTextureFilled, vProjectedTextCoords + vec2(  w, -h));\n  // n[3] = texture2D(uTextureFilled, vProjectedTextCoords + vec2( -w, 0.0));\n  // n[4] = texture2D(uTextureFilled, vProjectedTextCoords);\n  // n[5] = texture2D(uTextureFilled, texCoord + vec2(  w, 0.0));\n  // n[6] = texture2D(uTextureFilled, texCoord + vec2( -w, h));\n  // n[7] = texture2D(uTextureFilled, texCoord + vec2(0.0, h));\n  // n[8] = texture2D(uTextureFilled, texCoord + vec2(  w, h));\n  // vec4 sobel_horizEdge = n[2] + (2.0*n[5]) + n[8] - (n[0] + (2.0*n[3]) + n[6]);\n  // vec4 sobel_vertEdge  = n[0] + (2.0*n[1]) + n[2] - (n[6] + (2.0*n[7]) + n[8]);\n  // vec3 sobel = sqrt((sobel_horizEdge.rgb * sobel_horizEdge.rgb) + (sobel_vertEdge.rgb * sobel_vertEdge.rgb));\n  // gl_FragColor = vec4( sobel, max(max(sobel.r, sobel.g), sobel.b) );\n\n  // return;\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\nvarying vec4      vProjectedCoords;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}(),N=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),H=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e,n,r){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return o._stack=e,o._textureToFilter=r,o._contourWidth=1,o._contourOpacity=1,o._canvasWidth=0,o._canvasHeight=0,o._shadersFragment=V,o._shadersVertex=U,o._uniforms=z.uniforms(),o._material=null,o._geometry=n,o._create(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){this._prepareMaterial(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.applyMatrix(this._stack._ijk2LPS),this.add(this._mesh)},i.prototype._prepareMaterial=function(){if(!this._material){this._uniforms.uWidth.value=this._contourWidth,this._uniforms.uOpacity.value=this._contourOpacity,this._uniforms.uCanvasWidth.value=this._canvasWidth,this._uniforms.uCanvasHeight.value=this._canvasHeight;var t=new V(this._uniforms),i=new U;this._material=new e.ShaderMaterial({side:e.DoubleSide,uniforms:this._uniforms,vertexShader:i.compute(),fragmentShader:t.compute(),transparent:!0})}},i.prototype.update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null),this._create()},i.prototype.dispose=function(){null!==this._textureToFilter&&(this._textureToFilter.dispose(),this._textureToFilter=null),this._shadersFragment=null,this._shadersVertex=null,this._uniforms=null,this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null},N(i,[{key:"geometry",get:function get(){return this._geometry},set:function set(e){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null,this._geometry.dispose(),this._geometry=null),this._geometry=e,this._create()}},{key:"textureToFilter",get:function get(){return this._textureToFilter},set:function set(e){this._textureToFilter=e,this._uniforms.uTextureFilled.value=e,this._material.needsUpdate=!0}},{key:"contourOpacity",get:function get(){return this._contourOpacity},set:function set(e){this._contourOpacity=e,this._uniforms.uOpacity.value=this._contourOpacity}},{key:"contourWidth",get:function get(){return this._contourWidth},set:function set(e){this._contourWidth=e,this._uniforms.uWidth.value=this._contourWidth}},{key:"canvasWidth",get:function get(){return this._canvasWidth},set:function set(e){this._canvasWidth=e,this._uniforms.uCanvasWidth.value=this._canvasWidth}},{key:"canvasHeight",get:function get(){return this._canvasHeight},set:function set(e){this._canvasHeight=e,this._uniforms.uCanvasHeight.value=this._canvasHeight}}]),i}(e.Object3D)},W=H(),j=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uCanvasWidth:{type:"f",value:0,typeGLSL:"float"},uCanvasHeight:{type:"f",value:0,typeGLSL:"float"},uSlice:{type:"v4",value:[0,0,0,0],typeGLSL:"vec4"},uPlane1:{type:"v4",value:[0,0,0,0],typeGLSL:"vec4"},uPlaneColor1:{type:"v3",value:[1,1,0],typeGLSL:"vec3"},uPlane2:{type:"v4",value:[0,0,0,0],typeGLSL:"vec4"},uPlaneColor2:{type:"v3",value:[1,1,0],typeGLSL:"vec3"},uPlane3:{type:"v4",value:[0,0,0,0],typeGLSL:"vec4"},uPlaneColor3:{type:"v3",value:[1,1,0],typeGLSL:"vec3"}}},e}(),Y=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\nvarying vec4 vPos;\nvarying mat4 vProjectionViewMatrix;\n\n//\n// main\n//\nvoid main() {\n\n  vPos = modelMatrix * vec4(position, 1.0 );\n  vProjectionViewMatrix = projectionMatrix * viewMatrix;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}(),X=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\nvoid intersectionProjection(\n  in vec4 plane,\n  in vec4 slice,\n  out vec3 intersectionProjection){\n\n      vec3 intersectionDirection = normalize(cross(plane.xyz, slice.xyz));\n      vec3 intersectionPoint = \n        cross(intersectionDirection,slice.xyz) * plane.w +\n        cross(plane.xyz, intersectionDirection) * slice.w;\n\n      intersectionProjection =\n        intersectionPoint.xyz +\n        (dot(vPos.xyz - intersectionPoint, intersectionDirection)\n          * intersectionDirection);\n\n}\n\nvoid main(void) {\n      vec4 c1 = vec4(0., 0., 0., 0.);\n      vec4 c2 = vec4(0., 0., 0., 0.);\n      vec4 c3 = vec4(0., 0., 0., 0.);\n\n      // localizer #1\n      // must be normalized!\n      if(length(uPlane1.xyz) > 0.5) {\n        vec3 projection1 = vec3(1.);\n        intersectionProjection(\n          uPlane1,\n          uSlice,\n          projection1\n        );\n\n        vec4 projInter1 = (vProjectionViewMatrix * vec4(projection1, 1.));\n        vec3 ndc1 = projInter1.xyz / projInter1.w;\n        vec2 screenSpace1 = (ndc1.xy * .5 + .5) * vec2(uCanvasWidth, uCanvasHeight);\n\n        float d1 = distance(gl_FragCoord.xy, screenSpace1.xy);\n        c1 = vec4(uPlaneColor1, 1. - smoothstep(.5, .7, d1));\n      }\n\n      // localizer #2\n      if(length(uPlane2.xyz) > 0.5) {\n        vec3 projection2 = vec3(1.);\n        intersectionProjection(\n          uPlane2,\n          uSlice,\n          projection2\n        );\n\n        vec4 projInter2 = (vProjectionViewMatrix * vec4(projection2, 1.));\n        vec3 ndc2 = projInter2.xyz / projInter2.w;\n        vec2 screenSpace2 = (ndc2.xy * .5 + .5) * vec2(uCanvasWidth, uCanvasHeight);\n\n        float d2 = distance(gl_FragCoord.xy, screenSpace2.xy);\n        c2 = vec4(uPlaneColor2, 1. - smoothstep(.5, .7, d2));\n      }\n\n      // localizer #3\n      if(length(uPlane3.xyz) > 0.5) {\n        vec3 projection3 = vec3(1.);\n        intersectionProjection(\n          uPlane3,\n          uSlice,\n          projection3\n        );\n\n        vec4 projInter3 = (vProjectionViewMatrix * vec4(projection3, 1.));\n        vec3 ndc3 = projInter3.xyz / projInter3.w;\n        vec2 screenSpace3 = (ndc3.xy * .5 + .5) * vec2(uCanvasWidth, uCanvasHeight);\n\n        float d3 = distance(gl_FragCoord.xy, screenSpace3.xy);\n        c3 = vec4(uPlaneColor3, 1. - smoothstep(.5, .7, d3));\n      }\n\n      // float uBorderDashLength = 10.0;\n      // float uBorderWidth = 2.0;\n      // float valueX = mod(gl_FragCoord.x, 2. * uBorderDashLength);\n      // float valueY = mod(gl_FragCoord.y, 2. * uBorderDashLength);\n      // if( valueX < uBorderDashLength || valueY < uBorderDashLength ){\n        vec3 colorMix = c1.xyz*c1.w + c2.xyz*c2.w + c3.xyz*c3.w;\n        gl_FragColor = vec4(colorMix, max(max(c1.w, c2.w),c3.w)*0.5);\n        return;\n      // }\n      \n      // gl_FragColor = vec4(0., 0., 0., 0.);\n      // return;\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\nvarying vec4 vPos;\nvarying mat4 vProjectionViewMatrix;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}(),Q=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),J=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e,n,r){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return o._stack=e,o._referencePlane=r,o._plane1=null,o._color1=null,o._plane2=null,o._color2=null,o._plane3=null,o._color3=null,o._canvasWidth=0,o._canvasHeight=0,o._shadersFragment=X,o._shadersVertex=Y,o._uniforms=j.uniforms(),o._material=null,o._geometry=n,o._create(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){this._prepareMaterial(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.applyMatrix(this._stack._ijk2LPS),this.add(this._mesh)},i.prototype._prepareMaterial=function(){if(!this._material){this._uniforms.uSlice.value=this._referencePlane,this._plane1&&(this._uniforms.uPlane1.value=this._plane1,this._uniforms.uPlaneColor1.value=this._color1),this._plane2&&(this._uniforms.uPlane2.value=this._plane2,this._uniforms.uPlaneColor2.value=this._color2),this._plane3&&(this._uniforms.uPlane3.value=this._plane3,this._uniforms.uPlaneColor3.value=this._color3),this._uniforms.uCanvasWidth.value=this._canvasWidth,this._uniforms.uCanvasHeight.value=this._canvasHeight;var t=new X(this._uniforms),i=new Y;this._material=new e.ShaderMaterial({side:e.DoubleSide,uniforms:this._uniforms,vertexShader:i.compute(),fragmentShader:t.compute()}),this._material.transparent=!0}},i.prototype.update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null),this._create()},i.prototype.dispose=function(){this._referencePlane=null,this._plane1=null,this._color1=null,this._plane2=null,this._color2=null,this._plane3=null,this._color3=null,this._shadersFragment=null,this._shadersVertex=null,this._uniforms=null,this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null},Q(i,[{key:"geometry",get:function get(){return this._geometry},set:function set(e){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null,this._geometry.dispose(),this._geometry=null),this._geometry=e,this._create()}},{key:"referencePlane",get:function get(){return this._referencePlane},set:function set(e){this._referencePlane=e,this._uniforms.uSlice.value=this._referencePlane}},{key:"plane1",get:function get(){return this._plane1},set:function set(e){this._plane1=e,this._uniforms.uPlane1.value=this._plane1}},{key:"color1",get:function get(){return this._color1},set:function set(e){this._color1=e,this._uniforms.uPlaneColor1.value=this._color1}},{key:"plane2",get:function get(){return this._plane2},set:function set(e){this._plane2=e,this._uniforms.uPlane2.value=this._plane2}},{key:"color2",get:function get(){return this._color2},set:function set(e){this._color2=e,this._uniforms.uPlaneColor2.value=this._color2}},{key:"plane3",get:function get(){return this._plane3},set:function set(e){this._plane3=e,this._uniforms.uPlane3.value=this._plane3}},{key:"color3",get:function get(){return this._color3},set:function set(e){this._color3=e,this._uniforms.uPlaneColor3.value=this._color3}},{key:"canvasWidth",get:function get(){return this._canvasWidth},set:function set(e){this._canvasWidth=e,this._uniforms.uCanvasWidth.value=this._canvasWidth}},{key:"canvasHeight",get:function get(){return this._canvasHeight},set:function set(e){this._canvasHeight=e,this._uniforms.uCanvasHeight.value=this._canvasHeight}}]),i}(e.Object3D)},q=J(),K=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),$=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){var n,r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"linear",s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[[0,0,0,0],[1,1,1,1]],l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[[0,0],[1,1]],c=5<arguments.length&&void 0!==arguments[5]&&arguments[5];!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var h=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return g.isString(e)?h._dom=document.getElementById(e):h._dom=e,h._discrete=c,h._color=s,h._lut=o,h._luts=((n={})[o]=s,n),h._opacity=l,h._lutO=a,h._lutsO=((r={})[a]=l,r),h.initCanvas(),h.paintCanvas(),h}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.initCanvas=function(){this._canvasContainer=this.initCanvasContainer(this._dom),this._canvasBg=this.createCanvas(),this._canvasContainer.appendChild(this._canvasBg),this._canvas=this.createCanvas(),this._canvasContainer.appendChild(this._canvas)},i.prototype.initCanvasContainer=function(e){var t=e;return t.style.border="1px solid #F9F9F9",t},i.prototype.createCanvas=function(){var e=document.createElement("canvas");return e.height=1,e.width=256,e.style.width="256px",e.style.height="16px",e},i.prototype.paintCanvas=function(){var e=this._canvas.getContext("2d");if(e.clearRect(0,0,this._canvas.width,this._canvas.height),e.globalCompositeOperation="source-over",this._discrete){e.lineWidth=2*this._canvas.height;for(var t=0;t<this._color.length;t++){var i=this._color[t][0],n=1;t<this._color.length-1&&(n=this._color[t+1][0]);var r=0;0<t&&(r=this._color[t-1][0]);var o=r+(i-r)/2,a=i+(n-i)/2,s=this._color[t],l=this._opacity[t]?this._opacity[t][1]:1;e.beginPath(),e.strokeStyle="rgba( "+_Mathround(255*s[1])+", "+_Mathround(255*s[2])+", "+_Mathround(255*s[3])+", "+l+")",e.moveTo(o*this._canvas.width,0),e.lineTo(a*this._canvas.width,0),e.stroke(),e.closePath()}}else{for(var c=e.createLinearGradient(0,0,this._canvas.width,0),h=0;h<this._color.length;h++){c.addColorStop(this._color[h][0],"rgba( "+_Mathround(255*this._color[h][1])+", "+_Mathround(255*this._color[h][2])+", "+_Mathround(255*this._color[h][3])+", 1)")}e.fillStyle=c,e.fillRect(0,0,this._canvas.width,this._canvas.height),e.globalCompositeOperation="destination-in";for(var u=e.createLinearGradient(0,0,this._canvas.width,0),f=0;f<this._opacity.length;f++){u.addColorStop(this._opacity[f][0],"rgba(255, 255, 255, "+this._opacity[f][1]+")")}e.fillStyle=u,e.fillRect(0,0,this._canvas.width,this._canvas.height)}},i.prototype.lutsAvailable=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"color",t=[],i=this._luts;for(var n in"color"!==e&&(i=this._lutsO),i){t.push(n)}return t},i.presetLuts=function(){return{default:[[0,0,0,0],[1,1,1,1]],spectrum:[[0,0,0,0],[.1,0,0,1],[.33,0,1,1],[.5,0,1,0],[.66,1,1,0],[.9,1,0,0],[1,1,1,1]],hot_and_cold:[[0,0,0,1],[.15,0,1,1],[.3,0,1,0],[.45,0,0,0],[.5,0,0,0],[.55,0,0,0],[.7,1,1,0],[.85,1,0,0],[1,1,1,1]],gold:[[0,0,0,0],[.13,.19,.03,0],[.25,.39,.12,0],[.38,.59,.26,0],[.5,.8,.46,.08],[.63,.99,.71,.21],[.75,.99,.88,.34],[.88,.99,.99,.48],[1,.9,.95,.61]],red:[[0,.75,0,0],[.5,1,.5,0],[.95,1,1,0],[1,1,1,1]],green:[[0,0,.75,0],[.5,.5,1,0],[.95,1,1,0],[1,1,1,1]],blue:[[0,0,0,1],[.5,0,.5,1],[.95,0,1,1],[1,1,1,1]],walking_dead:[[0,.1,1,1],[1,1,1,1]],random:[[0,0,0,0],[.27,.18,.18,.18],[.41,1,1,1],[.7,1,0,0],[1,1,1,1]],muscle_bone:[[0,0,0,0],[.00392156862745098,.00784313725490196,0,0],[.00784313725490196,.0196078431372549,0,0],[.011764705882352941,.03137254901960784,0,0],[.01568627450980392,.0392156862745098,0,.00392156862745098],[.0196078431372549,.050980392156862744,.00392156862745098,.00392156862745098],[.023529411764705882,.06274509803921569,.00392156862745098,.00392156862745098],[.027450980392156862,.07058823529411765,.00392156862745098,.00784313725490196],[.03137254901960784,.08235294117647059,.00392156862745098,.00784313725490196],[.03529411764705882,.09411764705882353,.00784313725490196,.00784313725490196],[.0392156862745098,.10196078431372549,.00784313725490196,.00784313725490196],[.043137254901960784,.11372549019607843,.00784313725490196,.011764705882352941],[.047058823529411764,.12549019607843137,.00784313725490196,.011764705882352941],[.050980392156862744,.13333333333333333,.011764705882352941,.011764705882352941],[.054901960784313725,.1450980392156863,.011764705882352941,.01568627450980392],[.058823529411764705,.1568627450980392,.011764705882352941,.01568627450980392],[.06274509803921569,.16470588235294117,.011764705882352941,.01568627450980392],[.06666666666666667,.17647058823529413,.011764705882352941,.0196078431372549],[.07058823529411765,.18823529411764706,.01568627450980392,.0196078431372549],[.07450980392156863,.2,.01568627450980392,.0196078431372549],[.0784313725490196,.20784313725490197,.01568627450980392,.0196078431372549],[.08235294117647059,.2196078431372549,.01568627450980392,.023529411764705882],[.08627450980392157,.23137254901960785,.0196078431372549,.023529411764705882],[.09019607843137255,.23921568627450981,.0196078431372549,.023529411764705882],[.09411764705882353,.25098039215686274,.0196078431372549,.027450980392156862],[.09803921568627451,.2627450980392157,.0196078431372549,.027450980392156862],[.10196078431372549,.27058823529411763,.023529411764705882,.027450980392156862],[.10588235294117647,.2823529411764706,.023529411764705882,.027450980392156862],[.10980392156862745,.29411764705882354,.023529411764705882,.03137254901960784],[.11372549019607843,.30196078431372547,.023529411764705882,.03137254901960784],[.11764705882352941,.3137254901960784,.023529411764705882,.03137254901960784],[.12156862745098039,.3254901960784314,.027450980392156862,.03529411764705882],[.12549019607843137,.3333333333333333,.027450980392156862,.03529411764705882],[.12941176470588237,.34509803921568627,.027450980392156862,.03529411764705882],[.13333333333333333,.3568627450980392,.027450980392156862,.0392156862745098],[.13725490196078433,.36470588235294116,.03137254901960784,.0392156862745098],[.1411764705882353,.3764705882352941,.03137254901960784,.0392156862745098],[.1450980392156863,.38823529411764707,.03137254901960784,.0392156862745098],[.14901960784313725,.4,.03137254901960784,.043137254901960784],[.15294117647058825,.40784313725490196,.03529411764705882,.043137254901960784],[.1568627450980392,.4196078431372549,.03529411764705882,.043137254901960784],[.1607843137254902,.43137254901960786,.03529411764705882,.047058823529411764],[.16470588235294117,.4392156862745098,.03529411764705882,.047058823529411764],[.16862745098039217,.45098039215686275,.03529411764705882,.047058823529411764],[.17254901960784313,.4627450980392157,.0392156862745098,.047058823529411764],[.17647058823529413,.47058823529411764,.0392156862745098,.050980392156862744],[.1803921568627451,.4823529411764706,.0392156862745098,.050980392156862744],[.1843137254901961,.49411764705882355,.0392156862745098,.050980392156862744],[.18823529411764706,.5019607843137255,.043137254901960784,.054901960784313725],[.19215686274509805,.5137254901960784,.043137254901960784,.054901960784313725],[.19607843137254902,.5254901960784314,.043137254901960784,.054901960784313725],[.2,.5333333333333333,.043137254901960784,.058823529411764705],[.20392156862745098,.5450980392156862,.047058823529411764,.058823529411764705],[.20784313725490197,.5568627450980392,.047058823529411764,.058823529411764705],[.21176470588235294,.5647058823529412,.047058823529411764,.058823529411764705],[.21568627450980393,.5764705882352941,.047058823529411764,.06274509803921569],[.2196078431372549,.5882352941176471,.047058823529411764,.06274509803921569],[.2235294117647059,.6,.050980392156862744,.06274509803921569],[.22745098039215686,.6078431372549019,.050980392156862744,.06666666666666667],[.23137254901960785,.6196078431372549,.050980392156862744,.06666666666666667],[.23529411764705882,.6313725490196078,.050980392156862744,.06666666666666667],[.23921568627450981,.6392156862745098,.054901960784313725,.06666666666666667],[.24313725490196078,.6509803921568628,.054901960784313725,.07058823529411765],[.24705882352941178,.6627450980392157,.054901960784313725,.07058823529411765],[.25098039215686274,.6705882352941176,.054901960784313725,.07058823529411765],[.2549019607843137,.6823529411764706,.058823529411764705,.07450980392156863],[.25882352941176473,.6941176470588235,.058823529411764705,.07450980392156863],[.2627450980392157,.7019607843137254,.058823529411764705,.07450980392156863],[.26666666666666666,.7137254901960784,.058823529411764705,.0784313725490196],[.27058823529411763,.7254901960784313,.058823529411764705,.0784313725490196],[.27450980392156865,.7333333333333333,.06274509803921569,.0784313725490196],[.2784313725490196,.7450980392156863,.06274509803921569,.0784313725490196],[.2823529411764706,.7568627450980392,.06274509803921569,.08235294117647059],[.28627450980392155,.7647058823529411,.06274509803921569,.08235294117647059],[.2901960784313726,.7764705882352941,.06666666666666667,.08235294117647059],[.29411764705882354,.788235294117647,.06666666666666667,.08627450980392157],[.2980392156862745,.8,.06666666666666667,.08627450980392157],[.30196078431372547,.807843137254902,.06666666666666667,.08627450980392157],[.3058823529411765,.8196078431372549,.07058823529411765,.08627450980392157],[.30980392156862746,.8313725490196079,.07058823529411765,.09019607843137255],[.3137254901960784,.8392156862745098,.07058823529411765,.09019607843137255],[.3176470588235294,.8509803921568627,.07058823529411765,.09019607843137255],[.3215686274509804,.8627450980392157,.07058823529411765,.09411764705882353],[.3254901960784314,.8705882352941177,.07450980392156863,.09411764705882353],[.32941176470588235,.8823529411764706,.07450980392156863,.09411764705882353],[.3333333333333333,.8941176470588236,.07450980392156863,.09803921568627451],[.33725490196078434,.9019607843137255,.07450980392156863,.09803921568627451],[.3411764705882353,.9137254901960784,.0784313725490196,.09803921568627451],[.34509803921568627,.9254901960784314,.0784313725490196,.09803921568627451],[.34901960784313724,.9333333333333333,.0784313725490196,.10196078431372549],[.35294117647058826,.9450980392156862,.0784313725490196,.10196078431372549],[.3568627450980392,.9568627450980393,.08235294117647059,.10196078431372549],[.3607843137254902,.9647058823529412,.08235294117647059,.10588235294117647],[.36470588235294116,.9764705882352941,.08235294117647059,.10588235294117647],[.3686274509803922,.9882352941176471,.08235294117647059,.10588235294117647],[.37254901960784315,1,.08235294117647059,.10588235294117647],[.3764705882352941,1,.09411764705882353,.10588235294117647],[.3803921568627451,1,.10588235294117647,.10588235294117647],[.3843137254901961,1,.11764705882352941,.10196078431372549],[.38823529411764707,1,.12941176470588237,.10196078431372549],[.39215686274509803,1,.1411764705882353,.10196078431372549],[.396078431372549,1,.15294117647058825,.09803921568627451],[.4,1,.16470588235294117,.09803921568627451],[.403921568627451,1,.17647058823529413,.09803921568627451],[.40784313725490196,1,.18823529411764706,.09411764705882353],[.4117647058823529,1,.2,.09411764705882353],[.41568627450980394,1,.21176470588235294,.09411764705882353],[.4196078431372549,1,.2235294117647059,.09019607843137255],[.4235294117647059,1,.23529411764705882,.09019607843137255],[.42745098039215684,1,.24705882352941178,.08627450980392157],[.43137254901960786,1,.25882352941176473,.08627450980392157],[.43529411764705883,1,.27058823529411763,.08627450980392157],[.4392156862745098,1,.2823529411764706,.08235294117647059],[.44313725490196076,1,.29411764705882354,.08235294117647059],[.4470588235294118,1,.3058823529411765,.08235294117647059],[.45098039215686275,1,.3176470588235294,.0784313725490196],[.4549019607843137,1,.32941176470588235,.0784313725490196],[.4588235294117647,1,.3411764705882353,.0784313725490196],[.4627450980392157,1,.35294117647058826,.07450980392156863],[.4666666666666667,1,.36470588235294116,.07450980392156863],[.47058823529411764,1,.3764705882352941,.07450980392156863],[.4745098039215686,1,.38823529411764707,.07058823529411765],[.47843137254901963,1,.4,.07058823529411765],[.4823529411764706,1,.4117647058823529,.07058823529411765],[.48627450980392156,1,.4235294117647059,.06666666666666667],[.49019607843137253,1,.43529411764705883,.06666666666666667],[.49411764705882355,1,.4470588235294118,.06274509803921569],[.4980392156862745,1,.4588235294117647,.06274509803921569],[.5019607843137255,1,.47058823529411764,.06274509803921569],[.5058823529411764,1,.4823529411764706,.058823529411764705],[.5098039215686274,1,.49411764705882355,.058823529411764705],[.5137254901960784,1,.5058823529411764,.058823529411764705],[.5176470588235295,1,.5137254901960784,.054901960784313725],[.5215686274509804,1,.5254901960784314,.054901960784313725],[.5254901960784314,1,.5372549019607843,.054901960784313725],[.5294117647058824,1,.5490196078431373,.050980392156862744],[.5333333333333333,1,.5607843137254902,.050980392156862744],[.5372549019607843,1,.5725490196078431,.050980392156862744],[.5411764705882353,1,.5843137254901961,.047058823529411764],[.5450980392156862,1,.596078431372549,.047058823529411764],[.5490196078431373,1,.6078431372549019,.043137254901960784],[.5529411764705883,1,.6196078431372549,.043137254901960784],[.5568627450980392,1,.6313725490196078,.043137254901960784],[.5607843137254902,1,.6431372549019608,.0392156862745098],[.5647058823529412,1,.6549019607843137,.0392156862745098],[.5686274509803921,1,.6666666666666666,.0392156862745098],[.5725490196078431,1,.6784313725490196,.03529411764705882],[.5764705882352941,1,.6901960784313725,.03529411764705882],[.5803921568627451,1,.6941176470588235,.0392156862745098],[.5843137254901961,1,.7019607843137254,.0392156862745098],[.5882352941176471,1,.7058823529411765,.043137254901960784],[.592156862745098,1,.7098039215686275,.043137254901960784],[.596078431372549,1,.7137254901960784,.047058823529411764],[.6,1,.7176470588235294,.047058823529411764],[.6039215686274509,1,.7254901960784313,.050980392156862744],[.6078431372549019,1,.7294117647058823,.050980392156862744],[.611764705882353,1,.7333333333333333,.054901960784313725],[.615686274509804,1,.7372549019607844,.058823529411764705],[.6196078431372549,1,.7411764705882353,.058823529411764705],[.6235294117647059,1,.7490196078431373,.06274509803921569],[.6274509803921569,1,.7529411764705882,.06274509803921569],[.6313725490196078,1,.7568627450980392,.06666666666666667],[.6352941176470588,1,.7607843137254902,.06666666666666667],[.6392156862745098,1,.7647058823529411,.07058823529411765],[.6431372549019608,1,.7725490196078432,.07058823529411765],[.6470588235294118,1,.7764705882352941,.07450980392156863],[.6509803921568628,1,.7803921568627451,.07450980392156863],[.6549019607843137,1,.7843137254901961,.0784313725490196],[.6588235294117647,1,.788235294117647,.08235294117647059],[.6627450980392157,1,.796078431372549,.08235294117647059],[.6666666666666666,1,.8,.08627450980392157],[.6705882352941176,1,.803921568627451,.08627450980392157],[.6745098039215687,1,.807843137254902,.09019607843137255],[.6784313725490196,1,.8117647058823529,.09019607843137255],[.6823529411764706,1,.8196078431372549,.09411764705882353],[.6862745098039216,1,.8235294117647058,.09411764705882353],[.6901960784313725,1,.8274509803921568,.09803921568627451],[.6941176470588235,1,.8313725490196079,.10196078431372549],[.6980392156862745,1,.8352941176470589,.10196078431372549],[.7019607843137254,1,.8431372549019608,.10588235294117647],[.7058823529411765,1,.8470588235294118,.10588235294117647],[.7098039215686275,1,.8509803921568627,.10980392156862745],[.7137254901960784,1,.8549019607843137,.10980392156862745],[.7176470588235294,1,.8627450980392157,.11372549019607843],[.7215686274509804,1,.8666666666666667,.11372549019607843],[.7254901960784313,1,.8705882352941177,.11764705882352941],[.7294117647058823,1,.8745098039215686,.12156862745098039],[.7333333333333333,1,.8784313725490196,.12156862745098039],[.7372549019607844,1,.8862745098039215,.12549019607843137],[.7411764705882353,1,.8901960784313725,.12549019607843137],[.7450980392156863,1,.8941176470588236,.12941176470588237],[.7490196078431373,1,.8980392156862745,.12941176470588237],[.7529411764705882,1,.9019607843137255,.13333333333333333],[.7568627450980392,1,.9098039215686274,.13333333333333333],[.7607843137254902,1,.9137254901960784,.13725490196078433],[.7647058823529411,1,.9176470588235294,.1411764705882353],[.7686274509803922,1,.9215686274509803,.1411764705882353],[.7725490196078432,1,.9254901960784314,.1450980392156863],[.7764705882352941,1,.9333333333333333,.1450980392156863],[.7803921568627451,1,.9372549019607843,.14901960784313725],[.7843137254901961,1,.9411764705882353,.14901960784313725],[.788235294117647,1,.9450980392156862,.15294117647058825],[.792156862745098,1,.9450980392156862,.16862745098039217],[.796078431372549,1,.9490196078431372,.1843137254901961],[.8,1,.9490196078431372,.2],[.803921568627451,1,.9490196078431372,.21568627450980393],[.807843137254902,1,.9490196078431372,.22745098039215686],[.8117647058823529,1,.9529411764705882,.24313725490196078],[.8156862745098039,1,.9529411764705882,.25882352941176473],[.8196078431372549,1,.9529411764705882,.27450980392156865],[.8235294117647058,1,.9529411764705882,.2901960784313726],[.8274509803921568,1,.9568627450980393,.3058823529411765],[.8313725490196079,1,.9568627450980393,.3215686274509804],[.8352941176470589,1,.9568627450980393,.33725490196078434],[.8392156862745098,1,.9568627450980393,.35294117647058826],[.8431372549019608,1,.9607843137254902,.3686274509803922],[.8470588235294118,1,.9607843137254902,.3843137254901961],[.8509803921568627,1,.9607843137254902,.4],[.8549019607843137,1,.9607843137254902,.4117647058823529],[.8588235294117647,1,.9647058823529412,.42745098039215684],[.8627450980392157,1,.9647058823529412,.44313725490196076],[.8666666666666667,1,.9647058823529412,.4588235294117647],[.8705882352941177,1,.9647058823529412,.4745098039215686],[.8745098039215686,1,.9686274509803922,.49019607843137253],[.8784313725490196,1,.9686274509803922,.5058823529411764],[.8823529411764706,1,.9686274509803922,.5215686274509804],[.8862745098039215,1,.9686274509803922,.5372549019607843],[.8901960784313725,1,.9725490196078431,.5529411764705883],[.8941176470588236,1,.9725490196078431,.5686274509803921],[.8980392156862745,1,.9725490196078431,.5843137254901961],[.9019607843137255,1,.9725490196078431,.6],[.9058823529411765,1,.9725490196078431,.611764705882353],[.9098039215686274,1,.9764705882352941,.6274509803921569],[.9137254901960784,1,.9764705882352941,.6431372549019608],[.9176470588235294,1,.9764705882352941,.6588235294117647],[.9215686274509803,1,.9764705882352941,.6745098039215687],[.9254901960784314,1,.9803921568627451,.6901960784313725],[.9294117647058824,1,.9803921568627451,.7058823529411765],[.9333333333333333,1,.9803921568627451,.7215686274509804],[.9372549019607843,1,.9803921568627451,.7372549019607844],[.9411764705882353,1,.984313725490196,.7529411764705882],[.9450980392156862,1,.984313725490196,.7686274509803922],[.9490196078431372,1,.984313725490196,.7843137254901961],[.9529411764705882,1,.984313725490196,.8],[.9568627450980393,1,.9882352941176471,.8117647058823529],[.9607843137254902,1,.9882352941176471,.8274509803921568],[.9647058823529412,1,.9882352941176471,.8431372549019608],[.9686274509803922,1,.9882352941176471,.8588235294117647],[.9725490196078431,1,.9921568627450981,.8745098039215686],[.9764705882352941,1,.9921568627450981,.8901960784313725],[.9803921568627451,1,.9921568627450981,.9058823529411765],[.984313725490196,1,.9921568627450981,.9215686274509803],[.9882352941176471,1,.996078431372549,.9372549019607843],[.9921568627450981,1,.996078431372549,.9529411764705882],[.996078431372549,1,.996078431372549,.9686274509803922],[1,1,.996078431372549,.984313725490196]]}},i.presetLutsO=function(){return{linear:[[0,0],[1,1]],lowpass:[[0,.8],[.2,.6],[.3,.1],[1,0]],bandpass:[[0,0],[.4,.8],[.6,.8],[1,0]],highpass:[[0,0],[.7,.1],[.8,.6],[1,.8]],flat:[[0,.7],[1,1]],random:[[0,0],[.38,0],[.55,1],[.72,1],[1,.05]],linear_full:[[0,0],[.00392156862745098,.00392156862745098],[.00784313725490196,.00784313725490196],[.011764705882352941,.011764705882352941],[.01568627450980392,.01568627450980392],[.0196078431372549,.0196078431372549],[.023529411764705882,.023529411764705882],[.027450980392156862,.027450980392156862],[.03137254901960784,.03137254901960784],[.03529411764705882,.03529411764705882],[.0392156862745098,.0392156862745098],[.043137254901960784,.043137254901960784],[.047058823529411764,.047058823529411764],[.050980392156862744,.050980392156862744],[.054901960784313725,.054901960784313725],[.058823529411764705,.058823529411764705],[.06274509803921569,.06274509803921569],[.06666666666666667,.06666666666666667],[.07058823529411765,.07058823529411765],[.07450980392156863,.07450980392156863],[.0784313725490196,.0784313725490196],[.08235294117647059,.08235294117647059],[.08627450980392157,.08627450980392157],[.09019607843137255,.09019607843137255],[.09411764705882353,.09411764705882353],[.09803921568627451,.09803921568627451],[.10196078431372549,.10196078431372549],[.10588235294117647,.10588235294117647],[.10980392156862745,.10980392156862745],[.11372549019607843,.11372549019607843],[.11764705882352941,.11764705882352941],[.12156862745098039,.12156862745098039],[.12549019607843137,.12549019607843137],[.12941176470588237,.12941176470588237],[.13333333333333333,.13333333333333333],[.13725490196078433,.13725490196078433],[.1411764705882353,.1411764705882353],[.1450980392156863,.1450980392156863],[.14901960784313725,.14901960784313725],[.15294117647058825,.15294117647058825],[.1568627450980392,.1568627450980392],[.1607843137254902,.1607843137254902],[.16470588235294117,.16470588235294117],[.16862745098039217,.16862745098039217],[.17254901960784313,.17254901960784313],[.17647058823529413,.17647058823529413],[.1803921568627451,.1803921568627451],[.1843137254901961,.1843137254901961],[.18823529411764706,.18823529411764706],[.19215686274509805,.19215686274509805],[.19607843137254902,.19607843137254902],[.2,.2],[.20392156862745098,.20392156862745098],[.20784313725490197,.20784313725490197],[.21176470588235294,.21176470588235294],[.21568627450980393,.21568627450980393],[.2196078431372549,.2196078431372549],[.2235294117647059,.2235294117647059],[.22745098039215686,.22745098039215686],[.23137254901960785,.23137254901960785],[.23529411764705882,.23529411764705882],[.23921568627450981,.23921568627450981],[.24313725490196078,.24313725490196078],[.24705882352941178,.24705882352941178],[.25098039215686274,.25098039215686274],[.2549019607843137,.2549019607843137],[.25882352941176473,.25882352941176473],[.2627450980392157,.2627450980392157],[.26666666666666666,.26666666666666666],[.27058823529411763,.27058823529411763],[.27450980392156865,.27450980392156865],[.2784313725490196,.2784313725490196],[.2823529411764706,.2823529411764706],[.28627450980392155,.28627450980392155],[.2901960784313726,.2901960784313726],[.29411764705882354,.29411764705882354],[.2980392156862745,.2980392156862745],[.30196078431372547,.30196078431372547],[.3058823529411765,.3058823529411765],[.30980392156862746,.30980392156862746],[.3137254901960784,.3137254901960784],[.3176470588235294,.3176470588235294],[.3215686274509804,.3215686274509804],[.3254901960784314,.3254901960784314],[.32941176470588235,.32941176470588235],[.3333333333333333,.3333333333333333],[.33725490196078434,.33725490196078434],[.3411764705882353,.3411764705882353],[.34509803921568627,.34509803921568627],[.34901960784313724,.34901960784313724],[.35294117647058826,.35294117647058826],[.3568627450980392,.3568627450980392],[.3607843137254902,.3607843137254902],[.36470588235294116,.36470588235294116],[.3686274509803922,.3686274509803922],[.37254901960784315,.37254901960784315],[.3764705882352941,.3764705882352941],[.3803921568627451,.3803921568627451],[.3843137254901961,.3843137254901961],[.38823529411764707,.38823529411764707],[.39215686274509803,.39215686274509803],[.396078431372549,.396078431372549],[.4,.4],[.403921568627451,.403921568627451],[.40784313725490196,.40784313725490196],[.4117647058823529,.4117647058823529],[.41568627450980394,.41568627450980394],[.4196078431372549,.4196078431372549],[.4235294117647059,.4235294117647059],[.42745098039215684,.42745098039215684],[.43137254901960786,.43137254901960786],[.43529411764705883,.43529411764705883],[.4392156862745098,.4392156862745098],[.44313725490196076,.44313725490196076],[.4470588235294118,.4470588235294118],[.45098039215686275,.45098039215686275],[.4549019607843137,.4549019607843137],[.4588235294117647,.4588235294117647],[.4627450980392157,.4627450980392157],[.4666666666666667,.4666666666666667],[.47058823529411764,.47058823529411764],[.4745098039215686,.4745098039215686],[.47843137254901963,.47843137254901963],[.4823529411764706,.4823529411764706],[.48627450980392156,.48627450980392156],[.49019607843137253,.49019607843137253],[.49411764705882355,.49411764705882355],[.4980392156862745,.4980392156862745],[.5019607843137255,.5019607843137255],[.5058823529411764,.5058823529411764],[.5098039215686274,.5098039215686274],[.5137254901960784,.5137254901960784],[.5176470588235295,.5176470588235295],[.5215686274509804,.5215686274509804],[.5254901960784314,.5254901960784314],[.5294117647058824,.5294117647058824],[.5333333333333333,.5333333333333333],[.5372549019607843,.5372549019607843],[.5411764705882353,.5411764705882353],[.5450980392156862,.5450980392156862],[.5490196078431373,.5490196078431373],[.5529411764705883,.5529411764705883],[.5568627450980392,.5568627450980392],[.5607843137254902,.5607843137254902],[.5647058823529412,.5647058823529412],[.5686274509803921,.5686274509803921],[.5725490196078431,.5725490196078431],[.5764705882352941,.5764705882352941],[.5803921568627451,.5803921568627451],[.5843137254901961,.5843137254901961],[.5882352941176471,.5882352941176471],[.592156862745098,.592156862745098],[.596078431372549,.596078431372549],[.6,.6],[.6039215686274509,.6039215686274509],[.6078431372549019,.6078431372549019],[.611764705882353,.611764705882353],[.615686274509804,.615686274509804],[.6196078431372549,.6196078431372549],[.6235294117647059,.6235294117647059],[.6274509803921569,.6274509803921569],[.6313725490196078,.6313725490196078],[.6352941176470588,.6352941176470588],[.6392156862745098,.6392156862745098],[.6431372549019608,.6431372549019608],[.6470588235294118,.6470588235294118],[.6509803921568628,.6509803921568628],[.6549019607843137,.6549019607843137],[.6588235294117647,.6588235294117647],[.6627450980392157,.6627450980392157],[.6666666666666666,.6666666666666666],[.6705882352941176,.6705882352941176],[.6745098039215687,.6745098039215687],[.6784313725490196,.6784313725490196],[.6823529411764706,.6823529411764706],[.6862745098039216,.6862745098039216],[.6901960784313725,.6901960784313725],[.6941176470588235,.6941176470588235],[.6980392156862745,.6980392156862745],[.7019607843137254,.7019607843137254],[.7058823529411765,.7058823529411765],[.7098039215686275,.7098039215686275],[.7137254901960784,.7137254901960784],[.7176470588235294,.7176470588235294],[.7215686274509804,.7215686274509804],[.7254901960784313,.7254901960784313],[.7294117647058823,.7294117647058823],[.7333333333333333,.7333333333333333],[.7372549019607844,.7372549019607844],[.7411764705882353,.7411764705882353],[.7450980392156863,.7450980392156863],[.7490196078431373,.7490196078431373],[.7529411764705882,.7529411764705882],[.7568627450980392,.7568627450980392],[.7607843137254902,.7607843137254902],[.7647058823529411,.7647058823529411],[.7686274509803922,.7686274509803922],[.7725490196078432,.7725490196078432],[.7764705882352941,.7764705882352941],[.7803921568627451,.7803921568627451],[.7843137254901961,.7843137254901961],[.788235294117647,.788235294117647],[.792156862745098,.792156862745098],[.796078431372549,.796078431372549],[.8,.8],[.803921568627451,.803921568627451],[.807843137254902,.807843137254902],[.8117647058823529,.8117647058823529],[.8156862745098039,.8156862745098039],[.8196078431372549,.8196078431372549],[.8235294117647058,.8235294117647058],[.8274509803921568,.8274509803921568],[.8313725490196079,.8313725490196079],[.8352941176470589,.8352941176470589],[.8392156862745098,.8392156862745098],[.8431372549019608,.8431372549019608],[.8470588235294118,.8470588235294118],[.8509803921568627,.8509803921568627],[.8549019607843137,.8549019607843137],[.8588235294117647,.8588235294117647],[.8627450980392157,.8627450980392157],[.8666666666666667,.8666666666666667],[.8705882352941177,.8705882352941177],[.8745098039215686,.8745098039215686],[.8784313725490196,.8784313725490196],[.8823529411764706,.8823529411764706],[.8862745098039215,.8862745098039215],[.8901960784313725,.8901960784313725],[.8941176470588236,.8941176470588236],[.8980392156862745,.8980392156862745],[.9019607843137255,.9019607843137255],[.9058823529411765,.9058823529411765],[.9098039215686274,.9098039215686274],[.9137254901960784,.9137254901960784],[.9176470588235294,.9176470588235294],[.9215686274509803,.9215686274509803],[.9254901960784314,.9254901960784314],[.9294117647058824,.9294117647058824],[.9333333333333333,.9333333333333333],[.9372549019607843,.9372549019607843],[.9411764705882353,.9411764705882353],[.9450980392156862,.9450980392156862],[.9490196078431372,.9490196078431372],[.9529411764705882,.9529411764705882],[.9568627450980393,.9568627450980393],[.9607843137254902,.9607843137254902],[.9647058823529412,.9647058823529412],[.9686274509803922,.9686274509803922],[.9725490196078431,.9725490196078431],[.9764705882352941,.9764705882352941],[.9803921568627451,.9803921568627451],[.984313725490196,.984313725490196],[.9882352941176471,.9882352941176471],[.9921568627450981,.9921568627450981],[.996078431372549,.996078431372549],[1,1]]}},K(i,[{key:"texture",get:function get(){var t=new e.Texture(this._canvas);return t.mapping=e.UVMapping,t.wrapS=t.wrapT=e.ClampToEdgeWrapping,t.magFilter=t.minFilter=e.NearestFilter,t.premultiplyAlpha=!0,t.needsUpdate=!0,t}},{key:"lut",set:function set(e){this._color=this._luts[e],this._lut=e,this.paintCanvas()},get:function get(){return this._lut}},{key:"luts",set:function set(e){this._luts=e},get:function get(){return this._luts}},{key:"lutO",set:function set(e){this._opacity=this._lutsO[e],this._lutO=e,this.paintCanvas()},get:function get(){return this._lutO}},{key:"lutsO",set:function set(e){this._lutsO=e},get:function get(){return this._lutsO}},{key:"discrete",set:function set(e){this._discrete=e,this.paintCanvas()},get:function get(){return this._discrete}}]),i}(e.Object3D)},ee=$(),te=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),ie={0:{color:[0,0,0],opacity:0,label:"background"},1:{color:[255,0,0],opacity:1,label:"white matter"}},ne=function(){function e(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ie;!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),g.isString(t)?this._dom=document.getElementById(t):this._dom=t,this._segmentation=i,this.initCanvas(),this.paintCanvas()}return e.prototype.initCanvas=function(){this._canvasContainer=this.initCanvasContainer(this._dom),this._canvasBg=this.createCanvas(),this._canvasContainer.appendChild(this._canvasBg),this._canvas=this.createCanvas(),this._canvasContainer.appendChild(this._canvas)},e.prototype.initCanvasContainer=function(e){var t=e;return t.style.width="256 px",t.style.height="128 px",t.style.border="1px solid #F9F9F9",t},e.prototype.createCanvas=function(){var e=document.createElement("canvas");return e.height=128,e.width=256,e},e.prototype.paintCanvas=function(){var e=this._canvas.getContext("2d");for(var t in e.clearRect(0,0,this._canvas.width,this._canvas.height),e.globalCompositeOperation="source-over",e.lineWidth=1,this._segmentation){var i=t%this._canvas.width,n=_Mathfloor(t/this._canvas.width),r=void 0!==this._segmentation[t].opacity?this._segmentation[t].opacity:1,o=this._segmentation[t].color;e.fillStyle="rgba( "+_Mathround(o[0])+", "+_Mathround(o[1])+", "+_Mathround(o[2])+", "+r+")",e.fillRect(i,n,1,1)}},te(e,[{key:"texture",get:function get(){var e=new THREE.Texture(this._canvas);return e.mapping=THREE.UVMapping,e.wrapS=e.wrapT=THREE.ClampToEdgeWrapping,e.magFilter=e.minFilter=THREE.NearestFilter,e.premultiplyAlpha=!0,e.needsUpdate=!0,e}},{key:"segmentation",set:function set(e){this._segmentation=e,this.paintCanvas()},get:function get(){return this._segmentation}}]),e}(),re=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),oe=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=t,this._modes={load:{name:"load",color:"#FFF56F"},parse:{name:"parse",color:"#2196F3"}},this.requestAnimationFrameID=null,this._mode=null,this._value=null,this._total=null,this._totalFiles=null,this.init()}return e.prototype.free=function(){var e=this._container.getElementsByClassName("progress container");0<e.length&&e[0].parentNode.removeChild(e[0]),e=null,window.cancelAnimationFrame(this.requestAnimationFrameID)},e.prototype.init=function(){var e=this._domContainer();for(var t in this._modes){if(this._modes.hasOwnProperty(t)){var i=this._domBar(this._modes[t]);e.appendChild(i),i=null}}this._container.appendChild(e),e=null,this.updateUI()},e.prototype.update=function(e,t,i){3<arguments.length&&void 0!==arguments[3]&&arguments[3];this._mode=i,this._value=e,0===t?(this._total=e,this._value=Math.random()*e):this._total=t},e.prototype.updateUI=function(){var e=this;if(this.requestAnimationFrameID=requestAnimationFrame(function(){e.updateUI()}),!(this._modes.hasOwnProperty(this._mode)&&this._modes[this._mode].hasOwnProperty("name")&&this._modes[this._mode].hasOwnProperty("color")))return!1;var t=_Mathround(100*(this._value/this._total)),i=this._modes[this._mode].color,n=this._container.getElementsByClassName("progress "+this._modes[this._mode].name);0<n.length&&(n[0].style.borderColor=i,n[0].style.width=t+"%"),n=null},e.prototype._domContainer=function(){var e=document.createElement("div");return e.classList.add("progress"),e.classList.add("container"),e.style.width="100%",e.style.height="8px",e.style.position="absolute",e.style.backgroundColor="rgba(158, 158, 158, 0.5)",e.style.top="0",e.style.zIndex="1",e},e.prototype._domBar=function(e){if(!e.hasOwnProperty("name")||!e.hasOwnProperty("color"))return window.console.log("Invalid mode provided."),window.console.log(e),!1;var t=document.createElement("div");return t.classList.add(e.name),t.classList.add("progress"),t.style.border="2px solid "+e.color,t.style.width="0%",t},re(e,[{key:"totalFiles",set:function set(e){this._totalFiles=e},get:function get(){return this._totalFiles}}]),e}(),ae=function(){function e(t,i){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&this._isFunction(t.emit)?(g.isString(i)?this._dom=document.getElementById(i):this._dom=i,g.isElement(this._dom)?(this._emitter=t,this.initContainerDom(),this.initEventListenner(),this.loaded=0,this.totalFile=0):window.console.error("please give the id of container dom or directly a dom instance")):window.console.error("please give the this._emitter instance")}return e.prototype._isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},e.prototype.initEventListenner=function(){var e=this;this._emitter.on("load-start",function(t){var i=t.files.length;e.totalFile=i,e._domTotalFile.innerHTML=i}),this._emitter.on("fetch-start",function(t){var i=document.createElement("li"),n=document.createElement("div");n.innerHTML="file: "+t.file,n.style.color="#ffffff",i.append(n),i.className="fetch-file",i.id="file-"+t.file,i.style.marginBottom="7px",i.style.border="1px solid #ffffff;",i.style.width="60%";var r=document.createElement("div");r.id="file-fetch-"+t.file,r.style.width="0%",i.append(r),e._domProcessList.append(i)}),this._emitter.on("fetch-progress",function(e){var t="file-fetch-"+e.file,i=document.getElementById(t);i.style.width=100*(e.loaded/e.total)+"%",i.style.border="1px solid red"}),this._emitter.on("fetch-success",function(e){var t=document.getElementById("file-"+e.file),i=document.createElement("div");i.id="file-result-"+e.file,i.innerHTML="fetch-success",i.style.color="#ffffff",t.append(i)}),this._emitter.on("fetch-error",function(){}),this._emitter.on("fetch-abort",function(){}),this._emitter.on("fetch-end",function(){}),this._emitter.on("fetch-timeout",function(){}),this._emitter.on("parse-start",function(e){var t=document.getElementById("file-"+e.file),i=document.createElement("div");i.id="file-parse-"+e.file,i.style.width="0%",t.append(i)}),this._emitter.on("parsing",function(e){var t="file-parse-"+e.file,i=document.getElementById(t);i.style.width=100*(e.parsed/e.total)+"%",i.style.border="1px solid yellow"}),this._emitter.on("parse-success",function(t){e.loaded+=1,e._domCurrentFile.innerHTML=e.loaded,e._domCurrentProgress.style.width=100*(e.loaded/e.totalFile)+"%";var i=document.getElementById("file-"+t.file),n=document.createElement("div");n.id="file-result-"+t.file,n.innerHTML="parse-success",n.style.color="#ffffff",i.append(n)})},e.prototype.initContainerDom=function(){var e=document.createElement("div");e.innerHTML="\n      <div id=\"ami-progress-bar-container\" style=\"background-color: rgb(33, 33, 33); color: #ffffff;\">\n      <div>\n      <label for=\"progress-bar\" id=\"progress-label\" style=\"width: 60%; border: 1px solid #ffffff; text-align: center;\">\n      <span id=\"current-file-index\">0</span>\n      <span id=\"total-file\">0</span>\n      </label>\n      <div id=\"progress-bar\" style=\"width: 60%; border: 1px solid #ffffff; text-align: center;\">\n      <div id=\"current-progress\" style=\"border: 1px solid red; width: 0%;\"></div>\n      </div>\n      </div>\n      <ul id=\"process-list\" style=\"list-style-type: none; padding: 0; overflow-y: auto;\">\n      </ul>\n      </div>",this._dom.append(e),this._domCurrentFile=document.getElementById("current-file-index"),this._domTotalFile=document.getElementById("total-file"),this._domProcessList=document.getElementById("process-list"),this._domCurrentProgress=document.getElementById("current-progress")},e}(),se=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uTextureSize:{type:"i",value:0,typeGLSL:"int"},uTextureContainer:{type:"tv",value:[],typeGLSL:"sampler2D",length:7},uDataDimensions:{type:"iv",value:[0,0,0],typeGLSL:"ivec3"},uWorldToData:{type:"m4",value:new o,typeGLSL:"mat4"},uWindowCenterWidth:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uLowerUpperThreshold:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uRescaleSlopeIntercept:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uNumberOfChannels:{type:"i",value:1,typeGLSL:"int"},uBitsAllocated:{type:"i",value:8,typeGLSL:"int"},uInvert:{type:"i",value:0,typeGLSL:"int"},uLut:{type:"i",value:0,typeGLSL:"int"},uTextureLUT:{type:"t",value:[],typeGLSL:"sampler2D"},uLutSegmentation:{type:"i",value:0,typeGLSL:"int"},uTextureLUTSegmentation:{type:"t",value:[],typeGLSL:"sampler2D"},uPixelType:{type:"i",value:0,typeGLSL:"int"},uPackedPerPixel:{type:"i",value:1,typeGLSL:"int"},uInterpolation:{type:"i",value:1,typeGLSL:"int"},uCanvasWidth:{type:"f",value:0,typeGLSL:"float"},uCanvasHeight:{type:"f",value:0,typeGLSL:"float"},uBorderColor:{type:"v3",value:[1,0,.5],typeGLSL:"vec3"},uBorderWidth:{type:"f",value:2,typeGLSL:"float"},uBorderMargin:{type:"f",value:2,typeGLSL:"float"},uBorderDashLength:{type:"f",value:10,typeGLSL:"float"},uOpacity:{type:"f",value:1,typeGLSL:"float"},uSpacing:{type:"f",value:0,typeGLSL:"float"},uThickness:{type:"f",value:0,typeGLSL:"float"},uThicknessMethod:{type:"i",value:0,typeGLSL:"int"}}},e}(),le=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\nvarying vec3 vPos;\nvarying vec3 vNormal;\n\nvoid main() {\n  vNormal = normal;\n  vPos = (modelMatrix * vec4(position, 1.0 )).xyz;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}(),ce=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),he=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name="shadersBase",this._base={_functions:{},_uniforms:{}},this._definition=""}return ce(e,[{key:"name",get:function get(){return this._name},set:function set(e){this._name=e}}]),e}(),ue=new(function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="unpack",i._packedData="packedData",i._offset="offset",i._unpackedData="unpackedData",i._base._uniforms={uNumberOfChannels:{value:1},uBitsAllocated:{value:16},uPixelType:{value:0}},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._packedData,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._offset,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._unpackedData;return this._base=e,this.compute(t,i,n)},t.prototype.compute=function(e,t,i){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+", "+i+");"},t.prototype.computeDefinition=function(){var e="";if(1===this._base._uniforms.uNumberOfChannels.value)switch(this._base._uniforms.uBitsAllocated.value){case 1:case 8:e=this.upack8();break;case 16:e=this.upack16();break;case 32:e=this.upack32();break;default:e=this.upackIdentity();}else e=this.upackIdentity();this._definition="\nvoid "+this._name+"(in vec4 packedData, in int offset, out vec4 unpackedData){\n\n"+e+"\n\n}  \n    "},t.prototype.upack8=function(){return this._base._functions.uInt8=this.uInt8(),"\nuInt8(\n  step( abs( float(offset - 0) ), 0.0 ) * packedData.r +\n  step( abs( float(offset - 1) ), 0.0 ) * packedData.g +\n  step( abs( float(offset - 2) ), 0.0 ) * packedData.b +\n  step( abs( float(offset - 3) ), 0.0 ) * packedData.a\n  ,\n  unpackedData.x);\n    "},t.prototype.upack16=function(){return this._base._functions.uInt16=this.uInt16(),"\nuInt16(\n  packedData.r * float( 1 - offset) + packedData.b * float(offset),\n  packedData.g * float( 1 - offset) + packedData.a * float(offset),\n  unpackedData.x);\n    "},t.prototype.upack32=function(){return 0===this._base._uniforms.uPixelType.value?(this._base._functions.uInt32=this.uInt32(),"\nuInt32(\n  packedData.r,\n  packedData.g,\n  packedData.b,\n  packedData.a,\n  unpackedData.x);\n      "):(this._base._functions.uFloat32=this.uFloat32(),"\nuFloat32(\n  packedData.r,\n  packedData.g,\n  packedData.b,\n  packedData.a,\n  unpackedData.x);\n      ")},t.prototype.upackIdentity=function(){return"\nunpackedData = packedData;\n      "},t.prototype.uInt8=function(){return"\nvoid uInt8(in float r, out float value){\n  value = r * 255.;\n}\n    "},t.prototype.uInt16=function(){return"\nvoid uInt16(in float r, in float a, out float value){\n  value = r * 255. + a * 255. * 256.;\n}\n    "},t.prototype.uInt32=function(){return"\nvoid uInt32(in float r, in float g, in float b, in float a, out float value){\n  value = r * 255. + g * 255. * 256. + b * 255. * 256. * 256. + a * 255. * 256. * 256. * 256.;\n  // value = r * 255. + g * 65025. + b * 16581375. + a * 4228250625.;\n}\n    "},t.prototype.uFloat32=function(){return"\nvoid uFloat32(in float r, in float g, in float b, in float a, out float value){\n\n  // create arrays containing bits for rgba values\n  // value between 0 and 255\n  value = r * 255.;\n  int bytemeR[8];\n  bytemeR[0] = int(floor(value / 128.));\n  value -= float(bytemeR[0] * 128);\n  bytemeR[1] = int(floor(value / 64.));\n  value -= float(bytemeR[1] * 64);\n  bytemeR[2] = int(floor(value / 32.));\n  value -= float(bytemeR[2] * 32);\n  bytemeR[3] = int(floor(value / 16.));\n  value -= float(bytemeR[3] * 16);\n  bytemeR[4] = int(floor(value / 8.));\n  value -= float(bytemeR[4] * 8);\n  bytemeR[5] = int(floor(value / 4.));\n  value -= float(bytemeR[5] * 4);\n  bytemeR[6] = int(floor(value / 2.));\n  value -= float(bytemeR[6] * 2);\n  bytemeR[7] = int(floor(value));\n\n  value = g * 255.;\n  int bytemeG[8];\n  bytemeG[0] = int(floor(value / 128.));\n  value -= float(bytemeG[0] * 128);\n  bytemeG[1] = int(floor(value / 64.));\n  value -= float(bytemeG[1] * 64);\n  bytemeG[2] = int(floor(value / 32.));\n  value -= float(bytemeG[2] * 32);\n  bytemeG[3] = int(floor(value / 16.));\n  value -= float(bytemeG[3] * 16);\n  bytemeG[4] = int(floor(value / 8.));\n  value -= float(bytemeG[4] * 8);\n  bytemeG[5] = int(floor(value / 4.));\n  value -= float(bytemeG[5] * 4);\n  bytemeG[6] = int(floor(value / 2.));\n  value -= float(bytemeG[6] * 2);\n  bytemeG[7] = int(floor(value));\n\n  value = b * 255.;\n  int bytemeB[8];\n  bytemeB[0] = int(floor(value / 128.));\n  value -= float(bytemeB[0] * 128);\n  bytemeB[1] = int(floor(value / 64.));\n  value -= float(bytemeB[1] * 64);\n  bytemeB[2] = int(floor(value / 32.));\n  value -= float(bytemeB[2] * 32);\n  bytemeB[3] = int(floor(value / 16.));\n  value -= float(bytemeB[3] * 16);\n  bytemeB[4] = int(floor(value / 8.));\n  value -= float(bytemeB[4] * 8);\n  bytemeB[5] = int(floor(value / 4.));\n  value -= float(bytemeB[5] * 4);\n  bytemeB[6] = int(floor(value / 2.));\n  value -= float(bytemeB[6] * 2);\n  bytemeB[7] = int(floor(value));\n\n  value = a * 255.;\n  int bytemeA[8];\n  bytemeA[0] = int(floor(value / 128.));\n  value -= float(bytemeA[0] * 128);\n  bytemeA[1] = int(floor(value / 64.));\n  value -= float(bytemeA[1] * 64);\n  bytemeA[2] = int(floor(value / 32.));\n  value -= float(bytemeA[2] * 32);\n  bytemeA[3] = int(floor(value / 16.));\n  value -= float(bytemeA[3] * 16);\n  bytemeA[4] = int(floor(value / 8.));\n  value -= float(bytemeA[4] * 8);\n  bytemeA[5] = int(floor(value / 4.));\n  value -= float(bytemeA[5] * 4);\n  bytemeA[6] = int(floor(value / 2.));\n  value -= float(bytemeA[6] * 2);\n  bytemeA[7] = int(floor(value));\n\n  // compute float32 value from bit arrays\n\n  // sign\n  int issigned = 1 - 2 * bytemeR[0];\n  //   issigned = int(pow(-1., float(bytemeR[0])));\n\n  // exponent\n  int exponent = 0;\n\n  exponent += bytemeR[1] * int(pow(2., 7.));\n  exponent += bytemeR[2] * int(pow(2., 6.));\n  exponent += bytemeR[3] * int(pow(2., 5.));\n  exponent += bytemeR[4] * int(pow(2., 4.));\n  exponent += bytemeR[5] * int(pow(2., 3.));\n  exponent += bytemeR[6] * int(pow(2., 2.));\n  exponent += bytemeR[7] * int(pow(2., 1.));\n\n  exponent += bytemeG[0];\n\n\n  // fraction\n  float fraction = 0.;\n\n  fraction = float(bytemeG[1]) * pow(2., -1.);\n  fraction += float(bytemeG[2]) * pow(2., -2.);\n  fraction += float(bytemeG[3]) * pow(2., -3.);\n  fraction += float(bytemeG[4]) * pow(2., -4.);\n  fraction += float(bytemeG[5]) * pow(2., -5.);\n  fraction += float(bytemeG[6]) * pow(2., -6.);\n  fraction += float(bytemeG[7]) * pow(2., -7.);\n\n  fraction += float(bytemeB[0]) * pow(2., -8.);\n  fraction += float(bytemeB[1]) * pow(2., -9.);\n  fraction += float(bytemeB[2]) * pow(2., -10.);\n  fraction += float(bytemeB[3]) * pow(2., -11.);\n  fraction += float(bytemeB[4]) * pow(2., -12.);\n  fraction += float(bytemeB[5]) * pow(2., -13.);\n  fraction += float(bytemeB[6]) * pow(2., -14.);\n  fraction += float(bytemeB[7]) * pow(2., -15.);\n\n  fraction += float(bytemeA[0]) * pow(2., -16.);\n  fraction += float(bytemeA[1]) * pow(2., -17.);\n  fraction += float(bytemeA[2]) * pow(2., -18.);\n  fraction += float(bytemeA[3]) * pow(2., -19.);\n  fraction += float(bytemeA[4]) * pow(2., -20.);\n  fraction += float(bytemeA[5]) * pow(2., -21.);\n  fraction += float(bytemeA[6]) * pow(2., -22.);\n  fraction += float(bytemeA[7]) * pow(2., -23.);\n\n  value = float(issigned) * pow( 2., float(exponent - 127)) * (1. + fraction);\n}\n    "},t}(he)),fe=new(function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="texture3d",i._dataCoordinates="dataCoordinates",i._dataValue="dataValue",i._offset="offset",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._dataCoordinates,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._dataValue,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._offset;return this._base=e,this.compute(t,i,n)},t.prototype.compute=function(e,t,i){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+", "+i+");"},t.prototype.computeDefinition=function(){var e="\n      step( abs( textureIndexF - 0.0 ), 0.0 ) * texture2D(uTextureContainer[0], uv) +\n      step( abs( textureIndexF - 1.0 ), 0.0 ) * texture2D(uTextureContainer[1], uv) +\n      step( abs( textureIndexF - 2.0 ), 0.0 ) * texture2D(uTextureContainer[2], uv) +\n      step( abs( textureIndexF - 3.0 ), 0.0 ) * texture2D(uTextureContainer[3], uv) +\n      step( abs( textureIndexF - 4.0 ), 0.0 ) * texture2D(uTextureContainer[4], uv) +\n      step( abs( textureIndexF - 5.0 ), 0.0 ) * texture2D(uTextureContainer[5], uv) +\n      step( abs( textureIndexF - 6.0 ), 0.0 ) * texture2D(uTextureContainer[6], uv)";14===this._base._uniforms.uTextureContainer.length&&(e+=" +\n      step( abs( textureIndexF - 7.0 ), 0.0 ) * texture2D(uTextureContainer[7], uv) +\n      step( abs( textureIndexF - 8.0 ), 0.0 ) * texture2D(uTextureContainer[8], uv) +\n      step( abs( textureIndexF - 9.0 ), 0.0 ) * texture2D(uTextureContainer[9], uv) +\n      step( abs( textureIndexF - 10.0 ), 0.0 ) * texture2D(uTextureContainer[10], uv) +\n      step( abs( textureIndexF - 11.0 ), 0.0 ) * texture2D(uTextureContainer[11], uv) +\n      step( abs( textureIndexF - 12.0 ), 0.0 ) * texture2D(uTextureContainer[12], uv) +\n      step( abs( textureIndexF - 13.0 ), 0.0 ) * texture2D(uTextureContainer[13], uv)"),this._definition="\nvoid "+this._name+"(in ivec3 dataCoordinates, out vec4 dataValue, out int offset){\n    \n  int index = dataCoordinates.x\n            + dataCoordinates.y * uDataDimensions.x\n            + dataCoordinates.z * uDataDimensions.y * uDataDimensions.x;\n  int indexP = int(index/uPackedPerPixel);\n  offset = index - int(uPackedPerPixel)*indexP;\n\n  // Map data index to right sampler2D texture\n  int voxelsPerTexture = uTextureSize*uTextureSize;\n  int textureIndex = int(floor(float(indexP) / float(voxelsPerTexture)));\n  // modulo seems incorrect sometimes...\n  // int inTextureIndex = int(mod(float(index), float(textureSize*textureSize)));\n  int inTextureIndex = indexP - voxelsPerTexture*textureIndex;\n  float textureIndexF = float(textureIndex);\n\n  // Get row and column in the texture\n  int colIndex = int(mod(float(inTextureIndex), float(uTextureSize)));\n  int rowIndex = int(floor(float(inTextureIndex)/float(uTextureSize)));\n\n  // Map row and column to uv\n  vec2 uv = vec2(0,0);\n  uv.x = (0.5 + float(colIndex)) / float(uTextureSize);\n  uv.y = 1. - (0.5 + float(rowIndex)) / float(uTextureSize);\n\n  // get rid of if statements\n  dataValue = vec4(0.) + "+e+";\n\n}\n    "},t}(he)),de=new(function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="interpolationIdentity",i._currentVoxel="currentVoxel",i._dataValue="dataValue",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._currentVoxel,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._dataValue;return this._base=e,this.compute(t,i)},t.prototype.compute=function(e,t){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+");"},t.prototype.computeDefinition=function(){this._definition="\nvoid "+this._name+"(in vec3 currentVoxel, out vec4 dataValue){\n  // lower bound\n  vec3 rcurrentVoxel = vec3(floor(currentVoxel.x + 0.5 ), floor(currentVoxel.y + 0.5 ), floor(currentVoxel.z + 0.5 ));\n  ivec3 voxel = ivec3(int(rcurrentVoxel.x), int(rcurrentVoxel.y), int(rcurrentVoxel.z));\n\n  vec4 tmp = vec4(0., 0., 0., 0.);\n  int offset = 0;\n\n  "+fe.api(this._base,"voxel","tmp","offset")+"\n  "+ue.api(this._base,"tmp","offset","dataValue")+"\n}\n    "},t}(he)),pe=new(function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="interpolationTrilinear",i._currentVoxel="currentVoxel",i._dataValue="dataValue",i._gradient="gradient",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._currentVoxel,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._dataValue,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._gradient;return this._base=e,this.compute(t,i,n)},t.prototype.compute=function(e,t,i){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+", "+i+");"},t.prototype.computeDefinition=function(){this._definition="\nvoid trilinearInterpolation(\n  in vec3 normalizedPosition,\n  out vec4 interpolatedValue,\n  in vec4 v000, in vec4 v100,\n  in vec4 v001, in vec4 v101,\n  in vec4 v010, in vec4 v110,\n  in vec4 v011, in vec4 v111) {\n  // https://en.wikipedia.org/wiki/Trilinear_interpolation\n  vec4 c00 = v000 * ( 1.0 - normalizedPosition.x ) + v100 * normalizedPosition.x;\n  vec4 c01 = v001 * ( 1.0 - normalizedPosition.x ) + v101 * normalizedPosition.x;\n  vec4 c10 = v010 * ( 1.0 - normalizedPosition.x ) + v110 * normalizedPosition.x;\n  vec4 c11 = v011 * ( 1.0 - normalizedPosition.x ) + v111 * normalizedPosition.x;\n\n  // c0 and c1\n  vec4 c0 = c00 * ( 1.0 - normalizedPosition.y) + c10 * normalizedPosition.y;\n  vec4 c1 = c01 * ( 1.0 - normalizedPosition.y) + c11 * normalizedPosition.y;\n\n  // c\n  vec4 c = c0 * ( 1.0 - normalizedPosition.z) + c1 * normalizedPosition.z;\n  interpolatedValue = c;\n}\n\nvoid "+this._name+"(in vec3 currentVoxel, out vec4 dataValue, out vec3 gradient){\n\n  vec3 lower_bound = floor(currentVoxel);\n  lower_bound = max(vec3(0.), lower_bound);\n  \n  vec3 higher_bound = lower_bound + vec3(1.);\n\n  vec3 normalizedPosition = (currentVoxel - lower_bound);\n  normalizedPosition =  max(vec3(0.), normalizedPosition);\n\n  vec4 interpolatedValue = vec4(0.);\n\n  //\n  // fetch values required for interpolation\n  //\n  vec4 v000 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c000 = vec3(lower_bound.x, lower_bound.y, lower_bound.z);\n  "+de.api(this._base,"c000","v000")+"\n\n  //\n  vec4 v100 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c100 = vec3(higher_bound.x, lower_bound.y, lower_bound.z);\n  "+de.api(this._base,"c100","v100")+"\n\n  //\n  vec4 v001 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c001 = vec3(lower_bound.x, lower_bound.y, higher_bound.z);\n  "+de.api(this._base,"c001","v001")+"\n\n  //\n  vec4 v101 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c101 = vec3(higher_bound.x, lower_bound.y, higher_bound.z);\n  "+de.api(this._base,"c101","v101")+"\n  \n  //\n  vec4 v010 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c010 = vec3(lower_bound.x, higher_bound.y, lower_bound.z);\n  "+de.api(this._base,"c010","v010")+"\n\n  vec4 v110 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c110 = vec3(higher_bound.x, higher_bound.y, lower_bound.z);\n  "+de.api(this._base,"c110","v110")+"\n\n  //\n  vec4 v011 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c011 = vec3(lower_bound.x, higher_bound.y, higher_bound.z);\n  "+de.api(this._base,"c011","v011")+"\n\n  vec4 v111 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec3 c111 = vec3(higher_bound.x, higher_bound.y, higher_bound.z);\n  "+de.api(this._base,"c111","v111")+"\n\n  // compute interpolation at position\n  trilinearInterpolation(normalizedPosition, interpolatedValue ,v000, v100, v001, v101, v010,v110, v011,v111);\n  dataValue = interpolatedValue;\n\n  // That breaks shading in volume rendering\n  // if (gradient.x == 1.) { // skip gradient calculation for slice helper\n  //  return;\n  // }\n\n  // compute gradient\n  float gradientStep = 0.005;\n\n  // x axis\n  vec3 g100 = vec3(1., 0., 0.);\n  vec3 ng100 = normalizedPosition + g100 * gradientStep;\n  ng100.x = min(1., ng100.x);\n\n  vec4 vg100 = vec4(0.);\n  trilinearInterpolation(ng100, vg100 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  vec3 go100 = -g100;\n  vec3 ngo100 = normalizedPosition + go100 * gradientStep;\n  ngo100.x = max(0., ngo100.x);\n\n  vec4 vgo100 = vec4(0.);\n  trilinearInterpolation(ngo100, vgo100 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  gradient.x = (g100.x * vg100.x + go100.x * vgo100.x);\n\n  // y axis\n  vec3 g010 = vec3(0., 1., 0.);\n  vec3 ng010 = normalizedPosition + g010 * gradientStep;\n  ng010.y = min(1., ng010.y);\n\n  vec4 vg010 = vec4(0.);\n  trilinearInterpolation(ng010, vg010 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  vec3 go010 = -g010;\n  vec3 ngo010 = normalizedPosition + go010 * gradientStep;\n  ngo010.y = max(0., ngo010.y);\n\n  vec4 vgo010 = vec4(0.);\n  trilinearInterpolation(ngo010, vgo010 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  gradient.y = (g010.y * vg010.x + go010.y * vgo010.x);\n\n  // z axis\n  vec3 g001 = vec3(0., 0., 1.);\n  vec3 ng001 = normalizedPosition + g001 * gradientStep;\n  ng001.z = min(1., ng001.z);\n\n  vec4 vg001 = vec4(0.);\n  trilinearInterpolation(ng001, vg001 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  vec3 go001 = -g001;\n  vec3 ngo001 = normalizedPosition + go001 * gradientStep;\n  ngo001.z = max(0., ngo001.z);\n\n  vec4 vgo001 = vec4(0.);\n  trilinearInterpolation(ngo001, vgo001 ,v000, v100, v001, v101, v010,v110, v011,v111);\n\n  gradient.z = (g001.z * vg001.x + go001.z * vgo001.x);\n\n  // normalize gradient\n  // +0.0001  instead of if?\n  float gradientMagnitude = length(gradient);\n  if (gradientMagnitude > 0.0) {\n    gradient = -(1. / gradientMagnitude) * gradient;\n  }\n}\n    "},t}(he)),_e=function(e,t,i,n){switch(e._uniforms.uInterpolation.value){case 0:return de.api(e,t,i);case 1:return pe.api(e,t,i,n);default:return de.api(e,t,i);}},me=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\nvoid main(void) {\n\n  // draw border if slice is cropped\n  // float uBorderDashLength = 10.;\n\n  if( uCanvasWidth > 0. &&\n      ((gl_FragCoord.x > uBorderMargin && (gl_FragCoord.x - uBorderMargin) < uBorderWidth) ||\n       (gl_FragCoord.x < (uCanvasWidth - uBorderMargin) && (gl_FragCoord.x + uBorderMargin) > (uCanvasWidth - uBorderWidth) ))){\n    float valueY = mod(gl_FragCoord.y, 2. * uBorderDashLength);\n    if( valueY < uBorderDashLength && gl_FragCoord.y > uBorderMargin && gl_FragCoord.y < (uCanvasHeight - uBorderMargin) ){\n      gl_FragColor = vec4(uBorderColor, 1.);\n      return;\n    }\n  }\n\n  if( uCanvasHeight > 0. &&\n      ((gl_FragCoord.y > uBorderMargin && (gl_FragCoord.y - uBorderMargin) < uBorderWidth) ||\n       (gl_FragCoord.y < (uCanvasHeight - uBorderMargin) && (gl_FragCoord.y + uBorderMargin) > (uCanvasHeight - uBorderWidth) ))){\n    float valueX = mod(gl_FragCoord.x, 2. * uBorderDashLength);\n    if( valueX < uBorderDashLength && gl_FragCoord.x > uBorderMargin && gl_FragCoord.x < (uCanvasWidth - uBorderMargin) ){\n      gl_FragColor = vec4(uBorderColor, 1.);\n      return;\n    }\n  }\n\n  // get texture coordinates of current pixel\n  vec4 dataValue = vec4(0.);\n  vec3 gradient = vec3(1.); // gradient calculations will be skipped if it is equal to vec3(1.) \n  float steps = floor(uThickness / uSpacing + 0.5);\n\n  if (steps > 1.) {\n    vec3 origin = vPos - uThickness * 0.5 * vNormal;\n    vec4 dataValueAcc = vec4(0.);\n    for (float step = 0.; step < 128.; step++) {\n      if (step >= steps) {\n        break;\n      }\n\n      vec4 dataCoordinates = uWorldToData * vec4(origin + step * uSpacing * vNormal, 1.);\n      vec3 currentVoxel = dataCoordinates.xyz;\n      "+_e(this,"currentVoxel","dataValueAcc","gradient")+";\n\n      if (step == 0.) {\n        dataValue.r = dataValueAcc.r;\n        continue;\n      }\n\n      if (uThicknessMethod == 0) {\n        dataValue.r = max(dataValueAcc.r, dataValue.r);\n      }\n      if (uThicknessMethod == 1) {\n        dataValue.r += dataValueAcc.r;\n      }\n      if (uThicknessMethod == 2) {\n        dataValue.r = min(dataValueAcc.r, dataValue.r);\n      }\n    }\n\n    if (uThicknessMethod == 1) {\n      dataValue.r /= steps;\n    }\n  } else {\n    vec4 dataCoordinates = uWorldToData * vec4(vPos, 1.);\n    vec3 currentVoxel = dataCoordinates.xyz;\n    "+_e(this,"currentVoxel","dataValue","gradient")+"\n  }\n\n  if(uNumberOfChannels == 1){\n    // rescale/slope\n    float realIntensity = dataValue.r * uRescaleSlopeIntercept[0] + uRescaleSlopeIntercept[1];\n  \n    // threshold\n    if (realIntensity < uLowerUpperThreshold[0] || realIntensity > uLowerUpperThreshold[1]) {\n      discard;\n    }\n  \n    // normalize\n    float windowMin = uWindowCenterWidth[0] - uWindowCenterWidth[1] * 0.5;\n    float normalizedIntensity =\n      ( realIntensity - windowMin ) / uWindowCenterWidth[1];\n    dataValue.r = dataValue.g = dataValue.b = normalizedIntensity;\n    dataValue.a = 1.;\n\n    // apply LUT\n    if(uLut == 1){\n      // should opacity be grabbed there?\n      dataValue = texture2D( uTextureLUT, vec2( normalizedIntensity , 1.0) );\n    }\n  \n    // apply segmentation\n    if(uLutSegmentation == 1){\n      // should opacity be grabbed there?\n      //\n      float textureWidth = 256.;\n      float textureHeight = 128.;\n      float min = 0.;\n      // start at 0!\n      int adjustedIntensity = int(floor(realIntensity + 0.5));\n  \n      // Get row and column in the texture\n      int colIndex = int(mod(float(adjustedIntensity), textureWidth));\n      int rowIndex = int(floor(float(adjustedIntensity)/textureWidth));\n  \n      float texWidth = 1./textureWidth;\n      float texHeight = 1./textureHeight;\n    \n      // Map row and column to uv\n      vec2 uv = vec2(0,0);\n      uv.x = 0.5 * texWidth + (texWidth * float(colIndex));\n      uv.y = 1. - (0.5 * texHeight + float(rowIndex) * texHeight);\n  \n      dataValue = texture2D( uTextureLUTSegmentation, uv );\n    }\n  }\n\n  if(uInvert == 1){\n    dataValue.xyz = vec3(1.) - dataValue.xyz;\n  }\n\n  dataValue.a = dataValue.a*uOpacity;\n\n  gl_FragColor = dataValue;\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\nvarying vec3 vPos;\nvarying vec3 vNormal;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}(),be=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(){return function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._createMaterial=function(t){var i=new this._shadersFragment(this._uniforms),n=new this._shadersVertex,r={uniforms:this._uniforms,vertexShader:n.compute(),fragmentShader:i.compute()},o=Object.assign(t,r);this._material=new e.ShaderMaterial(o),this._material.needsUpdate=!0},i.prototype._updateMaterial=function(){var e=new this._shadersFragment(this._uniforms),t=new this._shadersVertex;this._material.vertexShader=t.compute(),this._material.fragmentShader=e.compute(),this._material.needsUpdate=!0},i.prototype._prepareTexture=function(){this._textures=[];for(var t=0,i;t<this._stack._rawData.length;t++){i=new e.DataTexture(this._stack.rawData[t],this._stack.textureSize,this._stack.textureSize,this._stack.textureType,e.UnsignedByteType,e.UVMapping,e.ClampToEdgeWrapping,e.ClampToEdgeWrapping,e.NearestFilter,e.NearestFilter);i.needsUpdate=!0,i.flipY=!0,this._textures.push(i)}},i}(e.Object3D)},ye=(be(),function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()),ge=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new e.Vector3(0,0,0),a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new e.Vector3(0,0,1),s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"IJK";!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return l._stack=n,l._invert=l._stack.invert,l._lut="none",l._lutTexture=null,l._intensityAuto=!0,l._interpolation=1,l._index=r,l._windowWidth=null,l._windowCenter=null,l._rescaleSlope=null,l._rescaleIntercept=null,l._spacing=1,l._thickness=0,l._thicknessMethod=0,l._lowerThreshold=null,l._upperThreshold=null,l._canvasWidth=0,l._canvasHeight=0,l._borderColor=null,l._planePosition=o,l._planeDirection=a,l._aaBBspace=s,l._material=null,l._textures=[],l._shadersFragment=me,l._shadersVertex=le,l._uniforms=se.uniforms(),l._geometry=null,l._mesh=null,l._visible=!0,l._init(),l._create(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._init=function(){if(this._stack&&this._stack._prepared&&this._stack._packed)if("IJK"===this._aaBBspace)this._halfDimensions=this._stack.halfDimensionsIJK,this._center=new e.Vector3(this._stack.halfDimensionsIJK.x-.5,this._stack.halfDimensionsIJK.y-.5,this._stack.halfDimensionsIJK.z-.5),this._toAABB=new e.Matrix4;else{var t=this._stack.AABBox();this._halfDimensions=t.clone().multiplyScalar(.5),this._center=this._stack.centerAABBox(),this._toAABB=this._stack.lps2AABB}},i.prototype._create=function(){if(this._stack&&this._stack.prepared&&this._stack.packed){try{var t=B(e);this._geometry=new t(this._halfDimensions,this._center,this._planePosition,this._planeDirection,this._toAABB)}catch(e){return window.console.log(e),void window.console.log("invalid slice geometry - exiting...")}this._geometry.vertices&&(this._material||(this._uniforms.uTextureSize.value=this._stack.textureSize,this._uniforms.uDataDimensions.value=[this._stack.dimensionsIJK.x,this._stack.dimensionsIJK.y,this._stack.dimensionsIJK.z],this._uniforms.uWorldToData.value=this._stack.lps2IJK,this._uniforms.uNumberOfChannels.value=this._stack.numberOfChannels,this._uniforms.uPixelType.value=this._stack.pixelType,this._uniforms.uBitsAllocated.value=this._stack.bitsAllocated,this._uniforms.uPackedPerPixel.value=this._stack.packedPerPixel,this._uniforms.uSpacing.value=this._spacing,this._uniforms.uThickness.value=this._thickness,this._uniforms.uThicknessMethod.value=this._thicknessMethod,this._prepareTexture(),this._uniforms.uTextureContainer.value=this._textures,8<this._stack.textureUnits&&(this._uniforms.uTextureContainer.length=14),this._createMaterial({side:e.DoubleSide})),this.updateIntensitySettings(),this.updateIntensitySettingsUniforms(),this._mesh=new e.Mesh(this._geometry,this._material),"IJK"===this._aaBBspace&&this._mesh.applyMatrix(this._stack.ijk2LPS),this._mesh.visible=this._visible,this.add(this._mesh))}},i.prototype.updateIntensitySettings=function(){this._intensityAuto?(this.updateIntensitySetting("windowCenter"),this.updateIntensitySetting("windowWidth"),this.updateIntensitySetting("rescaleSlope"),this.updateIntensitySetting("rescaleIntercept")):(null===this._windowCenter&&(this._windowCenter=this._stack.windowCenter),null===this._windowWidth&&(this._windowWidth=this._stack.windowWidth),null===this._rescaleSlope&&(this._rescaleSlope=this._stack.rescaleSlope),null===this._rescaleIntercept&&(this._rescaleIntercept=this._stack.rescaleIntercept)),null===this._upperThreshold&&(this._upperThreshold=this._stack._minMax[1]),null===this._lowerThreshold&&(this._lowerThreshold=this._stack._minMax[0])},i.prototype.updateIntensitySettingsUniforms=function(){var e=0;0>this._stack._minMax[0]&&(e-=this._stack._minMax[0]),this._uniforms.uRescaleSlopeIntercept.value=[this._rescaleSlope,this._rescaleIntercept],this._uniforms.uWindowCenterWidth.value=[e+this._windowCenter,this._windowWidth],this._uniforms.uLowerUpperThreshold.value=[e+this._lowerThreshold,e+this._upperThreshold],this._uniforms.uInvert.value=!0===this._invert?1:0,this._uniforms.uInterpolation.value=this._interpolation,"none"===this._lut?this._uniforms.uLut.value=0:(this._uniforms.uLut.value=1,this._uniforms.uTextureLUT.value=this._lutTexture)},i.prototype.updateIntensitySetting=function(e){this._stack.frame[this._index]&&this._stack.frame[this._index][e]?this["_"+e]=this._stack.frame[this._index][e]:this["_"+e]=this._stack[e]},i.prototype._update=function(){this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh=null),this._create()},i.prototype.dispose=function(){for(var e=0;e<this._textures.length;e++){this._textures[e].dispose(),this._textures[e]=null}this._textures=null,this._shadersFragment=null,this._shadersVertex=null,this._uniforms=null,this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null},i.prototype.cartesianEquation=function(){if(!this._geometry||!this._geometry.vertices||3>this._geometry.vertices.length)return new e.Vector4;var t=this._geometry.vertices,i=this._stack.ijk2LPS,n=new e.Vector3(t[0].x,t[0].y,t[0].z).applyMatrix4(i),r=new e.Vector3(t[1].x,t[1].y,t[1].z).applyMatrix4(i),o=new e.Vector3(t[2].x,t[2].y,t[2].z).applyMatrix4(i),a=new e.Vector3,s=new e.Vector3,l=a.subVectors(o,r).cross(s.subVectors(n,r)).normalize();return new e.Vector4(l.x,l.y,l.z,-l.dot(n))},ye(i,[{key:"stack",get:function get(){return this._stack},set:function set(e){this._stack=e}},{key:"spacing",get:function get(){return this._spacing},set:function set(e){this._spacing=e,this._uniforms.uSpacing.value=this._spacing}},{key:"thickness",get:function get(){return this._thickness},set:function set(e){this._thickness=e,this._uniforms.uThickness.value=this._thickness}},{key:"thicknessMethod",get:function get(){return this._thicknessMethod},set:function set(e){this._thicknessMethod=e,this._uniforms.uThicknessMethod.value=this._thicknessMethod}},{key:"windowWidth",get:function get(){return this._windowWidth},set:function set(e){this._windowWidth=e,this.updateIntensitySettingsUniforms()}},{key:"windowCenter",get:function get(){return this._windowCenter},set:function set(e){this._windowCenter=e,this.updateIntensitySettingsUniforms()}},{key:"upperThreshold",get:function get(){return this._upperThreshold},set:function set(e){this._upperThreshold=e,this.updateIntensitySettingsUniforms()}},{key:"lowerThreshold",get:function get(){return this._lowerThreshold},set:function set(e){this._lowerThreshold=e,this.updateIntensitySettingsUniforms()}},{key:"rescaleSlope",get:function get(){return this._rescaleSlope},set:function set(e){this._rescaleSlope=e,this.updateIntensitySettingsUniforms()}},{key:"rescaleIntercept",get:function get(){return this._rescaleIntercept},set:function set(e){this._rescaleIntercept=e,this.updateIntensitySettingsUniforms()}},{key:"invert",get:function get(){return this._invert},set:function set(e){this._invert=e,this.updateIntensitySettingsUniforms()}},{key:"lut",get:function get(){return this._lut},set:function set(e){this._lut=e}},{key:"lutTexture",get:function get(){return this._lutTexture},set:function set(e){this._lutTexture=e,this.updateIntensitySettingsUniforms()}},{key:"intensityAuto",get:function get(){return this._intensityAuto},set:function set(e){this._intensityAuto=e,this.updateIntensitySettings(),this.updateIntensitySettingsUniforms()}},{key:"interpolation",get:function get(){return this._interpolation},set:function set(e){this._interpolation=e,this.updateIntensitySettingsUniforms(),this._updateMaterial()}},{key:"index",get:function get(){return this._index},set:function set(e){this._index=e,this._update()}},{key:"planePosition",set:function set(e){this._planePosition=e,this._update()},get:function get(){return this._planePosition}},{key:"planeDirection",set:function set(e){this._planeDirection=e,this._update()},get:function get(){return this._planeDirection}},{key:"halfDimensions",set:function set(e){this._halfDimensions=e},get:function get(){return this._halfDimensions}},{key:"center",set:function set(e){this._center=e},get:function get(){return this._center}},{key:"aabbSpace",set:function set(e){this._aaBBspace=e,this._init()},get:function get(){return this._aaBBspace}},{key:"mesh",set:function set(e){this._mesh=e},get:function get(){return this._mesh}},{key:"geometry",set:function set(e){this._geometry=e},get:function get(){return this._geometry}},{key:"canvasWidth",set:function set(e){this._canvasWidth=e,this._uniforms.uCanvasWidth.value=this._canvasWidth},get:function get(){return this._canvasWidth}},{key:"canvasHeight",set:function set(e){this._canvasHeight=e,this._uniforms.uCanvasHeight.value=this._canvasHeight},get:function get(){return this._canvasHeight}},{key:"borderColor",set:function set(t){this._borderColor=t,this._uniforms.uBorderColor.value=new e.Color(t)},get:function get(){return this._borderColor}}]),i}(be(e))},ve=ge(),Ae=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),we=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return n._stack=e,n._bBox=null,n._slice=null,n._border=null,n._dummy=null,n._orientation=0,n._index=0,n._uniforms=null,n._autoWindowLevel=!1,n._outOfBounds=!1,n._orientationMaxIndex=0,n._orientationSpacing=0,n._canvasWidth=0,n._canvasHeight=0,n._borderColor=null,n._create(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){this._stack?(this._prepareStack(),this._prepareBBox(),this._prepareSlice(),this._prepareBorder()):window.console.log("no stack to be prepared...")},i.prototype._computeOrientationSpacing=function(){var e=this._stack._spacing;switch(this._orientation){case 0:this._orientationSpacing=e.z;break;case 1:this._orientationSpacing=e.x;break;case 2:this._orientationSpacing=e.y;break;default:this._orientationSpacing=0;}},i.prototype._computeOrientationMaxIndex=function(){var e=this._stack.dimensionsIJK;switch(this._orientationMaxIndex=0,this._orientation){case 0:this._orientationMaxIndex=e.z-1;break;case 1:this._orientationMaxIndex=e.x-1;break;case 2:this._orientationMaxIndex=e.y-1;}},i.prototype._isIndexOutOfBounds=function(){this._computeOrientationMaxIndex(),this._index>=this._orientationMaxIndex||0>this._index?this._outOfBounds=!0:this._outOfBounds=!1},i.prototype._prepareStack=function(){this._stack.prepared||this._stack.prepare(),this._stack.packed||this._stack.pack()},i.prototype._prepareBBox=function(){var t=L(e);this._bBox=new t(this._stack),this.add(this._bBox)},i.prototype._prepareBorder=function(){var t=G(e);this._border=new t(this._slice),this.add(this._border)},i.prototype._prepareSlice=function(){var t=this._stack.halfDimensionsIJK;this._index=this._prepareSliceIndex(t);var i=this._prepareSlicePosition(t,this._index),n=this._prepareDirection(this._orientation),r=ge(e);this._slice=new r(this._stack,this._index,i,n),this.add(this._slice)},i.prototype._prepareSliceIndex=function(e){var t=0;switch(this._orientation){case 0:t=_Mathfloor(e.z);break;case 1:t=_Mathfloor(e.x);break;case 2:t=_Mathfloor(e.y);}return t},i.prototype._prepareSlicePosition=function(t,i){var n=new e.Vector3(0,0,0);switch(this._orientation){case 0:n=new e.Vector3(_Mathfloor(t.x),_Mathfloor(t.y),i);break;case 1:n=new e.Vector3(i,_Mathfloor(t.y),_Mathfloor(t.z));break;case 2:n=new e.Vector3(_Mathfloor(t.x),i,_Mathfloor(t.z));}return n},i.prototype._prepareDirection=function(t){var i=new e.Vector3(0,0,1);switch(t){case 0:i=new e.Vector3(0,0,1);break;case 1:i=new e.Vector3(1,0,0);break;case 2:i=new e.Vector3(0,1,0);}return i},i.prototype.dispose=function(){this.remove(this._slice),this._slice.dispose(),this._slice=null,this._bBox.dispose(),this._bBox=null,this._border.dispose(),this._border=null},Ae(i,[{key:"stack",get:function get(){return this._stack},set:function set(e){this._stack=e}},{key:"bbox",get:function get(){return this._bBox}},{key:"slice",get:function get(){return this._slice}},{key:"border",get:function get(){return this._border}},{key:"index",get:function get(){return this._index},set:function set(e){this._index=e,this._slice.index=e;var t=this._stack.halfDimensionsIJK;this._slice.planePosition=this._prepareSlicePosition(t,this._index),this._border.helpersSlice=this._slice,this._isIndexOutOfBounds()}},{key:"orientation",set:function set(e){this._orientation=e,this._computeOrientationMaxIndex(),this._computeOrientationSpacing(),this._slice.spacing=_Mathabs(this._orientationSpacing),this._slice.thickness=this._slice.spacing,this._slice.planeDirection=this._prepareDirection(this._orientation),this._border.helpersSlice=this._slice},get:function get(){return this._orientation}},{key:"outOfBounds",set:function set(e){this._outOfBounds=e},get:function get(){return this._outOfBounds}},{key:"orientationMaxIndex",set:function set(e){this._orientationMaxIndex=e},get:function get(){return this._orientationMaxIndex}},{key:"orientationSpacing",set:function set(e){this._orientationSpacing=e},get:function get(){return this._orientationSpacing}},{key:"canvasWidth",set:function set(e){this._canvasWidth=e,this._slice.canvasWidth=this._canvasWidth},get:function get(){return this._canvasWidth}},{key:"canvasHeight",set:function set(e){this._canvasHeight=e,this._slice.canvasHeight=this._canvasHeight},get:function get(){return this._canvasHeight}},{key:"borderColor",set:function set(e){this._borderColor=e,this._border.color=e,this._slice.borderColor=this._borderColor},get:function get(){return this._borderColor}}]),i}(e.Object3D)},xe=we(),ke=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uTextureSize:{type:"i",value:0,typeGLSL:"int"},uTextureContainer:{type:"tv",value:[],typeGLSL:"sampler2D",length:7},uDataDimensions:{type:"iv",value:[0,0,0],typeGLSL:"ivec3"},uWorldToData:{type:"m4",value:new o,typeGLSL:"mat4"},uWindowCenterWidth:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uRescaleSlopeIntercept:{type:"fv1",value:[0,0],typeGLSL:"float",length:2},uNumberOfChannels:{type:"i",value:1,typeGLSL:"int"},uBitsAllocated:{type:"i",value:8,typeGLSL:"int"},uInvert:{type:"i",value:0,typeGLSL:"int"},uLut:{type:"i",value:0,typeGLSL:"int"},uTextureLUT:{type:"t",value:[],typeGLSL:"sampler2D"},uPixelType:{type:"i",value:0,typeGLSL:"int"},uPackedPerPixel:{type:"i",value:1,typeGLSL:"int"},uInterpolation:{type:"i",value:1,typeGLSL:"int"},uWorldBBox:{type:"fv1",value:[0,0,0,0,0,0],typeGLSL:"float",length:6},uSteps:{type:"i",value:256,typeGLSL:"int"},uAlphaCorrection:{type:"f",value:.5,typeGLSL:"float"},uFrequence:{type:"f",value:0,typeGLSL:"float"},uAmplitude:{type:"f",value:0,typeGLSL:"float"},uShading:{type:"i",value:1,typeGLSL:"int"},uAmbient:{type:"f",value:.1,typeGLSL:"float"},uAmbientColor:{type:"v3",value:[1,1,0],typeGLSL:"vec3"},uSampleColorToAmbient:{type:"i",value:1,typeGLSL:"int"},uSpecular:{type:"f",value:1,typeGLSL:"float"},uSpecularColor:{type:"v3",value:[1,1,1],typeGLSL:"vec3"},uDiffuse:{type:"f",value:.3,typeGLSL:"float"},uDiffuseColor:{type:"v3",value:[1,1,0],typeGLSL:"vec3"},uSampleColorToDiffuse:{type:"i",value:1,typeGLSL:"int"},uShininess:{type:"f",value:5,typeGLSL:"float"},uLightPosition:{type:"v3",value:[0,0,0],typeGLSL:"vec3"},uLightPositionInCamera:{type:"i",value:1,typeGLSL:"int"},uIntensity:{type:"v3",value:[.8,.8,.8],typeGLSL:"vec3"},uAlgorithm:{type:"i",value:0,typeGLSL:"int"}}},e}(),Ie=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\nvarying vec4 vPos;\n\n//\n// main\n//\nvoid main() {\n\n  vPos = modelMatrix * vec4(position, 1.0 );\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}(),Se=new(function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i.name="intersectBox",i._rayOrigin="rayOrigin",i._rayDirection="rayDirection",i._aabbMin="aabbMin",i._aabbMax="aabbMax",i._tNear="tNear",i._tFar="tFar",i._intersect="intersect",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.api=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._base,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._rayOrigin,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._rayDirection,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._aabbMin,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this._aabbMax,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:this._tNear,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._tFar,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:this._intersect;return this._base=e,this.compute(t,i,n,r,o,a,s)},t.prototype.compute=function(e,t,i,n,r,o,a){return this.computeDefinition(),this._base._functions[this._name]=this._definition,this._name+"("+e+", "+t+", "+i+", "+n+", "+r+", "+o+", "+a+");"},t.prototype.computeDefinition=function(){this._definition="\nvoid "+this._name+"(vec3 rayOrigin, vec3 rayDirection, vec3 boxMin, vec3 boxMax, out float tNear, out float tFar, out bool intersect){\n  // compute intersection of ray with all six bbox planes\n  vec3 invRay = vec3(1.) / rayDirection;\n  vec3 tBot = invRay * (boxMin - rayOrigin);\n  vec3 tTop = invRay * (boxMax - rayOrigin);\n  // re-order intersections to find smallest and largest on each axis\n  vec3 tMin = min(tTop, tBot);\n  vec3 tMax = max(tTop, tBot);\n  // find the largest tMin and the smallest tMax\n  float largest_tMin = max(max(tMin.x, tMin.y), max(tMin.x, tMin.z));\n  float smallest_tMax = min(min(tMax.x, tMax.y), min(tMax.x, tMax.z));\n  tNear = largest_tMin;\n  tFar = smallest_tMax;\n  intersect = smallest_tMax > largest_tMin;\n}\n\n    "},t}(he)),Ee=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\nvoid getIntensity(in vec3 dataCoordinates, out float intensity, out vec3 gradient){\n\n  vec4 dataValue = vec4(0., 0., 0., 0.);\n  "+_e(this,"dataCoordinates","dataValue","gradient")+"\n\n  intensity = dataValue.r;\n\n  // rescale/slope\n  intensity = intensity*uRescaleSlopeIntercept[0] + uRescaleSlopeIntercept[1];\n  // window level\n  float windowMin = uWindowCenterWidth[0] - uWindowCenterWidth[1] * 0.5;\n  intensity = ( intensity - windowMin ) / uWindowCenterWidth[1];\n}\n\nmat4 inverse(mat4 m) {\n  float\n    a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n    a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n    a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n    a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n    b00 = a00 * a11 - a01 * a10,\n    b01 = a00 * a12 - a02 * a10,\n    b02 = a00 * a13 - a03 * a10,\n    b03 = a01 * a12 - a02 * a11,\n    b04 = a01 * a13 - a03 * a11,\n    b05 = a02 * a13 - a03 * a12,\n    b06 = a20 * a31 - a21 * a30,\n    b07 = a20 * a32 - a22 * a30,\n    b08 = a20 * a33 - a23 * a30,\n    b09 = a21 * a32 - a22 * a31,\n    b10 = a21 * a33 - a23 * a31,\n    b11 = a22 * a33 - a23 * a32,\n\n    det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  return mat4(\n    a11 * b11 - a12 * b10 + a13 * b09,\n    a02 * b10 - a01 * b11 - a03 * b09,\n    a31 * b05 - a32 * b04 + a33 * b03,\n    a22 * b04 - a21 * b05 - a23 * b03,\n    a12 * b08 - a10 * b11 - a13 * b07,\n    a00 * b11 - a02 * b08 + a03 * b07,\n    a32 * b02 - a30 * b05 - a33 * b01,\n    a20 * b05 - a22 * b02 + a23 * b01,\n    a10 * b10 - a11 * b08 + a13 * b06,\n    a01 * b08 - a00 * b10 - a03 * b06,\n    a30 * b04 - a31 * b02 + a33 * b00,\n    a21 * b02 - a20 * b04 - a23 * b00,\n    a11 * b07 - a10 * b09 - a12 * b06,\n    a00 * b09 - a01 * b07 + a02 * b06,\n    a31 * b01 - a30 * b03 - a32 * b00,\n    a20 * b03 - a21 * b01 + a22 * b00) / det;\n}\n\n/**\n * Adapted from original sources\n * \n * Original code: \n * http://jamie-wong.com/2016/07/15/ray-marching-signed-distance-functions/\n * https://www.shadertoy.com/view/lt33z7\n * \n * The vec3 returned is the RGB color of the light's contribution.\n *\n * k_a: Ambient color\n * k_d: Diffuse color\n * k_s: Specular color\n * alpha: Shininess coefficient\n * p: position of point being lit\n * eye: the position of the camera\n * lightPos: the position of the light\n * lightIntensity: color/intensity of the light\n *\n * See https://en.wikipedia.org/wiki/Phong_reflection_model#Description\n */\nvec3 phongShading(vec3 k_a, vec3 k_d, vec3 k_s, float shininess, vec3 p, vec3 eye,\n  vec3 lightPos, vec3 lightIntensity, vec3 normal) {\n  vec3 N = normal;\n  vec3 L = lightPos - p;\n  if (length(L) > 0.) {\n    L = L / length(L);\n  }\n  vec3 V = eye - p;\n  if (length(V) > 0.) {\n    V = V / length(V);\n  }\n  vec3 R = reflect(-L, N);\n  if (length(R) > 0.) {\n    R = R / length(R);\n  }\n\n  // https://en.wikipedia.org/wiki/Blinn%E2%80%93Phong_shading_model\n  vec3 h = L + V;\n  vec3 H = h;\n  if (length(h) > 0.) {\n    H = H / length(h);\n  }\n\n  float dotLN = dot(L, N);\n  float dotRV = dot(R, V);\n\n  if (dotLN < 0.) {\n    // Light not visible from this point on the surface\n    return k_a;\n  } \n\n  if (dotRV < 0.) {\n    // Light reflection in opposite direction as viewer, apply only diffuse\n    // component\n    return k_a + lightIntensity * (k_d * dotLN);\n  }\n\n  float specAngle = max(dot(H, normal), 0.0);\n  float specular = pow(dotRV, shininess); //pow(specAngle, shininess); // \n  return k_a + lightIntensity * (k_d * dotLN  + k_s * specular);\n}\n\nfloat PI = 3.14159265358979323846264 * 00000.1; // PI\n\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand( const in vec2 uv) {\n  const highp float a = 12.9898;\n  const highp float b = 78.233;\n  const highp float c = 43758.5453;\n  highp float dt = dot(uv.xy, vec2(a, b)), sn = mod(dt, PI);\n  return fract(sin(sn) * c);\n}\n\nvoid main(void) {\n  const int maxSteps = 1024;\n\n  // the ray\n  vec3 rayOrigin = cameraPosition;\n  vec3 rayDirection = normalize(vPos.xyz - rayOrigin);\n\n  vec3 lightOrigin = uLightPositionInCamera == 1 ? cameraPosition : uLightPosition;\n\n  // the Axe-Aligned B-Box\n  vec3 AABBMin = vec3(uWorldBBox[0], uWorldBBox[2], uWorldBBox[4]);\n  vec3 AABBMax = vec3(uWorldBBox[1], uWorldBBox[3], uWorldBBox[5]);\n\n  // Intersection ray/bbox\n  float tNear, tFar;\n  bool intersect = false;\n  "+Se.api(this,"rayOrigin","rayDirection","AABBMin","AABBMax","tNear","tFar","intersect")+"\n  if (tNear < 0.0) tNear = 0.0;\n\n  // x / y should be within o-1\n  // should\n  float offset = rand(gl_FragCoord.xy);\n\n  // init the ray marching\n  float tStep = (tFar - tNear) / float(uSteps);\n  float tCurrent = tNear + offset * tStep;\n  vec4 accumulatedColor = vec4(0.0);\n  float accumulatedAlpha = 0.0;\n\n  // MIP volume rendering\n  float maxIntensity = 0.0;\n\n  mat4 dataToWorld = inverse(uWorldToData);\n\n  // rayOrigin -= rayDirection * 0.1; // gold_noise(vPos.xz, vPos.y) / 100.;  \n\n  for(int rayStep = 0; rayStep < maxSteps; rayStep++){\n    vec3 currentPosition = rayOrigin + rayDirection * tCurrent;\n    // some non-linear FUN\n    // some occlusion issue to be fixed\n    vec3 transformedPosition = currentPosition; //transformPoint(currentPosition, uAmplitude, uFrequence);\n    // world to data coordinates\n    // rounding trick\n    // first center of first voxel in data space is CENTERED on (0,0,0)\n    vec4 dataCoordinatesRaw = uWorldToData * vec4(transformedPosition, 1.0);\n    vec3 currentVoxel = vec3(dataCoordinatesRaw.x, dataCoordinatesRaw.y, dataCoordinatesRaw.z);\n    float intensity = 0.0;\n    vec3 gradient = vec3(0., 0., 0.);\n    getIntensity(currentVoxel, intensity, gradient);\n    // map gradient to world space and normalize before using\n    // we avoid to call \"normalize\" as it may be undefined if vector length == 0.\n    gradient = (vec3(dataToWorld * vec4(gradient, 0.)));\n    if (length(gradient) > 0.0) {\n      gradient = normalize(gradient);\n    }\n\n    vec4 colorSample;\n    float alphaSample;\n    if(uLut == 1){\n      vec4 colorFromLUT = texture2D( uTextureLUT, vec2( intensity, 1.0) );\n      // 256 colors\n      colorSample = colorFromLUT;\n      alphaSample = colorFromLUT.a;\n    }\n    else{\n      alphaSample = intensity;\n      colorSample.r = colorSample.g = colorSample.b = intensity;\n    }\n\n    // ray marching algorithm\n    // shading on\n    // interpolation on\n    if (uAlgorithm == 0 && uShading == 1 && uInterpolation != 0) {\n      //  && alphaSample > .3\n      vec3 ambientComponent = uSampleColorToAmbient == 1 ? colorSample.xyz : uAmbientColor;\n      ambientComponent *= uAmbient;\n      vec3 diffuseComponent = uSampleColorToDiffuse == 1 ? colorSample.xyz : uDiffuseColor;\n      diffuseComponent *= uDiffuse;\n      vec3 specularComponent = uSpecular * uSpecularColor;\n      float shininess = uShininess;\n      vec3 vIntensity = uIntensity;\n\n      colorSample.xyz += phongShading(\n        ambientComponent,\n        diffuseComponent,\n        specularComponent,\n        shininess,\n        currentPosition.xyz,\n        rayOrigin.xyz,\n        lightOrigin.xyz,\n        vIntensity,\n        gradient);\n    }\n\n    alphaSample = 1.0 - pow((1.0- alphaSample),tStep*uAlphaCorrection);\n    alphaSample *= (1.0 - accumulatedAlpha);\n\n    accumulatedColor += alphaSample * colorSample;\n    accumulatedAlpha += alphaSample;\n\n    tCurrent += tStep;\n\n    if (tCurrent > tFar || (uAlgorithm == 0 && accumulatedAlpha >= 1.0)) break;\n\n    if (uAlgorithm == 1 && (intensity >= maxIntensity)) {\n      maxIntensity = intensity;\n      accumulatedColor = colorSample;\n      accumulatedAlpha = 1.;\n    }\n  }\n\n  gl_FragColor = vec4(accumulatedColor.xyz, accumulatedAlpha);\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\nvarying vec4      vPos;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}(),Ce=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Be=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(e){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));return n._stack=e,n._textures=[],n._shadersFragment=Ee,n._shadersVertex=Ie,n._uniforms=ke.uniforms(),n._material=null,n._geometry=null,n._mesh=null,n._algorithm=0,n._alphaCorrection=.5,n._interpolation=1,n._shading=1,n._shininess=10,n._steps=256,n._offset=0,n._windowCenter=0,n._windowWidth=1,n._create(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype._create=function(){this._prepareStack(),this._prepareTexture(),this._prepareMaterial(),this._prepareGeometry(),this._mesh=new e.Mesh(this._geometry,this._material),this.add(this._mesh)},i.prototype._prepareStack=function(){this._stack.prepared||this._stack.prepare(),this._stack.packed||this._stack.pack(),this._offset=_Mathmin(0,this._stack._minMax[0]),this._windowCenter=this._stack.windowCenter,this._windowWidth=.8*this._stack.windowWidth},i.prototype._prepareMaterial=function(){this._uniforms=ke.uniforms(),this._uniforms.uWorldBBox.value=this._stack.worldBoundingBox(),this._uniforms.uTextureSize.value=this._stack.textureSize,this._uniforms.uTextureContainer.value=this._textures,8<this._stack.textureUnits&&(this._uniforms.uTextureContainer.length=14),this._uniforms.uWorldToData.value=this._stack.lps2IJK,this._uniforms.uNumberOfChannels.value=this._stack.numberOfChannels,this._uniforms.uPixelType.value=this._stack.pixelType,this._uniforms.uBitsAllocated.value=this._stack.bitsAllocated,this._uniforms.uPackedPerPixel.value=this._stack.packedPerPixel,this._uniforms.uWindowCenterWidth.value=[this._windowCenter-this._offset,this._windowWidth],this._uniforms.uRescaleSlopeIntercept.value=[this._stack.rescaleSlope,this._stack.rescaleIntercept],this._uniforms.uDataDimensions.value=[this._stack.dimensionsIJK.x,this._stack.dimensionsIJK.y,this._stack.dimensionsIJK.z],this._uniforms.uAlphaCorrection.value=this._alphaCorrection,this._uniforms.uInterpolation.value=this._interpolation,this._uniforms.uShading.value=this._shading,this._uniforms.uShininess.value=this._shininess,this._uniforms.uSteps.value=this._steps,this._uniforms.uAlgorithm.value=this._algorithm,this._createMaterial({side:e.BackSide,transparent:!0})},i.prototype._prepareGeometry=function(){var t=this._stack.worldBoundingBox(),i=this._stack.worldCenter();this._geometry=new e.BoxGeometry(t[1]-t[0],t[3]-t[2],t[5]-t[4]),this._geometry.applyMatrix(new e.Matrix4().makeTranslation(i.x,i.y,i.z))},i.prototype.dispose=function(){for(var e=0;e<this._textures.length;e++){this._textures[e].dispose(),this._textures[e]=null}this._textures=null,this._shadersFragment=null,this._shadersVertex=null,this._uniforms.uTextureContainer=null,this._uniforms.uTextureLUT=null,this._uniforms=null,this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this._stack=null},Ce(i,[{key:"uniforms",get:function get(){return this._uniforms},set:function set(e){this._uniforms=e}},{key:"mesh",set:function set(e){this._mesh=e},get:function get(){return this._mesh}},{key:"stack",get:function get(){return this._stack},set:function set(e){this._stack=e}},{key:"windowCenter",get:function get(){return this._windowCenter},set:function set(e){this._windowCenter=e,this._uniforms.uWindowCenterWidth.value[0]=this._windowCenter-this._offset}},{key:"windowWidth",get:function get(){return this._windowWidth},set:function set(e){this._windowWidth=_Mathmax(1,e),this._uniforms.uWindowCenterWidth.value[1]=this._windowWidth}},{key:"steps",get:function get(){return this._steps},set:function set(e){this._steps=e,this._uniforms.uSteps.value=this._steps}},{key:"alphaCorrection",get:function get(){return this._alphaCorrection},set:function set(e){this._alphaCorrection=e,this._uniforms.uAlphaCorrection.value=this._alphaCorrection}},{key:"interpolation",get:function get(){return this._interpolation},set:function set(e){this._interpolation=e,this._uniforms.uInterpolation.value=this._interpolation,this._updateMaterial()}},{key:"shading",get:function get(){return this._shading},set:function set(e){this._shading=e,this._uniforms.uShading.value=this._shading}},{key:"shininess",get:function get(){return this._shininess},set:function set(e){this._shininess=e,this._uniforms.uShininess.value=this._shininess}},{key:"algorithm",get:function get(){return this._algorithm},set:function set(e){this._algorithm=e,this._uniforms.uAlgorithm.value=this._algorithm}}]),i}(be(e))},Me=Be(),Pe=i(27),Te=i.n(Pe),De=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Re=function(e){function t(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:oe;!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return r._loaded=-1,r._totalLoaded=-1,r._parsed=-1,r._totalParsed=-1,r._data=[],r._container=i,r._progressBar=null,r._container&&n&&(r._progressBar=new n(r._container)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.free=function(){this._data=[],this._container=null,this._progressBar&&(this._progressBar.free(),this._progressBar=null)},t.prototype.fetch=function(e,t){var i=this;return new Promise(function(n,r){var o=new XMLHttpRequest;o.open("GET",e),o.crossOrigin=!0,o.responseType="arraybuffer",o.onloadstart=function(){i.emit("fetch-start",{file:e,time:new Date})},o.onload=function(t){if(200===o.status||0===o.status){i._loaded=t.loaded,i._totalLoaded=t.total,i._progressBar&&i._progressBar.update(i._loaded,i._totalLoaded,"load",e);var a=o.response;i.emit("fetch-success",{file:e,time:new Date,totalLoaded:t.total}),n({url:e,buffer:a})}else r(o.statusText)},o.onerror=function(){i.emit("fetch-error",{file:e,time:new Date}),r(o.statusText)},o.onabort=function(){i.emit("fetch-abort",{file:e,time:new Date}),r(o.statusText||"Aborted")},o.ontimeout=function(){i.emit("fetch-timeout",{file:e,time:new Date}),r(o.statusText)},o.onprogress=function(t){i._loaded=t.loaded,i._totalLoaded=t.total,i.emit("fetch-progress",{file:e,total:t.total,loaded:t.loaded,time:new Date}),i._progressBar&&i._progressBar.update(i._loaded,i._totalLoaded,"load",e)},o.onloadend=function(){i.emit("fetch-end",{file:e,time:new Date})},babelHelpers.instanceof(t,Map)&&t.set(e,o),o.send()})},t.prototype.parse=function(e){return new Promise(function(t){t(e)})},t.prototype.loadSequenceGroup=function(e,t){var i=this,n=[];return e.forEach(function(e){n.push(i.fetch(e,t))}),Promise.all(n).then(function(e){return i.parse(e)}).then(function(e){return i._data.push(e),e}).catch(function(e){"Aborted"!==e&&(window.console.log("oops... something went wrong..."),window.console.log(e))})},t.prototype.loadSequence=function(e,t){var i=this;return this.fetch(e,t).then(function(e){return i.parse(e)}).then(function(e){return i._data.push(e),e}).catch(function(e){"Aborted"!==e&&(window.console.log("oops... something went wrong..."),window.console.log(e))})},t.prototype.load=function(e,t){var i=this;Array.isArray(e)||(e=[e]),this._progressBar&&(this._progressBar.totalFiles=e.length,this._progressBar.requests=t),this.emit("load-start",{files:e,time:new Date});var n=[];return e.forEach(function(e){Array.isArray(e)?n.push(i.loadSequenceGroup(e,t)):n.push(i.loadSequence(e,t))}),Promise.all(n)},De(t,[{key:"data",set:function set(e){this._data=e},get:function get(){return this._data}}]),t}(Te.a),Ge=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=-1}return e.prototype.mergeModels=function(e,t){if(!this._validateModelArray(e)||!this._validateModelArray(t))return window.console.log("invalid inputs provided."),!1;for(var i=0,n=t.length;i<n;i++){for(var r=0,o=e.length;r<o&&!e[r].merge(t[i]);r++){r===e.length-1&&e.push(t[i])}}return!0},e.prototype.merge=function(e){return!!this.validate(e)&&this._id===e._id},e.prototype.validate=function(e){return!(!e||null===e||"function"!=typeof e.merge)},e.prototype._validateModelArray=function(e){if(null===e||Array!==e.constructor)return window.console.log("invalid model array provided."),!1;for(var t=0;t<e.length;t++){if(!e[t]||null===e[t]||"function"!=typeof e[t].validate||!e[t].validate(e[t]))return!1}return!0},e}(),Oe=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Fe=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i._concatenationUID=-1,i._seriesInstanceUID=-1,i._transferSyntaxUID="",i._seriesNumber=-1,i._seriesDescription="",i._seriesDate="",i._studyDescription="",i._studyDate="",i._accessionNumber=-1,i._modality="Modality not set",i._dimensionIndexSequence=[],i._numberOfFrames=0,i._numberOfChannels=1,i._patientID="",i._patientName="",i._patientAge="",i._patientBirthdate="",i._patientSex="",i._segmentationType=null,i._segmentationSegments=[],i._stack=[],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validate=function(t){return!!(e.prototype.validate.call(this,t)&&"function"==typeof t.mergeSeries&&t.hasOwnProperty("_seriesInstanceUID")&&t.hasOwnProperty("_numberOfFrames")&&t.hasOwnProperty("_numberOfChannels")&&t.hasOwnProperty("_stack")&&void 0!==t._stack&&Array===t._stack.constructor)},t.prototype.merge=function(e){return!!this.validate(e)&&this._seriesInstanceUID===e.seriesInstanceUID&&(e.stack[0]&&(0===this._stack[0]._numberOfFrames&&this._stack[0].computeNumberOfFrames(),this._stack[0].computeCosines(),0===e.stack[0]._numberOfFrames&&e.stack[0].computeNumberOfFrames(),e.stack[0].computeCosines()),this.mergeModels(this._stack,e.stack))},t.prototype.mergeSeries=function(e){var t=[this];return this.mergeModels(t,e),t},Oe(t,[{key:"seriesInstanceUID",set:function set(e){this._seriesInstanceUID=e},get:function get(){return this._seriesInstanceUID}},{key:"transferSyntaxUID",set:function set(e){this._transferSyntaxUID=e},get:function get(){return this._transferSyntaxUID}},{key:"transferSyntaxUIDLabel",get:function get(){switch(this._transferSyntaxUID){case"1.2.840.10008.1.2.4.90":return"JPEG 2000 Lossless";case"1.2.840.10008.1.2.4.91":return"JPEG 2000 Lossy";case"1.2.840.10008.1.2.4.57":return"JPEG Lossless, Nonhierarchical (Processes 14)";case"1.2.840.10008.1.2.4.70":return"JPEG Lossless, Nonhierarchical (Processes 14 [Selection 1])";case"1.2.840.10008.1.2.4.50":return"JPEG Baseline lossy process 1 (8 bit)";case"1.2.840.10008.1.2.4.51":return"JPEG Baseline lossy process 2 & 4 (12 bit)";case"1.2.840.10008.1.2":return"Implicit VR Little Endian";case"1.2.840.10008.1.2.1":return"Explicit VR Little Endian";case"1.2.840.10008.1.2.2":return"Explicit VR Big Endian";default:return"Unknown transfersyntax: "+this._transferSyntaxUID;}}},{key:"studyDate",set:function set(e){this._studyDate=e},get:function get(){return this._studyDate}},{key:"studyDescription",set:function set(e){this._studyDescription=e},get:function get(){return this._studyDescription}},{key:"seriesDate",set:function set(e){this._seriesDate=e},get:function get(){return this._seriesDate}},{key:"seriesDescription",set:function set(e){this._seriesDescription=e},get:function get(){return this._seriesDescription}},{key:"patientID",set:function set(e){this._patientID=e},get:function get(){return this._patientID}},{key:"patientName",set:function set(e){this._patientName=e},get:function get(){return this._patientName}},{key:"patientAge",set:function set(e){this._patientAge=e},get:function get(){return this._patientAge}},{key:"patientBirthdate",set:function set(e){this._patientBirthdate=e},get:function get(){return this._patientBirthdate}},{key:"patientSex",set:function set(e){this._patientSex=e},get:function get(){return this._patientSex}},{key:"numberOfFrames",set:function set(e){this._numberOfFrames=e},get:function get(){return this._numberOfFrames}},{key:"numberOfChannels",set:function set(e){this._numberOfChannels=e},get:function get(){return this._numberOfChannels}},{key:"stack",set:function set(e){this._stack=e},get:function get(){return this._stack}},{key:"modality",set:function set(e){this._modality=e},get:function get(){return this._modality}},{key:"segmentationType",set:function set(e){this._segmentationType=e},get:function get(){return this._segmentationType}},{key:"segmentationSegments",set:function set(e){this._segmentationSegments=e},get:function get(){return this._segmentationSegments}}]),t}(Ge),Le=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Ze=i(37),ze=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i._uid=null,i._stackID=-1,i._frame=[],i._numberOfFrames=0,i._rows=0,i._columns=0,i._numberOfChannels=1,i._bitsAllocated=8,i._pixelType=0,i._pixelRepresentation=0,i._textureSize=4096,i._textureUnits=7,i._rawData=[],i._windowCenter=0,i._windowWidth=0,i._rescaleSlope=1,i._rescaleIntercept=0,i._minMax=[_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY],i._regMatrix=new o,i._ijk2LPS=null,i._lps2IJK=null,i._aabb2LPS=null,i._lps2AABB=null,i._dimensionsIJK=null,i._halfDimensionsIJK=null,i._spacing=new s(1,1,1),i._spacingBetweenSlices=0,i._sliceThickness=0,i._origin=null,i._rightHanded=!0,i._xCosine=new s(1,0,0),i._yCosine=new s(0,1,0),i._zCosine=new s(0,0,1),i._prepared=!1,i._packed=!1,i._packedPerPixel=1,i._modality="Modality not set",i._segmentationType=null,i._segmentationSegments=[],i._segmentationDefaultColor=[63,174,128],i._frameSegment=[],i._segmentationLUT=[],i._segmentationLUTO=[],i._invert=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.prepareSegmentation=function(){this._frameSegment=this._frame;var e=[];this.computeCosines(),this._frame.map(this._computeDistanceArrayMap.bind(null,this._zCosine)),this._frame.sort(this._sortDistanceArraySort);for(var t=-1,i=0;i<this._frame.length;i++){if(e[t]&&e[t]._dist==this._frame[i]._dist)for(var n=0;n<e[t]._rows*e[t]._columns;n++){e[t]._pixelData[n]+=this._frame[i].pixelData[n]*this._frame[i]._referencedSegmentNumber}else{e.push(this._frame[i]),t++;for(var r=0;r<e[t]._rows*e[t]._columns;r++){e[t]._pixelData[r]*=this._frame[i]._referencedSegmentNumber}}e[t].minMax=g.minMax(e[t]._pixelData)}for(var o={},a=0,s=0;s<this._segmentationSegments.length;s++){a=_Mathmax(a,parseInt(this._segmentationSegments[s].segmentNumber,10));var l=this._segmentationSegments[s].recommendedDisplayCIELab;o[this._segmentationSegments[s].segmentNumber]=null===l?this._segmentationDefaultColor:C.cielab2RGB.apply(C,l)}for(var c=0;c<=a;c++){var h=c/a,u=c?1:0,f=[0,0,0];o.hasOwnProperty(c.toString())&&(f=o[c.toString()]),f[0]/=255,f[1]/=255,f[2]/=255,this._segmentationLUT.push([h].concat(f)),this._segmentationLUTO.push([h,u])}this._frame=e},t.prototype.prepare=function(){"SEG"===this._modality&&this.prepareSegmentation(),this.computeNumberOfFrames(),this._rows=this._frame[0].rows,this._columns=this._frame[0].columns,this._dimensionsIJK=new s(this._columns,this._rows,this._numberOfFrames),this._halfDimensionsIJK=new s(this._dimensionsIJK.x/2,this._dimensionsIJK.y/2,this._dimensionsIJK.z/2),this._spacingBetweenSlices=this._frame[0].spacingBetweenSlices,this._sliceThickness=this._frame[0].sliceThickness,this.computeCosines(),1<this._numberOfFrames&&this.orderFrames(),this.computeSpacing(),this._frame[0].imagePosition||(this._frame[0].imagePosition=[0,0,0]),this._frame[0].imageOrientation||(this._frame[0].imageOrientation=[1,0,0,0,1,0]),this._origin=this._arrayToVector3(this._frame[0].imagePosition,0),this.computeIJK2LPS(),this.computeLPS2AABB();var e=_Mathfloor(this._frame.length/2),t=this._frame[e];this._rescaleSlope=t.rescaleSlope||1,this._rescaleIntercept=t.rescaleIntercept||0,this.computeMinMaxIntensities(),this._minMax[0]=g.rescaleSlopeIntercept(this._minMax[0],this._rescaleSlope,this._rescaleIntercept),this._minMax[1]=g.rescaleSlopeIntercept(this._minMax[1],this._rescaleSlope,this._rescaleIntercept),this._windowWidth=t.windowWidth||this._minMax[1]-this._minMax[0],this._windowCenter=t.windowCenter||this._minMax[0]+this._windowWidth/2,this._bitsAllocated=t.bitsAllocated,this._prepared=!0},t.prototype.packEchos=function(){for(var e=[],t=0;t<this._frame.length;t+=4){for(var i=this._frame[t],n=0;n<this._rows*this._columns;n++){for(var r=1;4>r;r++){i.pixelData[n]+=this._frame[t+r].pixelData[n]}i.pixelData[n]/=4}e.push(i)}this._frame=e,this._numberOfFrames=this._frame.length,this._dimensionsIJK=new s(this._columns,this._rows,this._numberOfFrames),this._halfDimensionsIJK=new s(this._dimensionsIJK.x/2,this._dimensionsIJK.y/2,this._dimensionsIJK.z/2)},t.prototype.computeNumberOfFrames=function(){if(!(this._frame&&0<this._frame.length))return window.console.warn("_frame doesn't contain anything...."),window.console.warn(this._frame),!1;this._numberOfFrames=this._frame.length},t.prototype.computeCosines=function(){if(this._frame&&this._frame[0]){var e=this._frame[0].cosines();this._xCosine=e[0],this._yCosine=e[1],this._zCosine=e[2]}},t.prototype.orderFrames=function(){this._frame[0].dimensionIndexValues?this._frame.sort(this._orderFrameOnDimensionIndicesArraySort):this._frame[0].imagePosition&&this._frame[0].imageOrientation&&this._frame[1]&&this._frame[1].imagePosition&&this._frame[1].imageOrientation&&this._frame[0].imagePosition.join()!==this._frame[1].imagePosition.join()?(this._frame.map(this._computeDistanceArrayMap.bind(null,this._zCosine)),this._frame.sort(this._sortDistanceArraySort)):null!==this._frame[0].instanceNumber&&this._frame[1]&&null!==this._frame[1].instanceNumber&&this._frame[0].instanceNumber!==this._frame[1].instanceNumber?this._frame.sort(this._sortInstanceNumberArraySort):this._frame[0].sopInstanceUID&&this._frame[1]&&this._frame[1].sopInstanceUID&&this._frame[0].sopInstanceUID!==this._frame[1].sopInstanceUID?this._frame.sort(this._sortSopInstanceUIDArraySort):this._frame[0].imagePosition&&window.console.warn("do not know how to order the frames...")},t.prototype.computeSpacing=function(){this.xySpacing(),this.zSpacing()},t.prototype.zSpacing=function(){1<this._numberOfFrames&&(this._frame[0].pixelSpacing&&this._frame[0].pixelSpacing[2]?this._spacing.z=this._frame[0].pixelSpacing[2]:(this._frame.map(this._computeDistanceArrayMap.bind(null,this._zCosine)),this._frame[1].dist!==this._frame[0].dist?(this._frame.sort(this._sortDistanceArraySort),this._spacing.z=this._frame[1].dist-this._frame[0].dist):this._spacingBetweenSlices?this._spacing.z=this._spacingBetweenSlices:this._frame[0].sliceThickness&&(this._spacing.z=this._frame[0].sliceThickness))),0===this._spacing.z&&(this._spacing.z=1)},t.prototype.xySpacing=function(){if(this._frame&&this._frame[0]){var e=this._frame[0].spacingXY();this._spacing.x=e[0],this._spacing.y=e[1]}},t.prototype.computeMinMaxIntensities=function(){for(var e=0,t;e<this._frame.length;e++){t=this._frame[e].minMax[0];_NumberisNaN(t)||(this._minMax[0]=_Mathmin(this._minMax[0],t));var i=this._frame[e].minMax[1];_NumberisNaN(i)||(this._minMax[1]=_Mathmax(this._minMax[1],i))}},t.prototype.computeIJK2LPS=function(){this._ijk2LPS=g.ijk2LPS(this._xCosine,this._yCosine,this._zCosine,this._spacing,this._origin,this._regMatrix),this._lps2IJK=new o,this._lps2IJK.getInverse(this._ijk2LPS)},t.prototype.computeLPS2AABB=function(){this._aabb2LPS=g.aabb2LPS(this._xCosine,this._yCosine,this._zCosine,this._origin),this._lps2AABB=new o,this._lps2AABB.getInverse(this._aabb2LPS)},t.prototype.merge=function(e){return!!(this._stackID===e.stackID&&1===this._numberOfFrames&&1===e._numberOfFrames&&this._frame[0].columns===e.frame[0].columns&&this._frame[0].rows===e.frame[0].rows&&this._xCosine.equals(e.xCosine)&&this._yCosine.equals(e.yCosine)&&this._zCosine.equals(e.zCosine))&&this.mergeModels(this._frame,e.frame)},t.prototype.pack=function(){var e=this._dimensionsIJK.x*this._dimensionsIJK.y*this._dimensionsIJK.z;(8===this._bitsAllocated&&1===this._numberOfChannels||1===this._bitsAllocated)&&(this._packedPerPixel=4),16===this._bitsAllocated&&1===this._numberOfChannels&&(this._packedPerPixel=2);var t=this._textureSize*this._textureSize,i=_Mathceil(e/(t*this._packedPerPixel)),n=0,r=this._packedPerPixel*t;r>e&&(r=e),this._textureUnits<i&&(console.warn("Insufficient number of supported textures. Some frames will not be packed."),i=this._textureUnits);for(var o=0,a;o<i;o++){a=this._packTo8Bits(this._numberOfChannels,this._frame,this._textureSize,n,r);this._textureType=a.textureType,this._rawData.push(a.data),n+=this._packedPerPixel*t,(r+=this._packedPerPixel*t)>e&&(r=e)}this._packed=!0},t.prototype._packTo8Bits=function(e,t,i,n,r){var o={textureType:null,data:null},a=t[0].bitsAllocated,s=t[0].pixelType,l=0;0>this._minMax[0]&&(l-=this._minMax[0]);var c=0,h=0,u=0,f=t[0].rows*t[0].columns;if(8===a&&1===e||1===a){for(var d=new Uint8Array(4*(i*i)),p=0,_=0,m=n;m<r;m++){u=m%f;var b=t[h=~~(m/f)].pixelData[u]+l;_NumberisNaN(b)||(d[4*p+_]=b),c++,p=_Mathfloor(c/4),_=c%4}o.textureType=1023,o.data=d}else if(16===a&&1===e){for(var y=new Uint8Array(4*(i*i)),g=0,v=0,A=n;A<r;A++){u=A%f;var w=t[h=~~(A/f)].pixelData[u]+l;_NumberisNaN(w)||(y[4*g+2*v]=255&w,y[4*g+2*v+1]=255&w>>>8),c++,g=_Mathfloor(c/2),v=c%2}o.textureType=1023,o.data=y}else if(32===a&&1===e&&0===s){for(var x=new Uint8Array(4*(i*i)),k=n;k<r;k++){u=k%f;var I=t[h=~~(k/f)].pixelData[u]+l;_NumberisNaN(I)||(x[4*c]=255&I,x[4*c+1]=255&I>>>8,x[4*c+2]=255&I>>>16,x[4*c+3]=255&I>>>24),c++}o.textureType=1023,o.data=x}else if(32===a&&1===e&&1===s){for(var S=new Uint8Array(4*(i*i)),E=n;E<r;E++){u=E%f;var C=t[h=~~(E/f)].pixelData[u]+l;if(!_NumberisNaN(C)){var B=Ze(C).match(/.{1,8}/g);S[4*c]=parseInt(B[0],2),S[4*c+1]=parseInt(B[1],2),S[4*c+2]=parseInt(B[2],2),S[4*c+3]=parseInt(B[3],2)}c++}o.textureType=1023,o.data=S}else if(8===a&&3===e){for(var M=new Uint8Array(3*(i*i)),P=n;P<r;P++){h=~~(P/f),u=P%f,M[3*c]=t[h].pixelData[3*u],M[3*c+1]=t[h].pixelData[3*u+1],M[3*c+2]=t[h].pixelData[3*u+2],c++}o.textureType=1022,o.data=M}return o},t.prototype.worldCenter=function(){return this._halfDimensionsIJK.clone().addScalar(-.5).applyMatrix4(this._ijk2LPS)},t.prototype.worldBoundingBox=function(){for(var e=[_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY,_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY,_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY],t=this._dimensionsIJK,i=0;i<=t.x;i+=t.x){for(var n=0;n<=t.y;n+=t.y){for(var r=0,o;r<=t.z;r+=t.z){o=new s(i,n,r).applyMatrix4(this._ijk2LPS);e=[_Mathmin(e[0],o.x),_Mathmax(e[1],o.x),_Mathmin(e[2],o.y),_Mathmax(e[3],o.y),_Mathmin(e[4],o.z),_Mathmax(e[5],o.z)]}}}return e},t.prototype.AABBox=function(){var e=new s().addScalar(-.5).applyMatrix4(this._ijk2LPS).applyMatrix4(this._lps2AABB),t=this._dimensionsIJK.clone().addScalar(-.5).applyMatrix4(this._ijk2LPS).applyMatrix4(this._lps2AABB);return new s(_Mathabs(e.x-t.x),_Mathabs(e.y-t.y),_Mathabs(e.z-t.z))},t.prototype.centerAABBox=function(){var e=this.worldCenter();return e.applyMatrix4(this._lps2AABB),e},t.indexInDimensions=function(e,t){return 0<=e.x&&0<=e.y&&0<=e.z&&e.x<t.x&&e.y<t.y&&e.z<t.z},t.prototype._arrayToVector3=function(e,t){return new s(e[t],e[t+1],e[t+2])},t.prototype._orderFrameOnDimensionIndicesArraySort=function(e,t){if("dimensionIndexValues"in e&&"[object Array]"===Object.prototype.toString.call(e.dimensionIndexValues)&&"dimensionIndexValues"in t&&"[object Array]"===Object.prototype.toString.call(t.dimensionIndexValues))for(var i=0;i<e.dimensionIndexValues.length;i++){if(parseInt(e.dimensionIndexValues[i],10)>parseInt(t.dimensionIndexValues[i],10))return 1;if(parseInt(e.dimensionIndexValues[i],10)<parseInt(t.dimensionIndexValues[i],10))return-1}else window.console.warn("One of the frames doesn't have a dimensionIndexValues array."),window.console.warn(e),window.console.warn(t);return 0},t.prototype._computeDistanceArrayMap=function(e,t){return t.imagePosition&&(t.dist=t.imagePosition[0]*e.x+t.imagePosition[1]*e.y+t.imagePosition[2]*e.z),t},t.prototype._sortDistanceArraySort=function(e,t){return e.dist-t.dist},t.prototype._sortInstanceNumberArraySort=function(e,t){return e.instanceNumber-t.instanceNumber},t.prototype._sortSopInstanceUIDArraySort=function(e,t){return e.sopInstanceUID-t.sopInstanceUID},t.value=function(e,t){return window.console.warn("models.stack.value is deprecated.\n       Please use core.utils.value instead."),g.value(e,t)},t.valueRescaleSlopeIntercept=function(e,t,i){return window.console.warn("models.stack.valueRescaleSlopeIntercept is deprecated.\n       Please use core.utils.rescaleSlopeIntercept instead."),g.rescaleSlopeIntercept(e,t,i)},t.worldToData=function(e,t){return window.console.warn("models.stack.worldToData is deprecated.\n       Please use core.utils.worldToData instead."),g.worldToData(e._lps2IJK,t)},Le(t,[{key:"numberOfChannels",set:function set(e){this._numberOfChannels=e},get:function get(){return this._numberOfChannels}},{key:"frame",set:function set(e){this._frame=e},get:function get(){return this._frame}},{key:"prepared",set:function set(e){this._prepared=e},get:function get(){return this._prepared}},{key:"packed",set:function set(e){this._packed=e},get:function get(){return this._packed}},{key:"packedPerPixel",set:function set(e){this._packedPerPixel=e},get:function get(){return this._packedPerPixel}},{key:"dimensionsIJK",set:function set(e){this._dimensionsIJK=e},get:function get(){return this._dimensionsIJK}},{key:"halfDimensionsIJK",set:function set(e){this._halfDimensionsIJK=e},get:function get(){return this._halfDimensionsIJK}},{key:"regMatrix",set:function set(e){this._regMatrix=e},get:function get(){return this._regMatrix}},{key:"ijk2LPS",set:function set(e){this._ijk2LPS=e},get:function get(){return this._ijk2LPS}},{key:"lps2IJK",set:function set(e){this._lps2IJK=e},get:function get(){return this._lps2IJK}},{key:"lps2AABB",set:function set(e){this._lps2AABB=e},get:function get(){return this._lps2AABB}},{key:"textureSize",set:function set(e){this._textureSize=e},get:function get(){return this._textureSize}},{key:"textureUnits",set:function set(e){this._textureUnits=e},get:function get(){return this._textureUnits}},{key:"textureType",set:function set(e){this._textureType=e},get:function get(){return this._textureType}},{key:"bitsAllocated",set:function set(e){this._bitsAllocated=e},get:function get(){return this._bitsAllocated}},{key:"rawData",set:function set(e){this._rawData=e},get:function get(){return this._rawData}},{key:"windowWidth",get:function get(){return this._windowWidth},set:function set(e){this._windowWidth=e}},{key:"windowCenter",get:function get(){return this._windowCenter},set:function set(e){this._windowCenter=e}},{key:"rescaleSlope",get:function get(){return this._rescaleSlope},set:function set(e){this._rescaleSlope=e}},{key:"rescaleIntercept",get:function get(){return this._rescaleIntercept},set:function set(e){this._rescaleIntercept=e}},{key:"xCosine",get:function get(){return this._xCosine},set:function set(e){this._xCosine=e}},{key:"yCosine",get:function get(){return this._yCosine},set:function set(e){this._yCosine=e}},{key:"zCosine",get:function get(){return this._zCosine},set:function set(e){this._zCosine=e}},{key:"minMax",get:function get(){return this._minMax},set:function set(e){this._minMax=e}},{key:"stackID",get:function get(){return this._stackID},set:function set(e){this._stackID=e}},{key:"pixelType",get:function get(){return this._pixelType},set:function set(e){this._pixelType=e}},{key:"pixelRepresentation",get:function get(){return this._pixelRepresentation},set:function set(e){this._pixelRepresentation=e}},{key:"invert",set:function set(e){this._invert=e},get:function get(){return this._invert}},{key:"modality",set:function set(e){this._modality=e},get:function get(){return this._modality}},{key:"rightHanded",get:function get(){return this._rightHanded},set:function set(e){this._rightHanded=e}},{key:"spacingBetweenSlices",get:function get(){return this._spacingBetweenSlices},set:function set(e){this._spacingBetweenSlices=e}},{key:"segmentationSegments",set:function set(e){this._segmentationSegments=e},get:function get(){return this._segmentationSegments}},{key:"segmentationType",set:function set(e){this._segmentationType=e},get:function get(){return this._segmentationType}},{key:"segmentationLUT",set:function set(e){this._segmentationLUT=e},get:function get(){return this._segmentationLUT}},{key:"segmentationLUTO",set:function set(e){this._segmentationLUTO=e},get:function get(){return this._segmentationLUTO}}]),t}(Ge),Ue=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Ve=function(e){function t(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));return i._sopInstanceUID=null,i._url=null,i._stackID=-1,i._invert=!1,i._frameTime=null,i._rows=0,i._columns=0,i._dimensionIndexValues=[],i._imagePosition=null,i._imageOrientation=null,i._rightHanded=!0,i._sliceThickness=1,i._spacingBetweenSlices=null,i._pixelPaddingValue=null,i._pixelRepresentation=0,i._pixelType=0,i._pixelSpacing=null,i._pixelAspectRatio=null,i._pixelData=null,i._instanceNumber=null,i._windowCenter=null,i._windowWidth=null,i._rescaleSlope=null,i._rescaleIntercept=null,i._bitsAllocated=8,i._numberOfChannels=1,i._minMax=null,i._dist=null,i._index=-1,i._referencedSegmentNumber=-1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validate=function(t){return!!(e.prototype.validate.call(this,t)&&"function"==typeof t.cosines&&"function"==typeof t.spacingXY&&t.hasOwnProperty("_sopInstanceUID")&&t.hasOwnProperty("_dimensionIndexValues")&&t.hasOwnProperty("_imageOrientation")&&t.hasOwnProperty("_imagePosition"))},t.prototype.merge=function(e){return!!this.validate(e)&&!!(this._compareArrays(this._dimensionIndexValues,e.dimensionIndexValues)&&this._compareArrays(this._imageOrientation,e.imageOrientation)&&this._compareArrays(this._imagePosition,e.imagePosition)&&this._instanceNumber===e.instanceNumber&&this._sopInstanceUID===e.sopInstanceUID)},t.prototype.cosines=function(){var e=[new s(1,0,0),new s(0,1,0),new s(0,0,1)];if(this._imageOrientation&&6===this._imageOrientation.length){var t=new s(this._imageOrientation[0],this._imageOrientation[1],this._imageOrientation[2]),i=new s(this._imageOrientation[3],this._imageOrientation[4],this._imageOrientation[5]);0<t.length()&&0<i.length()&&(e[0]=t,e[1]=i,e[2]=new s(0,0,0).crossVectors(e[0],e[1]).normalize())}else window.console.log("No valid image orientation for frame"),window.console.log(this),window.console.log("Returning default orientation.");return this._rightHanded||e[2].negate(),e},t.prototype.spacingXY=function(){var e=[1,1];return this.pixelSpacing?(e[0]=this.pixelSpacing[0],e[1]=this.pixelSpacing[1]):this.pixelAspectRatio&&(e[0]=1,e[1]=1*this.pixelAspectRatio[1]/this.pixelAspectRatio[0]),e},t.prototype.getPixelData=function(e,t){return 0<=e&&e<this._columns&&0<=t&&t<this._rows?this.pixelData[e+this._columns*t]:null},t.prototype.setPixelData=function(e,t,i){this.pixelData[e+this._columns*t]=i},t.prototype.getImageDataUrl=function(){var e=document.createElement("canvas");e.width=this._columns,e.height=this._rows;var t=e.getContext("2d"),i=t.createImageData(e.width,e.height);return i.data.set(this._frameToCanvas()),t.putImageData(i,0,0),e.toDataURL()},t.prototype._frameToCanvas=function(){var e=this._columns*this._rows,t={invert:this._invert,min:this._minMax[0],padding:this._pixelPaddingValue},i=new Uint8Array(4*e);if(null!==t.padding){t.min=this._minMax[1];for(var n=0,r=this._pixelData.length;n<r;n++){this._pixelData[n]!==t.padding&&(t.min=_Mathmin(t.min,this._pixelData[n]))}}if(this._windowWidth&&null!==this._windowCenter){var o=this._rescaleIntercept||0,a=this._rescaleSlope||1;t.min=_Mathmax((this._windowCenter-this._windowWidth/2-o)/a,t.min),t.max=_Mathmin((this._windowCenter+this._windowWidth/2-o)/a,this._minMax[1])}else t.max=this._minMax[1];if(t.range=t.max-t.min||255,1===this._numberOfChannels)for(var s=0,l;s<e;s++){l=this._pixelTo8Bit(this._pixelData[s],t);i[4*s]=l,i[4*s+1]=l,i[4*s+2]=l,i[4*s+3]=255}else if(3===this._numberOfChannels)for(var c=0;c<e;c++){i[4*c]=this._pixelTo8Bit(this._pixelData[3*c],t),i[4*c+1]=this._pixelTo8Bit(this._pixelData[3*c+1],t),i[4*c+2]=this._pixelTo8Bit(this._pixelData[3*c+2],t),i[4*c+3]=255}return i},t.prototype._pixelTo8Bit=function(e,t){var i=e<=t.min||e===t.padding?0:255;return e>t.min&&e<t.max&&(i=_Mathround(255*(e-t.min)/t.range)),_NumberisNaN(i)?0:t.invert?255-i:i},t.prototype._compareArrays=function(e,t){return e===t||!(!e||!t||e.join()!==t.join())},Ue(t,[{key:"frameTime",get:function get(){return this._frameTime},set:function set(e){this._frameTime=e}},{key:"rows",get:function get(){return this._rows},set:function set(e){this._rows=e}},{key:"columns",get:function get(){return this._columns},set:function set(e){this._columns=e}},{key:"spacingBetweenSlices",get:function get(){return this._spacingBetweenSlices},set:function set(e){this._spacingBetweenSlices=e}},{key:"sliceThickness",get:function get(){return this._sliceThickness},set:function set(e){this._sliceThickness=e}},{key:"imagePosition",get:function get(){return this._imagePosition},set:function set(e){this._imagePosition=e}},{key:"imageOrientation",get:function get(){return this._imageOrientation},set:function set(e){this._imageOrientation=e}},{key:"windowWidth",get:function get(){return this._windowWidth},set:function set(e){this._windowWidth=e}},{key:"windowCenter",get:function get(){return this._windowCenter},set:function set(e){this._windowCenter=e}},{key:"rescaleSlope",get:function get(){return this._rescaleSlope},set:function set(e){this._rescaleSlope=e}},{key:"rescaleIntercept",get:function get(){return this._rescaleIntercept},set:function set(e){this._rescaleIntercept=e}},{key:"bitsAllocated",get:function get(){return this._bitsAllocated},set:function set(e){this._bitsAllocated=e}},{key:"dist",get:function get(){return this._dist},set:function set(e){this._dist=e}},{key:"pixelSpacing",get:function get(){return this._pixelSpacing},set:function set(e){this._pixelSpacing=e}},{key:"pixelAspectRatio",get:function get(){return this._pixelAspectRatio},set:function set(e){this._pixelAspectRatio=e}},{key:"minMax",get:function get(){return this._minMax},set:function set(e){this._minMax=e}},{key:"dimensionIndexValues",get:function get(){return this._dimensionIndexValues},set:function set(e){this._dimensionIndexValues=e}},{key:"instanceNumber",get:function get(){return this._instanceNumber},set:function set(e){this._instanceNumber=e}},{key:"pixelData",get:function get(){return this._pixelData},set:function set(e){this._pixelData=e}},{key:"sopInstanceUID",set:function set(e){this._sopInstanceUID=e},get:function get(){return this._sopInstanceUID}},{key:"pixelPaddingValue",get:function get(){return this._pixelPaddingValue},set:function set(e){this._pixelPaddingValue=e}},{key:"pixelRepresentation",get:function get(){return this._pixelRepresentation},set:function set(e){this._pixelRepresentation=e}},{key:"pixelType",get:function get(){return this._pixelType},set:function set(e){this._pixelType=e}},{key:"url",get:function get(){return this._url},set:function set(e){this._url=e}},{key:"referencedSegmentNumber",get:function get(){return this._referencedSegmentNumber},set:function set(e){this._referencedSegmentNumber=e}},{key:"rightHanded",get:function get(){return this._rightHanded},set:function set(e){this._rightHanded=e}},{key:"index",get:function get(){return this._index},set:function set(e){this._index=e}},{key:"invert",get:function get(){return this._invert},set:function set(e){this._invert=e}},{key:"numberOfChannels",get:function get(){return this._numberOfChannels},set:function set(e){this._numberOfChannels=e}}]),t}(Ge),Ne=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rightHanded=!0}return e.prototype.pixelRepresentation=function(){return 0},e.prototype.pixelPaddingValue=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype.modality=function(){return"unknown"},e.prototype.segmentationType=function(){return"unknown"},e.prototype.segmentationSegments=function(){return[]},e.prototype.referencedSegmentNumber=function(){return-1},e.prototype.rightHanded=function(){return this._rightHanded},e.prototype.spacingBetweenSlices=function(){return null},e.prototype.numberOfChannels=function(){return 1},e.prototype.sliceThickness=function(){return null},e.prototype.dimensionIndexValues=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype.instanceNumber=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},e.prototype.windowCenter=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype.windowWidth=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype.rescaleSlope=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return 1},e.prototype.rescaleIntercept=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return 0},e.prototype.frameTime=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},e.prototype._decompressUncompressed=function(){},e.prototype._swap16=function(e){return(255&e)<<8|255&e>>8},e.prototype._swap32=function(e){return(255&e)<<24|(65280&e)<<8|65280&e>>8|255&e>>24},e.prototype.invert=function(){return!1},e.prototype.transferSyntaxUID=function(){return"no value provided"},e.prototype.studyDate=function(){return"no value provided"},e.prototype.studyDescription=function(){return"no value provided"},e.prototype.seriesDate=function(){return"no value provided"},e.prototype.seriesDescription=function(){return"no value provided"},e.prototype.patientID=function(){return"no value provided"},e.prototype.patientName=function(){return"no value provided"},e.prototype.patientAge=function(){return"no value provided"},e.prototype.patientBirthdate=function(){return"no value provided"},e.prototype.patientSex=function(){return"no value provided"},e.prototype.minMaxPixelData=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=[_NumberPOSITIVE_INFINITY,_NumberNEGATIVE_INFINITY],i=e.length,n=0,r;n<i;n++){r=e[n];t[0]=_Mathmin(t[0],r),t[1]=_Mathmax(t[1],r)}return t},e}(),He=i(12),We=function(e,t){if(8===e.bitsAllocated)return e.planarConfiguration?function(e,t){for(var i=t,n=e.rows*e.columns,r=new ArrayBuffer(n*e.samplesPerPixel),o=new DataView(i.buffer,i.byteOffset),a=new Int8Array(i.buffer,i.byteOffset),s=new Int8Array(r),l=0,c=o.getInt32(0,!0),h=0;h<c;++h){l=h*n;var u=o.getInt32(4*(h+1),!0),f=o.getInt32(4*(h+2),!0);0===f&&(f=i.length);for(var d=n*c,p;u<f;){p=a[u++];if(0<=p&&127>=p)for(var _=0;_<p+1&&l<d;++_){s[l]=a[u++],l++}else if(-1>=p&&-127<=p)for(var m=a[u++],b=0;b<1-p&&l<d;++b){s[l]=m,l++}}}return e.pixelData=new Uint8Array(r),e}(e,t):function(e,t){for(var i=t,n=e.rows*e.columns,r=new ArrayBuffer(n*e.samplesPerPixel),o=new DataView(i.buffer,i.byteOffset),a=new Int8Array(i.buffer,i.byteOffset),s=new Int8Array(r),l=0,c=o.getInt32(0,!0),h=0;h<c;++h){l=h;var u=o.getInt32(4*(h+1),!0),f=o.getInt32(4*(h+2),!0);0===f&&(f=i.length);for(var d=n*c,p;u<f;){p=a[u++];if(0<=p&&127>=p)for(var _=0;_<p+1&&l<d;++_){s[l]=a[u++],l+=e.samplesPerPixel}else if(-1>=p&&-127<=p)for(var m=a[u++],b=0;b<1-p&&l<d;++b){s[l]=m,l+=e.samplesPerPixel}}}return e.pixelData=new Uint8Array(r),e}(e,t);if(16===e.bitsAllocated)return function(e,t){for(var i=t,n=e.rows*e.columns,r=new ArrayBuffer(2*(n*e.samplesPerPixel)),o=new DataView(i.buffer,i.byteOffset),a=new Int8Array(i.buffer,i.byteOffset),s=new Int8Array(r),l=o.getInt32(0,!0),c=0;c<l;++c){var h=0,u=0===c?1:0,f=o.getInt32(4*(c+1),!0),d=o.getInt32(4*(c+2),!0);for(0===d&&(d=i.length);f<d;){var p=a[f++];if(0<=p&&127>=p)for(var _=0;_<p+1&&h<n;++_){s[2*h+u]=a[f++],h++}else if(-1>=p&&-127<=p)for(var m=a[f++],b=0;b<1-p&&h<n;++b){s[2*h+u]=m,h++}}}return 0===e.pixelRepresentation?e.pixelData=new Uint16Array(r):e.pixelData=new Int16Array(r),e}(e,t);throw new Error("unsupported pixel format for RLE")},je=i(54),Ye=i(55),Xe=i(57),Qe=i(58),Je=void 0,qe=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));r._id=n,r._arrayBuffer=i.buffer;var o=new Uint8Array(r._arrayBuffer);r._dataSet=null;try{r._dataSet=je.parseDicom(o)}catch(e){throw window.console.log(e),new Error("parsers.dicom could not parse the file")}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.seriesInstanceUID=function(){return this._dataSet.string("x0020000e")},t.prototype.studyInstanceUID=function(){return this._dataSet.string("x0020000d")},t.prototype.modality=function(){return this._dataSet.string("x00080060")},t.prototype.segmentationType=function(){return this._dataSet.string("x00620001")},t.prototype.segmentationSegments=function(){var e=[],t=this._dataSet.elements.x00620002;if(!t)return e;for(var i=0;i<t.items.length;i++){var n=this._recommendedDisplayCIELab(t.items[i]),r=this._segmentationCode(t.items[i]),o=t.items[i].dataSet.uint16("x00620004"),a=t.items[i].dataSet.string("x00620005"),s=t.items[i].dataSet.string("x00620008");e.push({recommendedDisplayCIELab:n,segmentationCodeDesignator:r.segmentationCodeDesignator,segmentationCodeValue:r.segmentationCodeValue,segmentationCodeMeaning:r.segmentationCodeMeaning,segmentNumber:o,segmentLabel:a,segmentAlgorithmType:s})}return e},t.prototype._segmentationCode=function(e){var t="unknown",i="unknown",n="unknown",r=e.dataSet.elements.x00082218;return r&&r.items&&0<r.items.length&&(t=r.items[0].dataSet.string("x00080102"),i=r.items[0].dataSet.string("x00080100"),n=r.items[0].dataSet.string("x00080104")),{segmentationCodeDesignator:t,segmentationCodeValue:i,segmentationCodeMeaning:n}},t.prototype._recommendedDisplayCIELab=function(e){if(!e.dataSet.elements.x0062000d)return null;for(var t=e.dataSet.elements.x0062000d.dataOffset,i=e.dataSet.elements.x0062000d.length,n=e.dataSet.byteArray.slice(t,t+i),r=new Uint16Array(i/2),o=0;o<i/2;o++){r[o]=(n[2*o+1]<<8)+n[2*o]}return[100*(r[0]/65535),255*(r[1]/65535)-128,255*(r[2]/65535)-128]},t.prototype.sopInstanceUID=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._findStringEverywhere("x2005140f","x00080018",e);return t},t.prototype.transferSyntaxUID=function(){return this._dataSet.string("x00020010")},t.prototype.studyDate=function(){return this._dataSet.string("x00080020")},t.prototype.studyDescription=function(){return this._dataSet.string("x00081030")},t.prototype.seriesDate=function(){return this._dataSet.string("x00080021")},t.prototype.seriesDescription=function(){return this._dataSet.string("x0008103e")},t.prototype.patientName=function(){return this._dataSet.string("x00100010")},t.prototype.patientID=function(){return this._dataSet.string("x00100020")},t.prototype.patientBirthdate=function(){return this._dataSet.string("x00100030")},t.prototype.patientSex=function(){return this._dataSet.string("x00100040")},t.prototype.patientAge=function(){return this._dataSet.string("x00101010")},t.prototype.photometricInterpretation=function(){return this._dataSet.string("x00280004")},t.prototype.planarConfiguration=function(){var e=this._dataSet.uint16("x00280006");return void 0===e&&(e=null),e},t.prototype.samplesPerPixel=function(){return this._dataSet.uint16("x00280002")},t.prototype.numberOfFrames=function(){var e=this._dataSet.intString("x00280008");return void 0===e&&(e=null),e},t.prototype.numberOfChannels=function(){var e=1,t=this.photometricInterpretation();return"RGB"!==t&&"PALETTE COLOR"!==t&&"YBR_FULL"!==t&&"YBR_FULL_422"!==t&&"YBR_PARTIAL_422"!==t&&"YBR_PARTIAL_420"!==t&&"YBR_RCT"!==t||(e=3),e},t.prototype.invert=function(){return"MONOCHROME1"===this.photometricInterpretation()},t.prototype.imageOrientation=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._findStringEverywhere("x00209116","x00200037",e);return t&&(t=t.split("\\").map(Number)),t},t.prototype.referencedSegmentNumber=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=-1,i=this._findInGroupSequence("x52009230","x0062000a",e);return null!==i&&(t=i.uint16("x0062000b")),t},t.prototype.pixelAspectRatio=function(){var e=[this._dataSet.intString("x00280034",0),this._dataSet.intString("x00280034",1)];return void 0===e[0]&&(e=null),e},t.prototype.imagePosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._findStringEverywhere("x00209113","x00200032",e);return t&&(t=t.split("\\").map(Number)),t},t.prototype.instanceNumber=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=null,i=this._dataSet.elements.x52009230;void 0!==i?i.items[e].dataSet.elements.x2005140f?t=i.items[e].dataSet.elements.x2005140f.items[0].dataSet.intString("x00200013"):(t=this._dataSet.intString("x00200013"),void 0===t&&(t=null)):(t=this._dataSet.intString("x00200013"),void 0===t&&(t=null));return t},t.prototype.pixelSpacing=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._findStringEverywhere("x00289110","x00280030",e);return null===t&&(t=this._dataSet.string("x00181164")),t&&(t=t.split("\\").map(Number)),void 0===t&&(t=null),t},t.prototype.frameTime=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280009",1),t=this._dataSet.intString("x00082144"),i;return"number"==typeof e&&(e=e.toString(16),i=this._dataSet.floatString("x0018"+e)),void 0===i&&"number"==typeof t&&(i=1e3/t),void 0===i&&(i=null),i},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280010");return void 0===e&&(e=null),e},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280011");return void 0===e&&(e=null),e},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return 0},t.prototype.pixelRepresentation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280103");return e},t.prototype.pixelPaddingValue=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.int16("x00280120");return void 0===e&&(e=null),e},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280100");return e},t.prototype.highBit=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.uint16("x00280102");return e},t.prototype.rescaleIntercept=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289145","x00281052",e)},t.prototype.rescaleSlope=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289145","x00281053",e)},t.prototype.windowCenter=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289132","x00281050",e)},t.prototype.windowWidth=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289132","x00281051",e)},t.prototype.sliceThickness=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._findFloatStringInFrameGroupSequence("x00289110","x00180050",e)},t.prototype.spacingBetweenSlices=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.floatString("x00180088");return void 0===e&&(e=null),e},t.prototype.dimensionIndexValues=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=null,i=this._dataSet.elements.x52009230;if(void 0!==i){var n=i.items[e].dataSet.elements.x00209111;if(void 0!==n&&null!==n){var r=(n=n.items[0].dataSet).elements.x00209157;if(void 0!==r&&null!==r){var o=r.length/4;t=[];for(var a=0;a<o;a++){t.push(n.uint32("x00209157",a))}}}}return t},t.prototype.inStackPositionNumber=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=null,i=this._dataSet.elements.x52009230;void 0!==i?t=i.items[e].dataSet.elements.x00209111.items[0].dataSet.uint32("x00209057"):t=null;return t},t.prototype.stackID=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=null,i=this._dataSet.elements.x52009230;void 0!==i?t=i.items[e].dataSet.elements.x00209111.items[0].dataSet.intString("x00209056"):t=null;return t},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._decodePixelData(e);return 1<this.numberOfChannels()?this._convertColorSpace(t):t},t.prototype._findInGroupSequence=function(e,t,i){var n=this._dataSet.elements[e];if(void 0!==n){var r=n.items[i].dataSet.elements[t];if(void 0!==r)return r.items[0].dataSet}return null},t.prototype._findStringInGroupSequence=function(e,t,i,n){var r=this._findInGroupSequence(e,t,n);return null!==r?r.string(i):null},t.prototype._findStringInFrameGroupSequence=function(e,t,i){return this._findStringInGroupSequence("x52009229",e,t,0)||this._findStringInGroupSequence("x52009230",e,t,i)},t.prototype._findStringEverywhere=function(e,t,i){var n=this._findStringInFrameGroupSequence(e,t,i);if(null===n){n=this._findStringInSequence("x00540022",t)}return null===n&&(n=this._dataSet.string(t)),void 0===n&&(n=null),n},t.prototype._findStringInSequence=function(e,t){var n=this._dataSet.elements[e],r;return n&&(r=n.items[0].dataSet.string(t)),void 0===r&&(r=null),r},t.prototype._findFloatStringInGroupSequence=function(e,t,i,n){var r=this._dataSet.floatString(i);return void 0===r?null!==(r=this._findInGroupSequence(e,t,n))?r.floatString(i):null:r},t.prototype._findFloatStringInFrameGroupSequence=function(e,t,i){return this._findFloatStringInGroupSequence("x52009229",e,t,0)||this._findFloatStringInGroupSequence("x52009230",e,t,i)},t.prototype._decodePixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.transferSyntaxUID();if("1.2.840.10008.1.2.4.90"===t||"1.2.840.10008.1.2.4.91"===t)return this._decodeJ2K(e);if("1.2.840.10008.1.2.5"===t)return this._decodeRLE(e);if("1.2.840.10008.1.2.4.57"===t||"1.2.840.10008.1.2.4.70"===t)return this._decodeJPEGLossless(e);if("1.2.840.10008.1.2.4.50"===t||"1.2.840.10008.1.2.4.51"===t)return this._decodeJPEGBaseline(e);if("1.2.840.10008.1.2"===t||"1.2.840.10008.1.2.1"===t)return this._decodeUncompressed(e);if("1.2.840.10008.1.2.2"===t){var i=this._decodeUncompressed(e);return this._swapFrame(i)}throw{error:"no decoder for transfer syntax "+t}},t.prototype.framesAreFragmented=function(){return this._dataSet.intString("x00280008")!==this._dataSet.elements.x7fe00010.fragments.length},t.prototype.getEncapsulatedImageFrame=function(e){return this._dataSet.elements.x7fe00010&&this._dataSet.elements.x7fe00010.basicOffsetTable.length?je.readEncapsulatedImageFrame(this._dataSet,this._dataSet.elements.x7fe00010,e):this.framesAreFragmented()?je.readEncapsulatedImageFrame(this._dataSet,this._dataSet.elements.x7fe00010,e,je.createJPEGBasicOffsetTable(this._dataSet,this._dataSet.elements.x7fe00010)):je.readEncapsulatedPixelDataFromFragments(this._dataSet,this._dataSet.elements.x7fe00010,e)},t.prototype._decodeJpx=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=new Qe;if(t.parse(this.getEncapsulatedImageFrame(e)),1!==t.componentsCount)throw new Error("JPEG2000 decoder returned a componentCount of ${componentsCount}, when 1 is expected");if(1!==t.tiles.length)throw new Error("JPEG2000 decoder returned a tileCount of ${tileCount}, when 1 is expected");return t.tiles[0].items},t.prototype._decodeOpenJPEG=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.getEncapsulatedImageFrame(e),i=8>=this.bitsAllocated(e)?1:2,n=1===this.pixelRepresentation(e),r=Je._malloc(t.length);Je.writeArrayToMemory(t,r);var o=Je._malloc(4),a=Je._malloc(4),s=Je._malloc(4),l=Je._malloc(4),c=Je._malloc(4),h=Je.ccall("jp2_decode","number",["number","number","number","number","number","number","number"],[r,t.length,o,a,s,l,c]),u=Je.getValue(o,"*");if(0!==h)return console.log("[opj_decode] decoding failed!"),Je._free(r),Je._free(u),Je._free(s),Je._free(l),Je._free(a),void Je._free(c);var f=Je.getValue(s,"i32")*Je.getValue(l,"i32")*Je.getValue(c,"i32"),d=new Int32Array(Je.HEAP32.buffer,u,f),p;if(1===i){if(Uint8Array.from)p=Uint8Array.from(d);else{p=new Uint8Array(f);for(var _=0;_<f;_++){p[_]=d[_]}}}else if(n){if(Int16Array.from)p=Int16Array.from(d);else{p=new Int16Array(f);for(var m=0;m<f;m++){p[m]=d[m]}}}else if(Uint16Array.from)p=Uint16Array.from(d);else{p=new Uint16Array(f);for(var b=0;b<f;b++){p[b]=d[b]}}return Je._free(r),Je._free(o),Je._free(u),Je._free(a),Je._free(s),Je._free(l),Je._free(c),p},t.prototype._decodeJ2K=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return void 0===He?this._decodeJpx(e):Je||(Je=He())&&Je._jp2_decode?this._decodeOpenJPEG(e):this._decodeJpx(e)},t.prototype._decodeRLE=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.bitsAllocated(e),i=this.planarConfiguration(),n=this.columns(),r=this.rows(),o=this.samplesPerPixel(e),a={pixelRepresentation:this.pixelRepresentation(e),bitsAllocated:t,planarConfiguration:i,columns:n,rows:r,samplesPerPixel:o},s=je.readEncapsulatedPixelDataFromFragments(this._dataSet,this._dataSet.elements.x7fe00010,e);return We(a,s).pixelData},t.prototype._decodeJPEGLossless=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.getEncapsulatedImageFrame(e),i=this.pixelRepresentation(e),n=8>=this.bitsAllocated(e)?1:2,r=new Ye.lossless.Decoder().decode(t.buffer,t.byteOffset,t.length,n);return 0===i?2===n?new Uint16Array(r.buffer):new Uint8Array(r.buffer):new Int16Array(r.buffer)},t.prototype._decodeJPEGBaseline=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.getEncapsulatedImageFrame(e),i=this.rows(e),n=this.columns(e),r=this.bitsAllocated(e),o=new Xe;return o.parse(t),8===r?o.getData(n,i):16===r?o.getData16(n,i):void 0},t.prototype._decodeUncompressed=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.pixelRepresentation(e),i=this.bitsAllocated(e),n=this._dataSet.elements.x7fe00010.dataOffset,r=this.numberOfChannels(),o=this.rows(e)*this.columns(e)*r,a=0,s=this._dataSet.byteArray.buffer;if(0===t&&8===i)return a=n+e*o,new Uint8Array(s,a,o);if(0===t&&16===i)return a=n+2*(e*o),new Uint16Array(s,a,o);if(1===t&&16===i)return a=n+2*(e*o),new Int16Array(s,a,o);if(0===t&&32===i)return a=n+4*(e*o),new Uint32Array(s,a,o);if(0===t&&1===i){var l=new ArrayBuffer(o),c=new Uint8Array(l);a=n+e*o;for(var h=0,u=e*o,d=_Mathfloor(u/8),p=u-8*d,_=_Mathceil((e*o+o)/8),m=new Uint8Array(s,n),b=d;b<=_;b++){for(;8>p;){switch(p){case 0:c[h]=1&m[b];break;case 1:c[h]=1&m[b]>>>1;break;case 2:c[h]=1&m[b]>>>2;break;case 3:c[h]=1&m[b]>>>3;break;case 4:c[h]=1&m[b]>>>4;break;case 5:c[h]=1&m[b]>>>5;break;case 6:c[h]=1&m[b]>>>6;break;case 7:c[h]=1&m[b]>>>7;}if(p++,++h>=o)return c}p=0}}},t.prototype._interpretAsRGB=function(e){return-1!==["RGB","YBR_RCT","YBR_ICT","YBR_FULL_422"].indexOf(e)},t.prototype._convertColorSpace=function(e){var t=null,i=this.photometricInterpretation(),n=this.planarConfiguration(),r=this._interpretAsRGB(i);if(r&&0===n)t=e;else if(r&&1===n){if(babelHelpers.instanceof(e,Int8Array))t=new Int8Array(e.length);else if(babelHelpers.instanceof(e,Uint8Array))t=new Uint8Array(e.length);else if(babelHelpers.instanceof(e,Int16Array))t=new Int16Array(e.length);else{if(!babelHelpers.instanceof(e,Uint16Array))throw new Error("unsuported typed array: "+e);t=new Uint16Array(e.length)}for(var o=e.length/3,a=0,s=0,l=o,c=2*o,h=0;h<o;h++){t[a++]=e[s++],t[a++]=e[l++],t[a++]=e[c++]}}else{if("YBR_FULL"!==i)throw new Error("photometric interpolation not supported: "+i);if(babelHelpers.instanceof(e,Int8Array))t=new Int8Array(e.length);else if(babelHelpers.instanceof(e,Uint8Array))t=new Uint8Array(e.length);else if(babelHelpers.instanceof(e,Int16Array))t=new Int16Array(e.length);else{if(!babelHelpers.instanceof(e,Uint16Array))throw new Error("unsuported typed array: "+e);t=new Uint16Array(e.length)}for(var u=e.length/3,f=0,d=0,p=0;p<u;p++){var _=e[f++],m=e[f++],b=e[f++];t[d++]=_+1.402*(b-128),t[d++]=_-.34414*(m-128)-.71414*(b-128),t[d++]=_+1.772*(m-128)}}return t},t.prototype._swapFrame=function(e){var t=this.bitsAllocated();if(16===t)for(var i=0;i<e.length;i++){e[i]=this._swap16(e[i])}else if(32===t)for(var n=0;n<e.length;n++){e[n]=this._swap32(e[n])}return e},t}(Ne),Ke=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));r._id=n,r._url=i.url,r._header={},r._buffer=null;try{new TextDecoder().decode(i.mhdBuffer).split("\n").forEach(function(e){var t=e.split("=");2===t.length&&(r._header[t[0].trim()]=t[1].trim())}),r._header.DimSize=r._header.DimSize.split(" "),r._header.ElementSpacing=r._header.ElementSpacing.split(" "),r._header.TransformMatrix=r._header.TransformMatrix.split(" "),r._header.Offset=r._header.Offset.split(" "),r._buffer=i.rawBuffer}catch(e){window.console.log("ooops... :(")}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.rightHanded=function(){var e=this._header.AnatomicalOrientation;return this._rightHanded="RAS"===e||"RPI"===e||"LPS"===e||"LAI"===e,this._rightHanded},t.prototype.seriesInstanceUID=function(){return this._url},t.prototype.numberOfFrames=function(){return parseInt(this._header.DimSize[2],10)},t.prototype.sopInstanceUID=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return parseInt(this._header.DimSize[1],10)},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return parseInt(this._header.DimSize[0],10)},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=0;return"MET_UFLOAT"!==this._header.ElementType&&"MET_FLOAT"!==this._header.ElementType||(e=1),e},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=1;return"MET_UCHAR"===this._header.ElementType||"MET_CHAR"===this._header.ElementType?e=8:"MET_USHORT"===this._header.ElementType||"MET_SHORT"===this._header.ElementType?e=16:"MET_UINT"!==this._header.ElementType&&"MET_INT"!==this._header.ElementType&&"MET_UFLOAT"!==this._header.ElementType&&"MET_FLOAT"!==this._header.ElementType||(e=32),e},t.prototype.pixelSpacing=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[parseFloat(this._header.ElementSpacing[1],10),parseFloat(this._header.ElementSpacing[0],10),parseFloat(this._header.ElementSpacing[2],10)]},t.prototype.imageOrientation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._header.AnatomicalOrientation.match(/L/)?-1:1,t=this._header.AnatomicalOrientation.match(/P/)?-1:1,i=new s(parseFloat(this._header.TransformMatrix[0])*e,parseFloat(this._header.TransformMatrix[1])*t,parseFloat(this._header.TransformMatrix[2]));i.normalize();var n=new s(parseFloat(this._header.TransformMatrix[3])*e,parseFloat(this._header.TransformMatrix[4])*t,parseFloat(this._header.TransformMatrix[5]));return n.normalize(),[i.x,i.y,i.z,n.x,n.y,n.z]},t.prototype.imagePosition=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[parseFloat(this._header.Offset[0]),parseFloat(this._header.Offset[1]),parseFloat(this._header.Offset[2])]},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._decompressUncompressed(e)},t.prototype._decompressUncompressed=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._buffer,i=this.numberOfChannels(),n=this.rows(e)*this.columns(e)*i;this.rightHanded()||(e=this.numberOfFrames()-1-e);var r=e*n;return"MET_CHAR"===this._header.ElementType?new Int8Array(t,r,n):"MET_UCHAR"===this._header.ElementType?new Uint8Array(t,r,n):"MET_SHORT"===this._header.ElementType?(r*=2,new Int16Array(t,r,n)):"MET_USHORT"===this._header.ElementType?(r*=2,new Uint16Array(t,r,n)):"MET_INT"===this._header.ElementType?(r*=4,new Int32Array(t,r,n)):"MET_UINT"===this._header.ElementType?(r*=4,new Uint32Array(t,r,n)):"MET_FLOAT"===this._header.ElementType?(r*=4,new Float32Array(t,r,n)):void 0},t}(Ne),$e=i(3),et=i.n($e),tt=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));if(r._id=n,r._arrayBuffer=i.buffer,r._url=i.url,r._dataSet=null,r._niftiHeader=null,r._niftiImage=null,r._ordered=!0,r._orderedData=null,r._qfac=1,!et.a.isNIFTI(r._arrayBuffer))throw new Error("parsers.nifti could not parse the file");return r._dataSet=et.a.readHeader(r._arrayBuffer),r._niftiImage=et.a.readImage(r._dataSet,r._arrayBuffer),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.seriesInstanceUID=function(){return this._url},t.prototype.numberOfFrames=function(){return this._dataSet.dims[3]},t.prototype.numberOfChannels=function(){var e=1;return 5<=this._dataSet.dims[0]?(e=this._dataSet.dims[5],this._ordered=!1):128===this._dataSet.datatypeCode?e=3:2304===this._dataSet.datatypeCode&&(e=4),e},t.prototype.sopInstanceUID=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.dims[2]},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.dims[1]},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=0;return 16!==this._dataSet.datatypeCode&&64!==this._dataSet.datatypeCode&&1536!==this._dataSet.datatypeCode||(e=1),e},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.numBitsPerVoxel},t.prototype.pixelSpacing=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[this._dataSet.pixDims[1],this._dataSet.pixDims[2],this._dataSet.pixDims[3]]},t.prototype.sliceThickness=function(){return null},t.prototype.imageOrientation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(0<this._dataSet.qform_code){var e=0,t=this._dataSet.quatern_b,i=this._dataSet.quatern_c,n=this._dataSet.quatern_d;return 1e-7>(e=1-(t*t+i*i+n*n))?(t*=e=1/_Mathsqrt(t*t+i*i+n*n),i*=e,n*=e,e=0):e=_Mathsqrt(e),0>this._dataSet.pixDims[0]&&(this._rightHanded=!1),[-(e*e+t*t-i*i-n*n),-2*(t*i+e*n),2*(t*n-e*i),-2*(t*i-e*n),-(e*e+i*i-t*t-n*n),2*(i*n+e*t)]}if(0<this._dataSet.sform_code){var r=[-this._dataSet.affine[0][0],-this._dataSet.affine[0][1],this._dataSet.affine[0][2]],o=[-this._dataSet.affine[1][0],-this._dataSet.affine[1][1],this._dataSet.affine[0][2]];return[].concat(r,o)}return this._dataSet.qform_code,[1,0,0,0,1,0]},t.prototype.imagePosition=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[-this._dataSet.qoffset_x,-this._dataSet.qoffset_y,this._dataSet.qoffset_z]},t.prototype.dimensionIndexValues=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},t.prototype.instanceNumber=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.windowCenter=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},t.prototype.windowWidth=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return null},t.prototype.rescaleSlope=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.scl_slope},t.prototype.rescaleIntercept=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.scl_inter},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._decompressUncompressed(e)},t.prototype._decompressUncompressed=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.numberOfChannels(),i=this.rows(e)*this.columns(e)*t,n=e*i,r=this._niftiImage;if(this._ordered||null!==this._orderedData||this._reorderData(),null!==this._orderedData)return this._orderedData.slice(n,n+i);if(2===this._dataSet.datatypeCode)return new Uint8Array(r,n,i);if(256===this._dataSet.datatypeCode)return new Int8Array(r,n,i);if(512===this._dataSet.datatypeCode)return n*=2,new Uint16Array(r,n,i);if(4===this._dataSet.datatypeCode)return n*=2,new Int16Array(r,n,i);if(8===this._dataSet.datatypeCode)return n*=4,new Int32Array(r,n,i);if(16===this._dataSet.datatypeCode){n*=4;for(var o=new Float32Array(r,n,i),a=0;a<o.length;a++){o[a]!==1/0&&o[a]!==-1/0||(o[a]=0)}return o}window.console.warn("Unknown data type: datatypeCode : "+this._dataSet.datatypeCode)},t.prototype._reorderData=function(){var e=this.numberOfChannels(),t=this.rows()*this.columns()*e,i=this._niftiImage,n=t*this.numberOfFrames(),r=null;this._orderedData=null,2===this._dataSet.datatypeCode?(r=new Uint8Array(i,0,n),this._orderedData=new Uint8Array(r.length)):256===this._dataSet.datatypeCode?(r=new Int8Array(i,0,n),this._orderedData=new Int8Array(r.length)):512===this._dataSet.datatypeCode?(r=new Uint16Array(i,0,n),this._orderedData=new Uint16Array(r.length)):4===this._dataSet.datatypeCode?(r=new Int16Array(i,0,n),this._orderedData=new Int16Array(r.length)):16===this._dataSet.datatypeCode&&(r=new Float32Array(i,0,n),this._orderedData=new Float32Array(r.length));for(var o=r.length/3,a=0,s=0,l=o,c=2*o,h=0;h<o;h++){this._orderedData[a++]=r[s++],this._orderedData[a++]=r[l++],this._orderedData[a++]=r[c++]}this._ordered=!0},t}(Ne),it=i(4),nt=i(59),rt=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));r._id=n,r._arrayBuffer=i.buffer,r._url=i.url,r._dataSet=null,r._unpackedData=null;try{r._dataSet=nt.parse(r._arrayBuffer)}catch(e){window.console.log("ooops... :(")}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.rightHanded=function(){return this._dataSet.space.match(/^right-anterior-superior/)||this._dataSet.space.match(/^left-posterior-superior/)?this._rightHanded=!0:this._rightHanded=!1,this._rightHanded},t.prototype.seriesInstanceUID=function(){return this._url},t.prototype.numberOfFrames=function(){return this._dataSet.sizes[2]},t.prototype.numberOfChannels=function(){return 1},t.prototype.sopInstanceUID=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.sizes[1]},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._dataSet.sizes[0]},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=0;return"float"===this._dataSet.type&&(e=1),e},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=1;return"int8"===this._dataSet.type||"uint8"===this._dataSet.type||"char"===this._dataSet.type?e=8:"int16"===this._dataSet.type||"uint16"===this._dataSet.type||"short"===this._dataSet.type?e=16:"int32"!==this._dataSet.type&&"uint32"!==this._dataSet.type&&"float"!==this._dataSet.type||(e=32),e},t.prototype.pixelSpacing=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=new s(this._dataSet.spaceDirections[0][0],this._dataSet.spaceDirections[0][1],this._dataSet.spaceDirections[0][2]),t=new s(this._dataSet.spaceDirections[1][0],this._dataSet.spaceDirections[1][1],this._dataSet.spaceDirections[1][2]),i=new s(this._dataSet.spaceDirections[2][0],this._dataSet.spaceDirections[2][1],this._dataSet.spaceDirections[2][2]);return[e.length(),t.length(),i.length()]},t.prototype.imageOrientation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=this._dataSet.space.match(/right/)?-1:1,t=this._dataSet.space.match(/anterior/)?-1:1,i=new s(this._dataSet.spaceDirections[0][0]*e,this._dataSet.spaceDirections[0][1]*t,this._dataSet.spaceDirections[0][2]);i.normalize();var n=new s(this._dataSet.spaceDirections[1][0]*e,this._dataSet.spaceDirections[1][1]*t,this._dataSet.spaceDirections[1][2]);return n.normalize(),[i.x,i.y,i.z,n.x,n.y,n.z]},t.prototype.imagePosition=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return[this._dataSet.spaceOrigin[0],this._dataSet.spaceOrigin[1],this._dataSet.spaceOrigin[2]]},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this._decompressUncompressed(e)},t.prototype._decompressUncompressed=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._dataSet.buffer,i=this.numberOfChannels(),n=this.rows(e)*this.columns(e)*i;this.rightHanded()||(e=this.numberOfFrames()-1-e);var r=e*n;if(null===this._unpackedData&&"gzip"===this._dataSet.encoding){var o=it.inflate(this._dataSet.buffer);this._unpackedData=o.buffer,t=this._unpackedData}else"gzip"===this._dataSet.encoding&&(t=this._unpackedData);return"int8"===this._dataSet.type||"char"===this._dataSet.type?new Int8Array(t,r,n):"uint8"===this._dataSet.type?new Uint8Array(t,r,n):"int16"===this._dataSet.type||"short"===this._dataSet.type?(r*=2,new Int16Array(t,r,n)):"uint16"===this._dataSet.type?(r*=2,new Uint16Array(t,r,n)):"int32"===this._dataSet.type?(r*=4,new Int32Array(t,r,n)):"uint32"===this._dataSet.type?(r*=4,new Uint32Array(t,r,n)):"float"===this._dataSet.type?(r*=4,new Float32Array(t,r,n)):void 0},t}(Ne),ot=function(e){function t(i,n){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.call(this));if(r._id=n,r._url=i.url,r._buffer=null,r._bufferPos=0,r._dataPos=0,r._pixelData=null,r._version=1,r._width=0,r._height=0,r._depth=0,r._nframes=0,r._type=t.MRI_UCHAR,r._dof=0,r._goodRASFlag=0,r._spacingXYZ=[1,1,1],r._Xras=[-1,0,0],r._Yras=[0,0,-1],r._Zras=[0,1,0],r._Cras=[0,0,0],r._tr=0,r._flipAngle=0,r._te=0,r._ti=0,r._fov=0,r._tags=[],r._origin=[0,0,0],r._imageOrient=[0,0,0,0,0,0],r._buffer=i.buffer,r._version=r._readInt(),r._swapEndian=!1,1==r._version);else{if(16777216!=r._version)throw new Error("MGH/MGZ parser: Unknown Endian.  Version reports: "+r._version);r._swapEndian=!0,r._version=r._swap32(r._version)}r._width=r._readInt(),r._height=r._readInt(),r._depth=r._readInt(),r._nframes=r._readInt(),r._type=r._readInt(),r._dof=r._readInt(),r._goodRASFlag=r._readShort(),r._spacingXYZ=r._readFloat(3),r._Xras=r._readFloat(3),r._Yras=r._readFloat(3),r._Zras=r._readFloat(3),r._Cras=r._readFloat(3),r._bufferPos=284;var o=r._width*r._height*r._depth*r._nframes;r._width,r._height,r._depth;switch(r._type){case t.MRI_UCHAR:r._pixelData=r._readUChar(o);break;case t.MRI_INT:r._pixelData=r._readInt(o);break;case t.MRI_FLOAT:r._pixelData=r._readFloat(o);break;case t.MRI_SHORT:r._pixelData=r._readShort(o);break;default:throw Error("MGH/MGZ parser: Unknown _type.  _type reports: "+r._type);}r._tr=r._readFloat(1),r._flipAngle=r._readFloat(1),r._te=r._readFloat(1),r._ti=r._readFloat(1),r._fov=r._readFloat(1);for(var a=new TextDecoder,l=r._tagReadStart();void 0!=l[0];){var c=l[0],h=l[1],u=void 0;switch(c){case t.TAG_OLD_MGH_XFORM:case t.TAG_MGH_XFORM:u=r._readChar(h);break;default:u=r._readChar(h);}u=a.decode(u),r._tags.push({tagType:c,tagValue:u}),l=r._tagReadStart()}var f=new s().fromArray(r._Xras),d=new s().fromArray(r._Yras),p=new s().crossVectors(f,d),_=new s().fromArray(r._Zras);p.angleTo(_)>_MathPI/2&&(r._rightHanded=!1),r._imageOrient=[-r._Xras[0],-r._Xras[1],r._Xras[2],-r._Yras[0],-r._Yras[1],r._Yras[2]];for(var m=r._width/2,b=r._height/2,y=r._depth/2,g=0;3>g;++g){r._origin[g]=r._Cras[g]-(r._Xras[g]*r._spacingXYZ[0]*m+r._Yras[g]*r._spacingXYZ[1]*b+r._Zras[g]*r._spacingXYZ[2]*y)}return r._origin=[-r._origin[0],-r._origin[1],r._origin[2]],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.seriesInstanceUID=function(){return this._url},t.prototype.numberOfFrames=function(){return this._depth},t.prototype.sopInstanceUID=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:0},t.prototype.rows=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._width},t.prototype.columns=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._height},t.prototype.pixelType=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];switch(this._type){case t.MRI_UCHAR:case t.MRI_INT:case t.MRI_SHORT:return 0;case t.MRI_FLOAT:return 1;default:throw Error("MGH/MGZ parser: Unknown _type.  _type reports: "+this._type);}},t.prototype.bitsAllocated=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];switch(this._type){case t.MRI_UCHAR:return 8;case t.MRI_SHORT:return 16;case t.MRI_INT:case t.MRI_FLOAT:return 32;default:throw Error("MGH/MGZ parser: Unknown _type.  _type reports: "+this._type);}},t.prototype.pixelSpacing=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._spacingXYZ},t.prototype.imageOrientation=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._imageOrient},t.prototype.imagePosition=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._origin},t.prototype.extractPixelData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this._width*this._height;return this._pixelData.slice(e*t,(e+1)*t)},t.prototype._readInt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+4*e));this._bufferPos+=4*e;var i;if(1==e)i=t.getInt32(0,this._swapEndian);else{i=new Int32Array(e);for(var n=0;n<e;n++){i[n]=t.getInt32(4*n,this._swapEndian)}}return i},t.prototype._readShort=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+2*e));this._bufferPos+=2*e;var i;if(1==e)i=t.getInt16(0,this._swapEndian);else{i=new Int16Array(e);for(var n=0;n<e;n++){i[n]=t.getInt16(2*n,this._swapEndian)}}return i},t.prototype._readLong=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+8*e));this._bufferPos+=8*e;for(var i=new Uint16Array(e),n=0;n<e;n++){var r=0,o=0;this._swapendian?r=4:o=4;var a=t.getInt32(8*n+r,this._swapEndian),s=t.getInt32(8*n+o,this._swapEndian);0!=a&&(console.log("Unable to read Int64 with high word: "+a+"low word: "+s),s=void 0),i[n]=s}return 0==e?void 0:1==e?i[0]:i},t.prototype._readChar=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+e));this._bufferPos+=e;var i;if(1==e)i=t.getInt8(0,this._swapEndian);else{i=new Int8Array(e);for(var n=0;n<e;n++){i[n]=t.getInt8(n,this._swapEndian)}}return i},t.prototype._readUChar=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+e));this._bufferPos+=e;var i;if(1==e)i=t.getUint8(0,this._swapEndian);else{i=new Uint8Array(e);for(var n=0;n<e;n++){i[n]=t.getUint8(n,this._swapEndian)}}return i},t.prototype._readFloat=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=new DataView(this._buffer.slice(this._bufferPos,this._bufferPos+4*e));this._bufferPos+=4*e;var i;if(1==e)i=t.getFloat32(0,this._swapEndian);else{i=new Float32Array(e);for(var n=0;n<e;n++){i[n]=t.getFloat32(4*n,this._swapEndian)}}return i},t.prototype._tagReadStart=function(){if(this._bufferPos>=this._buffer.byteLength)return[void 0,void 0];var e=this._readInt(),i;switch(e){case t.TAG_OLD_MGH_XFORM:i=this._readInt(),i-=1;break;case t.TAG_OLD_SURF_GEOM:case t.TAG_OLD_USEREALRAS:case t.TAG_OLD_COLORTABLE:i=0;break;default:i=this._readLong();}return void 0==i&&(e=void 0),[e,i]},t}(Ne),at=ot;ot.MRI_UCHAR=0,ot.MRI_INT=1,ot.MRI_LONG=2,ot.MRI_FLOAT=3,ot.MRI_SHORT=4,ot.MRI_BITMAP=5,ot.MRI_TENSOR=6,ot.MRI_FLOAT_COMPLEX=7,ot.MRI_DOUBLE_COMPLEX=8,ot.MRI_RGB=9,ot.TAG_OLD_COLORTABLE=1,ot.TAG_OLD_USEREALRAS=2,ot.TAG_CMDLINE=3,ot.TAG_USEREALRAS=4,ot.TAG_COLORTABLE=5,ot.TAG_GCAMORPH_GEOM=10,ot.TAG_GCAMORPH_TYPE=11,ot.TAG_GCAMORPH_LABELS=12,ot.TAG_OLD_SURF_GEOM=20,ot.TAG_SURF_GEOM=21,ot.TAG_OLD_MGH_XFORM=30,ot.TAG_MGH_XFORM=31,ot.TAG_GROUP_AVG_SURFACE_AREA=32,ot.TAG_AUTO_ALIGN=33,ot.TAG_SCALAR_DOUBLE=40,ot.TAG_PEDIR=41,ot.TAG_MRI_FRAME=42,ot.TAG_FIELDSTRENGTH=43;var st=i(4),lt=function(e){function t(){return function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.parse=function(e){var t=this;return this.emit("parse-start",{file:e.url,time:new Date}),this._progressBar&&this._progressBar.update(0,100,"parse",e.url),new Promise(function(i){setTimeout(function(){i(new Promise(function(i,n){var r=e;if(Array.isArray(r)||(r=[r]),r.forEach(function(e){t._preprocess(e)}),1===r.length)r=r[0];else{var o=r.filter(t._filterByExtension.bind(null,"MHD")),a=r.filter(t._filterByExtension.bind(null,"RAW"));2===r.length&&1===o.length&&1===a.length&&(r.url=o[0].url,r.extension=o[0].extension,r.mhdBuffer=o[0].buffer,r.rawBuffer=a[0].buffer)}var s=t._parser(r.extension);s||(t.emit("parse-error",{file:e.url,time:new Date,error:r.filename+"can not be parsed."}),n(r.filename+" can not be parsed."));var l=null;try{l=new s(r,0)}catch(i){console.warn(i),t.emit("parse-error",{file:e.url,time:new Date,error:i}),n(i)}var c=new Fe;c.seriesInstanceUID=l.seriesInstanceUID(),c.transferSyntaxUID=l.transferSyntaxUID(),c.seriesDate=l.seriesDate(),c.seriesDescription=l.seriesDescription(),c.studyDate=l.studyDate(),c.studyDescription=l.studyDescription(),c.numberOfFrames=l.numberOfFrames(),c.numberOfFrames||(c.numberOfFrames=1),c.numberOfChannels=l.numberOfChannels(),c.modality=l.modality(),"SEG"===c.modality&&(c.segmentationType=l.segmentationType(),c.segmentationSegments=l.segmentationSegments()),c.patientID=l.patientID(),c.patientName=l.patientName(),c.patientAge=l.patientAge(),c.patientBirthdate=l.patientBirthdate(),c.patientSex=l.patientSex();var h=new ze;h.numberOfChannels=l.numberOfChannels(),h.pixelRepresentation=l.pixelRepresentation(),h.pixelType=l.pixelType(),h.invert=l.invert(),h.spacingBetweenSlices=l.spacingBetweenSlices(),h.modality=c.modality,"SEG"===h.modality&&(h.segmentationType=c.segmentationType,h.segmentationSegments=c.segmentationSegments),c.stack.push(h),setTimeout(t.parseFrameClosure(c,h,e.url,0,l,i,n),0)}))},10)})},t.prototype.parseFrameClosure=function(e,t,i,n,r,o,a){var s=this;return function(){s.parseFrame(e,t,i,n,r,o,a)}},t.prototype.parseFrame=function(e,t,i,n,r,o,a){var s=new Ve;s.sopInstanceUID=r.sopInstanceUID(n),s.url=i,s.index=n,s.invert=t.invert,s.frameTime=r.frameTime(n),s.rows=r.rows(n),s.columns=r.columns(n),s.numberOfChannels=t.numberOfChannels,s.pixelPaddingValue=r.pixelPaddingValue(n),s.pixelRepresentation=t.pixelRepresentation,s.pixelType=t.pixelType,s.pixelData=r.extractPixelData(n),s.pixelSpacing=r.pixelSpacing(n),s.spacingBetweenSlices=r.spacingBetweenSlices(n),s.sliceThickness=r.sliceThickness(n),s.imageOrientation=r.imageOrientation(n),s.rightHanded=r.rightHanded(),t.rightHanded=s.rightHanded,null===s.imageOrientation&&(s.imageOrientation=[1,0,0,0,1,0]),s.imagePosition=r.imagePosition(n),s.dimensionIndexValues=r.dimensionIndexValues(n),s.bitsAllocated=r.bitsAllocated(n),s.instanceNumber=r.instanceNumber(n),s.windowCenter=r.windowCenter(n),s.windowWidth=r.windowWidth(n),s.rescaleSlope=r.rescaleSlope(n),s.rescaleIntercept=r.rescaleIntercept(n),s.minMax=r.minMaxPixelData(s.pixelData),"SEG"===e.modality&&(s.referencedSegmentNumber=r.referencedSegmentNumber(n)),t.frame.push(s),this._parsed=n+1,this._totalParsed=e.numberOfFrames,this._progressBar&&this._progressBar.update(this._parsed,this._totalParsed,"parse",i),this.emit("parsing",{file:i,total:this._totalParsed,parsed:this._parsed,time:new Date}),this._parsed===this._totalParsed?(this.emit("parse-success",{file:i,total:this._totalParsed,parsed:this._parsed,time:new Date}),o(e)):setTimeout(this.parseFrameClosure(e,t,i,this._parsed,r,o,a),0)},t.prototype._parser=function(e){var t=null;switch(e.toUpperCase()){case"NII":case"NII_":t=tt;break;case"DCM":case"DIC":case"DICOM":case"IMA":case"":t=qe;break;case"MHD":t=Ke;break;case"NRRD":t=rt;break;case"MGH":case"MGZ":t=at;break;default:return console.warn("unsupported extension: "+e),!1;}return t},t.prototype._preprocess=function(e){var t=g.parseUrl(e.url);if(e.filename=t.filename,e.extension=t.extension,e.pathname=t.pathname,e.query=t.query,"gz"===e.extension?(e.gzcompressed=!0,e.extension=e.filename.split(".gz").shift().split(".").pop()):"mgz"===e.extension?(e.gzcompressed=!0,e.extension="mgh"):"zraw"===e.extension?(e.gzcompressed=!0,e.extension="raw"):e.gzcompressed=!1,e.gzcompressed){var i=st.inflate(e.buffer);e.buffer=i.buffer}},t.prototype._filterByExtension=function(e,t){return t.extension.toUpperCase()===e.toUpperCase()},t}(Re),ct=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),ht=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=-1,this._worldCoordinates=null,this._dataCoordinates=null,this._screenCoordinates=null,this._value=null}return ct(e,[{key:"worldCoordinates",set:function set(e){this._worldCoordinates=e},get:function get(){return this._worldCoordinates}},{key:"dataCoordinates",set:function set(e){this._dataCoordinates=e},get:function get(){return this._dataCoordinates}},{key:"screenCoordinates",set:function set(e){this._screenCoordinates=e},get:function get(){return this._screenCoordinates}},{key:"value",set:function set(e){this._value=e},get:function get(){return this._value}},{key:"id",set:function set(e){this._id=e},get:function get(){return this._id}}]),e}(),ut={0:{color:[0,0,0],opacity:0,label:"Unknown"},1:{color:[70,130,180],opacity:1,label:"Left-Cerebral-Exterior"},2:{color:[245,245,245],opacity:1,label:"Left-Cerebral-White-Matter"},3:{color:[205,62,78],opacity:1,label:"Left-Cerebral-Cortex"},4:{color:[120,18,134],opacity:1,label:"Left-Lateral-Ventricle"},5:{color:[196,58,250],opacity:1,label:"Left-Inf-Lat-Vent"},6:{color:[0,148,0],opacity:1,label:"Left-Cerebellum-Exterior"},7:{color:[220,248,164],opacity:1,label:"Left-Cerebellum-White-Matter"},8:{color:[230,148,34],opacity:1,label:"Left-Cerebellum-Cortex"},9:{color:[0,118,14],opacity:1,label:"Left-Thalamus"},10:{color:[0,118,14],opacity:1,label:"Left-Thalamus-Proper"},11:{color:[122,186,220],opacity:1,label:"Left-Caudate"},12:{color:[236,13,176],opacity:1,label:"Left-Putamen"},13:{color:[12,48,255],opacity:1,label:"Left-Pallidum"},14:{color:[204,182,142],opacity:1,label:"3rd-Ventricle"},15:{color:[42,204,164],opacity:1,label:"4th-Ventricle"},16:{color:[119,159,176],opacity:1,label:"Brain-Stem"},17:{color:[220,216,20],opacity:1,label:"Left-Hippocampus"},18:{color:[103,255,255],opacity:1,label:"Left-Amygdala"},19:{color:[80,196,98],opacity:1,label:"Left-Insula"},20:{color:[60,58,210],opacity:1,label:"Left-Operculum"},21:{color:[60,58,210],opacity:1,label:"Line-1"},22:{color:[60,58,210],opacity:1,label:"Line-2"},23:{color:[60,58,210],opacity:1,label:"Line-3"},24:{color:[60,60,60],opacity:1,label:"CSF"},25:{color:[255,165,0],opacity:1,label:"Left-Lesion"},26:{color:[255,165,0],opacity:1,label:"Left-Accumbens-area"},27:{color:[0,255,127],opacity:1,label:"Left-Substancia-Nigra"},28:{color:[165,42,42],opacity:1,label:"Left-VentralDC"},29:{color:[135,206,235],opacity:1,label:"Left-undetermined"},30:{color:[160,32,240],opacity:1,label:"Left-vessel"},31:{color:[0,200,200],opacity:1,label:"Left-choroid-plexus"},32:{color:[100,50,100],opacity:1,label:"Left-F3orb"},33:{color:[135,50,74],opacity:1,label:"Left-lOg"},34:{color:[122,135,50],opacity:1,label:"Left-aOg"},35:{color:[51,50,135],opacity:1,label:"Left-mOg"},36:{color:[74,155,60],opacity:1,label:"Left-pOg"},37:{color:[120,62,43],opacity:1,label:"Left-Stellate"},38:{color:[74,155,60],opacity:1,label:"Left-Porg"},39:{color:[122,135,50],opacity:1,label:"Left-Aorg"},40:{color:[70,130,180],opacity:1,label:"Right-Cerebral-Exterior"},41:{color:[245,245,245],opacity:1,label:"Right-Cerebral-White-Matter"},42:{color:[205,62,78],opacity:1,label:"Right-Cerebral-Cortex"},43:{color:[120,18,134],opacity:1,label:"Right-Lateral-Ventricle"},44:{color:[196,58,250],opacity:1,label:"Right-Inf-Lat-Vent"},45:{color:[0,148,0],opacity:1,label:"Right-Cerebellum-Exterior"},46:{color:[220,248,164],opacity:1,label:"Right-Cerebellum-White-Matter"},47:{color:[230,148,34],opacity:1,label:"Right-Cerebellum-Cortex"},48:{color:[0,118,14],opacity:1,label:"Right-Thalamus"},49:{color:[0,118,14],opacity:1,label:"Right-Thalamus-Proper"},50:{color:[122,186,220],opacity:1,label:"Right-Caudate"},51:{color:[236,13,176],opacity:1,label:"Right-Putamen"},52:{color:[13,48,255],opacity:1,label:"Right-Pallidum"},53:{color:[220,216,20],opacity:1,label:"Right-Hippocampus"},54:{color:[103,255,255],opacity:1,label:"Right-Amygdala"},55:{color:[80,196,98],opacity:1,label:"Right-Insula"},56:{color:[60,58,210],opacity:1,label:"Right-Operculum"},57:{color:[255,165,0],opacity:1,label:"Right-Lesion"},58:{color:[255,165,0],opacity:1,label:"Right-Accumbens-area"},59:{color:[0,255,127],opacity:1,label:"Right-Substancia-Nigra"},60:{color:[165,42,42],opacity:1,label:"Right-VentralDC"},61:{color:[135,206,235],opacity:1,label:"Right-undetermined"},62:{color:[160,32,240],opacity:1,label:"Right-vessel"},63:{color:[0,200,221],opacity:1,label:"Right-choroid-plexus"},64:{color:[100,50,100],opacity:1,label:"Right-F3orb"},65:{color:[135,50,74],opacity:1,label:"Right-lOg"},66:{color:[122,135,50],opacity:1,label:"Right-aOg"},67:{color:[51,50,135],opacity:1,label:"Right-mOg"},68:{color:[74,155,60],opacity:1,label:"Right-pOg"},69:{color:[120,62,43],opacity:1,label:"Right-Stellate"},70:{color:[74,155,60],opacity:1,label:"Right-Porg"},71:{color:[122,135,50],opacity:1,label:"Right-Aorg"},72:{color:[120,190,150],opacity:1,label:"5th-Ventricle"},73:{color:[122,135,50],opacity:1,label:"Left-Interior"},74:{color:[122,135,50],opacity:1,label:"Right-Interior"},77:{color:[200,70,255],opacity:1,label:"WM-hypointensities"},78:{color:[255,148,10],opacity:1,label:"Left-WM-hypointensities"},79:{color:[255,148,10],opacity:1,label:"Right-WM-hypointensities"},80:{color:[164,108,226],opacity:1,label:"non-WM-hypointensities"},81:{color:[164,108,226],opacity:1,label:"Left-non-WM-hypointensities"},82:{color:[164,108,226],opacity:1,label:"Right-non-WM-hypointensities"},83:{color:[255,218,185],opacity:1,label:"Left-F1"},84:{color:[255,218,185],opacity:1,label:"Right-F1"},85:{color:[234,169,30],opacity:1,label:"Optic-Chiasm"},192:{color:[250,255,50],opacity:1,label:"Corpus_Callosum"},86:{color:[200,120,255],opacity:1,label:"Left_future_WMSA"},87:{color:[200,121,255],opacity:1,label:"Right_future_WMSA"},88:{color:[200,122,255],opacity:1,label:"future_WMSA"},96:{color:[205,10,125],opacity:1,label:"Left-Amygdala-Anterior"},97:{color:[205,10,125],opacity:1,label:"Right-Amygdala-Anterior"},98:{color:[160,32,240],opacity:1,label:"Dura"},100:{color:[124,140,178],opacity:1,label:"Left-wm-intensity-abnormality"},101:{color:[125,140,178],opacity:1,label:"Left-caudate-intensity-abnormality"},102:{color:[126,140,178],opacity:1,label:"Left-putamen-intensity-abnormality"},103:{color:[127,140,178],opacity:1,label:"Left-accumbens-intensity-abnormality"},104:{color:[124,141,178],opacity:1,label:"Left-pallidum-intensity-abnormality"},105:{color:[124,142,178],opacity:1,label:"Left-amygdala-intensity-abnormality"},106:{color:[124,143,178],opacity:1,label:"Left-hippocampus-intensity-abnormality"},107:{color:[124,144,178],opacity:1,label:"Left-thalamus-intensity-abnormality"},108:{color:[124,140,179],opacity:1,label:"Left-VDC-intensity-abnormality"},109:{color:[124,140,178],opacity:1,label:"Right-wm-intensity-abnormality"},110:{color:[125,140,178],opacity:1,label:"Right-caudate-intensity-abnormality"},111:{color:[126,140,178],opacity:1,label:"Right-putamen-intensity-abnormality"},112:{color:[127,140,178],opacity:1,label:"Right-accumbens-intensity-abnormality"},113:{color:[124,141,178],opacity:1,label:"Right-pallidum-intensity-abnormality"},114:{color:[124,142,178],opacity:1,label:"Right-amygdala-intensity-abnormality"},115:{color:[124,143,178],opacity:1,label:"Right-hippocampus-intensity-abnormality"},116:{color:[124,144,178],opacity:1,label:"Right-thalamus-intensity-abnormality"},117:{color:[124,140,179],opacity:1,label:"Right-VDC-intensity-abnormality"},118:{color:[255,20,147],opacity:1,label:"Epidermis"},119:{color:[205,179,139],opacity:1,label:"Conn-Tissue"},120:{color:[238,238,209],opacity:1,label:"SC-Fat-Muscle"},121:{color:[200,200,200],opacity:1,label:"Cranium"},122:{color:[74,255,74],opacity:1,label:"CSF-SA"},123:{color:[238,0,0],opacity:1,label:"Muscle"},124:{color:[0,0,139],opacity:1,label:"Ear"},125:{color:[173,255,47],opacity:1,label:"Adipose"},126:{color:[133,203,229],opacity:1,label:"Spinal-Cord"},127:{color:[26,237,57],opacity:1,label:"Soft-Tissue"},128:{color:[34,139,34],opacity:1,label:"Nerve"},129:{color:[30,144,255],opacity:1,label:"Bone"},130:{color:[147,19,173],opacity:1,label:"Air"},131:{color:[238,59,59],opacity:1,label:"Orbital-Fat"},132:{color:[221,39,200],opacity:1,label:"Tongue"},133:{color:[238,174,238],opacity:1,label:"Nasal-Structures"},134:{color:[255,0,0],opacity:1,label:"Globe"},135:{color:[72,61,139],opacity:1,label:"Teeth"},136:{color:[21,39,132],opacity:1,label:"Left-Caudate-Putamen"},137:{color:[21,39,132],opacity:1,label:"Right-Caudate-Putamen"},138:{color:[65,135,20],opacity:1,label:"Left-Claustrum"},139:{color:[65,135,20],opacity:1,label:"Right-Claustrum"},140:{color:[134,4,160],opacity:1,label:"Cornea"},142:{color:[221,226,68],opacity:1,label:"Diploe"},143:{color:[255,255,254],opacity:1,label:"Vitreous-Humor"},144:{color:[52,209,226],opacity:1,label:"Lens"},145:{color:[239,160,223],opacity:1,label:"Aqueous-Humor"},146:{color:[70,130,180],opacity:1,label:"Outer-Table"},147:{color:[70,130,181],opacity:1,label:"Inner-Table"},148:{color:[139,121,94],opacity:1,label:"Periosteum"},149:{color:[224,224,224],opacity:1,label:"Endosteum"},150:{color:[255,0,0],opacity:1,label:"R-C-S"},151:{color:[205,205,0],opacity:1,label:"Iris"},152:{color:[238,238,209],opacity:1,label:"SC-Adipose-Muscle"},153:{color:[139,121,94],opacity:1,label:"SC-Tissue"},154:{color:[238,59,59],opacity:1,label:"Orbital-Adipose"},155:{color:[238,59,59],opacity:1,label:"Left-IntCapsule-Ant"},156:{color:[238,59,59],opacity:1,label:"Right-IntCapsule-Ant"},157:{color:[62,10,205],opacity:1,label:"Left-IntCapsule-Pos"},158:{color:[62,10,205],opacity:1,label:"Right-IntCapsule-Pos"},159:{color:[0,118,14],opacity:1,label:"Left-Cerebral-WM-unmyelinated"},160:{color:[0,118,14],opacity:1,label:"Right-Cerebral-WM-unmyelinated"},161:{color:[220,216,21],opacity:1,label:"Left-Cerebral-WM-myelinated"},162:{color:[220,216,21],opacity:1,label:"Right-Cerebral-WM-myelinated"},163:{color:[122,186,220],opacity:1,label:"Left-Subcortical-Gray-Matter"},164:{color:[122,186,220],opacity:1,label:"Right-Subcortical-Gray-Matter"},165:{color:[120,120,120],opacity:1,label:"Skull"},166:{color:[14,48,255],opacity:1,label:"Posterior-fossa"},167:{color:[166,42,42],opacity:1,label:"Scalp"},168:{color:[121,18,134],opacity:1,label:"Hematoma"},169:{color:[236,13,127],opacity:1,label:"Left-Basal-Ganglia"},176:{color:[236,13,126],opacity:1,label:"Right-Basal-Ganglia"},170:{color:[119,159,176],opacity:1,label:"brainstem"},171:{color:[119,0,176],opacity:1,label:"DCG"},172:{color:[119,100,176],opacity:1,label:"Vermis"},173:{color:[242,104,76],opacity:1,label:"Midbrain"},174:{color:[206,195,58],opacity:1,label:"Pons"},175:{color:[119,159,176],opacity:1,label:"Medulla"},177:{color:[119,50,176],opacity:1,label:"Vermis-White-Matter"},178:{color:[142,182,0],opacity:1,label:"SCP"},179:{color:[19,100,176],opacity:1,label:"Floculus"},180:{color:[73,61,139],opacity:1,label:"Left-Cortical-Dysplasia"},181:{color:[73,62,139],opacity:1,label:"Right-Cortical-Dysplasia"},182:{color:[10,100,176],opacity:1,label:"CblumNodulus"},193:{color:[0,196,255],opacity:1,label:"Left-hippocampal_fissure"},194:{color:[255,164,164],opacity:1,label:"Left-CADG-head"},195:{color:[196,196,0],opacity:1,label:"Left-subiculum"},196:{color:[0,100,255],opacity:1,label:"Left-fimbria"},197:{color:[128,196,164],opacity:1,label:"Right-hippocampal_fissure"},198:{color:[0,126,75],opacity:1,label:"Right-CADG-head"},199:{color:[128,96,64],opacity:1,label:"Right-subiculum"},200:{color:[0,50,128],opacity:1,label:"Right-fimbria"},201:{color:[255,204,153],opacity:1,label:"alveus"},202:{color:[255,128,128],opacity:1,label:"perforant_pathway"},203:{color:[255,255,0],opacity:1,label:"parasubiculum"},204:{color:[64,0,64],opacity:1,label:"presubiculum"},205:{color:[0,0,255],opacity:1,label:"subiculum"},206:{color:[255,0,0],opacity:1,label:"CA1"},207:{color:[128,128,255],opacity:1,label:"CA2"},208:{color:[0,128,0],opacity:1,label:"CA3"},209:{color:[196,160,128],opacity:1,label:"CA4"},210:{color:[32,200,255],opacity:1,label:"GC-DG"},211:{color:[128,255,128],opacity:1,label:"HATA"},212:{color:[204,153,204],opacity:1,label:"fimbria"},213:{color:[121,17,136],opacity:1,label:"lateral_ventricle"},214:{color:[128,0,0],opacity:1,label:"molecular_layer_HP"},215:{color:[128,32,255],opacity:1,label:"hippocampal_fissure"},216:{color:[255,204,102],opacity:1,label:"entorhinal_cortex"},217:{color:[128,128,128],opacity:1,label:"molecular_layer_subiculum"},218:{color:[104,255,255],opacity:1,label:"Amygdala"},219:{color:[0,226,0],opacity:1,label:"Cerebral_White_Matter"},220:{color:[205,63,78],opacity:1,label:"Cerebral_Cortex"},221:{color:[197,58,250],opacity:1,label:"Inf_Lat_Vent"},222:{color:[33,150,250],opacity:1,label:"Perirhinal"},223:{color:[226,0,0],opacity:1,label:"Cerebral_White_Matter_Edge"},224:{color:[100,100,100],opacity:1,label:"Background"},225:{color:[197,150,250],opacity:1,label:"Ectorhinal"},226:{color:[170,170,255],opacity:1,label:"HP_tail"},250:{color:[255,0,0],opacity:1,label:"Fornix"},251:{color:[0,0,64],opacity:1,label:"CC_Posterior"},252:{color:[0,0,112],opacity:1,label:"CC_Mid_Posterior"},253:{color:[0,0,160],opacity:1,label:"CC_Central"},254:{color:[0,0,208],opacity:1,label:"CC_Mid_Anterior"},255:{color:[0,0,255],opacity:1,label:"CC_Anterior"},256:{color:[0,0,0],opacity:1,label:"Voxel-Unchanged"},257:{color:[60,60,60],opacity:1,label:"CSF-ExtraCerebral"},258:{color:[150,150,200],opacity:1,label:"Head-ExtraCerebral"},259:{color:[120,120,120],opacity:1,label:"SkullApprox"},260:{color:[119,159,176],opacity:1,label:"BoneOrAir"},261:{color:[120,18,134],opacity:1,label:"PossibleFluid"},262:{color:[119,159,176],opacity:1,label:"Sinus"},263:{color:[119,159,176],opacity:1,label:"Left-Eustachian"},264:{color:[119,159,176],opacity:1,label:"Right-Eustachian"},331:{color:[255,0,0],opacity:1,label:"Aorta"},332:{color:[255,80,0],opacity:1,label:"Left-Common-IliacA"},333:{color:[255,160,0],opacity:1,label:"Right-Common-IliacA"},334:{color:[255,255,0],opacity:1,label:"Left-External-IliacA"},335:{color:[0,255,0],opacity:1,label:"Right-External-IliacA"},336:{color:[255,0,160],opacity:1,label:"Left-Internal-IliacA"},337:{color:[255,0,255],opacity:1,label:"Right-Internal-IliacA"},338:{color:[255,50,80],opacity:1,label:"Left-Lateral-SacralA"},339:{color:[80,255,50],opacity:1,label:"Right-Lateral-SacralA"},340:{color:[160,255,50],opacity:1,label:"Left-ObturatorA"},341:{color:[160,200,255],opacity:1,label:"Right-ObturatorA"},342:{color:[0,255,160],opacity:1,label:"Left-Internal-PudendalA"},343:{color:[0,0,255],opacity:1,label:"Right-Internal-PudendalA"},344:{color:[80,50,255],opacity:1,label:"Left-UmbilicalA"},345:{color:[160,0,255],opacity:1,label:"Right-UmbilicalA"},346:{color:[255,210,0],opacity:1,label:"Left-Inf-RectalA"},347:{color:[0,160,255],opacity:1,label:"Right-Inf-RectalA"},348:{color:[255,200,80],opacity:1,label:"Left-Common-IliacV"},349:{color:[255,200,160],opacity:1,label:"Right-Common-IliacV"},350:{color:[255,80,200],opacity:1,label:"Left-External-IliacV"},351:{color:[255,160,200],opacity:1,label:"Right-External-IliacV"},352:{color:[30,255,80],opacity:1,label:"Left-Internal-IliacV"},353:{color:[80,200,255],opacity:1,label:"Right-Internal-IliacV"},354:{color:[80,255,200],opacity:1,label:"Left-ObturatorV"},355:{color:[195,255,200],opacity:1,label:"Right-ObturatorV"},356:{color:[120,200,20],opacity:1,label:"Left-Internal-PudendalV"},357:{color:[170,10,200],opacity:1,label:"Right-Internal-PudendalV"},358:{color:[20,130,180],opacity:1,label:"Pos-Lymph"},359:{color:[20,180,130],opacity:1,label:"Neg-Lymph"},400:{color:[206,62,78],opacity:1,label:"V1"},401:{color:[121,18,134],opacity:1,label:"V2"},402:{color:[199,58,250],opacity:1,label:"BA44"},403:{color:[1,148,0],opacity:1,label:"BA45"},404:{color:[221,248,164],opacity:1,label:"BA4a"},405:{color:[231,148,34],opacity:1,label:"BA4p"},406:{color:[1,118,14],opacity:1,label:"BA6"},407:{color:[120,118,14],opacity:1,label:"BA2"},408:{color:[123,186,221],opacity:1,label:"BA1_old"},409:{color:[238,13,177],opacity:1,label:"BAun2"},410:{color:[123,186,220],opacity:1,label:"BA1"},411:{color:[138,13,206],opacity:1,label:"BA2b"},412:{color:[238,130,176],opacity:1,label:"BA3a"},413:{color:[218,230,76],opacity:1,label:"BA3b"},414:{color:[38,213,176],opacity:1,label:"MT"},415:{color:[1,225,176],opacity:1,label:"AIPS_AIP_l"},416:{color:[1,225,176],opacity:1,label:"AIPS_AIP_r"},417:{color:[200,2,100],opacity:1,label:"AIPS_VIP_l"},418:{color:[200,2,100],opacity:1,label:"AIPS_VIP_r"},419:{color:[5,200,90],opacity:1,label:"IPL_PFcm_l"},420:{color:[5,200,90],opacity:1,label:"IPL_PFcm_r"},421:{color:[100,5,200],opacity:1,label:"IPL_PF_l"},422:{color:[25,255,100],opacity:1,label:"IPL_PFm_l"},423:{color:[25,255,100],opacity:1,label:"IPL_PFm_r"},424:{color:[230,7,100],opacity:1,label:"IPL_PFop_l"},425:{color:[230,7,100],opacity:1,label:"IPL_PFop_r"},426:{color:[100,5,200],opacity:1,label:"IPL_PF_r"},427:{color:[150,10,200],opacity:1,label:"IPL_PFt_l"},428:{color:[150,10,200],opacity:1,label:"IPL_PFt_r"},429:{color:[175,10,176],opacity:1,label:"IPL_PGa_l"},430:{color:[175,10,176],opacity:1,label:"IPL_PGa_r"},431:{color:[10,100,255],opacity:1,label:"IPL_PGp_l"},432:{color:[10,100,255],opacity:1,label:"IPL_PGp_r"},433:{color:[150,45,70],opacity:1,label:"Visual_V3d_l"},434:{color:[150,45,70],opacity:1,label:"Visual_V3d_r"},435:{color:[45,200,15],opacity:1,label:"Visual_V4_l"},436:{color:[45,200,15],opacity:1,label:"Visual_V4_r"},437:{color:[227,45,100],opacity:1,label:"Visual_V5_b"},438:{color:[227,45,100],opacity:1,label:"Visual_VP_l"},439:{color:[227,45,100],opacity:1,label:"Visual_VP_r"},498:{color:[143,188,143],opacity:1,label:"wmsa"},499:{color:[255,248,220],opacity:1,label:"other_wmsa"},500:{color:[17,85,136],opacity:1,label:"right_CA2_3"},501:{color:[119,187,102],opacity:1,label:"right_alveus"},502:{color:[204,68,34],opacity:1,label:"right_CA1"},503:{color:[204,0,255],opacity:1,label:"right_fimbria"},504:{color:[221,187,17],opacity:1,label:"right_presubiculum"},505:{color:[153,221,238],opacity:1,label:"right_hippocampal_fissure"},506:{color:[51,17,17],opacity:1,label:"right_CA4_DG"},507:{color:[0,119,85],opacity:1,label:"right_subiculum"},508:{color:[20,100,200],opacity:1,label:"right_fornix"},550:{color:[17,85,137],opacity:1,label:"left_CA2_3"},551:{color:[119,187,103],opacity:1,label:"left_alveus"},552:{color:[204,68,35],opacity:1,label:"left_CA1"},553:{color:[204,0,254],opacity:1,label:"left_fimbria"},554:{color:[221,187,16],opacity:1,label:"left_presubiculum"},555:{color:[153,221,239],opacity:1,label:"left_hippocampal_fissure"},556:{color:[51,17,18],opacity:1,label:"left_CA4_DG"},557:{color:[0,119,86],opacity:1,label:"left_subiculum"},558:{color:[20,100,201],opacity:1,label:"left_fornix"},600:{color:[254,254,254],opacity:1,label:"Tumor"},601:{color:[70,130,180],opacity:1,label:"Cbm_Left_I_IV"},602:{color:[245,245,245],opacity:1,label:"Cbm_Right_I_IV"},603:{color:[205,62,78],opacity:1,label:"Cbm_Left_V"},604:{color:[120,18,134],opacity:1,label:"Cbm_Right_V"},605:{color:[196,58,250],opacity:1,label:"Cbm_Left_VI"},606:{color:[0,148,0],opacity:1,label:"Cbm_Vermis_VI"},607:{color:[220,248,164],opacity:1,label:"Cbm_Right_VI"},608:{color:[230,148,34],opacity:1,label:"Cbm_Left_CrusI"},609:{color:[0,118,14],opacity:1,label:"Cbm_Vermis_CrusI"},610:{color:[0,118,14],opacity:1,label:"Cbm_Right_CrusI"},611:{color:[122,186,220],opacity:1,label:"Cbm_Left_CrusII"},612:{color:[236,13,176],opacity:1,label:"Cbm_Vermis_CrusII"},613:{color:[12,48,255],opacity:1,label:"Cbm_Right_CrusII"},614:{color:[204,182,142],opacity:1,label:"Cbm_Left_VIIb"},615:{color:[42,204,164],opacity:1,label:"Cbm_Vermis_VIIb"},616:{color:[119,159,176],opacity:1,label:"Cbm_Right_VIIb"},617:{color:[220,216,20],opacity:1,label:"Cbm_Left_VIIIa"},618:{color:[103,255,255],opacity:1,label:"Cbm_Vermis_VIIIa"},619:{color:[80,196,98],opacity:1,label:"Cbm_Right_VIIIa"},620:{color:[60,58,210],opacity:1,label:"Cbm_Left_VIIIb"},621:{color:[60,58,210],opacity:1,label:"Cbm_Vermis_VIIIb"},622:{color:[60,58,210],opacity:1,label:"Cbm_Right_VIIIb"},623:{color:[60,58,210],opacity:1,label:"Cbm_Left_IX"},624:{color:[60,60,60],opacity:1,label:"Cbm_Vermis_IX"},625:{color:[255,165,0],opacity:1,label:"Cbm_Right_IX"},626:{color:[255,165,0],opacity:1,label:"Cbm_Left_X"},627:{color:[0,255,127],opacity:1,label:"Cbm_Vermis_X"},628:{color:[165,42,42],opacity:1,label:"Cbm_Right_X"},640:{color:[204,0,0],opacity:1,label:"Cbm_Right_I_V_med"},641:{color:[255,0,0],opacity:1,label:"Cbm_Right_I_V_mid"},642:{color:[0,0,255],opacity:1,label:"Cbm_Right_VI_med"},643:{color:[30,144,255],opacity:1,label:"Cbm_Right_VI_mid"},644:{color:[100,212,237],opacity:1,label:"Cbm_Right_VI_lat"},645:{color:[218,165,32],opacity:1,label:"Cbm_Right_CrusI_med"},646:{color:[255,215,0],opacity:1,label:"Cbm_Right_CrusI_mid"},647:{color:[255,255,166],opacity:1,label:"Cbm_Right_CrusI_lat"},648:{color:[153,0,204],opacity:1,label:"Cbm_Right_CrusII_med"},649:{color:[153,141,209],opacity:1,label:"Cbm_Right_CrusII_mid"},650:{color:[204,204,255],opacity:1,label:"Cbm_Right_CrusII_lat"},651:{color:[31,212,194],opacity:1,label:"Cbm_Right_7med"},652:{color:[3,255,237],opacity:1,label:"Cbm_Right_7mid"},653:{color:[204,255,255],opacity:1,label:"Cbm_Right_7lat"},654:{color:[86,74,147],opacity:1,label:"Cbm_Right_8med"},655:{color:[114,114,190],opacity:1,label:"Cbm_Right_8mid"},656:{color:[184,178,255],opacity:1,label:"Cbm_Right_8lat"},657:{color:[126,138,37],opacity:1,label:"Cbm_Right_PUNs"},658:{color:[189,197,117],opacity:1,label:"Cbm_Right_TONs"},659:{color:[240,230,140],opacity:1,label:"Cbm_Right_FLOs"},660:{color:[204,0,0],opacity:1,label:"Cbm_Left_I_V_med"},661:{color:[255,0,0],opacity:1,label:"Cbm_Left_I_V_mid"},662:{color:[0,0,255],opacity:1,label:"Cbm_Left_VI_med"},663:{color:[30,144,255],opacity:1,label:"Cbm_Left_VI_mid"},664:{color:[100,212,237],opacity:1,label:"Cbm_Left_VI_lat"},665:{color:[218,165,32],opacity:1,label:"Cbm_Left_CrusI_med"},666:{color:[255,215,0],opacity:1,label:"Cbm_Left_CrusI_mid"},667:{color:[255,255,166],opacity:1,label:"Cbm_Left_CrusI_lat"},668:{color:[153,0,204],opacity:1,label:"Cbm_Left_CrusII_med"},669:{color:[153,141,209],opacity:1,label:"Cbm_Left_CrusII_mid"},670:{color:[204,204,255],opacity:1,label:"Cbm_Left_CrusII_lat"},671:{color:[31,212,194],opacity:1,label:"Cbm_Left_7med"},672:{color:[3,255,237],opacity:1,label:"Cbm_Left_7mid"},673:{color:[204,255,255],opacity:1,label:"Cbm_Left_7lat"},674:{color:[86,74,147],opacity:1,label:"Cbm_Left_8med"},675:{color:[114,114,190],opacity:1,label:"Cbm_Left_8mid"},676:{color:[184,178,255],opacity:1,label:"Cbm_Left_8lat"},677:{color:[126,138,37],opacity:1,label:"Cbm_Left_PUNs"},678:{color:[189,197,117],opacity:1,label:"Cbm_Left_TONs"},679:{color:[240,230,140],opacity:1,label:"Cbm_Left_FLOs"},690:{color:[122,135,50],opacity:1,label:"CbmWM_Gyri_Left"},691:{color:[122,135,50],opacity:1,label:"CbmWM_Gyri_Right"},701:{color:[120,18,134],opacity:1,label:"CSF-FSL-FAST"},702:{color:[205,62,78],opacity:1,label:"GrayMatter-FSL-FAST"},703:{color:[0,225,0],opacity:1,label:"WhiteMatter-FSL-FAST"},999:{color:[255,100,100],opacity:1,label:"SUSPICIOUS"},1e3:{color:[25,5,25],opacity:1,label:"ctx-lh-unknown"},1001:{color:[25,100,40],opacity:1,label:"ctx-lh-bankssts"},1002:{color:[125,100,160],opacity:1,label:"ctx-lh-caudalanteriorcingulate"},1003:{color:[100,25,0],opacity:1,label:"ctx-lh-caudalmiddlefrontal"},1004:{color:[120,70,50],opacity:1,label:"ctx-lh-corpuscallosum"},1005:{color:[220,20,100],opacity:1,label:"ctx-lh-cuneus"},1006:{color:[220,20,10],opacity:1,label:"ctx-lh-entorhinal"},1007:{color:[180,220,140],opacity:1,label:"ctx-lh-fusiform"},1008:{color:[220,60,220],opacity:1,label:"ctx-lh-inferiorparietal"},1009:{color:[180,40,120],opacity:1,label:"ctx-lh-inferiortemporal"},1010:{color:[140,20,140],opacity:1,label:"ctx-lh-isthmuscingulate"},1011:{color:[20,30,140],opacity:1,label:"ctx-lh-lateraloccipital"},1012:{color:[35,75,50],opacity:1,label:"ctx-lh-lateralorbitofrontal"},1013:{color:[225,140,140],opacity:1,label:"ctx-lh-lingual"},1014:{color:[200,35,75],opacity:1,label:"ctx-lh-medialorbitofrontal"},1015:{color:[160,100,50],opacity:1,label:"ctx-lh-middletemporal"},1016:{color:[20,220,60],opacity:1,label:"ctx-lh-parahippocampal"},1017:{color:[60,220,60],opacity:1,label:"ctx-lh-paracentral"},1018:{color:[220,180,140],opacity:1,label:"ctx-lh-parsopercularis"},1019:{color:[20,100,50],opacity:1,label:"ctx-lh-parsorbitalis"},1020:{color:[220,60,20],opacity:1,label:"ctx-lh-parstriangularis"},1021:{color:[120,100,60],opacity:1,label:"ctx-lh-pericalcarine"},1022:{color:[220,20,20],opacity:1,label:"ctx-lh-postcentral"},1023:{color:[220,180,220],opacity:1,label:"ctx-lh-posteriorcingulate"},1024:{color:[60,20,220],opacity:1,label:"ctx-lh-precentral"},1025:{color:[160,140,180],opacity:1,label:"ctx-lh-precuneus"},1026:{color:[80,20,140],opacity:1,label:"ctx-lh-rostralanteriorcingulate"},1027:{color:[75,50,125],opacity:1,label:"ctx-lh-rostralmiddlefrontal"},1028:{color:[20,220,160],opacity:1,label:"ctx-lh-superiorfrontal"},1029:{color:[20,180,140],opacity:1,label:"ctx-lh-superiorparietal"},1030:{color:[140,220,220],opacity:1,label:"ctx-lh-superiortemporal"},1031:{color:[80,160,20],opacity:1,label:"ctx-lh-supramarginal"},1032:{color:[100,0,100],opacity:1,label:"ctx-lh-frontalpole"},1033:{color:[70,70,70],opacity:1,label:"ctx-lh-temporalpole"},1034:{color:[150,150,200],opacity:1,label:"ctx-lh-transversetemporal"},1035:{color:[255,192,32],opacity:1,label:"ctx-lh-insula"},2e3:{color:[25,5,25],opacity:1,label:"ctx-rh-unknown"},2001:{color:[25,100,40],opacity:1,label:"ctx-rh-bankssts"},2002:{color:[125,100,160],opacity:1,label:"ctx-rh-caudalanteriorcingulate"},2003:{color:[100,25,0],opacity:1,label:"ctx-rh-caudalmiddlefrontal"},2004:{color:[120,70,50],opacity:1,label:"ctx-rh-corpuscallosum"},2005:{color:[220,20,100],opacity:1,label:"ctx-rh-cuneus"},2006:{color:[220,20,10],opacity:1,label:"ctx-rh-entorhinal"},2007:{color:[180,220,140],opacity:1,label:"ctx-rh-fusiform"},2008:{color:[220,60,220],opacity:1,label:"ctx-rh-inferiorparietal"},2009:{color:[180,40,120],opacity:1,label:"ctx-rh-inferiortemporal"},2010:{color:[140,20,140],opacity:1,label:"ctx-rh-isthmuscingulate"},2011:{color:[20,30,140],opacity:1,label:"ctx-rh-lateraloccipital"},2012:{color:[35,75,50],opacity:1,label:"ctx-rh-lateralorbitofrontal"},2013:{color:[225,140,140],opacity:1,label:"ctx-rh-lingual"},2014:{color:[200,35,75],opacity:1,label:"ctx-rh-medialorbitofrontal"},2015:{color:[160,100,50],opacity:1,label:"ctx-rh-middletemporal"},2016:{color:[20,220,60],opacity:1,label:"ctx-rh-parahippocampal"},2017:{color:[60,220,60],opacity:1,label:"ctx-rh-paracentral"},2018:{color:[220,180,140],opacity:1,label:"ctx-rh-parsopercularis"},2019:{color:[20,100,50],opacity:1,label:"ctx-rh-parsorbitalis"},2020:{color:[220,60,20],opacity:1,label:"ctx-rh-parstriangularis"},2021:{color:[120,100,60],opacity:1,label:"ctx-rh-pericalcarine"},2022:{color:[220,20,20],opacity:1,label:"ctx-rh-postcentral"},2023:{color:[220,180,220],opacity:1,label:"ctx-rh-posteriorcingulate"},2024:{color:[60,20,220],opacity:1,label:"ctx-rh-precentral"},2025:{color:[160,140,180],opacity:1,label:"ctx-rh-precuneus"},2026:{color:[80,20,140],opacity:1,label:"ctx-rh-rostralanteriorcingulate"},2027:{color:[75,50,125],opacity:1,label:"ctx-rh-rostralmiddlefrontal"},2028:{color:[20,220,160],opacity:1,label:"ctx-rh-superiorfrontal"},2029:{color:[20,180,140],opacity:1,label:"ctx-rh-superiorparietal"},2030:{color:[140,220,220],opacity:1,label:"ctx-rh-superiortemporal"},2031:{color:[80,160,20],opacity:1,label:"ctx-rh-supramarginal"},2032:{color:[100,0,100],opacity:1,label:"ctx-rh-frontalpole"},2033:{color:[70,70,70],opacity:1,label:"ctx-rh-temporalpole"},2034:{color:[150,150,200],opacity:1,label:"ctx-rh-transversetemporal"},2035:{color:[255,192,32],opacity:1,label:"ctx-rh-insula"},3e3:{color:[230,250,230],opacity:1,label:"wm-lh-unknown"},3001:{color:[230,155,215],opacity:1,label:"wm-lh-bankssts"},3002:{color:[130,155,95],opacity:1,label:"wm-lh-caudalanteriorcingulate"},3003:{color:[155,230,255],opacity:1,label:"wm-lh-caudalmiddlefrontal"},3004:{color:[135,185,205],opacity:1,label:"wm-lh-corpuscallosum"},3005:{color:[35,235,155],opacity:1,label:"wm-lh-cuneus"},3006:{color:[35,235,245],opacity:1,label:"wm-lh-entorhinal"},3007:{color:[75,35,115],opacity:1,label:"wm-lh-fusiform"},3008:{color:[35,195,35],opacity:1,label:"wm-lh-inferiorparietal"},3009:{color:[75,215,135],opacity:1,label:"wm-lh-inferiortemporal"},3010:{color:[115,235,115],opacity:1,label:"wm-lh-isthmuscingulate"},3011:{color:[235,225,115],opacity:1,label:"wm-lh-lateraloccipital"},3012:{color:[220,180,205],opacity:1,label:"wm-lh-lateralorbitofrontal"},3013:{color:[30,115,115],opacity:1,label:"wm-lh-lingual"},3014:{color:[55,220,180],opacity:1,label:"wm-lh-medialorbitofrontal"},3015:{color:[95,155,205],opacity:1,label:"wm-lh-middletemporal"},3016:{color:[235,35,195],opacity:1,label:"wm-lh-parahippocampal"},3017:{color:[195,35,195],opacity:1,label:"wm-lh-paracentral"},3018:{color:[35,75,115],opacity:1,label:"wm-lh-parsopercularis"},3019:{color:[235,155,205],opacity:1,label:"wm-lh-parsorbitalis"},3020:{color:[35,195,235],opacity:1,label:"wm-lh-parstriangularis"},3021:{color:[135,155,195],opacity:1,label:"wm-lh-pericalcarine"},3022:{color:[35,235,235],opacity:1,label:"wm-lh-postcentral"},3023:{color:[35,75,35],opacity:1,label:"wm-lh-posteriorcingulate"},3024:{color:[195,235,35],opacity:1,label:"wm-lh-precentral"},3025:{color:[95,115,75],opacity:1,label:"wm-lh-precuneus"},3026:{color:[175,235,115],opacity:1,label:"wm-lh-rostralanteriorcingulate"},3027:{color:[180,205,130],opacity:1,label:"wm-lh-rostralmiddlefrontal"},3028:{color:[235,35,95],opacity:1,label:"wm-lh-superiorfrontal"},3029:{color:[235,75,115],opacity:1,label:"wm-lh-superiorparietal"},3030:{color:[115,35,35],opacity:1,label:"wm-lh-superiortemporal"},3031:{color:[175,95,235],opacity:1,label:"wm-lh-supramarginal"},3032:{color:[155,255,155],opacity:1,label:"wm-lh-frontalpole"},3033:{color:[185,185,185],opacity:1,label:"wm-lh-temporalpole"},3034:{color:[105,105,55],opacity:1,label:"wm-lh-transversetemporal"},3035:{color:[20,220,160],opacity:1,label:"wm-lh-insula"},4e3:{color:[230,250,230],opacity:1,label:"wm-rh-unknown"},4001:{color:[230,155,215],opacity:1,label:"wm-rh-bankssts"},4002:{color:[130,155,95],opacity:1,label:"wm-rh-caudalanteriorcingulate"},4003:{color:[155,230,255],opacity:1,label:"wm-rh-caudalmiddlefrontal"},4004:{color:[135,185,205],opacity:1,label:"wm-rh-corpuscallosum"},4005:{color:[35,235,155],opacity:1,label:"wm-rh-cuneus"},4006:{color:[35,235,245],opacity:1,label:"wm-rh-entorhinal"},4007:{color:[75,35,115],opacity:1,label:"wm-rh-fusiform"},4008:{color:[35,195,35],opacity:1,label:"wm-rh-inferiorparietal"},4009:{color:[75,215,135],opacity:1,label:"wm-rh-inferiortemporal"},4010:{color:[115,235,115],opacity:1,label:"wm-rh-isthmuscingulate"},4011:{color:[235,225,115],opacity:1,label:"wm-rh-lateraloccipital"},4012:{color:[220,180,205],opacity:1,label:"wm-rh-lateralorbitofrontal"},4013:{color:[30,115,115],opacity:1,label:"wm-rh-lingual"},4014:{color:[55,220,180],opacity:1,label:"wm-rh-medialorbitofrontal"},4015:{color:[95,155,205],opacity:1,label:"wm-rh-middletemporal"},4016:{color:[235,35,195],opacity:1,label:"wm-rh-parahippocampal"},4017:{color:[195,35,195],opacity:1,label:"wm-rh-paracentral"},4018:{color:[35,75,115],opacity:1,label:"wm-rh-parsopercularis"},4019:{color:[235,155,205],opacity:1,label:"wm-rh-parsorbitalis"},4020:{color:[35,195,235],opacity:1,label:"wm-rh-parstriangularis"},4021:{color:[135,155,195],opacity:1,label:"wm-rh-pericalcarine"},4022:{color:[35,235,235],opacity:1,label:"wm-rh-postcentral"},4023:{color:[35,75,35],opacity:1,label:"wm-rh-posteriorcingulate"},4024:{color:[195,235,35],opacity:1,label:"wm-rh-precentral"},4025:{color:[95,115,75],opacity:1,label:"wm-rh-precuneus"},4026:{color:[175,235,115],opacity:1,label:"wm-rh-rostralanteriorcingulate"},4027:{color:[180,205,130],opacity:1,label:"wm-rh-rostralmiddlefrontal"},4028:{color:[235,35,95],opacity:1,label:"wm-rh-superiorfrontal"},4029:{color:[235,75,115],opacity:1,label:"wm-rh-superiorparietal"},4030:{color:[115,35,35],opacity:1,label:"wm-rh-superiortemporal"},4031:{color:[175,95,235],opacity:1,label:"wm-rh-supramarginal"},4032:{color:[155,255,155],opacity:1,label:"wm-rh-frontalpole"},4033:{color:[185,185,185],opacity:1,label:"wm-rh-temporalpole"},4034:{color:[105,105,55],opacity:1,label:"wm-rh-transversetemporal"},4035:{color:[20,220,160],opacity:1,label:"wm-rh-insula"},3201:{color:[235,35,95],opacity:1,label:"wm-lh-frontal-lobe"},3203:{color:[35,75,35],opacity:1,label:"wm-lh-cingulate-lobe"},3204:{color:[135,155,195],opacity:1,label:"wm-lh-occiptal-lobe"},3205:{color:[115,35,35],opacity:1,label:"wm-lh-temporal-lobe"},3206:{color:[35,195,35],opacity:1,label:"wm-lh-parietal-lobe"},3207:{color:[20,220,160],opacity:1,label:"wm-lh-insula-lobe"},4201:{color:[235,35,95],opacity:1,label:"wm-rh-frontal-lobe"},4203:{color:[35,75,35],opacity:1,label:"wm-rh-cingulate-lobe"},4204:{color:[135,155,195],opacity:1,label:"wm-rh-occiptal-lobe"},4205:{color:[115,35,35],opacity:1,label:"wm-rh-temporal-lobe"},4206:{color:[35,195,35],opacity:1,label:"wm-rh-parietal-lobe"},4207:{color:[20,220,160],opacity:1,label:"wm-rh-insula-lobe"},1100:{color:[0,0,0],opacity:1,label:"ctx-lh-Unknown"},1101:{color:[50,50,50],opacity:1,label:"ctx-lh-Corpus_callosum"},1102:{color:[180,20,30],opacity:1,label:"ctx-lh-G_and_S_Insula_ONLY_AVERAGE"},1103:{color:[60,25,25],opacity:1,label:"ctx-lh-G_cingulate-Isthmus"},1104:{color:[25,60,60],opacity:1,label:"ctx-lh-G_cingulate-Main_part"},1200:{color:[25,60,61],opacity:1,label:"ctx-lh-G_cingulate-caudal_ACC"},1201:{color:[25,90,60],opacity:1,label:"ctx-lh-G_cingulate-rostral_ACC"},1202:{color:[25,120,60],opacity:1,label:"ctx-lh-G_cingulate-posterior"},1205:{color:[25,150,60],opacity:1,label:"ctx-lh-S_cingulate-caudal_ACC"},1206:{color:[25,180,60],opacity:1,label:"ctx-lh-S_cingulate-rostral_ACC"},1207:{color:[25,210,60],opacity:1,label:"ctx-lh-S_cingulate-posterior"},1210:{color:[25,150,90],opacity:1,label:"ctx-lh-S_pericallosal-caudal"},1211:{color:[25,180,90],opacity:1,label:"ctx-lh-S_pericallosal-rostral"},1212:{color:[25,210,90],opacity:1,label:"ctx-lh-S_pericallosal-posterior"},1105:{color:[180,20,20],opacity:1,label:"ctx-lh-G_cuneus"},1106:{color:[220,20,100],opacity:1,label:"ctx-lh-G_frontal_inf-Opercular_part"},1107:{color:[140,60,60],opacity:1,label:"ctx-lh-G_frontal_inf-Orbital_part"},1108:{color:[180,220,140],opacity:1,label:"ctx-lh-G_frontal_inf-Triangular_part"},1109:{color:[140,100,180],opacity:1,label:"ctx-lh-G_frontal_middle"},1110:{color:[180,20,140],opacity:1,label:"ctx-lh-G_frontal_superior"},1111:{color:[140,20,140],opacity:1,label:"ctx-lh-G_frontomarginal"},1112:{color:[21,10,10],opacity:1,label:"ctx-lh-G_insular_long"},1113:{color:[225,140,140],opacity:1,label:"ctx-lh-G_insular_short"},1114:{color:[23,60,180],opacity:1,label:"ctx-lh-G_and_S_occipital_inferior"},1115:{color:[180,60,180],opacity:1,label:"ctx-lh-G_occipital_middle"},1116:{color:[20,220,60],opacity:1,label:"ctx-lh-G_occipital_superior"},1117:{color:[60,20,140],opacity:1,label:"ctx-lh-G_occipit-temp_lat-Or_fusiform"},1118:{color:[220,180,140],opacity:1,label:"ctx-lh-G_occipit-temp_med-Lingual_part"},1119:{color:[65,100,20],opacity:1,label:"ctx-lh-G_occipit-temp_med-Parahippocampal_part"},1120:{color:[220,60,20],opacity:1,label:"ctx-lh-G_orbital"},1121:{color:[60,100,60],opacity:1,label:"ctx-lh-G_paracentral"},1122:{color:[20,60,220],opacity:1,label:"ctx-lh-G_parietal_inferior-Angular_part"},1123:{color:[100,100,60],opacity:1,label:"ctx-lh-G_parietal_inferior-Supramarginal_part"},1124:{color:[220,180,220],opacity:1,label:"ctx-lh-G_parietal_superior"},1125:{color:[20,180,140],opacity:1,label:"ctx-lh-G_postcentral"},1126:{color:[60,140,180],opacity:1,label:"ctx-lh-G_precentral"},1127:{color:[25,20,140],opacity:1,label:"ctx-lh-G_precuneus"},1128:{color:[20,60,100],opacity:1,label:"ctx-lh-G_rectus"},1129:{color:[60,220,20],opacity:1,label:"ctx-lh-G_subcallosal"},1130:{color:[60,20,220],opacity:1,label:"ctx-lh-G_subcentral"},1131:{color:[220,220,100],opacity:1,label:"ctx-lh-G_temporal_inferior"},1132:{color:[180,60,60],opacity:1,label:"ctx-lh-G_temporal_middle"},1133:{color:[60,60,220],opacity:1,label:"ctx-lh-G_temp_sup-G_temp_transv_and_interm_S"},1134:{color:[220,60,220],opacity:1,label:"ctx-lh-G_temp_sup-Lateral_aspect"},1135:{color:[65,220,60],opacity:1,label:"ctx-lh-G_temp_sup-Planum_polare"},1136:{color:[25,140,20],opacity:1,label:"ctx-lh-G_temp_sup-Planum_tempolare"},1137:{color:[13,0,250],opacity:1,label:"ctx-lh-G_and_S_transverse_frontopolar"},1138:{color:[61,20,220],opacity:1,label:"ctx-lh-Lat_Fissure-ant_sgt-ramus_horizontal"},1139:{color:[61,20,60],opacity:1,label:"ctx-lh-Lat_Fissure-ant_sgt-ramus_vertical"},1140:{color:[61,60,100],opacity:1,label:"ctx-lh-Lat_Fissure-post_sgt"},1141:{color:[25,25,25],opacity:1,label:"ctx-lh-Medial_wall"},1142:{color:[140,20,60],opacity:1,label:"ctx-lh-Pole_occipital"},1143:{color:[220,180,20],opacity:1,label:"ctx-lh-Pole_temporal"},1144:{color:[63,180,180],opacity:1,label:"ctx-lh-S_calcarine"},1145:{color:[221,20,10],opacity:1,label:"ctx-lh-S_central"},1146:{color:[21,220,20],opacity:1,label:"ctx-lh-S_central_insula"},1147:{color:[183,100,20],opacity:1,label:"ctx-lh-S_cingulate-Main_part_and_Intracingulate"},1148:{color:[221,20,100],opacity:1,label:"ctx-lh-S_cingulate-Marginalis_part"},1149:{color:[221,60,140],opacity:1,label:"ctx-lh-S_circular_insula_anterior"},1150:{color:[221,20,220],opacity:1,label:"ctx-lh-S_circular_insula_inferior"},1151:{color:[61,220,220],opacity:1,label:"ctx-lh-S_circular_insula_superior"},1152:{color:[100,200,200],opacity:1,label:"ctx-lh-S_collateral_transverse_ant"},1153:{color:[10,200,200],opacity:1,label:"ctx-lh-S_collateral_transverse_post"},1154:{color:[221,220,20],opacity:1,label:"ctx-lh-S_frontal_inferior"},1155:{color:[141,20,100],opacity:1,label:"ctx-lh-S_frontal_middle"},1156:{color:[61,220,100],opacity:1,label:"ctx-lh-S_frontal_superior"},1157:{color:[21,220,60],opacity:1,label:"ctx-lh-S_frontomarginal"},1158:{color:[141,60,20],opacity:1,label:"ctx-lh-S_intermedius_primus-Jensen"},1159:{color:[143,20,220],opacity:1,label:"ctx-lh-S_intraparietal-and_Parietal_transverse"},1160:{color:[61,20,180],opacity:1,label:"ctx-lh-S_occipital_anterior"},1161:{color:[101,60,220],opacity:1,label:"ctx-lh-S_occipital_middle_and_Lunatus"},1162:{color:[21,20,140],opacity:1,label:"ctx-lh-S_occipital_superior_and_transversalis"},1163:{color:[221,140,20],opacity:1,label:"ctx-lh-S_occipito-temporal_lateral"},1164:{color:[141,100,220],opacity:1,label:"ctx-lh-S_occipito-temporal_medial_and_S_Lingual"},1165:{color:[101,20,20],opacity:1,label:"ctx-lh-S_orbital-H_shapped"},1166:{color:[221,100,20],opacity:1,label:"ctx-lh-S_orbital_lateral"},1167:{color:[181,200,20],opacity:1,label:"ctx-lh-S_orbital_medial-Or_olfactory"},1168:{color:[21,180,140],opacity:1,label:"ctx-lh-S_paracentral"},1169:{color:[101,100,180],opacity:1,label:"ctx-lh-S_parieto_occipital"},1170:{color:[181,220,20],opacity:1,label:"ctx-lh-S_pericallosal"},1171:{color:[21,140,200],opacity:1,label:"ctx-lh-S_postcentral"},1172:{color:[21,20,240],opacity:1,label:"ctx-lh-S_precentral-Inferior-part"},1173:{color:[21,20,200],opacity:1,label:"ctx-lh-S_precentral-Superior-part"},1174:{color:[61,180,60],opacity:1,label:"ctx-lh-S_subcentral_ant"},1175:{color:[61,180,250],opacity:1,label:"ctx-lh-S_subcentral_post"},1176:{color:[21,20,60],opacity:1,label:"ctx-lh-S_suborbital"},1177:{color:[101,60,60],opacity:1,label:"ctx-lh-S_subparietal"},1178:{color:[21,220,220],opacity:1,label:"ctx-lh-S_supracingulate"},1179:{color:[21,180,180],opacity:1,label:"ctx-lh-S_temporal_inferior"},1180:{color:[223,220,60],opacity:1,label:"ctx-lh-S_temporal_superior"},1181:{color:[221,60,60],opacity:1,label:"ctx-lh-S_temporal_transverse"},2100:{color:[0,0,0],opacity:1,label:"ctx-rh-Unknown"},2101:{color:[50,50,50],opacity:1,label:"ctx-rh-Corpus_callosum"},2102:{color:[180,20,30],opacity:1,label:"ctx-rh-G_and_S_Insula_ONLY_AVERAGE"},2103:{color:[60,25,25],opacity:1,label:"ctx-rh-G_cingulate-Isthmus"},2104:{color:[25,60,60],opacity:1,label:"ctx-rh-G_cingulate-Main_part"},2105:{color:[180,20,20],opacity:1,label:"ctx-rh-G_cuneus"},2106:{color:[220,20,100],opacity:1,label:"ctx-rh-G_frontal_inf-Opercular_part"},2107:{color:[140,60,60],opacity:1,label:"ctx-rh-G_frontal_inf-Orbital_part"},2108:{color:[180,220,140],opacity:1,label:"ctx-rh-G_frontal_inf-Triangular_part"},2109:{color:[140,100,180],opacity:1,label:"ctx-rh-G_frontal_middle"},2110:{color:[180,20,140],opacity:1,label:"ctx-rh-G_frontal_superior"},2111:{color:[140,20,140],opacity:1,label:"ctx-rh-G_frontomarginal"},2112:{color:[21,10,10],opacity:1,label:"ctx-rh-G_insular_long"},2113:{color:[225,140,140],opacity:1,label:"ctx-rh-G_insular_short"},2114:{color:[23,60,180],opacity:1,label:"ctx-rh-G_and_S_occipital_inferior"},2115:{color:[180,60,180],opacity:1,label:"ctx-rh-G_occipital_middle"},2116:{color:[20,220,60],opacity:1,label:"ctx-rh-G_occipital_superior"},2117:{color:[60,20,140],opacity:1,label:"ctx-rh-G_occipit-temp_lat-Or_fusiform"},2118:{color:[220,180,140],opacity:1,label:"ctx-rh-G_occipit-temp_med-Lingual_part"},2119:{color:[65,100,20],opacity:1,label:"ctx-rh-G_occipit-temp_med-Parahippocampal_part"},2120:{color:[220,60,20],opacity:1,label:"ctx-rh-G_orbital"},2121:{color:[60,100,60],opacity:1,label:"ctx-rh-G_paracentral"},2122:{color:[20,60,220],opacity:1,label:"ctx-rh-G_parietal_inferior-Angular_part"},2123:{color:[100,100,60],opacity:1,label:"ctx-rh-G_parietal_inferior-Supramarginal_part"},2124:{color:[220,180,220],opacity:1,label:"ctx-rh-G_parietal_superior"},2125:{color:[20,180,140],opacity:1,label:"ctx-rh-G_postcentral"},2126:{color:[60,140,180],opacity:1,label:"ctx-rh-G_precentral"},2127:{color:[25,20,140],opacity:1,label:"ctx-rh-G_precuneus"},2128:{color:[20,60,100],opacity:1,label:"ctx-rh-G_rectus"},2129:{color:[60,220,20],opacity:1,label:"ctx-rh-G_subcallosal"},2130:{color:[60,20,220],opacity:1,label:"ctx-rh-G_subcentral"},2131:{color:[220,220,100],opacity:1,label:"ctx-rh-G_temporal_inferior"},2132:{color:[180,60,60],opacity:1,label:"ctx-rh-G_temporal_middle"},2133:{color:[60,60,220],opacity:1,label:"ctx-rh-G_temp_sup-G_temp_transv_and_interm_S"},2134:{color:[220,60,220],opacity:1,label:"ctx-rh-G_temp_sup-Lateral_aspect"},2135:{color:[65,220,60],opacity:1,label:"ctx-rh-G_temp_sup-Planum_polare"},2136:{color:[25,140,20],opacity:1,label:"ctx-rh-G_temp_sup-Planum_tempolare"},2137:{color:[13,0,250],opacity:1,label:"ctx-rh-G_and_S_transverse_frontopolar"},2138:{color:[61,20,220],opacity:1,label:"ctx-rh-Lat_Fissure-ant_sgt-ramus_horizontal"},2139:{color:[61,20,60],opacity:1,label:"ctx-rh-Lat_Fissure-ant_sgt-ramus_vertical"},2140:{color:[61,60,100],opacity:1,label:"ctx-rh-Lat_Fissure-post_sgt"},2141:{color:[25,25,25],opacity:1,label:"ctx-rh-Medial_wall"},2142:{color:[140,20,60],opacity:1,label:"ctx-rh-Pole_occipital"},2143:{color:[220,180,20],opacity:1,label:"ctx-rh-Pole_temporal"},2144:{color:[63,180,180],opacity:1,label:"ctx-rh-S_calcarine"},2145:{color:[221,20,10],opacity:1,label:"ctx-rh-S_central"},2146:{color:[21,220,20],opacity:1,label:"ctx-rh-S_central_insula"},2147:{color:[183,100,20],opacity:1,label:"ctx-rh-S_cingulate-Main_part_and_Intracingulate"},2148:{color:[221,20,100],opacity:1,label:"ctx-rh-S_cingulate-Marginalis_part"},2149:{color:[221,60,140],opacity:1,label:"ctx-rh-S_circular_insula_anterior"},2150:{color:[221,20,220],opacity:1,label:"ctx-rh-S_circular_insula_inferior"},2151:{color:[61,220,220],opacity:1,label:"ctx-rh-S_circular_insula_superior"},2152:{color:[100,200,200],opacity:1,label:"ctx-rh-S_collateral_transverse_ant"},2153:{color:[10,200,200],opacity:1,label:"ctx-rh-S_collateral_transverse_post"},2154:{color:[221,220,20],opacity:1,label:"ctx-rh-S_frontal_inferior"},2155:{color:[141,20,100],opacity:1,label:"ctx-rh-S_frontal_middle"},2156:{color:[61,220,100],opacity:1,label:"ctx-rh-S_frontal_superior"},2157:{color:[21,220,60],opacity:1,label:"ctx-rh-S_frontomarginal"},2158:{color:[141,60,20],opacity:1,label:"ctx-rh-S_intermedius_primus-Jensen"},2159:{color:[143,20,220],opacity:1,label:"ctx-rh-S_intraparietal-and_Parietal_transverse"},2160:{color:[61,20,180],opacity:1,label:"ctx-rh-S_occipital_anterior"},2161:{color:[101,60,220],opacity:1,label:"ctx-rh-S_occipital_middle_and_Lunatus"},2162:{color:[21,20,140],opacity:1,label:"ctx-rh-S_occipital_superior_and_transversalis"},2163:{color:[221,140,20],opacity:1,label:"ctx-rh-S_occipito-temporal_lateral"},2164:{color:[141,100,220],opacity:1,label:"ctx-rh-S_occipito-temporal_medial_and_S_Lingual"},2165:{color:[101,20,20],opacity:1,label:"ctx-rh-S_orbital-H_shapped"},2166:{color:[221,100,20],opacity:1,label:"ctx-rh-S_orbital_lateral"},2167:{color:[181,200,20],opacity:1,label:"ctx-rh-S_orbital_medial-Or_olfactory"},2168:{color:[21,180,140],opacity:1,label:"ctx-rh-S_paracentral"},2169:{color:[101,100,180],opacity:1,label:"ctx-rh-S_parieto_occipital"},2170:{color:[181,220,20],opacity:1,label:"ctx-rh-S_pericallosal"},2171:{color:[21,140,200],opacity:1,label:"ctx-rh-S_postcentral"},2172:{color:[21,20,240],opacity:1,label:"ctx-rh-S_precentral-Inferior-part"},2173:{color:[21,20,200],opacity:1,label:"ctx-rh-S_precentral-Superior-part"},2174:{color:[61,180,60],opacity:1,label:"ctx-rh-S_subcentral_ant"},2175:{color:[61,180,250],opacity:1,label:"ctx-rh-S_subcentral_post"},2176:{color:[21,20,60],opacity:1,label:"ctx-rh-S_suborbital"},2177:{color:[101,60,60],opacity:1,label:"ctx-rh-S_subparietal"},2178:{color:[21,220,220],opacity:1,label:"ctx-rh-S_supracingulate"},2179:{color:[21,180,180],opacity:1,label:"ctx-rh-S_temporal_inferior"},2180:{color:[223,220,60],opacity:1,label:"ctx-rh-S_temporal_superior"},2181:{color:[221,60,60],opacity:1,label:"ctx-rh-S_temporal_transverse"},2200:{color:[25,60,61],opacity:1,label:"ctx-rh-G_cingulate-caudal_ACC"},2201:{color:[25,90,60],opacity:1,label:"ctx-rh-G_cingulate-rostral_ACC"},2202:{color:[25,120,60],opacity:1,label:"ctx-rh-G_cingulate-posterior"},2205:{color:[25,150,60],opacity:1,label:"ctx-rh-S_cingulate-caudal_ACC"},2206:{color:[25,180,60],opacity:1,label:"ctx-rh-S_cingulate-rostral_ACC"},2207:{color:[25,210,60],opacity:1,label:"ctx-rh-S_cingulate-posterior"},2210:{color:[25,150,90],opacity:1,label:"ctx-rh-S_pericallosal-caudal"},2211:{color:[25,180,90],opacity:1,label:"ctx-rh-S_pericallosal-rostral"},2212:{color:[25,210,90],opacity:1,label:"ctx-rh-S_pericallosal-posterior"},3100:{color:[0,0,0],opacity:1,label:"wm-lh-Unknown"},3101:{color:[50,50,50],opacity:1,label:"wm-lh-Corpus_callosum"},3102:{color:[180,20,30],opacity:1,label:"wm-lh-G_and_S_Insula_ONLY_AVERAGE"},3103:{color:[60,25,25],opacity:1,label:"wm-lh-G_cingulate-Isthmus"},3104:{color:[25,60,60],opacity:1,label:"wm-lh-G_cingulate-Main_part"},3105:{color:[180,20,20],opacity:1,label:"wm-lh-G_cuneus"},3106:{color:[220,20,100],opacity:1,label:"wm-lh-G_frontal_inf-Opercular_part"},3107:{color:[140,60,60],opacity:1,label:"wm-lh-G_frontal_inf-Orbital_part"},3108:{color:[180,220,140],opacity:1,label:"wm-lh-G_frontal_inf-Triangular_part"},3109:{color:[140,100,180],opacity:1,label:"wm-lh-G_frontal_middle"},3110:{color:[180,20,140],opacity:1,label:"wm-lh-G_frontal_superior"},3111:{color:[140,20,140],opacity:1,label:"wm-lh-G_frontomarginal"},3112:{color:[21,10,10],opacity:1,label:"wm-lh-G_insular_long"},3113:{color:[225,140,140],opacity:1,label:"wm-lh-G_insular_short"},3114:{color:[23,60,180],opacity:1,label:"wm-lh-G_and_S_occipital_inferior"},3115:{color:[180,60,180],opacity:1,label:"wm-lh-G_occipital_middle"},3116:{color:[20,220,60],opacity:1,label:"wm-lh-G_occipital_superior"},3117:{color:[60,20,140],opacity:1,label:"wm-lh-G_occipit-temp_lat-Or_fusiform"},3118:{color:[220,180,140],opacity:1,label:"wm-lh-G_occipit-temp_med-Lingual_part"},3119:{color:[65,100,20],opacity:1,label:"wm-lh-G_occipit-temp_med-Parahippocampal_part"},3120:{color:[220,60,20],opacity:1,label:"wm-lh-G_orbital"},3121:{color:[60,100,60],opacity:1,label:"wm-lh-G_paracentral"},3122:{color:[20,60,220],opacity:1,label:"wm-lh-G_parietal_inferior-Angular_part"},3123:{color:[100,100,60],opacity:1,label:"wm-lh-G_parietal_inferior-Supramarginal_part"},3124:{color:[220,180,220],opacity:1,label:"wm-lh-G_parietal_superior"},3125:{color:[20,180,140],opacity:1,label:"wm-lh-G_postcentral"},3126:{color:[60,140,180],opacity:1,label:"wm-lh-G_precentral"},3127:{color:[25,20,140],opacity:1,label:"wm-lh-G_precuneus"},3128:{color:[20,60,100],opacity:1,label:"wm-lh-G_rectus"},3129:{color:[60,220,20],opacity:1,label:"wm-lh-G_subcallosal"},3130:{color:[60,20,220],opacity:1,label:"wm-lh-G_subcentral"},3131:{color:[220,220,100],opacity:1,label:"wm-lh-G_temporal_inferior"},3132:{color:[180,60,60],opacity:1,label:"wm-lh-G_temporal_middle"},3133:{color:[60,60,220],opacity:1,label:"wm-lh-G_temp_sup-G_temp_transv_and_interm_S"},3134:{color:[220,60,220],opacity:1,label:"wm-lh-G_temp_sup-Lateral_aspect"},3135:{color:[65,220,60],opacity:1,label:"wm-lh-G_temp_sup-Planum_polare"},3136:{color:[25,140,20],opacity:1,label:"wm-lh-G_temp_sup-Planum_tempolare"},3137:{color:[13,0,250],opacity:1,label:"wm-lh-G_and_S_transverse_frontopolar"},3138:{color:[61,20,220],opacity:1,label:"wm-lh-Lat_Fissure-ant_sgt-ramus_horizontal"},3139:{color:[61,20,60],opacity:1,label:"wm-lh-Lat_Fissure-ant_sgt-ramus_vertical"},3140:{color:[61,60,100],opacity:1,label:"wm-lh-Lat_Fissure-post_sgt"},3141:{color:[25,25,25],opacity:1,label:"wm-lh-Medial_wall"},3142:{color:[140,20,60],opacity:1,label:"wm-lh-Pole_occipital"},3143:{color:[220,180,20],opacity:1,label:"wm-lh-Pole_temporal"},3144:{color:[63,180,180],opacity:1,label:"wm-lh-S_calcarine"},3145:{color:[221,20,10],opacity:1,label:"wm-lh-S_central"},3146:{color:[21,220,20],opacity:1,label:"wm-lh-S_central_insula"},3147:{color:[183,100,20],opacity:1,label:"wm-lh-S_cingulate-Main_part_and_Intracingulate"},3148:{color:[221,20,100],opacity:1,label:"wm-lh-S_cingulate-Marginalis_part"},3149:{color:[221,60,140],opacity:1,label:"wm-lh-S_circular_insula_anterior"},3150:{color:[221,20,220],opacity:1,label:"wm-lh-S_circular_insula_inferior"},3151:{color:[61,220,220],opacity:1,label:"wm-lh-S_circular_insula_superior"},3152:{color:[100,200,200],opacity:1,label:"wm-lh-S_collateral_transverse_ant"},3153:{color:[10,200,200],opacity:1,label:"wm-lh-S_collateral_transverse_post"},3154:{color:[221,220,20],opacity:1,label:"wm-lh-S_frontal_inferior"},3155:{color:[141,20,100],opacity:1,label:"wm-lh-S_frontal_middle"},3156:{color:[61,220,100],opacity:1,label:"wm-lh-S_frontal_superior"},3157:{color:[21,220,60],opacity:1,label:"wm-lh-S_frontomarginal"},3158:{color:[141,60,20],opacity:1,label:"wm-lh-S_intermedius_primus-Jensen"},3159:{color:[143,20,220],opacity:1,label:"wm-lh-S_intraparietal-and_Parietal_transverse"},3160:{color:[61,20,180],opacity:1,label:"wm-lh-S_occipital_anterior"},3161:{color:[101,60,220],opacity:1,label:"wm-lh-S_occipital_middle_and_Lunatus"},3162:{color:[21,20,140],opacity:1,label:"wm-lh-S_occipital_superior_and_transversalis"},3163:{color:[221,140,20],opacity:1,label:"wm-lh-S_occipito-temporal_lateral"},3164:{color:[141,100,220],opacity:1,label:"wm-lh-S_occipito-temporal_medial_and_S_Lingual"},3165:{color:[101,20,20],opacity:1,label:"wm-lh-S_orbital-H_shapped"},3166:{color:[221,100,20],opacity:1,label:"wm-lh-S_orbital_lateral"},3167:{color:[181,200,20],opacity:1,label:"wm-lh-S_orbital_medial-Or_olfactory"},3168:{color:[21,180,140],opacity:1,label:"wm-lh-S_paracentral"},3169:{color:[101,100,180],opacity:1,label:"wm-lh-S_parieto_occipital"},3170:{color:[181,220,20],opacity:1,label:"wm-lh-S_pericallosal"},3171:{color:[21,140,200],opacity:1,label:"wm-lh-S_postcentral"},3172:{color:[21,20,240],opacity:1,label:"wm-lh-S_precentral-Inferior-part"},3173:{color:[21,20,200],opacity:1,label:"wm-lh-S_precentral-Superior-part"},3174:{color:[61,180,60],opacity:1,label:"wm-lh-S_subcentral_ant"},3175:{color:[61,180,250],opacity:1,label:"wm-lh-S_subcentral_post"},3176:{color:[21,20,60],opacity:1,label:"wm-lh-S_suborbital"},3177:{color:[101,60,60],opacity:1,label:"wm-lh-S_subparietal"},3178:{color:[21,220,220],opacity:1,label:"wm-lh-S_supracingulate"},3179:{color:[21,180,180],opacity:1,label:"wm-lh-S_temporal_inferior"},3180:{color:[223,220,60],opacity:1,label:"wm-lh-S_temporal_superior"},3181:{color:[221,60,60],opacity:1,label:"wm-lh-S_temporal_transverse"},4100:{color:[0,0,0],opacity:1,label:"wm-rh-Unknown"},4101:{color:[50,50,50],opacity:1,label:"wm-rh-Corpus_callosum"},4102:{color:[180,20,30],opacity:1,label:"wm-rh-G_and_S_Insula_ONLY_AVERAGE"},4103:{color:[60,25,25],opacity:1,label:"wm-rh-G_cingulate-Isthmus"},4104:{color:[25,60,60],opacity:1,label:"wm-rh-G_cingulate-Main_part"},4105:{color:[180,20,20],opacity:1,label:"wm-rh-G_cuneus"},4106:{color:[220,20,100],opacity:1,label:"wm-rh-G_frontal_inf-Opercular_part"},4107:{color:[140,60,60],opacity:1,label:"wm-rh-G_frontal_inf-Orbital_part"},4108:{color:[180,220,140],opacity:1,label:"wm-rh-G_frontal_inf-Triangular_part"},4109:{color:[140,100,180],opacity:1,label:"wm-rh-G_frontal_middle"},4110:{color:[180,20,140],opacity:1,label:"wm-rh-G_frontal_superior"},4111:{color:[140,20,140],opacity:1,label:"wm-rh-G_frontomarginal"},4112:{color:[21,10,10],opacity:1,label:"wm-rh-G_insular_long"},4113:{color:[225,140,140],opacity:1,label:"wm-rh-G_insular_short"},4114:{color:[23,60,180],opacity:1,label:"wm-rh-G_and_S_occipital_inferior"},4115:{color:[180,60,180],opacity:1,label:"wm-rh-G_occipital_middle"},4116:{color:[20,220,60],opacity:1,label:"wm-rh-G_occipital_superior"},4117:{color:[60,20,140],opacity:1,label:"wm-rh-G_occipit-temp_lat-Or_fusiform"},4118:{color:[220,180,140],opacity:1,label:"wm-rh-G_occipit-temp_med-Lingual_part"},4119:{color:[65,100,20],opacity:1,label:"wm-rh-G_occipit-temp_med-Parahippocampal_part"},4120:{color:[220,60,20],opacity:1,label:"wm-rh-G_orbital"},4121:{color:[60,100,60],opacity:1,label:"wm-rh-G_paracentral"},4122:{color:[20,60,220],opacity:1,label:"wm-rh-G_parietal_inferior-Angular_part"},4123:{color:[100,100,60],opacity:1,label:"wm-rh-G_parietal_inferior-Supramarginal_part"},4124:{color:[220,180,220],opacity:1,label:"wm-rh-G_parietal_superior"},4125:{color:[20,180,140],opacity:1,label:"wm-rh-G_postcentral"},4126:{color:[60,140,180],opacity:1,label:"wm-rh-G_precentral"},4127:{color:[25,20,140],opacity:1,label:"wm-rh-G_precuneus"},4128:{color:[20,60,100],opacity:1,label:"wm-rh-G_rectus"},4129:{color:[60,220,20],opacity:1,label:"wm-rh-G_subcallosal"},4130:{color:[60,20,220],opacity:1,label:"wm-rh-G_subcentral"},4131:{color:[220,220,100],opacity:1,label:"wm-rh-G_temporal_inferior"},4132:{color:[180,60,60],opacity:1,label:"wm-rh-G_temporal_middle"},4133:{color:[60,60,220],opacity:1,label:"wm-rh-G_temp_sup-G_temp_transv_and_interm_S"},4134:{color:[220,60,220],opacity:1,label:"wm-rh-G_temp_sup-Lateral_aspect"},4135:{color:[65,220,60],opacity:1,label:"wm-rh-G_temp_sup-Planum_polare"},4136:{color:[25,140,20],opacity:1,label:"wm-rh-G_temp_sup-Planum_tempolare"},4137:{color:[13,0,250],opacity:1,label:"wm-rh-G_and_S_transverse_frontopolar"},4138:{color:[61,20,220],opacity:1,label:"wm-rh-Lat_Fissure-ant_sgt-ramus_horizontal"},4139:{color:[61,20,60],opacity:1,label:"wm-rh-Lat_Fissure-ant_sgt-ramus_vertical"},4140:{color:[61,60,100],opacity:1,label:"wm-rh-Lat_Fissure-post_sgt"},4141:{color:[25,25,25],opacity:1,label:"wm-rh-Medial_wall"},4142:{color:[140,20,60],opacity:1,label:"wm-rh-Pole_occipital"},4143:{color:[220,180,20],opacity:1,label:"wm-rh-Pole_temporal"},4144:{color:[63,180,180],opacity:1,label:"wm-rh-S_calcarine"},4145:{color:[221,20,10],opacity:1,label:"wm-rh-S_central"},4146:{color:[21,220,20],opacity:1,label:"wm-rh-S_central_insula"},4147:{color:[183,100,20],opacity:1,label:"wm-rh-S_cingulate-Main_part_and_Intracingulate"},4148:{color:[221,20,100],opacity:1,label:"wm-rh-S_cingulate-Marginalis_part"},4149:{color:[221,60,140],opacity:1,label:"wm-rh-S_circular_insula_anterior"},4150:{color:[221,20,220],opacity:1,label:"wm-rh-S_circular_insula_inferior"},4151:{color:[61,220,220],opacity:1,label:"wm-rh-S_circular_insula_superior"},4152:{color:[100,200,200],opacity:1,label:"wm-rh-S_collateral_transverse_ant"},4153:{color:[10,200,200],opacity:1,label:"wm-rh-S_collateral_transverse_post"},4154:{color:[221,220,20],opacity:1,label:"wm-rh-S_frontal_inferior"},4155:{color:[141,20,100],opacity:1,label:"wm-rh-S_frontal_middle"},4156:{color:[61,220,100],opacity:1,label:"wm-rh-S_frontal_superior"},4157:{color:[21,220,60],opacity:1,label:"wm-rh-S_frontomarginal"},4158:{color:[141,60,20],opacity:1,label:"wm-rh-S_intermedius_primus-Jensen"},4159:{color:[143,20,220],opacity:1,label:"wm-rh-S_intraparietal-and_Parietal_transverse"},4160:{color:[61,20,180],opacity:1,label:"wm-rh-S_occipital_anterior"},4161:{color:[101,60,220],opacity:1,label:"wm-rh-S_occipital_middle_and_Lunatus"},4162:{color:[21,20,140],opacity:1,label:"wm-rh-S_occipital_superior_and_transversalis"},4163:{color:[221,140,20],opacity:1,label:"wm-rh-S_occipito-temporal_lateral"},4164:{color:[141,100,220],opacity:1,label:"wm-rh-S_occipito-temporal_medial_and_S_Lingual"},4165:{color:[101,20,20],opacity:1,label:"wm-rh-S_orbital-H_shapped"},4166:{color:[221,100,20],opacity:1,label:"wm-rh-S_orbital_lateral"},4167:{color:[181,200,20],opacity:1,label:"wm-rh-S_orbital_medial-Or_olfactory"},4168:{color:[21,180,140],opacity:1,label:"wm-rh-S_paracentral"},4169:{color:[101,100,180],opacity:1,label:"wm-rh-S_parieto_occipital"},4170:{color:[181,220,20],opacity:1,label:"wm-rh-S_pericallosal"},4171:{color:[21,140,200],opacity:1,label:"wm-rh-S_postcentral"},4172:{color:[21,20,240],opacity:1,label:"wm-rh-S_precentral-Inferior-part"},4173:{color:[21,20,200],opacity:1,label:"wm-rh-S_precentral-Superior-part"},4174:{color:[61,180,60],opacity:1,label:"wm-rh-S_subcentral_ant"},4175:{color:[61,180,250],opacity:1,label:"wm-rh-S_subcentral_post"},4176:{color:[21,20,60],opacity:1,label:"wm-rh-S_suborbital"},4177:{color:[101,60,60],opacity:1,label:"wm-rh-S_subparietal"},4178:{color:[21,220,220],opacity:1,label:"wm-rh-S_supracingulate"},4179:{color:[21,180,180],opacity:1,label:"wm-rh-S_temporal_inferior"},4180:{color:[223,220,60],opacity:1,label:"wm-rh-S_temporal_superior"},4181:{color:[221,60,60],opacity:1,label:"wm-rh-S_temporal_transverse"},5001:{color:[20,30,40],opacity:1,label:"Left-UnsegmentedWhiteMatter"},5002:{color:[20,30,40],opacity:1,label:"Right-UnsegmentedWhiteMatter"},5100:{color:[204,102,102],opacity:1,label:"fmajor"},5101:{color:[204,102,102],opacity:1,label:"fminor"},5102:{color:[255,255,102],opacity:1,label:"lh.atr"},5103:{color:[153,204,0],opacity:1,label:"lh.cab"},5104:{color:[0,153,153],opacity:1,label:"lh.ccg"},5105:{color:[204,153,255],opacity:1,label:"lh.cst"},5106:{color:[255,153,51],opacity:1,label:"lh.ilf"},5107:{color:[204,204,204],opacity:1,label:"lh.slfp"},5108:{color:[153,255,255],opacity:1,label:"lh.slft"},5109:{color:[102,153,255],opacity:1,label:"lh.unc"},5110:{color:[255,255,102],opacity:1,label:"rh.atr"},5111:{color:[153,204,0],opacity:1,label:"rh.cab"},5112:{color:[0,153,153],opacity:1,label:"rh.ccg"},5113:{color:[204,153,255],opacity:1,label:"rh.cst"},5114:{color:[255,153,51],opacity:1,label:"rh.ilf"},5115:{color:[204,204,204],opacity:1,label:"rh.slfp"},5116:{color:[153,255,255],opacity:1,label:"rh.slft"},5117:{color:[102,153,255],opacity:1,label:"rh.unc"},5200:{color:[204,102,102],opacity:1,label:"CC-ForcepsMajor"},5201:{color:[204,102,102],opacity:1,label:"CC-ForcepsMinor"},5202:{color:[255,255,102],opacity:1,label:"LAntThalRadiation"},5203:{color:[153,204,0],opacity:1,label:"LCingulumAngBundle"},5204:{color:[0,153,153],opacity:1,label:"LCingulumCingGyrus"},5205:{color:[204,153,255],opacity:1,label:"LCorticospinalTract"},5206:{color:[255,153,51],opacity:1,label:"LInfLongFas"},5207:{color:[204,204,204],opacity:1,label:"LSupLongFasParietal"},5208:{color:[153,255,255],opacity:1,label:"LSupLongFasTemporal"},5209:{color:[102,153,255],opacity:1,label:"LUncinateFas"},5210:{color:[255,255,102],opacity:1,label:"RAntThalRadiation"},5211:{color:[153,204,0],opacity:1,label:"RCingulumAngBundle"},5212:{color:[0,153,153],opacity:1,label:"RCingulumCingGyrus"},5213:{color:[204,153,255],opacity:1,label:"RCorticospinalTract"},5214:{color:[255,153,51],opacity:1,label:"RInfLongFas"},5215:{color:[204,204,204],opacity:1,label:"RSupLongFasParietal"},5216:{color:[153,255,255],opacity:1,label:"RSupLongFasTemporal"},5217:{color:[102,153,255],opacity:1,label:"RUncinateFas"},6e3:{color:[0,255,0],opacity:1,label:"CST-orig"},6001:{color:[255,255,0],opacity:1,label:"CST-hammer"},6002:{color:[0,255,255],opacity:1,label:"CST-CVS"},6003:{color:[0,0,255],opacity:1,label:"CST-flirt"},6010:{color:[236,16,231],opacity:1,label:"Left-SLF1"},6020:{color:[237,18,232],opacity:1,label:"Right-SLF1"},6030:{color:[236,13,227],opacity:1,label:"Left-SLF3"},6040:{color:[236,17,228],opacity:1,label:"Right-SLF3"},6050:{color:[1,255,1],opacity:1,label:"Left-CST"},6060:{color:[2,255,1],opacity:1,label:"Right-CST"},6070:{color:[236,14,230],opacity:1,label:"Left-SLF2"},6080:{color:[237,14,230],opacity:1,label:"Right-SLF2"},7001:{color:[72,132,181],opacity:1,label:"Lateral-nucleus"},7002:{color:[243,243,243],opacity:1,label:"Basolateral-nucleus"},7003:{color:[207,63,79],opacity:1,label:"Basal-nucleus"},7004:{color:[121,20,135],opacity:1,label:"Centromedial-nucleus"},7005:{color:[197,60,248],opacity:1,label:"Central-nucleus"},7006:{color:[2,149,2],opacity:1,label:"Medial-nucleus"},7007:{color:[221,249,166],opacity:1,label:"Cortical-nucleus"},7008:{color:[232,146,35],opacity:1,label:"Accessory-Basal-nucleus"},7009:{color:[20,60,120],opacity:1,label:"Corticoamygdaloid-transitio"},7010:{color:[250,250,0],opacity:1,label:"Anterior-amygdaloid-area-AAA"},7011:{color:[122,187,222],opacity:1,label:"Fusion-amygdala-HP-FAH"},7012:{color:[237,12,177],opacity:1,label:"Hippocampal-amygdala-transition-HATA"},7013:{color:[10,49,255],opacity:1,label:"Endopiriform-nucleus"},7014:{color:[205,184,144],opacity:1,label:"Lateral-nucleus-olfactory-tract"},7015:{color:[45,205,165],opacity:1,label:"Paralaminar-nucleus"},7016:{color:[117,160,175],opacity:1,label:"Intercalated-nucleus"},7017:{color:[221,217,21],opacity:1,label:"Prepiriform-cortex"},7018:{color:[20,60,120],opacity:1,label:"Periamygdaloid-cortex"},7019:{color:[141,21,100],opacity:1,label:"Envelope-Amygdala"},7020:{color:[225,140,141],opacity:1,label:"Extranuclear-Amydala"},7100:{color:[42,201,168],opacity:1,label:"Brainstem-inferior-colliculus"},7101:{color:[168,104,162],opacity:1,label:"Brainstem-cochlear-nucleus"},8001:{color:[74,130,181],opacity:1,label:"Thalamus-Anterior"},8002:{color:[242,241,240],opacity:1,label:"Thalamus-Ventral-anterior"},8003:{color:[206,65,78],opacity:1,label:"Thalamus-Lateral-dorsal"},8004:{color:[120,21,133],opacity:1,label:"Thalamus-Lateral-posterior"},8005:{color:[195,61,246],opacity:1,label:"Thalamus-Ventral-lateral"},8006:{color:[3,147,6],opacity:1,label:"Thalamus-Ventral-posterior-medial"},8007:{color:[220,251,163],opacity:1,label:"Thalamus-Ventral-posterior-lateral"},8008:{color:[232,146,33],opacity:1,label:"Thalamus-intralaminar"},8009:{color:[4,114,14],opacity:1,label:"Thalamus-centromedian"},8010:{color:[121,184,220],opacity:1,label:"Thalamus-mediodorsal"},8011:{color:[235,11,175],opacity:1,label:"Thalamus-medial"},8012:{color:[12,46,250],opacity:1,label:"Thalamus-pulvinar"},8013:{color:[203,182,143],opacity:1,label:"Thalamus-lateral-geniculate"},8014:{color:[42,204,167],opacity:1,label:"Thalamus-medial-geniculate"},9e3:{color:[50,100,30],opacity:1,label:"ctx-lh-prefrontal"},9001:{color:[30,100,45],opacity:1,label:"ctx-lh-primary-motor"},9002:{color:[130,100,165],opacity:1,label:"ctx-lh-premotor"},9003:{color:[105,25,5],opacity:1,label:"ctx-lh-temporal"},9004:{color:[125,70,55],opacity:1,label:"ctx-lh-posterior-parietal"},9005:{color:[225,20,105],opacity:1,label:"ctx-lh-prim-sec-somatosensory"},9006:{color:[225,20,15],opacity:1,label:"ctx-lh-occipital"},9500:{color:[50,200,30],opacity:1,label:"ctx-rh-prefrontal"},9501:{color:[30,150,45],opacity:1,label:"ctx-rh-primary-motor"},9502:{color:[130,150,165],opacity:1,label:"ctx-rh-premotor"},9503:{color:[105,75,5],opacity:1,label:"ctx-rh-temporal"},9504:{color:[125,120,55],opacity:1,label:"ctx-rh-posterior-parietal"},9505:{color:[225,70,105],opacity:1,label:"ctx-rh-prim-sec-somatosensory"},9506:{color:[225,70,15],opacity:1,label:"ctx-rh-occipital"},11100:{color:[0,0,0],opacity:1,label:"ctx_lh_Unknown"},11101:{color:[23,220,60],opacity:1,label:"ctx_lh_G_and_S_frontomargin"},11102:{color:[23,60,180],opacity:1,label:"ctx_lh_G_and_S_occipital_inf"},11103:{color:[63,100,60],opacity:1,label:"ctx_lh_G_and_S_paracentral"},11104:{color:[63,20,220],opacity:1,label:"ctx_lh_G_and_S_subcentral"},11105:{color:[13,0,250],opacity:1,label:"ctx_lh_G_and_S_transv_frontopol"},11106:{color:[26,60,0],opacity:1,label:"ctx_lh_G_and_S_cingul-Ant"},11107:{color:[26,60,75],opacity:1,label:"ctx_lh_G_and_S_cingul-Mid-Ant"},11108:{color:[26,60,150],opacity:1,label:"ctx_lh_G_and_S_cingul-Mid-Post"},11109:{color:[25,60,250],opacity:1,label:"ctx_lh_G_cingul-Post-dorsal"},11110:{color:[60,25,25],opacity:1,label:"ctx_lh_G_cingul-Post-ventral"},11111:{color:[180,20,20],opacity:1,label:"ctx_lh_G_cuneus"},11112:{color:[220,20,100],opacity:1,label:"ctx_lh_G_front_inf-Opercular"},11113:{color:[140,60,60],opacity:1,label:"ctx_lh_G_front_inf-Orbital"},11114:{color:[180,220,140],opacity:1,label:"ctx_lh_G_front_inf-Triangul"},11115:{color:[140,100,180],opacity:1,label:"ctx_lh_G_front_middle"},11116:{color:[180,20,140],opacity:1,label:"ctx_lh_G_front_sup"},11117:{color:[23,10,10],opacity:1,label:"ctx_lh_G_Ins_lg_and_S_cent_ins"},11118:{color:[225,140,140],opacity:1,label:"ctx_lh_G_insular_short"},11119:{color:[180,60,180],opacity:1,label:"ctx_lh_G_occipital_middle"},11120:{color:[20,220,60],opacity:1,label:"ctx_lh_G_occipital_sup"},11121:{color:[60,20,140],opacity:1,label:"ctx_lh_G_oc-temp_lat-fusifor"},11122:{color:[220,180,140],opacity:1,label:"ctx_lh_G_oc-temp_med-Lingual"},11123:{color:[65,100,20],opacity:1,label:"ctx_lh_G_oc-temp_med-Parahip"},11124:{color:[220,60,20],opacity:1,label:"ctx_lh_G_orbital"},11125:{color:[20,60,220],opacity:1,label:"ctx_lh_G_pariet_inf-Angular"},11126:{color:[100,100,60],opacity:1,label:"ctx_lh_G_pariet_inf-Supramar"},11127:{color:[220,180,220],opacity:1,label:"ctx_lh_G_parietal_sup"},11128:{color:[20,180,140],opacity:1,label:"ctx_lh_G_postcentral"},11129:{color:[60,140,180],opacity:1,label:"ctx_lh_G_precentral"},11130:{color:[25,20,140],opacity:1,label:"ctx_lh_G_precuneus"},11131:{color:[20,60,100],opacity:1,label:"ctx_lh_G_rectus"},11132:{color:[60,220,20],opacity:1,label:"ctx_lh_G_subcallosal"},11133:{color:[60,60,220],opacity:1,label:"ctx_lh_G_temp_sup-G_T_transv"},11134:{color:[220,60,220],opacity:1,label:"ctx_lh_G_temp_sup-Lateral"},11135:{color:[65,220,60],opacity:1,label:"ctx_lh_G_temp_sup-Plan_polar"},11136:{color:[25,140,20],opacity:1,label:"ctx_lh_G_temp_sup-Plan_tempo"},11137:{color:[220,220,100],opacity:1,label:"ctx_lh_G_temporal_inf"},11138:{color:[180,60,60],opacity:1,label:"ctx_lh_G_temporal_middle"},11139:{color:[61,20,220],opacity:1,label:"ctx_lh_Lat_Fis-ant-Horizont"},11140:{color:[61,20,60],opacity:1,label:"ctx_lh_Lat_Fis-ant-Vertical"},11141:{color:[61,60,100],opacity:1,label:"ctx_lh_Lat_Fis-post"},11142:{color:[25,25,25],opacity:1,label:"ctx_lh_Medial_wall"},11143:{color:[140,20,60],opacity:1,label:"ctx_lh_Pole_occipital"},11144:{color:[220,180,20],opacity:1,label:"ctx_lh_Pole_temporal"},11145:{color:[63,180,180],opacity:1,label:"ctx_lh_S_calcarine"},11146:{color:[221,20,10],opacity:1,label:"ctx_lh_S_central"},11147:{color:[221,20,100],opacity:1,label:"ctx_lh_S_cingul-Marginalis"},11148:{color:[221,60,140],opacity:1,label:"ctx_lh_S_circular_insula_ant"},11149:{color:[221,20,220],opacity:1,label:"ctx_lh_S_circular_insula_inf"},11150:{color:[61,220,220],opacity:1,label:"ctx_lh_S_circular_insula_sup"},11151:{color:[100,200,200],opacity:1,label:"ctx_lh_S_collat_transv_ant"},11152:{color:[10,200,200],opacity:1,label:"ctx_lh_S_collat_transv_post"},11153:{color:[221,220,20],opacity:1,label:"ctx_lh_S_front_inf"},11154:{color:[141,20,100],opacity:1,label:"ctx_lh_S_front_middle"},11155:{color:[61,220,100],opacity:1,label:"ctx_lh_S_front_sup"},11156:{color:[141,60,20],opacity:1,label:"ctx_lh_S_interm_prim-Jensen"},11157:{color:[143,20,220],opacity:1,label:"ctx_lh_S_intrapariet_and_P_trans"},11158:{color:[101,60,220],opacity:1,label:"ctx_lh_S_oc_middle_and_Lunatus"},11159:{color:[21,20,140],opacity:1,label:"ctx_lh_S_oc_sup_and_transversal"},11160:{color:[61,20,180],opacity:1,label:"ctx_lh_S_occipital_ant"},11161:{color:[221,140,20],opacity:1,label:"ctx_lh_S_oc-temp_lat"},11162:{color:[141,100,220],opacity:1,label:"ctx_lh_S_oc-temp_med_and_Lingual"},11163:{color:[221,100,20],opacity:1,label:"ctx_lh_S_orbital_lateral"},11164:{color:[181,200,20],opacity:1,label:"ctx_lh_S_orbital_med-olfact"},11165:{color:[101,20,20],opacity:1,label:"ctx_lh_S_orbital-H_Shaped"},11166:{color:[101,100,180],opacity:1,label:"ctx_lh_S_parieto_occipital"},11167:{color:[181,220,20],opacity:1,label:"ctx_lh_S_pericallosal"},11168:{color:[21,140,200],opacity:1,label:"ctx_lh_S_postcentral"},11169:{color:[21,20,240],opacity:1,label:"ctx_lh_S_precentral-inf-part"},11170:{color:[21,20,200],opacity:1,label:"ctx_lh_S_precentral-sup-part"},11171:{color:[21,20,60],opacity:1,label:"ctx_lh_S_suborbital"},11172:{color:[101,60,60],opacity:1,label:"ctx_lh_S_subparietal"},11173:{color:[21,180,180],opacity:1,label:"ctx_lh_S_temporal_inf"},11174:{color:[223,220,60],opacity:1,label:"ctx_lh_S_temporal_sup"},11175:{color:[221,60,60],opacity:1,label:"ctx_lh_S_temporal_transverse"},12100:{color:[0,0,0],opacity:1,label:"ctx_rh_Unknown"},12101:{color:[23,220,60],opacity:1,label:"ctx_rh_G_and_S_frontomargin"},12102:{color:[23,60,180],opacity:1,label:"ctx_rh_G_and_S_occipital_inf"},12103:{color:[63,100,60],opacity:1,label:"ctx_rh_G_and_S_paracentral"},12104:{color:[63,20,220],opacity:1,label:"ctx_rh_G_and_S_subcentral"},12105:{color:[13,0,250],opacity:1,label:"ctx_rh_G_and_S_transv_frontopol"},12106:{color:[26,60,0],opacity:1,label:"ctx_rh_G_and_S_cingul-Ant"},12107:{color:[26,60,75],opacity:1,label:"ctx_rh_G_and_S_cingul-Mid-Ant"},12108:{color:[26,60,150],opacity:1,label:"ctx_rh_G_and_S_cingul-Mid-Post"},12109:{color:[25,60,250],opacity:1,label:"ctx_rh_G_cingul-Post-dorsal"},12110:{color:[60,25,25],opacity:1,label:"ctx_rh_G_cingul-Post-ventral"},12111:{color:[180,20,20],opacity:1,label:"ctx_rh_G_cuneus"},12112:{color:[220,20,100],opacity:1,label:"ctx_rh_G_front_inf-Opercular"},12113:{color:[140,60,60],opacity:1,label:"ctx_rh_G_front_inf-Orbital"},12114:{color:[180,220,140],opacity:1,label:"ctx_rh_G_front_inf-Triangul"},12115:{color:[140,100,180],opacity:1,label:"ctx_rh_G_front_middle"},12116:{color:[180,20,140],opacity:1,label:"ctx_rh_G_front_sup"},12117:{color:[23,10,10],opacity:1,label:"ctx_rh_G_Ins_lg_and_S_cent_ins"},12118:{color:[225,140,140],opacity:1,label:"ctx_rh_G_insular_short"},12119:{color:[180,60,180],opacity:1,label:"ctx_rh_G_occipital_middle"},12120:{color:[20,220,60],opacity:1,label:"ctx_rh_G_occipital_sup"},12121:{color:[60,20,140],opacity:1,label:"ctx_rh_G_oc-temp_lat-fusifor"},12122:{color:[220,180,140],opacity:1,label:"ctx_rh_G_oc-temp_med-Lingual"},12123:{color:[65,100,20],opacity:1,label:"ctx_rh_G_oc-temp_med-Parahip"},12124:{color:[220,60,20],opacity:1,label:"ctx_rh_G_orbital"},12125:{color:[20,60,220],opacity:1,label:"ctx_rh_G_pariet_inf-Angular"},12126:{color:[100,100,60],opacity:1,label:"ctx_rh_G_pariet_inf-Supramar"},12127:{color:[220,180,220],opacity:1,label:"ctx_rh_G_parietal_sup"},12128:{color:[20,180,140],opacity:1,label:"ctx_rh_G_postcentral"},12129:{color:[60,140,180],opacity:1,label:"ctx_rh_G_precentral"},12130:{color:[25,20,140],opacity:1,label:"ctx_rh_G_precuneus"},12131:{color:[20,60,100],opacity:1,label:"ctx_rh_G_rectus"},12132:{color:[60,220,20],opacity:1,label:"ctx_rh_G_subcallosal"},12133:{color:[60,60,220],opacity:1,label:"ctx_rh_G_temp_sup-G_T_transv"},12134:{color:[220,60,220],opacity:1,label:"ctx_rh_G_temp_sup-Lateral"},12135:{color:[65,220,60],opacity:1,label:"ctx_rh_G_temp_sup-Plan_polar"},12136:{color:[25,140,20],opacity:1,label:"ctx_rh_G_temp_sup-Plan_tempo"},12137:{color:[220,220,100],opacity:1,label:"ctx_rh_G_temporal_inf"},12138:{color:[180,60,60],opacity:1,label:"ctx_rh_G_temporal_middle"},12139:{color:[61,20,220],opacity:1,label:"ctx_rh_Lat_Fis-ant-Horizont"},12140:{color:[61,20,60],opacity:1,label:"ctx_rh_Lat_Fis-ant-Vertical"},12141:{color:[61,60,100],opacity:1,label:"ctx_rh_Lat_Fis-post"},12142:{color:[25,25,25],opacity:1,label:"ctx_rh_Medial_wall"},12143:{color:[140,20,60],opacity:1,label:"ctx_rh_Pole_occipital"},12144:{color:[220,180,20],opacity:1,label:"ctx_rh_Pole_temporal"},12145:{color:[63,180,180],opacity:1,label:"ctx_rh_S_calcarine"},12146:{color:[221,20,10],opacity:1,label:"ctx_rh_S_central"},12147:{color:[221,20,100],opacity:1,label:"ctx_rh_S_cingul-Marginalis"},12148:{color:[221,60,140],opacity:1,label:"ctx_rh_S_circular_insula_ant"},12149:{color:[221,20,220],opacity:1,label:"ctx_rh_S_circular_insula_inf"},12150:{color:[61,220,220],opacity:1,label:"ctx_rh_S_circular_insula_sup"},12151:{color:[100,200,200],opacity:1,label:"ctx_rh_S_collat_transv_ant"},12152:{color:[10,200,200],opacity:1,label:"ctx_rh_S_collat_transv_post"},12153:{color:[221,220,20],opacity:1,label:"ctx_rh_S_front_inf"},12154:{color:[141,20,100],opacity:1,label:"ctx_rh_S_front_middle"},12155:{color:[61,220,100],opacity:1,label:"ctx_rh_S_front_sup"},12156:{color:[141,60,20],opacity:1,label:"ctx_rh_S_interm_prim-Jensen"},12157:{color:[143,20,220],opacity:1,label:"ctx_rh_S_intrapariet_and_P_trans"},12158:{color:[101,60,220],opacity:1,label:"ctx_rh_S_oc_middle_and_Lunatus"},12159:{color:[21,20,140],opacity:1,label:"ctx_rh_S_oc_sup_and_transversal"},12160:{color:[61,20,180],opacity:1,label:"ctx_rh_S_occipital_ant"},12161:{color:[221,140,20],opacity:1,label:"ctx_rh_S_oc-temp_lat"},12162:{color:[141,100,220],opacity:1,label:"ctx_rh_S_oc-temp_med_and_Lingual"},12163:{color:[221,100,20],opacity:1,label:"ctx_rh_S_orbital_lateral"},12164:{color:[181,200,20],opacity:1,label:"ctx_rh_S_orbital_med-olfact"},12165:{color:[101,20,20],opacity:1,label:"ctx_rh_S_orbital-H_Shaped"},12166:{color:[101,100,180],opacity:1,label:"ctx_rh_S_parieto_occipital"},12167:{color:[181,220,20],opacity:1,label:"ctx_rh_S_pericallosal"},12168:{color:[21,140,200],opacity:1,label:"ctx_rh_S_postcentral"},12169:{color:[21,20,240],opacity:1,label:"ctx_rh_S_precentral-inf-part"},12170:{color:[21,20,200],opacity:1,label:"ctx_rh_S_precentral-sup-part"},12171:{color:[21,20,60],opacity:1,label:"ctx_rh_S_suborbital"},12172:{color:[101,60,60],opacity:1,label:"ctx_rh_S_subparietal"},12173:{color:[21,180,180],opacity:1,label:"ctx_rh_S_temporal_inf"},12174:{color:[223,220,60],opacity:1,label:"ctx_rh_S_temporal_sup"},12175:{color:[221,60,60],opacity:1,label:"ctx_rh_S_temporal_transverse"},13100:{color:[0,0,0],opacity:1,label:"wm_lh_Unknown"},13101:{color:[23,220,60],opacity:1,label:"wm_lh_G_and_S_frontomargin"},13102:{color:[23,60,180],opacity:1,label:"wm_lh_G_and_S_occipital_inf"},13103:{color:[63,100,60],opacity:1,label:"wm_lh_G_and_S_paracentral"},13104:{color:[63,20,220],opacity:1,label:"wm_lh_G_and_S_subcentral"},13105:{color:[13,0,250],opacity:1,label:"wm_lh_G_and_S_transv_frontopol"},13106:{color:[26,60,0],opacity:1,label:"wm_lh_G_and_S_cingul-Ant"},13107:{color:[26,60,75],opacity:1,label:"wm_lh_G_and_S_cingul-Mid-Ant"},13108:{color:[26,60,150],opacity:1,label:"wm_lh_G_and_S_cingul-Mid-Post"},13109:{color:[25,60,250],opacity:1,label:"wm_lh_G_cingul-Post-dorsal"},13110:{color:[60,25,25],opacity:1,label:"wm_lh_G_cingul-Post-ventral"},13111:{color:[180,20,20],opacity:1,label:"wm_lh_G_cuneus"},13112:{color:[220,20,100],opacity:1,label:"wm_lh_G_front_inf-Opercular"},13113:{color:[140,60,60],opacity:1,label:"wm_lh_G_front_inf-Orbital"},13114:{color:[180,220,140],opacity:1,label:"wm_lh_G_front_inf-Triangul"},13115:{color:[140,100,180],opacity:1,label:"wm_lh_G_front_middle"},13116:{color:[180,20,140],opacity:1,label:"wm_lh_G_front_sup"},13117:{color:[23,10,10],opacity:1,label:"wm_lh_G_Ins_lg_and_S_cent_ins"},13118:{color:[225,140,140],opacity:1,label:"wm_lh_G_insular_short"},13119:{color:[180,60,180],opacity:1,label:"wm_lh_G_occipital_middle"},13120:{color:[20,220,60],opacity:1,label:"wm_lh_G_occipital_sup"},13121:{color:[60,20,140],opacity:1,label:"wm_lh_G_oc-temp_lat-fusifor"},13122:{color:[220,180,140],opacity:1,label:"wm_lh_G_oc-temp_med-Lingual"},13123:{color:[65,100,20],opacity:1,label:"wm_lh_G_oc-temp_med-Parahip"},13124:{color:[220,60,20],opacity:1,label:"wm_lh_G_orbital"},13125:{color:[20,60,220],opacity:1,label:"wm_lh_G_pariet_inf-Angular"},13126:{color:[100,100,60],opacity:1,label:"wm_lh_G_pariet_inf-Supramar"},13127:{color:[220,180,220],opacity:1,label:"wm_lh_G_parietal_sup"},13128:{color:[20,180,140],opacity:1,label:"wm_lh_G_postcentral"},13129:{color:[60,140,180],opacity:1,label:"wm_lh_G_precentral"},13130:{color:[25,20,140],opacity:1,label:"wm_lh_G_precuneus"},13131:{color:[20,60,100],opacity:1,label:"wm_lh_G_rectus"},13132:{color:[60,220,20],opacity:1,label:"wm_lh_G_subcallosal"},13133:{color:[60,60,220],opacity:1,label:"wm_lh_G_temp_sup-G_T_transv"},13134:{color:[220,60,220],opacity:1,label:"wm_lh_G_temp_sup-Lateral"},13135:{color:[65,220,60],opacity:1,label:"wm_lh_G_temp_sup-Plan_polar"},13136:{color:[25,140,20],opacity:1,label:"wm_lh_G_temp_sup-Plan_tempo"},13137:{color:[220,220,100],opacity:1,label:"wm_lh_G_temporal_inf"},13138:{color:[180,60,60],opacity:1,label:"wm_lh_G_temporal_middle"},13139:{color:[61,20,220],opacity:1,label:"wm_lh_Lat_Fis-ant-Horizont"},13140:{color:[61,20,60],opacity:1,label:"wm_lh_Lat_Fis-ant-Vertical"},13141:{color:[61,60,100],opacity:1,label:"wm_lh_Lat_Fis-post"},13142:{color:[25,25,25],opacity:1,label:"wm_lh_Medial_wall"},13143:{color:[140,20,60],opacity:1,label:"wm_lh_Pole_occipital"},13144:{color:[220,180,20],opacity:1,label:"wm_lh_Pole_temporal"},13145:{color:[63,180,180],opacity:1,label:"wm_lh_S_calcarine"},13146:{color:[221,20,10],opacity:1,label:"wm_lh_S_central"},13147:{color:[221,20,100],opacity:1,label:"wm_lh_S_cingul-Marginalis"},13148:{color:[221,60,140],opacity:1,label:"wm_lh_S_circular_insula_ant"},13149:{color:[221,20,220],opacity:1,label:"wm_lh_S_circular_insula_inf"},13150:{color:[61,220,220],opacity:1,label:"wm_lh_S_circular_insula_sup"},13151:{color:[100,200,200],opacity:1,label:"wm_lh_S_collat_transv_ant"},13152:{color:[10,200,200],opacity:1,label:"wm_lh_S_collat_transv_post"},13153:{color:[221,220,20],opacity:1,label:"wm_lh_S_front_inf"},13154:{color:[141,20,100],opacity:1,label:"wm_lh_S_front_middle"},13155:{color:[61,220,100],opacity:1,label:"wm_lh_S_front_sup"},13156:{color:[141,60,20],opacity:1,label:"wm_lh_S_interm_prim-Jensen"},13157:{color:[143,20,220],opacity:1,label:"wm_lh_S_intrapariet_and_P_trans"},13158:{color:[101,60,220],opacity:1,label:"wm_lh_S_oc_middle_and_Lunatus"},13159:{color:[21,20,140],opacity:1,label:"wm_lh_S_oc_sup_and_transversal"},13160:{color:[61,20,180],opacity:1,label:"wm_lh_S_occipital_ant"},13161:{color:[221,140,20],opacity:1,label:"wm_lh_S_oc-temp_lat"},13162:{color:[141,100,220],opacity:1,label:"wm_lh_S_oc-temp_med_and_Lingual"},13163:{color:[221,100,20],opacity:1,label:"wm_lh_S_orbital_lateral"},13164:{color:[181,200,20],opacity:1,label:"wm_lh_S_orbital_med-olfact"},13165:{color:[101,20,20],opacity:1,label:"wm_lh_S_orbital-H_Shaped"},13166:{color:[101,100,180],opacity:1,label:"wm_lh_S_parieto_occipital"},13167:{color:[181,220,20],opacity:1,label:"wm_lh_S_pericallosal"},13168:{color:[21,140,200],opacity:1,label:"wm_lh_S_postcentral"},13169:{color:[21,20,240],opacity:1,label:"wm_lh_S_precentral-inf-part"},13170:{color:[21,20,200],opacity:1,label:"wm_lh_S_precentral-sup-part"},13171:{color:[21,20,60],opacity:1,label:"wm_lh_S_suborbital"},13172:{color:[101,60,60],opacity:1,label:"wm_lh_S_subparietal"},13173:{color:[21,180,180],opacity:1,label:"wm_lh_S_temporal_inf"},13174:{color:[223,220,60],opacity:1,label:"wm_lh_S_temporal_sup"},13175:{color:[221,60,60],opacity:1,label:"wm_lh_S_temporal_transverse"},14100:{color:[0,0,0],opacity:1,label:"wm_rh_Unknown"},14101:{color:[23,220,60],opacity:1,label:"wm_rh_G_and_S_frontomargin"},14102:{color:[23,60,180],opacity:1,label:"wm_rh_G_and_S_occipital_inf"},14103:{color:[63,100,60],opacity:1,label:"wm_rh_G_and_S_paracentral"},14104:{color:[63,20,220],opacity:1,label:"wm_rh_G_and_S_subcentral"},14105:{color:[13,0,250],opacity:1,label:"wm_rh_G_and_S_transv_frontopol"},14106:{color:[26,60,0],opacity:1,label:"wm_rh_G_and_S_cingul-Ant"},14107:{color:[26,60,75],opacity:1,label:"wm_rh_G_and_S_cingul-Mid-Ant"},14108:{color:[26,60,150],opacity:1,label:"wm_rh_G_and_S_cingul-Mid-Post"},14109:{color:[25,60,250],opacity:1,label:"wm_rh_G_cingul-Post-dorsal"},14110:{color:[60,25,25],opacity:1,label:"wm_rh_G_cingul-Post-ventral"},14111:{color:[180,20,20],opacity:1,label:"wm_rh_G_cuneus"},14112:{color:[220,20,100],opacity:1,label:"wm_rh_G_front_inf-Opercular"},14113:{color:[140,60,60],opacity:1,label:"wm_rh_G_front_inf-Orbital"},14114:{color:[180,220,140],opacity:1,label:"wm_rh_G_front_inf-Triangul"},14115:{color:[140,100,180],opacity:1,label:"wm_rh_G_front_middle"},14116:{color:[180,20,140],opacity:1,label:"wm_rh_G_front_sup"},14117:{color:[23,10,10],opacity:1,label:"wm_rh_G_Ins_lg_and_S_cent_ins"},14118:{color:[225,140,140],opacity:1,label:"wm_rh_G_insular_short"},14119:{color:[180,60,180],opacity:1,label:"wm_rh_G_occipital_middle"},14120:{color:[20,220,60],opacity:1,label:"wm_rh_G_occipital_sup"},14121:{color:[60,20,140],opacity:1,label:"wm_rh_G_oc-temp_lat-fusifor"},14122:{color:[220,180,140],opacity:1,label:"wm_rh_G_oc-temp_med-Lingual"},14123:{color:[65,100,20],opacity:1,label:"wm_rh_G_oc-temp_med-Parahip"},14124:{color:[220,60,20],opacity:1,label:"wm_rh_G_orbital"},14125:{color:[20,60,220],opacity:1,label:"wm_rh_G_pariet_inf-Angular"},14126:{color:[100,100,60],opacity:1,label:"wm_rh_G_pariet_inf-Supramar"},14127:{color:[220,180,220],opacity:1,label:"wm_rh_G_parietal_sup"},14128:{color:[20,180,140],opacity:1,label:"wm_rh_G_postcentral"},14129:{color:[60,140,180],opacity:1,label:"wm_rh_G_precentral"},14130:{color:[25,20,140],opacity:1,label:"wm_rh_G_precuneus"},14131:{color:[20,60,100],opacity:1,label:"wm_rh_G_rectus"},14132:{color:[60,220,20],opacity:1,label:"wm_rh_G_subcallosal"},14133:{color:[60,60,220],opacity:1,label:"wm_rh_G_temp_sup-G_T_transv"},14134:{color:[220,60,220],opacity:1,label:"wm_rh_G_temp_sup-Lateral"},14135:{color:[65,220,60],opacity:1,label:"wm_rh_G_temp_sup-Plan_polar"},14136:{color:[25,140,20],opacity:1,label:"wm_rh_G_temp_sup-Plan_tempo"},14137:{color:[220,220,100],opacity:1,label:"wm_rh_G_temporal_inf"},14138:{color:[180,60,60],opacity:1,label:"wm_rh_G_temporal_middle"},14139:{color:[61,20,220],opacity:1,label:"wm_rh_Lat_Fis-ant-Horizont"},14140:{color:[61,20,60],opacity:1,label:"wm_rh_Lat_Fis-ant-Vertical"},14141:{color:[61,60,100],opacity:1,label:"wm_rh_Lat_Fis-post"},14142:{color:[25,25,25],opacity:1,label:"wm_rh_Medial_wall"},14143:{color:[140,20,60],opacity:1,label:"wm_rh_Pole_occipital"},14144:{color:[220,180,20],opacity:1,label:"wm_rh_Pole_temporal"},14145:{color:[63,180,180],opacity:1,label:"wm_rh_S_calcarine"},14146:{color:[221,20,10],opacity:1,label:"wm_rh_S_central"},14147:{color:[221,20,100],opacity:1,label:"wm_rh_S_cingul-Marginalis"},14148:{color:[221,60,140],opacity:1,label:"wm_rh_S_circular_insula_ant"},14149:{color:[221,20,220],opacity:1,label:"wm_rh_S_circular_insula_inf"},14150:{color:[61,220,220],opacity:1,label:"wm_rh_S_circular_insula_sup"},14151:{color:[100,200,200],opacity:1,label:"wm_rh_S_collat_transv_ant"},14152:{color:[10,200,200],opacity:1,label:"wm_rh_S_collat_transv_post"},14153:{color:[221,220,20],opacity:1,label:"wm_rh_S_front_inf"},14154:{color:[141,20,100],opacity:1,label:"wm_rh_S_front_middle"},14155:{color:[61,220,100],opacity:1,label:"wm_rh_S_front_sup"},14156:{color:[141,60,20],opacity:1,label:"wm_rh_S_interm_prim-Jensen"},14157:{color:[143,20,220],opacity:1,label:"wm_rh_S_intrapariet_and_P_trans"},14158:{color:[101,60,220],opacity:1,label:"wm_rh_S_oc_middle_and_Lunatus"},14159:{color:[21,20,140],opacity:1,label:"wm_rh_S_oc_sup_and_transversal"},14160:{color:[61,20,180],opacity:1,label:"wm_rh_S_occipital_ant"},14161:{color:[221,140,20],opacity:1,label:"wm_rh_S_oc-temp_lat"},14162:{color:[141,100,220],opacity:1,label:"wm_rh_S_oc-temp_med_and_Lingual"},14163:{color:[221,100,20],opacity:1,label:"wm_rh_S_orbital_lateral"},14164:{color:[181,200,20],opacity:1,label:"wm_rh_S_orbital_med-olfact"},14165:{color:[101,20,20],opacity:1,label:"wm_rh_S_orbital-H_Shaped"},14166:{color:[101,100,180],opacity:1,label:"wm_rh_S_parieto_occipital"},14167:{color:[181,220,20],opacity:1,label:"wm_rh_S_pericallosal"},14168:{color:[21,140,200],opacity:1,label:"wm_rh_S_postcentral"},14169:{color:[21,20,240],opacity:1,label:"wm_rh_S_precentral-inf-part"},14170:{color:[21,20,200],opacity:1,label:"wm_rh_S_precentral-sup-part"},14171:{color:[21,20,60],opacity:1,label:"wm_rh_S_suborbital"},14172:{color:[101,60,60],opacity:1,label:"wm_rh_S_subparietal"},14173:{color:[21,180,180],opacity:1,label:"wm_rh_S_temporal_inf"},14174:{color:[223,220,60],opacity:1,label:"wm_rh_S_temporal_sup"},14175:{color:[221,60,60],opacity:1,label:"wm_rh_S_temporal_transverse"}},ft=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),dt=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Freesurfer";!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._presetID=t,this._presets=this.presetSegs()}return e.prototype.fetchPreset=function(e){return this._presets[e]},e.prototype.addPreset=function(e){this._presets.push(e)},e.prototype.presetsAvailable=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e=[],t=this._presets;for(var i in t){e.push(i)}return e},e.prototype.presetSegs=function(){return{Freesurfer:ut}},ft(e,[{key:"preset",set:function set(e){this._presetID=e},get:function get(){return this.fetchPreset(this._presetID)}}]),e}();function pt(e,t){this.x=e||0,this.y=t||0}Object.defineProperties(pt.prototype,{width:{get:function get(){return this.x},set:function set(e){this.x=e}},height:{get:function get(){return this.y},set:function set(e){this.y=e}}}),Object.assign(pt.prototype,{isVector2:!0,set:function set(e,t){return this.x=e,this.y=t,this},setScalar:function setScalar(e){return this.x=e,this.y=e,this},setX:function setX(e){return this.x=e,this},setY:function setY(e){return this.y=e,this},setComponent:function setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e);}return this},getComponent:function getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e);}},clone:function clone(){return new this.constructor(this.x,this.y)},copy:function copy(e){return this.x=e.x,this.y=e.y,this},add:function add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function addScalar(e){return this.x+=e,this.y+=e,this},addVectors:function addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function subScalar(e){return this.x-=e,this.y-=e,this},subVectors:function subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function multiply(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function multiplyScalar(e){return this.x*=e,this.y*=e,this},divide:function divide(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function divideScalar(e){return this.multiplyScalar(1/e)},applyMatrix3:function applyMatrix3(e){var t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this},min:function min(e){return this.x=_Mathmin(this.x,e.x),this.y=_Mathmin(this.y,e.y),this},max:function max(e){return this.x=_Mathmax(this.x,e.x),this.y=_Mathmax(this.y,e.y),this},clamp:function clamp(e,t){return this.x=_Mathmax(e.x,_Mathmin(t.x,this.x)),this.y=_Mathmax(e.y,_Mathmin(t.y,this.y)),this},clampScalar:function(){var e=new pt,t=new pt;return function(i,n){return e.set(i,i),t.set(n,n),this.clamp(e,t)}}(),clampLength:function clampLength(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(_Mathmax(e,_Mathmin(t,i)))},floor:function floor(){return this.x=_Mathfloor(this.x),this.y=_Mathfloor(this.y),this},ceil:function ceil(){return this.x=_Mathceil(this.x),this.y=_Mathceil(this.y),this},round:function round(){return this.x=_Mathround(this.x),this.y=_Mathround(this.y),this},roundToZero:function roundToZero(){return this.x=0>this.x?_Mathceil(this.x):_Mathfloor(this.x),this.y=0>this.y?_Mathceil(this.y):_Mathfloor(this.y),this},negate:function negate(){return this.x=-this.x,this.y=-this.y,this},dot:function dot(e){return this.x*e.x+this.y*e.y},lengthSq:function lengthSq(){return this.x*this.x+this.y*this.y},length:function length(){return _Mathsqrt(this.x*this.x+this.y*this.y)},manhattanLength:function manhattanLength(){return _Mathabs(this.x)+_Mathabs(this.y)},normalize:function normalize(){return this.divideScalar(this.length()||1)},angle:function angle(){var e=_Mathatan(this.y,this.x);return 0>e&&(e+=2*_MathPI),e},distanceTo:function distanceTo(e){return _Mathsqrt(this.distanceToSquared(e))},distanceToSquared:function distanceToSquared(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},manhattanDistanceTo:function manhattanDistanceTo(e){return _Mathabs(this.x-e.x)+_Mathabs(this.y-e.y)},setLength:function setLength(e){return this.normalize().multiplyScalar(e)},lerp:function lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function lerpVectors(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function equals(e){return e.x===this.x&&e.y===this.y},fromArray:function fromArray(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function fromBufferAttribute(e,t,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function rotateAround(e,t){var i=_Mathcos(t),n=_Mathsin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*n+e.x,this.y=r*n+o*i+e.y,this}});var _t=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.uniforms=function(){return{uTextureBackTest0:{type:"t",value:[],typeGLSL:"sampler2D"},uTextureBackTest1:{type:"t",value:[],typeGLSL:"sampler2D"},uOpacity0:{type:"f",value:1,typeGLSL:"float"},uOpacity1:{type:"f",value:1,typeGLSL:"float"},uType0:{type:"i",value:0,typeGLSL:"int"},uType1:{type:"i",value:1,typeGLSL:"int"},uTrackMouse:{type:"i",value:0,typeGLSL:"int"},uMouse:{type:"v2",value:new pt,typeGLSL:"vec2"}}},e}(),mt=function(){function e(t){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uniforms=t,this._functions={},this._main=""}return e.prototype.functions=function(){""===this._main&&this.main();var e="";for(var t in this._functions){e+=this._functions[t]+"\n"}return e},e.prototype.uniforms=function(){var e="";for(var t in this._uniforms){var i=this._uniforms[t];e+="uniform "+i.typeGLSL+" "+t,i&&i.length&&(e+="["+i.length+"]"),e+=";\n"}return e},e.prototype.main=function(){this._main="\nvoid main(void) {\n\n  vec2 texc = vec2(((vProjectedCoords.x / vProjectedCoords.w) + 1.0 ) / 2.0,\n                ((vProjectedCoords.y / vProjectedCoords.w) + 1.0 ) / 2.0 );\n\n  // just silence warning for\n  // vec4 dummy = vPos;\n\n  //The back position is the world space position stored in the texture.\n  vec4 baseColor0 = texture2D(uTextureBackTest0, texc);\n  vec4 baseColor1 = texture2D(uTextureBackTest1, texc);\n\n  if( uTrackMouse == 1 ){\n\n      if( vProjectedCoords.x < uMouse.x ){\n\n        gl_FragColor = baseColor0;\n\n      }\n      else{\n\n        gl_FragColor = mix( baseColor0, baseColor1, uOpacity1 );\n\n      }\n\n  }\n  else{\n\n    if( uType1 == 0 ){\n\n      //merge an image into\n      gl_FragColor = mix( baseColor0, baseColor1, uOpacity1 );\n\n    }\n    else{\n\n      float opacity = baseColor1.a;\n      gl_FragColor = mix( baseColor0, baseColor1, opacity * uOpacity1 );\n\n    }\n\n  }\n\n  return;\n}\n   "},e.prototype.compute=function(){return"\n// uniforms\n"+this.uniforms()+"\n\n// varying (should fetch it from vertex directly)\n// varying vec4      vPos;\nvarying vec4      vProjectedCoords;\n\n// tailored functions\n"+this.functions()+"\n\n// main loop\n"+this._main+"\n      "},e}(),bt=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.compute=function(){return"\n// varying vec4 vPos;\nvarying vec4 vProjectedCoords;\n\n//\n// main\n//\nvoid main() {\n\n  vec4 vPos = modelMatrix * vec4(position, 1.0 );\n  vProjectedCoords =  projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n\n}\n        "},e}(),yt=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),gt=function(){function e(){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,e)}return yt(e,null,[{key:"code",get:function get(){return"\n        .widgets-handle {\n            position: absolute;\n            border: 1px solid;\n            border-radius: 50%;\n            width: 10px;\n            height: 10px;\n            margin: -5.5px; /* border + width / 2 */\n            z-index: 3;\n        }\n        .widgets-line {\n            position: absolute;\n            width: 1px;\n            height: 1px;\n            margin-top: -0.5px; /* height / 2 */\n        }\n        .widgets-line:before { /* for dragging */\n            content: \" \";\n            position: absolute;\n            height: 11.5px;\n            left: 0;\n            right: 0;\n            margin-top: -5px;\n        }\n        .widgets-dashline {\n            position: absolute;\n            border-top: 1px dashed;\n            margin-top: -1px; /* border */\n        }\n        .widgets-rectangle {\n            position: absolute;\n            border: 1px solid;\n            margin: -1px; /* border */\n        }\n        .widgets-rectangle-helper {\n            position: absolute;\n            border: 1px dashed;\n            margin: -1px; /* border */\n        }\n        .widgets-ellipse {\n            position: absolute;\n            border: 1px solid;\n            border-radius: 50%;\n            margin: -1px; /* border */\n            z-index: 2;\n        }\n        .widgets-label {\n            position: absolute;\n            border: 1px solid;\n            background-color: rgba(0, 0, 0, 0.7);\n            color: rgb(255, 255, 255);\n            padding: 4px;\n            z-index: 3;\n        }\n        "}}]),e}(),vt=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),At=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this));if(o._widgetType="Base",null===document.getElementById("ami-widgets")){var a=document.createElement("style");a.setAttribute("id","ami-widgets"),a.innerHTML=gt.code,document.head.appendChild(a)}return o._enabled=!0,o._selected=!1,o._hovered=!0,o._active=!0,o._colors={default:"#00B0FF",active:"#FFEB3B",hover:"#F50057",select:"#76FF03",text:"#FFF",error:"#F77"},o._color=o._colors.default,o._dragged=!1,o._displayed=!0,o._targetMesh=n,o._controls=r,o._camera=r.object,o._container=r.domElement,o._worldPosition=new e.Vector3,null!==o._targetMesh&&o._worldPosition.copy(o._targetMesh.position),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.initOffsets=function(){var e=this._container.getBoundingClientRect(),t=document.body,i=document.documentElement,n=window.pageYOffset||i.scrollTop||t.scrollTop,r=window.pageXOffset||i.scrollLeft||t.scrollLeft,o=i.clientTop||t.clientTop||0,a=i.clientLeft||t.clientLeft||0;this._offsets={top:_Mathround(e.top+n-o),left:_Mathround(e.left+r-a)}},i.prototype.getMouseOffsets=function(e,t){return{x:2*((e.clientX-this._offsets.left)/t.offsetWidth)-1,y:2*(-(e.clientY-this._offsets.top)/t.offsetHeight)+1,screenX:e.clientX-this._offsets.left,screenY:e.clientY-this._offsets.top}},i.prototype.getLineData=function(t,i){var n=i.clone().sub(t),r=i.clone().add(t).multiplyScalar(.5),o=n.length(),a=n.angleTo(new e.Vector3(1,0,0));return{line:n,length:o,transformX:r.x-o/2,transformY:r.y-this._container.offsetHeight,transformAngle:t.y<i.y?a:-a,center:r}},i.prototype.getRectData=function(t,i){var n=i.clone().sub(t),r=n.clone().projectOnVector(new e.Vector3(0,1,0)),o=t.clone().min(i);return{width:n.clone().projectOnVector(new e.Vector3(1,0,0)).length(),height:r.length(),transformX:o.x,transformY:o.y-this._container.offsetHeight,paddingVector:r.clone().normalize()}},i.prototype.adjustLabelTransform=function(t,i,n){var r=_Mathround(i.x-(n?0:t.offsetWidth/2)),o=_Mathround(i.y-(n?0:t.offsetHeight/2))-this._container.offsetHeight;return 0>r?r=r>-t.offsetWidth?0:r+t.offsetWidth:r>this._container.offsetWidth-t.offsetWidth&&(r=r<this._container.offsetWidth?this._container.offsetWidth-t.offsetWidth:r-t.offsetWidth),o<-this._container.offsetHeight?o=o>-this._container.offsetHeight-t.offsetHeight?-this._container.offsetHeight:o+t.offsetHeight:o>-t.offsetHeight&&(o=0>o?-t.offsetHeight:o-t.offsetHeight),new e.Vector2(r,o)},i.prototype.worldToScreen=function(e){var t=e.clone();return t.project(this._camera),t.x=_Mathround((t.x+1)*this._container.offsetWidth/2),t.y=_Mathround((1-t.y)*this._container.offsetHeight/2),t.z=0,t},i.prototype.update=function(){window.console.log("update() should be overloaded!")},i.prototype.updateColor=function(){this._active?this._color=this._colors.active:this._hovered?this._color=this._colors.hover:this._selected?this._color=this._colors.select:this._color=this._colors.default},i.prototype.show=function(){this.showDOM(),this.showMesh(),this.update()},i.prototype.hide=function(){this.hideDOM(),this.hideMesh()},i.prototype.hideDOM=function(){window.console.log("hideDOM() should be overloaded!")},i.prototype.showDOM=function(){window.console.log("showDOM() should be overloaded!")},i.prototype.hideMesh=function(){this.visible=!1},i.prototype.showMesh=function(){this.visible=!0},i.prototype.free=function(){this._container=null},vt(i,[{key:"widgetType",get:function get(){return this._widgetType}},{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._worldPosition.copy(e),this.update()}},{key:"enabled",get:function get(){return this._enabled},set:function set(e){this._enabled=e,this.update()}},{key:"selected",get:function get(){return this._selected},set:function set(e){this._selected=e,this.update()}},{key:"hovered",get:function get(){return this._hovered},set:function set(e){this._hovered=e,this.update()}},{key:"dragged",get:function get(){return this._dragged},set:function set(e){this._dragged=e,this.update()}},{key:"displayed",get:function get(){return this._displayed},set:function set(e){this._displayed=e,this.update()}},{key:"active",get:function get(){return this._active},set:function set(e){this._active=e,this.update()}},{key:"color",get:function get(){return this._color},set:function set(e){this._color=e,this.update()}}]),i}(e.Object3D)},wt=(At(),function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()),xt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));return o._widgetType="Handle",o._plane={position:new e.Vector3,direction:new e.Vector3},o._offset=new e.Vector3,o._raycaster=new e.Raycaster,o._active=!1,o._hovered=!1,o._tracking=!1,o._mouse=new e.Vector2,o._initialized=!1,o._material=null,o._geometry=null,o._mesh=null,o._meshDisplayed=!0,o._meshHovered=!1,o._meshStyle="sphere",o._dom=null,o._domDisplayed=!0,o._domHovered=!1,o._domStyle="circle",o._screenPosition=o.worldToScreen(o._worldPosition),o.create(),o.initOffsets(),o.onResize=o.onResize.bind(o),o.onMove=o.onMove.bind(o),o.onHover=o.onHover.bind(o),o.addEventListeners(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){window.addEventListener("resize",this.onResize),this._dom.addEventListener("mouseenter",this.onHover),this._dom.addEventListener("mouseleave",this.onHover),this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){window.removeEventListener("resize",this.onResize),this._dom.removeEventListener("mouseenter",this.onHover),this._dom.removeEventListener("mouseleave",this.onHover),this._container.removeEventListener("wheel",this.onMove)},i.prototype.onResize=function(){this.initOffsets()},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._meshHovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){var e=this._raycaster.intersectObject(this._mesh);this._meshHovered=0<e.length},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){var t=this.getMouseOffsets(e,this._container);if(this._mouse.set(t.x,t.y),this._raycaster.setFromCamera(this._mouse,this._camera),this._raycaster.ray.position=this._raycaster.ray.origin,this._hovered){if(this._active=!0,this._controls.enabled=!1,this._targetMesh){var i=this._raycaster.intersectObject(this._targetMesh);0<i.length&&this._offset.copy(i[0].point).sub(this._worldPosition)}else{this._plane.position.copy(this._worldPosition),this._plane.direction.copy(this._camera.getWorldDirection());var n=v.rayPlane(this._raycaster.ray,this._plane);null!==n&&this._offset.copy(n).sub(this._plane.position)}this.update()}},i.prototype.onMove=function(e,t){var i=this.getMouseOffsets(e,this._container);if(this._mouse.set(i.x,i.y),this._raycaster.setFromCamera(this._mouse,this._camera),this._raycaster.ray.position=this._raycaster.ray.origin,this._active||t){if(this._dragged=!0,null!==this._targetMesh){var n=this._raycaster.intersectObject(this._targetMesh);0<n.length&&this._worldPosition.copy(n[0].point.sub(this._offset))}else{0===this._plane.direction.length()&&(this._plane.position.copy(this._worldPosition),this._plane.direction.copy(this._camera.getWorldDirection()));var r=v.rayPlane(this._raycaster.ray,this._plane);null!==r&&this._worldPosition.copy(r.sub(this._offset))}}else this.onHover(null);this.update()},i.prototype.onEnd=function(){!0!==this._tracking&&(!this._dragged&&this._active&&this._initialized&&(this._selected=!this._selected),this._initialized=!0,this._active=!1,this._dragged=!1,this._controls.enabled=!0,this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.SphereGeometry(1,16,16),this._material=new e.MeshBasicMaterial({wireframe:!0,wireframeLinewidth:2}),this.updateMeshColor(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.position.copy(this._worldPosition),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._dom=document.createElement("div"),this._dom.setAttribute("class","widgets-handle"),this._dom.style.transform="translate3D(\n      "+this._screenPosition.x+"px,\n      "+(this._screenPosition.y-this._container.offsetHeight)+"px, 0)",this.updateDOMColor(),this._container.appendChild(this._dom)},i.prototype.update=function(){this.updateColor(),this._screenPosition=this.worldToScreen(this._worldPosition),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._mesh&&this._mesh.position.copy(this._worldPosition)},i.prototype.updateDOMPosition=function(){this._dom&&(this._dom.style.transform="translate3D("+this._screenPosition.x+"px,\n        "+(this._screenPosition.y-this._container.offsetHeight)+"px, 0)")},i.prototype.updateDOMColor=function(){this._dom.style.borderColor=this._color},i.prototype.free=function(){this.removeEventListeners(),this._container.removeChild(this._dom),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},i.prototype.hideDOM=function(){this._dom.style.display="none"},i.prototype.showDOM=function(){this._dom.style.display=""},wt(i,[{key:"screenPosition",get:function get(){return this._screenPosition},set:function set(e){this._screenPosition=e}},{key:"active",get:function get(){return this._active},set:function set(e){this._active=e,this._controls.enabled=!this._active,this.update()}},{key:"tracking",get:function get(){return this._tracking},set:function set(e){this._tracking=e,this.update()}}]),i}(At(e))},kt=xt(),It=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),St=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));o._widgetType="Angle",o._moving=!1,o._domHovered=!1,o._material=null,o._material2=null,o._geometry=null,o._geometry2=null,o._mesh=null,o._mesh2=null,o._line=null,o._line2=null,o._label=null,o._opangle=null,o._defaultAngle=!0,o._handles=[];for(var a=void 0,s=xt(e),l=0;3>l;l++){(a=new s(n,r)).worldPosition.copy(o._worldPosition),o.add(a),o._handles.push(a)}return o._handles[1].active=!0,o._handles[1].tracking=!0,o._handles[2].active=!0,o._handles[2].tracking=!0,o._moveHandle=new s(n,r),o._moveHandle.worldPosition.copy(o._worldPosition),o.add(o._moveHandle),o._handles.push(o._moveHandle),o._moveHandle.hide(),o.create(),o.onMove=o.onMove.bind(o),o.onHover=o.onHover.bind(o),o.addEventListeners(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._line.addEventListener("mouseenter",this.onHover),this._line.addEventListener("mouseleave",this.onHover),this._line2.addEventListener("mouseenter",this.onHover),this._line2.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._line.removeEventListener("mouseenter",this.onHover),this._line.removeEventListener("mouseleave",this.onHover),this._line2.removeEventListener("mouseenter",this.onHover),this._line2.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._handles[2].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles[0].onStart(e),this._handles[1].onStart(e),this._handles[2].onStart(e),this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._domHovered,!this._domHovered||this._handles[1].tracking||this._handles[2].tracking||(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){if(this._active){var t=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e,i){this._handles[i].worldPosition.add(this._moveHandle.worldPosition.clone().sub(t))},this)}else this.onHover(null);this._handles[0].onMove(e),this._handles[1].onMove(e),this._handles[2].onMove(e),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||!this._handles[1].tracking&&this._handles[2].tracking&&10>this._handles[1].screenPosition.distanceTo(this._handles[2].screenPosition)||(this._dragged||!this._active||this._handles[2].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected),this._handles[1].active?this._handles[2].onEnd():this._dragged||!this._handles[2].tracking?(this._handles[2].tracking=!1,this._handles[2].onEnd()):this._handles[2].tracking=!1,this._handles[2].selected=this._selected,this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active,this._dragged=this._handles[2].tracking,this._moving=!1,this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.Geometry,this._geometry.vertices.push(this._handles[0].worldPosition),this._geometry.vertices.push(this._handles[1].worldPosition),this._geometry2=new e.Geometry,this._geometry2.vertices.push(this._handles[1].worldPosition),this._geometry2.vertices.push(this._handles[2].worldPosition),this._material=new e.LineBasicMaterial,this._material2=new e.LineBasicMaterial,this.updateMeshColor(),this._mesh=new e.Line(this._geometry,this._material),this._mesh.visible=!0,this._mesh2=new e.Line(this._geometry2,this._material2),this._mesh2.visible=!0,this.add(this._mesh),this.add(this._mesh2)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.setAttribute("class","widgets-line"),this._container.appendChild(this._line),this._line2=document.createElement("div"),this._line2.setAttribute("class","widgets-line"),this._container.appendChild(this._line2),this._label=document.createElement("div"),this._label.setAttribute("class","widgets-label"),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.hideDOM=function(){this._line.style.display="none",this._line2.style.display="none",this._label.style.display="none",this._handles.forEach(function(e){e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._line2.style.display="",this._label.style.display="",this._handles[0].showDOM(),this._handles[1].showDOM(),this._handles[2].showDOM()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this._handles[2].update(),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color),this._material2&&this._material2.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0),this._geometry2&&(this._geometry2.verticesNeedUpdate=!0)},i.prototype.updateDOMPosition=function(){var t=this.getLineData(this._handles[1].screenPosition,this._handles[0].screenPosition);this._line.style.transform="translate3D("+t.transformX+"px, "+t.transformY+"px, 0)\n            rotate("+t.transformAngle+"rad)",this._line.style.width=t.length+"px";var i=this.getLineData(this._handles[1].screenPosition,this._handles[2].screenPosition);this._line2.style.transform="translate3D("+i.transformX+"px, "+i.transformY+"px, 0)\n            rotate("+i.transformAngle+"rad)",this._line2.style.width=i.length+"px",this._opangle=180*this._handles[1].worldPosition.clone().sub(this._handles[0].worldPosition).angleTo(this._handles[1].worldPosition.clone().sub(this._handles[2].worldPosition))/_MathPI||0,this._opangle=this._defaultAngle?this._opangle:360-this._opangle,this._label.innerHTML=this._opangle.toFixed(2)+"&deg;";var n=t.line.clone().add(i.line).normalize().negate(),r=n.angleTo(new e.Vector3(1,0,0));r>_MathPI/2&&(r=_MathPI-r);var o=_Mathtan(r)<this._label.offsetHeight/this._label.offsetWidth?this._label.offsetWidth/2/_Mathcos(r)+15:this._label.offsetHeight/2/_Mathcos(_MathPI/2-r)+15,a=this._handles[1].screenPosition.clone().add(n.multiplyScalar(o)),s=this.adjustLabelTransform(this._label,a);this._label.style.transform="translate3D("+s.x+"px, "+s.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._line2.style.backgroundColor=this._color,this._label.style.borderColor=this._color},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._line2),this._container.removeChild(this._label),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this.remove(this._mesh2),this._mesh2.geometry.dispose(),this._mesh2.geometry=null,this._mesh2.material.dispose(),this._mesh2.material=null,this._mesh2=null,this._geometry2.dispose(),this._geometry2=null,this._material2.vertexShader=null,this._material2.fragmentShader=null,this._material2.uniforms=null,this._material2.dispose(),this._material2=null,t.prototype.free.call(this)},i.prototype.toggleDefaultAngle=function(){this._defaultAngle=!this._defaultAngle},It(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._handles[2].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}},{key:"angle",get:function get(){return this._opangle}}]),i}(At(e))},Et=St(),Ct=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Bt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));o._widgetType="Annotation",o._initialized=!1,o._movinglabel=null,o._labelmoved=!1,o._labelhovered=!1,o._manuallabeldisplay=!1,o._material=null,o._geometry=null,o._meshline=null,o._cone=null,o._line=null,o._dashline=null,o._label=null,o._labeltext=null,o._labelOffset=new e.Vector3,o._mouseLabelOffset=new e.Vector3,o._handles=[];for(var a=void 0,s=xt(e),l=0;2>l;l++){(a=new s(n,r)).worldPosition.copy(o._worldPosition),o.add(a),o._handles.push(a)}return o._handles[1].active=!0,o.create(),o.initOffsets(),o.onResize=o.onResize.bind(o),o.onMove=o.onMove.bind(o),o.onHoverlabel=o.onHoverlabel.bind(o),o.notonHoverlabel=o.notonHoverlabel.bind(o),o.changelabeltext=o.changelabeltext.bind(o),o.addEventListeners(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){window.addEventListener("resize",this.onResize),this._label.addEventListener("mouseenter",this.onHoverlabel),this._label.addEventListener("mouseleave",this.notonHoverlabel),this._label.addEventListener("dblclick",this.changelabeltext),this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){window.removeEventListener("resize",this.onResize),this._label.removeEventListener("mouseenter",this.onHoverlabel),this._label.removeEventListener("mouseleave",this.notonHoverlabel),this._label.removeEventListener("dblclick",this.changelabeltext),this._container.removeEventListener("wheel",this.onMove)},i.prototype.onResize=function(){this.initOffsets()},i.prototype.onHoverlabel=function(){this._labelhovered=!0,this._container.style.cursor="pointer"},i.prototype.notonHoverlabel=function(){this._labelhovered=!1,this._container.style.cursor="default"},i.prototype.onStart=function(t){if(this._labelhovered){var i=this.getMouseOffsets(t,this._container),n=this._handles[1].screenPosition.clone().sub(this._labelOffset);this._mouseLabelOffset=new e.Vector3(i.screenX-n.x,i.screenY-n.y,0),this._movinglabel=!0,this._labelmoved=!0}this._handles[0].onStart(t),this._handles[1].onStart(t),this._active=this._handles[0].active||this._handles[1].active||this._labelhovered,this.update()},i.prototype.onMove=function(t){if(this._movinglabel){var i=this.getMouseOffsets(t,this._container);this._labelOffset=new e.Vector3(this._handles[1].screenPosition.x-i.screenX+this._mouseLabelOffset.x,this._handles[1].screenPosition.y-i.screenY+this._mouseLabelOffset.y,0),this._controls.enabled=!1}this._active&&(this._dragged=!0),this._handles[0].onMove(t),this._handles[1].onMove(t),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._labelhovered,this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,!this._dragged&&this._active&&this._initialized&&(this._selected=!this._selected,this._handles[0].selected=this._selected,this._handles[1].selected=this._selected),this._initialized||(this._labelOffset=this._handles[1].screenPosition.clone().sub(this._handles[0].screenPosition).multiplyScalar(.5),this.setlabeltext(),this._initialized=!0),this._active=this._handles[0].active||this._handles[1].active,this._dragged=!1,this._movinglabel=!1,this.update()},i.prototype.setlabeltext=function(){for(;!this._labeltext;){this._labeltext=prompt("Please enter the annotation text","")}this.displaylabel()},i.prototype.changelabeltext=function(){this._labeltext=prompt("Please enter a new annotation text",this._label.innerHTML),this.displaylabel()},i.prototype.displaylabel=function(){this._label.innerHTML="string"==typeof this._labeltext&&0<this._labeltext.length?this._labeltext:"",this._label.style.display="",this._dashline.style.display="",this._label.style.transform="translate3D(\n        "+(this._handles[1].screenPosition.x-this._labelOffset.x-this._label.offsetWidth/2)+"px,\n        "+(this._handles[1].screenPosition.y-this._labelOffset.y-this._label.offsetHeight/2-this._container.offsetHeight)+"px, 0)"},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._material=new e.LineBasicMaterial,this.updateMeshColor(),this._geometry=new e.Geometry,this._geometry.vertices.push(this._handles[0].worldPosition),this._geometry.vertices.push(this._handles[1].worldPosition),this._meshline=new e.Line(this._geometry,this._material),this._meshline.visible=!0,this.add(this._meshline),this._conegeometry=new e.CylinderGeometry(0,2,10),this._conegeometry.translate(0,-5,0),this._conegeometry.rotateX(-_MathPI/2),this._cone=new e.Mesh(this._conegeometry,this._material),this._cone.visible=!0,this.add(this._cone)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.setAttribute("class","widgets-line"),this._container.appendChild(this._line),this._dashline=document.createElement("div"),this._dashline.setAttribute("class","widgets-dashline"),this._dashline.style.display="none",this._container.appendChild(this._dashline),this._label=document.createElement("div"),this._label.setAttribute("class","widgets-label"),this._label.style.display="none",this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0),this._cone&&(this._cone.position.copy(this._handles[1].worldPosition),this._cone.lookAt(this._handles[0].worldPosition))},i.prototype.updateDOMPosition=function(){var e=this.getLineData(this._handles[0].screenPosition,this._handles[1].screenPosition);this._line.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)\n        rotate("+e.transformAngle+"rad)",this._line.style.width=e.length+"px";var t=e.line.multiplyScalar(.5),i=this._handles[1].screenPosition.clone().sub(this._labelmoved?this._labelOffset:t),n=this.adjustLabelTransform(this._label,i);this._label.style.transform="translate3D("+n.x+"px, "+n.y+"px, 0)",this._manuallabeldisplay&&this.displaylabel();var r=this.getLineData(this._handles[0].screenPosition,i),o=this.getLineData(e.center,i),a=this.getLineData(this._handles[1].screenPosition,i);r.length>o.length&&(r=o),r.length>a.length&&(r=a),this._dashline.style.transform="translate3D("+r.transformX+"px, "+r.transformY+"px, 0)\n        rotate("+r.transformAngle+"rad)",this._dashline.style.width=r.length+"px"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._dashline.style.borderTop="1.5px dashed "+this._color,this._label.style.borderColor=this._color},i.prototype.hideDOM=function(){this._line.style.display="none",this._dashline.style.display="none",this._label.style.display="none",this._handles.forEach(function(e){e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._dashline.style.display="",this._label.style.display="",this._handles.forEach(function(e){e.showDOM()})},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._dashline),this._container.removeChild(this._label),this.remove(this._meshline),this._meshline.geometry.dispose(),this._meshline.geometry=null,this._meshline.material.dispose(),this._meshline.material=null,this._meshline=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this.remove(this._cone),this._cone.geometry.dispose(),this._cone.geometry=null,this._cone.material.dispose(),this._cone.material=null,this._cone=null,this._conegeometry.dispose(),this._conegeometry=null,t.prototype.free.call(this)},Ct(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}}]),i}(At(e))},Mt=Bt(),Pt=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Tt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r,o){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));a._stack=o,a._widgetType="BiRuler",a._material=null,a._material2=null,a._geometry=null,a._geometry2=null,a._mesh=null,a._mesh2=null,a._line=null,a._label=null,a._line2=null,a._label2=null,a._dashline=null,a._handles=[];for(var s=void 0,l=xt(e),c=0;4>c;c++){(s=new l(n,r)).worldPosition.copy(a._worldPosition),a.add(s),a._handles.push(s)}return a._handles[1].active=!0,a._handles[1].tracking=!0,a._handles[3].active=!0,a._handles[3].tracking=!0,a.create(),a.onMove=a.onMove.bind(a),a.addEventListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove)},i.prototype.onStart=function(e){this._handles.forEach(function(t){t.onStart(e)}),this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._handles[3].active,this.update()},i.prototype.onMove=function(e){this._active?this._dragged=!0:(this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._handles[2].hovered||this._handles[3].hovered,this._container.style.cursor=this._hovered?"pointer":"default"),this._handles.forEach(function(t){t.onMove(e)}),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[2].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[3].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected,this._handles[2].selected=this._selected),this._handles[1].active?this._handles[3].onEnd():this._dragged||!this._handles[3].tracking?(this._handles[3].tracking=!1,this._handles[3].onEnd()):this._handles[3].tracking=!1,this._handles[3].selected=this._selected,this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._handles[3].active,this._dragged=!1,this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.Geometry,this._geometry.vertices.push(this._handles[0].worldPosition),this._geometry.vertices.push(this._handles[1].worldPosition),this._geometry2=new e.Geometry,this._geometry2.vertices.push(this._handles[2].worldPosition),this._geometry2.vertices.push(this._handles[3].worldPosition),this._material=new e.LineBasicMaterial,this._material2=new e.LineBasicMaterial,this.updateMeshColor(),this._mesh=new e.Line(this._geometry,this._material),this._mesh.visible=!0,this._mesh2=new e.Line(this._geometry2,this._material2),this._mesh2.visible=!0,this.add(this._mesh),this.add(this._mesh2)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.setAttribute("class","widgets-line"),this._container.appendChild(this._line),this._label=document.createElement("div"),this._label.setAttribute("class","widgets-label"),this._container.appendChild(this._label),this._line2=document.createElement("div"),this._line2.setAttribute("class","widgets-line"),this._container.appendChild(this._line2),this._label2=document.createElement("div"),this._label2.setAttribute("class","widgets-label"),this._container.appendChild(this._label2),this._dashline=document.createElement("div"),this._dashline.setAttribute("class","widgets-dashline"),this._container.appendChild(this._dashline),this.updateDOMColor()},i.prototype.hideDOM=function(){this._line.style.display="none",this._label.style.display="none",this._line2.style.display="none",this._label2.style.display="none",this._dashline.style.display="none",this._handles.forEach(function(e){e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._label.style.display="",this._line2.style.display="",this._label2.style.display="",this._dashline.style.display="",this._handles.forEach(function(e){e.showDOM()})},i.prototype.update=function(){this.updateColor(),this._handles.forEach(function(e){e.update()}),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color),this._material2&&this._material2.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0),this._geometry2&&(this._geometry2.verticesNeedUpdate=!0)},i.prototype.updateDOMPosition=function(){var e=this.getLineData(this._handles[0].screenPosition,this._handles[1].screenPosition);this._line.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)\n                rotate("+e.transformAngle+"rad)",this._line.style.width=e.length+"px";var t=this.getLineData(this._handles[2].screenPosition,this._handles[3].screenPosition);this._line2.style.transform="translate3D("+t.transformX+"px, "+t.transformY+"px, 0)\n                rotate("+t.transformAngle+"rad)",this._line2.style.width=t.length+"px";var i=this._handles[0].worldPosition.clone().add(this._handles[1].worldPosition).multiplyScalar(.5),n=this._handles[2].worldPosition.clone().add(this._handles[3].worldPosition).multiplyScalar(.5),r=this.getLineData(this.worldToScreen(i),this.worldToScreen(n));this._dashline.style.transform="translate3D("+r.transformX+"px, "+r.transformY+"px, 0)\n                rotate("+r.transformAngle+"rad)",this._dashline.style.width=r.length+"px";var o=null===this._stack.frame[0].pixelSpacing?"units":"mm",a="units"===o?"Calibration is required to display the distance in mm":"";this._distance=this._handles[0].worldPosition.distanceTo(this._handles[1].worldPosition),this._distance2=this._handles[2].worldPosition.distanceTo(this._handles[3].worldPosition),this._label.innerHTML=this._distance.toFixed(2)+" "+o,this._label2.innerHTML=this._distance2.toFixed(2)+" "+o,""!==a?(this._label.setAttribute("title",a),this._label.style.color=this._colors.error,this._label2.setAttribute("title",a),this._label2.style.color=this._colors.error):(this._label.removeAttribute("title"),this._label.style.color=this._colors.text,this._label2.removeAttribute("title"),this._label2.style.color=this._colors.text);var s=_Mathabs(e.transformAngle);s>_MathPI/2&&(s=_MathPI-s);var l=_Mathtan(s)<this._label.offsetHeight/this._label.offsetWidth?this._label.offsetWidth/2/_Mathcos(s)+15:this._label.offsetHeight/2/_Mathcos(_MathPI/2-s)+15,c=e.line.normalize().multiplyScalar(l),h=e.length>2*l?this._handles[1].screenPosition.clone().sub(c):this._handles[1].screenPosition.clone().add(c),u=this.adjustLabelTransform(this._label,h);this._label.style.transform="translate3D("+u.x+"px, "+u.y+"px, 0)";var f=_Mathabs(t.transformAngle);f>_MathPI/2&&(f=_MathPI-f);var d=_Mathtan(f)<this._label2.offsetHeight/this._label2.offsetWidth?this._label2.offsetWidth/2/_Mathcos(f)+15:this._label2.offsetHeight/2/_Mathcos(_MathPI/2-f)+15,p=t.line.normalize().multiplyScalar(d),_=t.length>2*d?this._handles[3].screenPosition.clone().sub(p):this._handles[3].screenPosition.clone().add(p),m=this.adjustLabelTransform(this._label2,_);this._label2.style.transform="translate3D("+m.x+"px, "+m.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._label.style.borderColor=this._color,this._line2.style.backgroundColor=this._color,this._label2.style.borderColor=this._color,this._dashline.style.borderTop="1.5px dashed "+this._color},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._label),this._container.removeChild(this._line2),this._container.removeChild(this._label2),this._container.removeChild(this._dashline),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this.remove(this._mesh2),this._mesh2.geometry.dispose(),this._mesh2.geometry=null,this._mesh2.material.dispose(),this._mesh2.material=null,this._mesh2=null,this._geometry2.dispose(),this._geometry2=null,this._material2.vertexShader=null,this._material2.fragmentShader=null,this._material2.uniforms=null,this._material2.dispose(),this._material2=null,t.prototype.free.call(this)},Pt(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles.forEach(function(t){t.worldPosition.copy(e)}),this._worldPosition.copy(e),this.update()}},{key:"shotestDistance",get:function get(){return this._distance<this._distance2?this._distance:this._distance2}},{key:"longestDistance",get:function get(){return this._distance>this._distance2?this._distance:this._distance2}}]),i}(At(e))},Dt=Tt(),Rt=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Gt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r,o){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));a._stack=o,a._widgetType="CrossRuler",a._domHovered=!1,a._moving=!1,a._distances=null,a._line01=null,a._normal=null,a._material=null,a._material2=null,a._geometry=null,a._geometry2=null,a._mesh=null,a._mesh2=null,a._line=null,a._line2=null,a._handles=[];for(var s=void 0,l=xt(e),c=0;4>c;c++){(s=new l(n,r)).worldPosition.copy(a._worldPosition),a.add(s),a._handles.push(s)}return a._handles[1].active=!0,a._handles[1].tracking=!0,a._moveHandle=new l(n,r),a._moveHandle.worldPosition.copy(a._worldPosition),a.add(a._moveHandle),a._handles.push(a._moveHandle),a._moveHandle.hide(),a.onHover=a.onHover.bind(a),a.onMove=a.onMove.bind(a),a.create(),a.addEventListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._line.addEventListener("mouseenter",this.onHover),this._line.addEventListener("mouseleave",this.onHover),this._line2.addEventListener("mouseenter",this.onHover),this._line2.addEventListener("mouseleave",this.onHover),this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){this._line.removeEventListener("mouseenter",this.onHover),this._line.removeEventListener("mouseleave",this.onHover),this._line2.removeEventListener("mouseenter",this.onHover),this._line2.removeEventListener("mouseleave",this.onHover),this._container.removeEventListener("wheel",this.onMove)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._handles[2].hovered||this._handles[3].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles.slice(0,-1).forEach(function(t){t.onStart(e)}),this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._handles[3].active||this._domHovered,this._domHovered&&this._distances&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){if(this._active){var t=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e,i){this._handles[i].worldPosition.add(this._moveHandle.worldPosition.clone().sub(t))},this)}else this.onHover(null);this._handles.slice(0,-1).forEach(function(t){t.onMove(e)}),this._distances&&(this._handles[0].active||this._handles[1].active?this.repositionOrtho():(this._handles[2].active||this._handles[3].active)&&this.recalculateOrtho()),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[2].onEnd(),this._handles[3].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[1].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected,this._handles[2].selected=this._selected,this._handles[3].selected=this._selected),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active||this._handles[2].active||this._handles[3].active,this._dragged=!1,this._moving=!1,this._distances||this.initOrtho(),this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.Geometry,this._geometry.vertices.push(this._handles[0].worldPosition),this._geometry.vertices.push(this._handles[1].worldPosition),this._geometry2=new e.Geometry,this._geometry2.vertices.push(this._handles[2].worldPosition),this._geometry2.vertices.push(this._handles[3].worldPosition),this._material=new e.LineBasicMaterial,this._material2=new e.LineBasicMaterial,this.updateMeshColor(),this._mesh=new e.Line(this._geometry,this._material),this._mesh.visible=!0,this._mesh2=new e.Line(this._geometry2,this._material2),this._mesh2.visible=!0,this.add(this._mesh),this.add(this._mesh2)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.setAttribute("class","widgets-line"),this._container.appendChild(this._line),this._line2=document.createElement("div"),this._line2.setAttribute("class","widgets-line"),this._container.appendChild(this._line2),this.updateDOMColor()},i.prototype.hideDOM=function(){this._line.style.display="none",this._line2.style.display="none",this._handles.slice(0,-1).forEach(function(e){e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._line2.style.display="",this._handles.slice(0,-1).forEach(function(e){e.showDOM()})},i.prototype.update=function(){this.updateColor(),this._handles.slice(0,-1).forEach(function(e){e.update()}),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color),this._material2&&this._material2.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0),this._geometry2&&(this._geometry2.verticesNeedUpdate=!0)},i.prototype.updateDOMPosition=function(){var e=this.getLineData(this._handles[0].screenPosition,this._handles[1].screenPosition);this._line.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)\n            rotate("+e.transformAngle+"rad)",this._line.style.width=e.length+"px";var t=this.getLineData(this._handles[2].screenPosition,this._handles[3].screenPosition);this._line2.style.transform="translate3D("+t.transformX+"px, "+t.transformY+"px, 0)\n            rotate("+t.transformAngle+"rad)",this._line2.style.width=t.length+"px"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._line2.style.backgroundColor=this._color},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._line2),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,this.remove(this._mesh2),this._mesh2.geometry.dispose(),this._mesh2.geometry=null,this._mesh2.material.dispose(),this._mesh2.material=null,this._mesh2=null,this._geometry2.dispose(),this._geometry2=null,this._material2.vertexShader=null,this._material2.fragmentShader=null,this._material2.uniforms=null,this._material2.dispose(),this._material2=null,t.prototype.free.call(this)},i.prototype.initLineAndNormal=function(){this._line01=this._handles[1].worldPosition.clone().sub(this._handles[0].worldPosition),this._normal=this._line01.clone().cross(this._camera._direction).normalize()},i.prototype.initOrtho=function(){this.initLineAndNormal();var e=this._handles[1].worldPosition.clone().add(this._handles[0].worldPosition).multiplyScalar(.5),t=this._line01.length()/2,i=this._normal.clone().multiplyScalar(.8*t),n=i.length();this._handles[2].worldPosition.copy(e.clone().add(i)),this._handles[3].worldPosition.copy(e.clone().sub(i)),this._distances=[t,t,n,n]},i.prototype.repositionOrtho=function(){this.initLineAndNormal(),this._distances[0]*=this._line01.length()/(this._distances[0]+this._distances[1]),this._distances[1]=this._line01.length()-this._distances[0];var e=this._handles[0].worldPosition.clone().add(this._line01.clone().normalize().multiplyScalar(this._distances[0]));this._handles[2].worldPosition.copy(e.clone().add(this._normal.clone().multiplyScalar(this._distances[2]))),this._handles[3].worldPosition.copy(e.clone().sub(this._normal.clone().multiplyScalar(this._distances[3])))},i.prototype.recalculateOrtho=function(){var t=this._handles[2].active?2:3,i=[],n=new e.Vector3;i[2]=this._handles[2].worldPosition.clone().sub(this._handles[0].worldPosition),i[3]=this._handles[3].worldPosition.clone().sub(this._handles[0].worldPosition),new e.Ray(this._handles[0].worldPosition,this._line01.clone().normalize()).closestPointToPoint(this._handles[t].worldPosition,n);var r=n.clone().sub(this._handles[0].worldPosition).length()>this._line01.length();(r||n.equals(this._handles[0].worldPosition))&&(r&&n.copy(this._handles[1].worldPosition),this._handles[t].worldPosition.copy(n.clone().add(i[t].clone().projectOnVector(this._normal)))),.01<i[2].cross(this._line01).angleTo(this._camera._direction)&&this._handles[2].worldPosition.copy(n),i[3].cross(this._line01).angleTo(this._camera._direction)<_MathPI-.01&&this._handles[3].worldPosition.copy(n),i[0]=this._normal.clone().multiplyScalar(this._distances[5-t]),2===t&&i[0].negate(),this._handles[5-t].worldPosition.copy(n.clone().add(i[0])),this._distances[t]=n.clone().sub(this._handles[t].worldPosition).length(),this._distances[0]=n.clone().sub(this._handles[0].worldPosition).length(),this._distances[1]=n.clone().sub(this._handles[1].worldPosition).length()},i.prototype.getCoordinates=function(){return[this._handles[0].worldPosition,this._handles[1].worldPosition,this._handles[2].worldPosition,this._handles[3].worldPosition]},i.prototype.initCoordinates=function(t,i,n,r){var o=new e.Vector3,a=new e.Vector3,s=new e.Ray(t);s.lookAt(i),s.distanceSqToSegment(n,r,o,a),.01<o.distanceTo(a)&&o.clone().sub(t).length()>i.clone().sub(t).length()+.01?window.console.warn("Lines do not intersect"):(this.active=!1,this.hovered=!1,this.setDefaultColor("#198"),this._worldPosition.copy(t),this._handles[0].worldPosition.copy(t),this._handles[1].worldPosition.copy(i),this._handles[1].active=!1,this._handles[1].tracking=!1,this._handles[2].worldPosition.copy(n),this._handles[3].worldPosition.copy(r),this._distances=[o.clone().sub(t).length(),o.clone().sub(i).length(),o.clone().sub(n).length(),o.clone().sub(r).length()],this.initLineAndNormal(),this.update())},i.prototype.setDefaultColor=function(e){this._colors.default=e,this._handles.forEach(function(t){t._colors.default=e})},Rt(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles.slice(0,-1).forEach(function(t){t.worldPosition.copy(e)}),this._worldPosition.copy(e),this.update()}}]),i}(At(e))},Ot=Gt(),Ft=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Lt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r,o){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));a._stack=o,a._widgetType="Ellipse",a._moving=!1,a._domHovered=!1,a._material=null,a._geometry=null,a._mesh=null,a._rectangle=null,a._ellipse=null,a._label=null,a._handles=[];for(var s=void 0,l=xt(e),c=0;2>c;c++){(s=new l(n,r)).worldPosition.copy(a._worldPosition),a.add(s),a._handles.push(s)}return a._handles[1].active=!0,a._handles[1].tracking=!0,a._moveHandle=new l(n,r),a._moveHandle.worldPosition.copy(a._worldPosition),a.add(a._moveHandle),a._handles.push(a._moveHandle),a._moveHandle.hide(),a.create(),a.onMove=a.onMove.bind(a),a.onHover=a.onHover.bind(a),a.addEventListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._rectangle.addEventListener("mouseenter",this.onHover),this._rectangle.addEventListener("mouseleave",this.onHover),this._ellipse.addEventListener("mouseenter",this.onHover),this._ellipse.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._rectangle.removeEventListener("mouseenter",this.onHover),this._rectangle.removeEventListener("mouseleave",this.onHover),this._ellipse.removeEventListener("mouseenter",this.onHover),this._ellipse.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles[0].onStart(e),this._handles[1].onStart(e),this._active=this._handles[0].active||this._handles[1].active||this._domHovered,this._domHovered&&!this._handles[1].tracking&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){if(this._active){var t=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e,i){this._handles[i].worldPosition.add(this._moveHandle.worldPosition.clone().sub(t))},this),this.updateRoI(!0)}else this.onHover(null);this._handles[0].onMove(e),this._handles[1].onMove(e),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[1].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active,this._dragged=!1,this._moving=!1,this.updateRoI(),this.update())},i.prototype.hideDOM=function(){this._handles.forEach(function(e){e.hideDOM()}),this._rectangle.style.display="none",this._ellipse.style.display="none",this._label.style.display="none"},i.prototype.showDOM=function(){this._handles[0].showDOM(),this._handles[1].showDOM(),this._rectangle.style.display="",this._ellipse.style.display="",this._label.style.display=""},i.prototype.create=function(){this.createMaterial(),this.createDOM()},i.prototype.createMaterial=function(){this._material=new e.MeshBasicMaterial,this._material.transparent=!0,this._material.opacity=.2},i.prototype.createDOM=function(){this._rectangle=document.createElement("div"),this._rectangle.setAttribute("class","widgets-rectangle-helper"),this._container.appendChild(this._rectangle),this._ellipse=document.createElement("div"),this._ellipse.setAttribute("class","widgets-ellipse"),this._container.appendChild(this._ellipse),this._label=document.createElement("div"),this._label.setAttribute("class","widgets-label");var e=document.createElement("div"),t=document.createElement("div");t.setAttribute("class","mean-sd"),e.appendChild(t);var i=document.createElement("div");i.setAttribute("class","max-min"),e.appendChild(i);var n=document.createElement("div");n.setAttribute("class","area"),e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMContent(),this.updateDOMPosition()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._mesh&&this.remove(this._mesh);var t=this._handles[1].worldPosition.clone().sub(this._handles[0].worldPosition),i=t.clone().projectOnVector(this._camera.up).length(),n=t.clone().projectOnVector(this._camera._right).length();0!==n&&0!==i&&(this._geometry=new e.ShapeGeometry(new e.Shape(new e.EllipseCurve(0,0,n/2,i/2,0,2*_MathPI,!1).getPoints(50))),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.position.copy(this._handles[0].worldPosition.clone().add(t.multiplyScalar(.5))),this._mesh.rotation.copy(this._camera.rotation),this._mesh.visible=!0,this.add(this._mesh))},i.prototype.updateDOMColor=function(){this._rectangle.style.borderColor=this._color,this._ellipse.style.borderColor=this._color,this._label.style.borderColor=this._color},i.prototype.updateRoI=function(e){if(this._geometry){var t=this._label.querySelector(".mean-sd"),i=this._label.querySelector(".max-min");if(e)return t.innerHTML="",void(i.innerHTML="");var n=g.getRoI(this._mesh,this._camera,this._stack);null!==n?(t.innerHTML="Mean: "+n.mean.toFixed(1)+" / SD: "+n.sd.toFixed(1),i.innerHTML="Max: "+n.max.toFixed()+" / Min: "+n.min.toFixed()):(t.innerHTML="",i.innerHTML="")}},i.prototype.updateDOMContent=function(){if(this._geometry){var e=null===this._stack.frame[0].pixelSpacing?"units":"cm\xB2",t="units"===e?"Calibration is required to display the area in cm\xB2. ":"";""!==t?(this._label.setAttribute("title",t),this._label.style.color=this._colors.error):(this._label.removeAttribute("title"),this._label.style.color=this._colors.text),this._label.querySelector(".area").innerHTML="Area: "+(g.getGeometryArea(this._geometry)/100).toFixed(2)+" "+e}},i.prototype.updateDOMPosition=function(){var e=this.getRectData(this._handles[0].screenPosition,this._handles[1].screenPosition),t=this.adjustLabelTransform(this._label,this._handles[1].screenPosition.clone().add(e.paddingVector.multiplyScalar(15+this._label.offsetHeight/2)));this._rectangle.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)",this._rectangle.style.width=e.width+"px",this._rectangle.style.height=e.height+"px",this._ellipse.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)",this._ellipse.style.width=e.width+"px",this._ellipse.style.height=e.height+"px",this._label.style.transform="translate3D("+t.x+"px,"+t.y+"px, 0)"},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._rectangle),this._container.removeChild(this._ellipse),this._container.removeChild(this._label),this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null),this._geometry&&(this._geometry.dispose(),this._geometry=null),this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},Ft(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}}]),i}(At(e))},Zt=Lt(),zt=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Ut=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r,o){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));a._stack=o,a._widgetType="Freehand",a._initialized=!1,a._moving=!1,a._domHovered=!1,a._material=null,a._geometry=null,a._mesh=null,a._lines=[],a._label=null,a._handles=[];var s=xt(e),l=new s(n,r);return l.worldPosition.copy(a._worldPosition),a.add(l),a._handles.push(l),a._moveHandle=new s(n,r),a._moveHandle.worldPosition.copy(a._worldPosition),a.add(a._moveHandle),a._moveHandle.hide(),a.onMove=a.onMove.bind(a),a.onHover=a.onHover.bind(a),a.create(),a.addEventListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh();var t=!1;this._handles.forEach(function(e){t=t||e.hovered}),this._hovered=t||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){var t=!1;this._moveHandle.onMove(e,!0),this._handles.forEach(function(i){i.onStart(e),t=t||i.active}),this._active=t||this._domHovered,this._domHovered&&this._initialized&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(t){var i=this._handles.length,n=!1;if(this.active)if(this._dragged=!0,this._initialized){var r=this._moveHandle.worldPosition.clone();this._mesh&&this.remove(this._mesh),this.updateDOMContent(!0),this._moveHandle.onMove(t,!0),this._moving&&this._handles.forEach(function(e,t){this._handles[t].worldPosition.add(this._moveHandle.worldPosition.clone().sub(r))},this)}else{this._handles[i-1].hovered=!1,this._handles[i-1].active=!1,this._handles[i-1].tracking=!1;var o=new(xt(e))(this._targetMesh,this._controls);o.worldPosition.copy(this._worldPosition),o.hovered=!0,o.active=!0,o.tracking=!0,this.add(o),this._handles.push(o),this.createLine()}this._handles.forEach(function(e){e.onMove(t),n=n||e.hovered}),this._hovered=n||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default",this.active&&2<this._handles.length&&this.pushPopHandle(),this.update()},i.prototype.onEnd=function(){var e=this._handles.length;if(!(3>e)){var t=!1;this._handles.slice(0,e-1).forEach(function(e){e.onEnd(),t=t||e.active}),this._dragged||!this._handles[e-1].tracking?(this._handles[e-1].tracking=!1,this._handles[e-1].onEnd()):this._handles[e-1].tracking=!1,this._lines.length<e&&this.createLine(),!this._dragged&&this._active&&(this._selected=!this._selected,this._handles.forEach(function(e){e.selected=this._selected},this)),this._active=t||this._handles[e-1].active,this._dragged=!1,this._moving=!1,this._initialized=!0,this.updateMesh(),this.updateDOMContent(),this.update()}},i.prototype.create=function(){this.createMaterial(),this.createDOM()},i.prototype.createMaterial=function(){this._material=new e.MeshBasicMaterial({side:e.DoubleSide}),this._material.transparent=!0,this._material.opacity=.2},i.prototype.createDOM=function(){this._label=document.createElement("div"),this._label.setAttribute("class","widgets-label");var e=document.createElement("div"),t=document.createElement("div");t.setAttribute("class","mean-sd"),e.appendChild(t);var i=document.createElement("div");i.setAttribute("class","max-min"),e.appendChild(i);var n=document.createElement("div");n.setAttribute("class","area"),e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.createLine=function(){var e=document.createElement("div");e.setAttribute("class","widgets-line"),e.addEventListener("mouseenter",this.onHover),e.addEventListener("mouseleave",this.onHover),this._lines.push(e),this._container.appendChild(e)},i.prototype.hideDOM=function(){this._handles.forEach(function(e){e.hideDOM()}),this._lines.forEach(function(e){e.style.display="none"}),this._label.style.display="none"},i.prototype.showDOM=function(){this._handles.forEach(function(e){e.showDOM()}),this._lines.forEach(function(e){e.style.display=""}),this._label.style.display=""},i.prototype.update=function(){this.updateColor(),this._handles.forEach(function(e){e.update()}),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMesh=function(){this._mesh&&this.remove(this._mesh);var t=[];this._handles.forEach(function(e){t.push(e.worldPosition)});for(var i=g.centerOfMass(t),n=new e.Vector3().crossVectors(new e.Vector3().subVectors(t[0],i),new e.Vector3().subVectors(t[1],i)),r=new e.Vector3().subVectors(t[0],i).normalize(),o=new e.Vector3().crossVectors(r,n).normalize(),a=[],s=0,l;s<t.length;s++){l=new e.Vector3(t[s].x,t[s].y,t[s].z);l.direction=new e.Vector3().subVectors(t[s],i).normalize();var c=r.dot(l.direction),h=o.dot(l.direction);l.xy={x:c,y:h},l.angle=_Mathatan(h,c)*(180/_MathPI),a.push(l)}this._shapeWarn=!1;var u=console.warn;console.warn=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}return"three.ShapeUtils: Unable to triangulate polygon! in triangulate()"===t[0]&&(this._shapeWarn=!0),u.apply(console,t)}.bind(this);var f=new e.Shape;f.moveTo(a[0].xy.x,a[0].xy.y);for(var d=1;d<a.length;d++){f.lineTo(a[d].xy.x,a[d].xy.y)}f.lineTo(a[0].xy.x,a[0].xy.y),this._geometry=new e.ShapeGeometry(f),console.warn=u,this._geometry.vertices=a,this._geometry.verticesNeedUpdate=!0,this._geometry.elementsNeedUpdate=!0,this.updateMeshColor(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.isPointOnLine=function(t,i,n){var r=new e.Vector3;return r.crossVectors(t.clone().sub(n),i.clone().sub(n)),!r.length()},i.prototype.pushPopHandle=function(){var e=this._handles[this._handles.length-3],t=this._handles[this._handles.length-2],i=this._handles[this._handles.length-1],n=this.isPointOnLine(e.worldPosition,t.worldPosition,i.worldPosition);if(n||25>e.screenPosition.distanceTo(i.screenPosition)){this.remove(t),t.free(),this._handles[this._handles.length-2]=i,this._handles.pop();var r=this._lines.pop();r.style.display="none",this._container.removeChild(r)}return n},i.prototype.updateDOMColor=function(){2<=this._handles.length&&this._lines.forEach(function(e){e.style.backgroundColor=this._color},this),this._label.style.borderColor=this._color},i.prototype.updateDOMContent=function(e){var t=this._label.querySelector(".mean-sd"),i=this._label.querySelector(".max-min"),n=this._label.querySelector(".area");if(e)return t.innerHTML="",i.innerHTML="",void(n.innerHTML="");var r=null===this._stack.frame[0].pixelSpacing?"units":"cm\xB2",o="units"===r?"Calibration is required to display the area in cm\xB2. ":"";this._shapeWarn&&(o+="Values may be incorrect due to triangulation error."),""!==o?(this._label.setAttribute("title",o),this._label.style.color=this._colors.error):(this._label.removeAttribute("title"),this._label.style.color=this._colors.text);var a=g.getRoI(this._mesh,this._camera,this._stack);null!==a?(t.innerHTML="Mean: "+a.mean.toFixed(1)+" / SD: "+a.sd.toFixed(1),i.innerHTML="Max: "+a.max.toFixed()+" / Min: "+a.min.toFixed()):(t.innerHTML="",i.innerHTML=""),n.innerHTML="Area: "+(GeometriesSlice.getGeometryArea(this._geometry)/100).toFixed(2)+" "+r},i.prototype.updateDOMPosition=function(){if(!(2>this._handles.length)){var e=null;this._lines.forEach(function(t,i){var n=this.getLineData(this._handles[i].screenPosition,this._handles[i+1===this._handles.length?0:i+1].screenPosition);t.style.transform="translate3D("+n.transformX+"px, "+n.transformY+"px, 0)\n                rotate("+n.transformAngle+"rad)",t.style.width=n.length+"px",(null===e||e.y<this._handles[i].screenPosition.y)&&(e=this._handles[i].screenPosition.clone())},this),this._initialized&&(e.y+=15+this._label.offsetHeight/2,e=this.adjustLabelTransform(this._label,e),this._label.style.transform="translate3D("+e.x+"px, "+e.y+"px, 0)")}},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this.remove(this._moveHandle),this._moveHandle.free(),this._moveHandle=null,this._lines.forEach(function(e){e.removeEventListener("mouseenter",this.onHover),e.removeEventListener("mouseleave",this.onHover),this._container.removeChild(e)},this),this._lines=[],this._container.removeChild(this._label),this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null),this._geometry&&(this._geometry.dispose(),this._geometry=null),this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},zt(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){t.targetMesh=e}),this._moveHandle.targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles.forEach(function(t){t._worldPosition.copy(e)},this),this._worldPosition.copy(e),this.update()}}]),i}(At(e))},Vt=Ut(),Nt=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Ht=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r,o){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));a._stack=o,a._widgetType="Polygon",a._initialized=!1,a._newHandleRequired=!0,a._moving=!1,a._domHovered=!1,a._material=null,a._geometry=null,a._mesh=null,a._lines=[],a._label=null,a._handles=[];var s=xt(e),l=new s(n,r);return l.worldPosition.copy(a._worldPosition),a.add(l),a._handles.push(l),a._moveHandle=new s(n,r),a._moveHandle.worldPosition.copy(a._worldPosition),a.add(a._moveHandle),a._moveHandle.hide(),a.onDoubleClick=a.onDoubleClick.bind(a),a.onMove=a.onMove.bind(a),a.onHover=a.onHover.bind(a),a.create(),a.addEventListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("dblclick",this.onDoubleClick),this._container.addEventListener("wheel",this.onMove),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("dblclick",this.onDoubleClick),this._container.removeEventListener("wheel",this.onMove),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh();var t=!1;this._handles.forEach(function(e){t=t||e.hovered}),this._hovered=t||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){var t=!1;this._handles.forEach(function(i){i.onStart(e),t=t||i.active}),this._initialized&&(this._moveHandle.onMove(e,!0),this._active=t||this._domHovered,this._domHovered&&this._initialized&&(this._moving=!0,this._controls.enabled=!1),this.update())},i.prototype.onMove=function(t){var i=this._handles.length,n=!1;if(this.active)if(this._dragged=!0,this._newHandleRequired&&!this._initialized){this._handles[i-1].hovered=!1,this._handles[i-1].active=!1,this._handles[i-1].tracking=!1;var r=new(xt(e))(this._targetMesh,this._controls);r.worldPosition.copy(this._worldPosition),r.hovered=!0,r.active=!0,r.tracking=!0,this.add(r),this._handles.push(r),this.createLine(),this._newHandleRequired=!1}else{var o=this._moveHandle.worldPosition.clone();this._mesh&&this.remove(this._mesh),this.updateDOMContent(!0),this._moveHandle.onMove(t,!0),this._moving&&this._handles.forEach(function(e,t){this._handles[t].worldPosition.add(this._moveHandle.worldPosition.clone().sub(o))},this)}this._handles.forEach(function(e){e.onMove(t),n=n||e.hovered}),this._hovered=n||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default",this.update()},i.prototype.onEnd=function(){var e=this._handles.length,t=!1;!this._initialized&&1<e&&10>this._handles[e-2].screenPosition.distanceTo(this._handles[e-1].screenPosition)||(this._handles.forEach(function(e){e.onEnd(),t=t||e.active}),this._initialized?(!this._dragged&&this._active&&(this._selected=!this._selected,this._handles.forEach(function(e){e.selected=this._selected},this)),this._active=t||this._handles[e-1].active,this._dragged=!1,this._moving=!1,this.updateMesh(),this.updateDOMContent(),this.update()):this._newHandleRequired=!0)},i.prototype.onDoubleClick=function(){var e=this._handles.length;3>e||this._initialized||1<e&&10>this._handles[e-2].screenPosition.distanceTo(this._handles[e-1].screenPosition)||(this._handles[e-1].tracking=!1,this._handles.forEach(function(e){e.onEnd()}),this._active=!1,this._dragged=!1,this._moving=!1,this._initialized=!0,this.updateMesh(),this.updateDOMContent(),this.update())},i.prototype.create=function(){this.createMaterial(),this.createDOM()},i.prototype.createMaterial=function(){this._material=new e.MeshBasicMaterial({side:THREE.DoubleSide}),this._material.transparent=!0,this._material.opacity=.2},i.prototype.createDOM=function(){this.createLine(),this._label=document.createElement("div"),this._label.setAttribute("class","widgets-label");var e=document.createElement("div"),t=document.createElement("div");t.setAttribute("class","mean-sd"),e.appendChild(t);var i=document.createElement("div");i.setAttribute("class","max-min"),e.appendChild(i);var n=document.createElement("div");n.setAttribute("class","area"),e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.createLine=function(){var e=document.createElement("div");e.setAttribute("class","widgets-line"),e.addEventListener("mouseenter",this.onHover),e.addEventListener("mouseleave",this.onHover),this._lines.push(e),this._container.appendChild(e)},i.prototype.hideDOM=function(){this._handles.forEach(function(e){e.hideDOM()}),this._lines.forEach(function(e){e.style.display="none"}),this._label.style.display="none"},i.prototype.showDOM=function(){this._handles.forEach(function(e){e.showDOM()}),this._lines.forEach(function(e){e.style.display=""}),this._label.style.display=""},i.prototype.update=function(){this.updateColor(),this._handles.forEach(function(e){e.update()}),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMesh=function(){this._mesh&&this.remove(this._mesh);var t=[];this._handles.forEach(function(e){t.push(e.worldPosition)});for(var i=g.centerOfMass(t),n=new e.Vector3().subVectors(t[0],i).normalize(),r=new e.Vector3().crossVectors(new e.Vector3().subVectors(t[0],i),new e.Vector3().subVectors(t[1],i)),o=new e.Vector3().crossVectors(n,r).normalize(),a=[],s=0,l;s<t.length;s++){l=new e.Vector3(t[s].x,t[s].y,t[s].z);l.direction=new e.Vector3().subVectors(t[s],i).normalize();var c=n.dot(l.direction),h=o.dot(l.direction);l.xy={x:c,y:h},l.angle=_Mathatan(h,c)*(180/_MathPI),a.push(l)}this._shapeWarn=!1;var u=console.warn;console.warn=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++){t[i]=arguments[i]}return"THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"===t[0]&&(this._shapeWarn=!0),u.apply(console,t)}.bind(this);var f=new e.Shape;f.moveTo(a[0].xy.x,a[0].xy.y);for(var d=1;d<a.length;d++){f.lineTo(a[d].xy.x,a[d].xy.y)}f.lineTo(a[0].xy.x,a[0].xy.y),this._geometry=new e.ShapeGeometry(f),console.warn=u,this._geometry.vertices=a,this._geometry.verticesNeedUpdate=!0,this._geometry.elementsNeedUpdate=!0,this.updateMeshColor(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.updateDOMColor=function(){this._lines.forEach(function(e){e.style.backgroundColor=this._color},this),this._label.style.borderColor=this._color},i.prototype.updateDOMContent=function(e){var t=this._label.querySelector(".mean-sd"),i=this._label.querySelector(".max-min"),n=this._label.querySelector(".area");if(e)return t.innerHTML="",i.innerHTML="",void(n.innerHTML="");var r=null===this._stack.frame[0].pixelSpacing?"units":"cm\xB2",o="units"===r?"Calibration is required to display the area in cm\xB2. ":"";this._shapeWarn&&(o+="Values may be incorrect due to triangulation error."),""!==o?(this._label.setAttribute("title",o),this._label.style.color=this._colors.error):(this._label.removeAttribute("title"),this._label.style.color=this._colors.text);var a=g.getRoI(this._mesh,this._camera,this._stack);null!==a?(t.innerHTML="Mean: "+a.mean.toFixed(1)+" / SD: "+a.sd.toFixed(1),i.innerHTML="Max: "+a.max.toFixed()+" / Min: "+a.min.toFixed()):(t.innerHTML="",i.innerHTML=""),n.innerHTML="Area: "+(g.getGeometryArea(this._geometry)/100).toFixed(2)+" "+r},i.prototype.updateDOMPosition=function(){var e=null;this._lines.forEach(function(t,i){var n=this.getLineData(this._handles[i].screenPosition,this._handles[i+1===this._handles.length?0:i+1].screenPosition);t.style.transform="translate3D("+n.transformX+"px, "+n.transformY+"px, 0)\n                    rotate("+n.transformAngle+"rad)",t.style.width=n.length+"px",(null===e||e.y<this._handles[i].screenPosition.y)&&(e=this._handles[i].screenPosition.clone())},this),this._initialized&&(e.y+=15+this._label.offsetHeight/2,e=this.adjustLabelTransform(this._label,e),this._label.style.transform="translate3D("+e.x+"px, "+e.y+"px, 0)")},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this.remove(this._moveHandle),this._moveHandle.free(),this._moveHandle=null,this._lines.forEach(function(e){e.removeEventListener("mouseenter",this.onHover),e.removeEventListener("mouseleave",this.onHover),this._container.removeChild(e)},this),this._lines=[],this._container.removeChild(this._label),this._mesh&&(this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null),this._geometry&&(this._geometry.dispose(),this._geometry=null),this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},Nt(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){t.targetMesh=e}),this._moveHandle.targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles.forEach(function(t){t._worldPosition.copy(e)},this),this._worldPosition.copy(e),this.update()}}]),i}(At(e))},Wt=Ht(),jt=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Yt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r,o){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));a._stack=o,a._widgetType="Rectangle",a._moving=!1,a._domHovered=!1,a._material=null,a._geometry=null,a._mesh=null,a._rectangle=null,a._label=null,a._handles=[];for(var s=xt(e),l=void 0,c=0;2>c;c++){(l=new s(n,r)).worldPosition.copy(a._worldPosition),a.add(l),a._handles.push(l)}return a._handles[1].active=!0,a._handles[1].tracking=!0,a._moveHandle=new s(n,r),a._moveHandle.worldPosition.copy(a._worldPosition),a.add(a._moveHandle),a._handles.push(a._moveHandle),a._moveHandle.hide(),a.create(),a.onMove=a.onMove.bind(a),a.onHover=a.onHover.bind(a),a.addEventListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._rectangle.addEventListener("mouseenter",this.onHover),this._rectangle.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._rectangle.removeEventListener("mouseenter",this.onHover),this._rectangle.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles[0].onStart(e),this._handles[1].onStart(e),this._active=this._handles[0].active||this._handles[1].active||this._domHovered,this._domHovered&&!this._handles[1].tracking&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){if(this._active){var t=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e,i){this._handles[i].worldPosition.add(this._moveHandle.worldPosition.clone().sub(t))},this),this.updateRoI(!0)}else this.onHover(null);this._handles[0].onMove(e),this._handles[1].onMove(e),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[1].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active,this._dragged=!1,this._moving=!1,this.updateRoI(),this.update())},i.prototype.hideDOM=function(){this._handles.forEach(function(e){e.hideDOM()}),this._rectangle.style.display="none",this._label.style.display="none"},i.prototype.showDOM=function(){this._handles[0].showDOM(),this._handles[1].showDOM(),this._rectangle.style.display="",this._label.style.display=""},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.PlaneGeometry(1,1),this._material=new e.MeshBasicMaterial({side:e.DoubleSide}),this._material.transparent=!0,this._material.opacity=.2,this.updateMeshColor(),this._mesh=new e.Mesh(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._rectangle=document.createElement("div"),this._rectangle.setAttribute("class","widgets-rectangle"),this._container.appendChild(this._rectangle),this._label=document.createElement("div"),this._label.setAttribute("class","widgets-label");var e=document.createElement("div"),t=document.createElement("div");t.setAttribute("class","mean-sd"),e.appendChild(t);var i=document.createElement("div");i.setAttribute("class","max-min"),e.appendChild(i);var n=document.createElement("div");n.setAttribute("class","area"),e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMContent(),this.updateDOMPosition()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){if(this._geometry){var t=new e.Vector3().subVectors(this._handles[1].worldPosition,this._handles[0].worldPosition).projectOnVector(this._camera.up);this._geometry.vertices[0].copy(this._handles[0].worldPosition),this._geometry.vertices[1].copy(new e.Vector3().addVectors(this._handles[0].worldPosition,t)),this._geometry.vertices[2].copy(new e.Vector3().subVectors(this._handles[1].worldPosition,t)),this._geometry.vertices[3].copy(this._handles[1].worldPosition),this._geometry.verticesNeedUpdate=!0,this._geometry.computeBoundingSphere()}},i.prototype.updateDOMColor=function(){this._rectangle.style.borderColor=this._color,this._label.style.borderColor=this._color},i.prototype.updateRoI=function(e){var t=this._label.querySelector(".mean-sd"),i=this._label.querySelector(".max-min");if(e)return t.innerHTML="",void(i.innerHTML="");var n=g.getRoI(this._mesh,this._camera,this._stack);null!==n?(t.innerHTML="Mean: "+n.mean.toFixed(1)+" / SD: "+n.sd.toFixed(1),i.innerHTML="Max: "+n.max.toFixed()+" / Min: "+n.min.toFixed()):(t.innerHTML="",i.innerHTML="")},i.prototype.updateDOMContent=function(){var e=null===this._stack.frame[0].pixelSpacing?"units":"cm\xB2",t="units"===e?"Calibration is required to display the area in cm\xB2. ":"";""!==t?(this._label.setAttribute("title",t),this._label.style.color=this._colors.error):(this._label.removeAttribute("title"),this._label.style.color=this._colors.text),this._label.querySelector(".area").innerHTML="Area: "+(g.getGeometryArea(this._geometry)/100).toFixed(2)+" "+e},i.prototype.updateDOMPosition=function(){var e=this.getRectData(this._handles[0].screenPosition,this._handles[1].screenPosition),t=this.adjustLabelTransform(this._label,this._handles[1].screenPosition.clone().add(e.paddingVector.multiplyScalar(15+this._label.offsetHeight/2)));this._rectangle.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)",this._rectangle.style.width=e.width+"px",this._rectangle.style.height=e.height+"px",this._label.style.transform="translate3D("+t.x+"px,"+t.y+"px, 0)"},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._rectangle),this._container.removeChild(this._label),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},jt(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}}]),i}(At(e))},Xt=Yt(),Qt=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Jt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r,o){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));a._stack=o,a._widgetType="Ruler",a._moving=!1,a._domHovered=!1,a._material=null,a._geometry=null,a._mesh=null,a._line=null,a._label=null,a._distance=null,a._handles=[];for(var s=xt(e),l=void 0,c=0;2>c;c++){(l=new s(n,r)).worldPosition.copy(a._worldPosition),a.add(l),a._handles.push(l)}return a._handles[1].active=!0,a._handles[1].tracking=!0,a._moveHandle=new s(n,r),a._moveHandle.worldPosition.copy(a._worldPosition),a.add(a._moveHandle),a._handles.push(a._moveHandle),a._moveHandle.hide(),a.create(),a.onMove=a.onMove.bind(a),a.onHover=a.onHover.bind(a),a.addEventListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._container.addEventListener("wheel",this.onMove),this._line.addEventListener("mouseenter",this.onHover),this._line.addEventListener("mouseleave",this.onHover),this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover)},i.prototype.removeEventListeners=function(){this._container.removeEventListener("wheel",this.onMove),this._line.removeEventListener("mouseenter",this.onHover),this._line.removeEventListener("mouseleave",this.onHover),this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover)},i.prototype.onHover=function(e){e&&this.hoverDom(e),this.hoverMesh(),this._hovered=this._handles[0].hovered||this._handles[1].hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverMesh=function(){},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handles[0].onStart(e),this._handles[1].onStart(e),this._active=this._handles[0].active||this._handles[1].active||this._domHovered,this._domHovered&&!this._handles[1].tracking&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){if(this._active){var t=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handles.slice(0,-1).forEach(function(e,i){this._handles[i].worldPosition.add(this._moveHandle.worldPosition.clone().sub(t))},this)}else this.onHover(null);this._handles[0].onMove(e),this._handles[1].onMove(e),this.update()},i.prototype.onEnd=function(){this._handles[0].onEnd(),this._handles[1].tracking&&10>this._handles[0].screenPosition.distanceTo(this._handles[1].screenPosition)||(this._dragged||!this._active||this._handles[1].tracking||(this._selected=!this._selected,this._handles[0].selected=this._selected),this._dragged||!this._handles[1].tracking?(this._handles[1].tracking=!1,this._handles[1].onEnd()):this._handles[1].tracking=!1,this._handles[1].selected=this._selected,this._active=this._handles[0].active||this._handles[1].active,this._dragged=!1,this._moving=!1,this.update())},i.prototype.create=function(){this.createMesh(),this.createDOM()},i.prototype.createMesh=function(){this._geometry=new e.Geometry,this._geometry.vertices.push(this._handles[0].worldPosition),this._geometry.vertices.push(this._handles[1].worldPosition),this._material=new e.LineBasicMaterial,this.updateMeshColor(),this._mesh=new e.Line(this._geometry,this._material),this._mesh.visible=!0,this.add(this._mesh)},i.prototype.createDOM=function(){this._line=document.createElement("div"),this._line.setAttribute("class","widgets-line"),this._container.appendChild(this._line),this._label=document.createElement("div"),this._label.setAttribute("class","widgets-label"),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.hideDOM=function(){this._line.style.display="none",this._label.style.display="none",this._handles.forEach(function(e){e.hideDOM()})},i.prototype.showDOM=function(){this._line.style.display="",this._label.style.display="",this._handles[0].showDOM(),this._handles[1].showDOM()},i.prototype.update=function(){this.updateColor(),this._handles[0].update(),this._handles[1].update(),this.updateMeshColor(),this.updateMeshPosition(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateMeshColor=function(){this._material&&this._material.color.set(this._color)},i.prototype.updateMeshPosition=function(){this._geometry&&(this._geometry.verticesNeedUpdate=!0)},i.prototype.updateDOMPosition=function(){var e=this.getLineData(this._handles[0].screenPosition,this._handles[1].screenPosition);this._line.style.transform="translate3D("+e.transformX+"px, "+e.transformY+"px, 0)\n      rotate("+e.transformAngle+"rad)",this._line.style.width=e.length+"px",this._distance=this._handles[1].worldPosition.distanceTo(this._handles[0].worldPosition);var t=null===this._stack.frame[0].pixelSpacing?"units":"mm",i="units"===t?"Calibration is required to display the distance in mm":"";""!==i?(this._label.setAttribute("title",i),this._label.style.color=this._colors.error):(this._label.removeAttribute("title"),this._label.style.color=this._colors.text),this._label.innerHTML=this._distance.toFixed(2)+" "+t;var n=_Mathabs(e.transformAngle);n>_MathPI/2&&(n=_MathPI-n);var r=_Mathtan(n)<this._label.offsetHeight/this._label.offsetWidth?this._label.offsetWidth/2/_Mathcos(n)+15:this._label.offsetHeight/2/_Mathcos(_MathPI/2-n)+15,o=e.line.normalize().multiplyScalar(r),a=e.length>2*r?this._handles[1].screenPosition.clone().sub(o):this._handles[1].screenPosition.clone().add(o),s=this.adjustLabelTransform(this._label,a);this._label.style.transform="translate3D("+s.x+"px, "+s.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._line.style.backgroundColor=this._color,this._label.style.borderColor=this._color},i.prototype.free=function(){var e=this;this.removeEventListeners(),this._handles.forEach(function(t){e.remove(t),t.free()}),this._handles=[],this._container.removeChild(this._line),this._container.removeChild(this._label),this.remove(this._mesh),this._mesh.geometry.dispose(),this._mesh.geometry=null,this._mesh.material.dispose(),this._mesh.material=null,this._mesh=null,this._geometry.dispose(),this._geometry=null,this._material.vertexShader=null,this._material.fragmentShader=null,this._material.uniforms=null,this._material.dispose(),this._material=null,t.prototype.free.call(this)},Qt(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handles.forEach(function(t){t.targetMesh=e}),this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handles[0].worldPosition.copy(e),this._handles[1].worldPosition.copy(e),this._worldPosition.copy(e),this.update()}}]),i}(At(e))},qt=Jt(),Kt=function(){function e(e,t){for(var i=0,n;i<t.length;i++){n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),$t=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.THREE;return void 0===e||void 0===e.Object3D?null:function(t){function i(n,r,o){!function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=babelHelpers.typeof(t)&&"function"!=typeof t?e:t}(this,t.call(this,n,r));a._stack=o,a._widgetType="VoxelProbe",a._controls.enabled=!1,a._initialized=!1,a._moving=!1,a._label=null,a._domDisplayed=!0,a._domHovered=!1;var s=xt(e);return a._handle=new s(n,r),a._handle.worldPosition.copy(a._worldPosition),a.add(a._handle),a._moveHandle=new s(n,r),a._moveHandle.worldPosition.copy(a._worldPosition),a.add(a._moveHandle),a._moveHandle.hide(),a.create(),a.onMove=a.onMove.bind(a),a.onHover=a.onHover.bind(a),a.addEventListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i.prototype.addEventListeners=function(){this._label.addEventListener("mouseenter",this.onHover),this._label.addEventListener("mouseleave",this.onHover),this._container.addEventListener("wheel",this.onMove)},i.prototype.removeEventListeners=function(){this._label.removeEventListener("mouseenter",this.onHover),this._label.removeEventListener("mouseleave",this.onHover),this._container.removeEventListener("wheel",this.onMove)},i.prototype.onStart=function(e){this._moveHandle.onMove(e,!0),this._handle.onStart(e),this._active=this._handle.active||this._domHovered,this._domHovered&&(this._moving=!0,this._controls.enabled=!1),this.update()},i.prototype.onMove=function(e){if(this._active){var t=this._moveHandle.worldPosition.clone();this._dragged=!0,this._moveHandle.onMove(e,!0),this._moving&&this._handle.worldPosition.add(this._moveHandle.worldPosition.clone().sub(t))}else this.onHover(null);this._handle.onMove(e),this.update()},i.prototype.onEnd=function(){this._handle.onEnd(),!this._dragged&&this._active&&this._initialized&&(this._selected=!this._selected,this._handle.selected=this._selected),this._initialized=!0,this._active=this._handle.active,this._dragged=!1,this._moving=!1,this.update()},i.prototype.onHover=function(e){e&&this.hoverDom(e),this._hovered=this._handle.hovered||this._domHovered,this._container.style.cursor=this._hovered?"pointer":"default"},i.prototype.hoverDom=function(e){this._domHovered="mouseenter"===e.type},i.prototype.create=function(){this.createVoxel(),this.createDOM()},i.prototype.createVoxel=function(){this._voxel=new ht,this._voxel.id=this.id},i.prototype.createDOM=function(){this._label=document.createElement("div"),this._label.setAttribute("class","widgets-label");var e=document.createElement("div"),t=document.createElement("div");t.setAttribute("id","lpsPosition"),e.appendChild(t);var i=document.createElement("div");i.setAttribute("id","ijkPosition"),e.appendChild(i);var n=document.createElement("div");n.setAttribute("id","value"),e.appendChild(n),this._label.appendChild(e),this._container.appendChild(this._label),this.updateDOMColor()},i.prototype.update=function(){this.updateColor(),this._handle.update(),this._worldPosition.copy(this._handle.worldPosition),this.updateVoxel(),this.updateDOMContent(),this.updateDOMColor(),this.updateDOMPosition()},i.prototype.updateVoxel=function(){this._voxel.worldCoordinates=this._worldPosition,this._voxel.dataCoordinates=g.worldToData(this._stack.lps2IJK,this._worldPosition);var e=g.getPixelData(this._stack,this._voxel.dataCoordinates);this._voxel.value=null===e||1<this._stack.numberOfChannels?"NA":g.rescaleSlopeIntercept(e,this._stack.rescaleSlope,this._stack.rescaleIntercept).toFixed()},i.prototype.updateDOMContent=function(){var e=this._label.querySelector("#lpsPosition"),t=this._label.querySelector("#ijkPosition"),i=this._label.querySelector("#value");e.innerHTML="LPS: \n      "+this._voxel.worldCoordinates.x.toFixed(2)+" :\n      "+this._voxel.worldCoordinates.y.toFixed(2)+" :\n      "+this._voxel.worldCoordinates.z.toFixed(2),t.innerHTML="IJK: \n      "+this._voxel.dataCoordinates.x+" :\n      "+this._voxel.dataCoordinates.y+" :\n      "+this._voxel.dataCoordinates.z,i.innerHTML="Value: "+this._voxel.value},i.prototype.updateDOMPosition=function(){var e=this.adjustLabelTransform(this._label,this._handle.screenPosition,!0);this._label.style.transform="translate3D("+e.x+"px, "+e.y+"px, 0)"},i.prototype.updateDOMColor=function(){this._label.style.borderColor=this._color},i.prototype.free=function(){this.removeEventListeners(),this.remove(this._handle),this._handle.free(),this._handle=null,this.remove(this._moveHandle),this._moveHandle.free(),this._moveHandle=null,this._container.removeChild(this._label),this._voxel=null,t.prototype.free.call(this)},i.prototype.hideDOM=function(){this._label.style.display="none",this._handle.hideDOM()},i.prototype.showDOM=function(){this._label.style.display="",this._handle.showDOM()},Kt(i,[{key:"targetMesh",get:function get(){return this._targetMesh},set:function set(e){this._targetMesh=e,this._handle.targetMesh=e,this._moveHandle.targetMesh=e,this.update()}},{key:"worldPosition",get:function get(){return this._worldPosition},set:function set(e){this._handle.worldPosition.copy(e),this._worldPosition.copy(e),this.update()}},{key:"active",get:function get(){return this._active},set:function set(e){this._active=e,this._controls.enabled=!this._active,this.update()}},{key:"showVoxel",set:function set(e){this._showVoxel=e,this.update()},get:function get(){return this._showVoxel}},{key:"showDomSVG",set:function set(e){this._showDomSVG=e,this.update()},get:function get(){return this._showDomSVG}},{key:"showDomMeasurements",set:function set(e){this._showDomMeasurements=e,this.update()},get:function get(){return this._showDomMeasurements}}]),i}(At(e))},ei=$t();i.d(t,"OrthographicCamera",function(){return x}),i.d(t,"orthographicCameraFactory",function(){return w}),i.d(t,"TrackballControl",function(){return I}),i.d(t,"trackballControlFactory",function(){return k}),i.d(t,"TrackballOrthoControl",function(){return E}),i.d(t,"trackballOrthoControlFactory",function(){return S}),i.d(t,"ColorsCore",function(){return C}),i.d(t,"IntersectionsCore",function(){return v}),i.d(t,"UtilsCore",function(){return g}),i.d(t,"ValidatorsCore",function(){return n}),i.d(t,"SliceGeometry",function(){return M}),i.d(t,"sliceGeometryFactory",function(){return B}),i.d(t,"VoxelGeometry",function(){return D}),i.d(t,"voxelGeometryFactory",function(){return T}),i.d(t,"BorderHelper",function(){return O}),i.d(t,"borderHelperFactory",function(){return G}),i.d(t,"BoundingBoxHelper",function(){return Z}),i.d(t,"boundingBoxHelperFactory",function(){return L}),i.d(t,"ContourHelper",function(){return W}),i.d(t,"contourHelperFactory",function(){return H}),i.d(t,"LocalizerHelper",function(){return q}),i.d(t,"localizerHelperFactory",function(){return J}),i.d(t,"LutHelper",function(){return ee}),i.d(t,"lutHelperFactory",function(){return $}),i.d(t,"SegmentationLutHelper",function(){return ne}),i.d(t,"ProgressBarHelper",function(){return oe}),i.d(t,"ProgressBarEventBasedHelper",function(){return ae}),i.d(t,"SliceHelper",function(){return ve}),i.d(t,"sliceHelperFactory",function(){return ge}),i.d(t,"StackHelper",function(){return xe}),i.d(t,"stackHelperFactory",function(){return we}),i.d(t,"VolumeRenderingHelper",function(){return Me}),i.d(t,"VolumeRenderingHelperFactory",function(){return Be}),i.d(t,"VolumeLoader",function(){return lt}),i.d(t,"FrameModel",function(){return Ve}),i.d(t,"StackModel",function(){return ze}),i.d(t,"SeriesModel",function(){return Fe}),i.d(t,"VoxelModel",function(){return ht}),i.d(t,"DicomParser",function(){return qe}),i.d(t,"MghParser",function(){return at}),i.d(t,"NiftiParser",function(){return tt}),i.d(t,"NrrdParser",function(){return rt}),i.d(t,"SegmentationPreset",function(){return dt}),i.d(t,"ContourUniformShader",function(){return z}),i.d(t,"ContourFragmentShader",function(){return V}),i.d(t,"ContourVertexShader",function(){return U}),i.d(t,"DataUniformShader",function(){return se}),i.d(t,"DataFragmentShader",function(){return me}),i.d(t,"DataVertexShader",function(){return le}),i.d(t,"VRUniformShader",function(){return ke}),i.d(t,"VRFragmentShader",function(){return Ee}),i.d(t,"VRVertexShader",function(){return Ie}),i.d(t,"LayerUniformShader",function(){return _t}),i.d(t,"LayerFragmentShader",function(){return mt}),i.d(t,"LayerVertexShader",function(){return bt}),i.d(t,"LocalizerUniformShader",function(){return j}),i.d(t,"LocalizerFragmentShader",function(){return X}),i.d(t,"LocalizerVertexShader",function(){return Y}),i.d(t,"WidgetsCss",function(){return gt}),i.d(t,"AngleWidget",function(){return Et}),i.d(t,"angleWidgetFactory",function(){return St}),i.d(t,"AnnotationWidget",function(){return Mt}),i.d(t,"annotationWidgetFactory",function(){return Bt}),i.d(t,"BiRulerWidget",function(){return Dt}),i.d(t,"birulerWidgetFactory",function(){return Tt}),i.d(t,"CrossRulerWidget",function(){return Ot}),i.d(t,"crossrulerWidgetFactory",function(){return Gt}),i.d(t,"EllipseWidget",function(){return Zt}),i.d(t,"ellipseWidgetFactory",function(){return Lt}),i.d(t,"FreehandWidget",function(){return Vt}),i.d(t,"freehandWidgetFactory",function(){return Ut}),i.d(t,"HandleWidget",function(){return kt}),i.d(t,"handleWidgetFactory",function(){return xt}),i.d(t,"PolygonWidget",function(){return Wt}),i.d(t,"polygonWidgetFactory",function(){return Ht}),i.d(t,"RectangleWidget",function(){return Xt}),i.d(t,"rectangleWidgetFactory",function(){return Yt}),i.d(t,"RulerWidget",function(){return qt}),i.d(t,"rulerWidgetFactory",function(){return Jt}),i.d(t,"VoxelProbeWidget",function(){return ei}),i.d(t,"voxelprobeWidgetFactory",function(){return $t});var ti=i(64);window.console.log("ami v"+ti.version+" (three v"+ti.config.threeVersion+")")}])});</script><dom-module id="iron-image" assetpath="../bower_components/iron-image/"><template><style>:host{display:inline-block;overflow:hidden;position:relative;}#baseURIAnchor{display:none;}#sizedImgDiv{position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:none;}#img{display:block;width:var(--iron-image-width, auto);height:var(--iron-image-height, auto);}:host([sizing]) #sizedImgDiv{display:block;}:host([sizing]) #img{display:none;}#placeholder{position:absolute;top:0px;right:0px;bottom:0px;left:0px;background-color:inherit;opacity:1;@apply --iron-image-placeholder;}#placeholder.faded-out{transition:opacity 0.5s linear;opacity:0;}</style><a id="baseURIAnchor" href="#"></a><div id="sizedImgDiv" role="img" hidden$="[[_computeImgDivHidden(sizing)]]" aria-hidden$="[[_computeImgDivARIAHidden(alt)]]" aria-label$="[[_computeImgDivARIALabel(alt, src)]]"></div><img id="img" alt$="[[alt]]" hidden$="[[_computeImgHidden(sizing)]]" crossorigin$="[[crossorigin]]" on-load="_imgOnLoad" on-error="_imgOnError"><div id="placeholder" hidden$="[[_computePlaceholderHidden(preload, fade, loading, loaded)]]" class$="[[_computePlaceholderClassName(preload, fade, loading, loaded)]]"></div></template><script>Polymer({is:"iron-image",properties:{src:{type:String,value:""},alt:{type:String,value:null},crossorigin:{type:String,value:null},preventLoad:{type:Boolean,value:!1},sizing:{type:String,value:null,reflectToAttribute:!0},position:{type:String,value:"center"},preload:{type:Boolean,value:!1},placeholder:{type:String,value:null,observer:"_placeholderChanged"},fade:{type:Boolean,value:!1},loaded:{notify:!0,readOnly:!0,type:Boolean,value:!1},loading:{notify:!0,readOnly:!0,type:Boolean,value:!1},error:{notify:!0,readOnly:!0,type:Boolean,value:!1},width:{observer:"_widthChanged",type:Number,value:null},height:{observer:"_heightChanged",type:Number,value:null}},observers:["_transformChanged(sizing, position)","_loadStateObserver(src, preventLoad)"],created:function created(){this._resolvedSrc=""},_imgOnLoad:function _imgOnLoad(){if(this.$.img.src!==this._resolveSrc(this.src)){return}this._setLoading(!1);this._setLoaded(!0);this._setError(!1)},_imgOnError:function _imgOnError(){if(this.$.img.src!==this._resolveSrc(this.src)){return}this.$.img.removeAttribute("src");this.$.sizedImgDiv.style.backgroundImage="";this._setLoading(!1);this._setLoaded(!1);this._setError(!0)},_computePlaceholderHidden:function _computePlaceholderHidden(){return!this.preload||!this.fade&&!this.loading&&this.loaded},_computePlaceholderClassName:function _computePlaceholderClassName(){return this.preload&&this.fade&&!this.loading&&this.loaded?"faded-out":""},_computeImgDivHidden:function _computeImgDivHidden(){return!this.sizing},_computeImgDivARIAHidden:function _computeImgDivARIAHidden(){return""===this.alt?"true":void 0},_computeImgDivARIALabel:function _computeImgDivARIALabel(){if(null!==this.alt){return this.alt}if(""===this.src){return""}var resolved=this._resolveSrc(this.src);return resolved.replace(/[?|#].*/g,"").split("/").pop()},_computeImgHidden:function _computeImgHidden(){return!!this.sizing},_widthChanged:function _widthChanged(){this.style.width=isNaN(this.width)?this.width:this.width+"px"},_heightChanged:function _heightChanged(){this.style.height=isNaN(this.height)?this.height:this.height+"px"},_loadStateObserver:function _loadStateObserver(src,preventLoad){var newResolvedSrc=this._resolveSrc(src);if(newResolvedSrc===this._resolvedSrc){return}this._resolvedSrc="";this.$.img.removeAttribute("src");this.$.sizedImgDiv.style.backgroundImage="";if(""===src||preventLoad){this._setLoading(!1);this._setLoaded(!1);this._setError(!1)}else{this._resolvedSrc=newResolvedSrc;this.$.img.src=this._resolvedSrc;this.$.sizedImgDiv.style.backgroundImage="url(\""+this._resolvedSrc+"\")";this._setLoading(!0);this._setLoaded(!1);this._setError(!1)}},_placeholderChanged:function _placeholderChanged(){this.$.placeholder.style.backgroundImage=this.placeholder?"url(\""+this.placeholder+"\")":""},_transformChanged:function _transformChanged(){var sizedImgDivStyle=this.$.sizedImgDiv.style,placeholderStyle=this.$.placeholder.style;sizedImgDivStyle.backgroundSize=placeholderStyle.backgroundSize=this.sizing;sizedImgDivStyle.backgroundPosition=placeholderStyle.backgroundPosition=this.sizing?this.position:"";sizedImgDivStyle.backgroundRepeat=placeholderStyle.backgroundRepeat=this.sizing?"no-repeat":""},_resolveSrc:function _resolveSrc(testSrc){var resolved=Polymer.ResolveUrl.resolveUrl(testSrc,this.$.baseURIAnchor.href);if("/"===resolved[0]){resolved=(location.origin||location.protocol+"//"+location.host)+resolved}return resolved}});</script></dom-module><dom-module id="paper-card" assetpath="../bower_components/paper-card/"><template><style include="paper-material-styles">:host{display:inline-block;position:relative;box-sizing:border-box;background-color:var(--paper-card-background-color, var(--primary-background-color));border-radius:2px;@apply --paper-font-common-base;@apply --paper-card;}:host([hidden]), [hidden]{display:none !important;}.header{position:relative;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;@apply --paper-card-header;}.header iron-image{display:block;width:100%;--iron-image-width:100%;pointer-events:none;@apply --paper-card-header-image;}.header .title-text{padding:16px;font-size:24px;font-weight:400;color:var(--paper-card-header-color, #000);@apply --paper-card-header-text;}.header .title-text.over-image{position:absolute;bottom:0px;@apply --paper-card-header-image-text;}:host ::slotted(.card-content){padding:16px;position:relative;@apply --paper-card-content;}:host ::slotted(.card-actions){border-top:1px solid #e8e8e8;padding:5px 16px;position:relative;@apply --paper-card-actions;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}</style><div class="header"><iron-image hidden$="[[!image]]" aria-hidden$="[[_isHidden(image)]]" src="[[image]]" alt="[[alt]]" placeholder="[[placeholderImage]]" preload="[[preloadImage]]" fade="[[fadeImage]]"></iron-image><div hidden$="[[!heading]]" class$="title-text [[_computeHeadingClass(image)]]">[[heading]]</div></div><slot></slot></template><script>Polymer({is:"paper-card",properties:{heading:{type:String,value:"",observer:"_headingChanged"},image:{type:String,value:""},alt:{type:String},preloadImage:{type:Boolean,value:!1},fadeImage:{type:Boolean,value:!1},placeholderImage:{type:String,value:null},elevation:{type:Number,value:1,reflectToAttribute:!0},animatedShadow:{type:Boolean,value:!1},animated:{type:Boolean,reflectToAttribute:!0,readOnly:!0,computed:"_computeAnimated(animatedShadow)"}},_isHidden:function _isHidden(image){return image?"false":"true"},_headingChanged:function _headingChanged(heading){var currentHeading=this.getAttribute("heading"),currentLabel=this.getAttribute("aria-label");if("string"!==typeof currentLabel||currentLabel===currentHeading){this.setAttribute("aria-label",heading)}},_computeHeadingClass:function _computeHeadingClass(image){return image?" over-image":""},_computeAnimated:function _computeAnimated(animatedShadow){return animatedShadow}});</script></dom-module><script>(function(){"use strict";Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function ready(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.__readied=!0},_modalChanged:function _modalChanged(modal,readied){if(!readied){return}if(modal){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop;this.noCancelOnOutsideClick=!0;this.noCancelOnEscKey=!0;this.withBackdrop=!0}else{this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick;this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey;this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop}},_updateClosingReasonConfirmed:function _updateClosingReasonConfirmed(confirmed){this.closingReason=this.closingReason||{};this.closingReason.confirmed=confirmed},_onDialogClick:function _onDialogClick(event){for(var path=Polymer.dom(event).path,i=0,l=path.indexOf(this),target;i<l;i++){target=path[i];if(target.hasAttribute&&(target.hasAttribute("dialog-dismiss")||target.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(target.hasAttribute("dialog-confirm"));this.close();event.stopPropagation();break}}}};Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl]})();</script><dom-module id="paper-dialog-shared-styles" assetpath="../bower_components/paper-dialog-behavior/"><template><style>:host{display:block;margin:24px 40px;background:var(--paper-dialog-background-color, var(--primary-background-color));color:var(--paper-dialog-color, var(--primary-text-color));@apply --paper-font-body1;@apply --shadow-elevation-16dp;@apply --paper-dialog;}:host > ::slotted(*){margin-top:20px;padding:0 24px;}:host > ::slotted(.no-padding){padding:0;}:host > ::slotted(*:first-child){margin-top:24px;}:host > ::slotted(*:last-child){margin-bottom:24px;}:host > ::slotted(h2){position:relative;margin:0;@apply --paper-font-title;@apply --paper-dialog-title;}:host > ::slotted(h2:first-child){margin-top:24px;@apply --paper-dialog-title;}:host > ::slotted(h2:last-child){margin-bottom:24px;@apply --paper-dialog-title;}:host > ::slotted(.paper-dialog-buttons),
      :host > ::slotted(.buttons){position:relative;padding:8px 8px 8px 24px;margin:0;color:var(--paper-dialog-button-color, var(--primary-color));@apply --layout-horizontal;@apply --layout-end-justified;}</style></template></dom-module><dom-module id="paper-dialog" assetpath="../bower_components/paper-dialog/"><template><style include="paper-dialog-shared-styles"></style><slot></slot></template></dom-module><script>Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function _renderOpened(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function _renderClosed(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function _onNeonAnimationFinish(){if(this.opened){this._finishRenderOpened()}else{this._finishRenderClosed()}}});</script><link rel="import " href="my-icons.html"><link rel="import " href="style/shared-styles.html"><dom-module id="contours-list-item" assetpath="elements/"><template><style include="shared-styles">.contour-item, .contour-item-all{@apply (--layout-horizontal);}.contour-item paper-checkbox, 
        .contour-item-all paper-checkbox{padding:8px;margin-right:auto;}.contour-item iron-icon{padding:8px;cursor:pointer;color:#767676;}paper-dialog.modal-contour{width:350px;}paper-dialog.modal-contour > h2{padding:5px 30px;}paper-dialog.modal-contour > p{padding:5px 30px;margin:0;}</style><div style="width:100%"><div class="separator"><span>[[title]]<span></span></span></div><div class="contour-item-all"><paper-checkbox class="label" checked="{{allShow}}">Show / hide all</paper-checkbox></div><div class="separator"></div><template is="dom-repeat" items="{{contours}}" as="contour"><div class="contour-item" id="contour-{{contour.id}}" on-mouseover="_mouseOverContour" on-mouseout="_mouseOutContour"><paper-checkbox checked="{{contour.visible}}" on-tap="_onCheckContour"><span style="color:{{contour.color}}">{{contour.label}}</span></paper-checkbox><template is="dom-if" if="{{contour.description}}"><iron-icon class="info" icon="icons:info" on-tap="_onContourInfo"></iron-icon></template></div></template></div><paper-dialog id="modalContourInfo" class="modal-contour"><h2 id="mciTitle"></h2><p id="mciDescription"></p><div class="buttons"><paper-button dialog-confirm="" autofocus="">Close</paper-button></div></paper-dialog></template><script>var ContoursListIem=function(_Polymer$Element){babelHelpers.inherits(ContoursListIem,_Polymer$Element);babelHelpers.createClass(ContoursListIem,null,[{key:"is",get:function get(){return"contours-list-item"}},{key:"properties",get:function get(){return{title:{type:String,value:"List of contours"},contours:{type:Array,value:[]},allShow:{type:Boolean,value:!0,observer:"_allShowChanged"}}}}]);function ContoursListIem(){var _this;babelHelpers.classCallCheck(this,ContoursListIem);_this=babelHelpers.possibleConstructorReturn(this,(ContoursListIem.__proto__||Object.getPrototypeOf(ContoursListIem)).call(this));_this.stopPropagationAllShow=!1;return _this}babelHelpers.createClass(ContoursListIem,[{key:"ready",value:function ready(){babelHelpers.get(ContoursListIem.prototype.__proto__||Object.getPrototypeOf(ContoursListIem.prototype),"ready",this).call(this)}},{key:"_allShowChanged",value:function _allShowChanged(){if(this.stopPropagationAllShow)return;for(var i=0;i<this.contours.length;i++){this.set("contours."+i+".visible",this.allShow);this._updateContourVisibled(i)}}},{key:"_mouseOverContour",value:function _mouseOverContour(e){var id=this._getContourId(e.target);this.set("contours."+id+".contour.selected",!0)}},{key:"_mouseOutContour",value:function _mouseOutContour(e){var id=this._getContourId(e.target);this.set("contours."+id+".contour.selected",!1)}},{key:"_onContourInfo",value:function _onContourInfo(e){var id=this._getContourId(e.target);if(null===id)return;this.$.mciTitle.innerHTML=this._unescapeText(this.contours[id].label);this.$.mciDescription.innerHTML=this._unescapeText(this.contours[id].description);this.$.modalContourInfo.open()}},{key:"_unescapeText",value:function _unescapeText(text){var elem=document.createElement("textarea");elem.innerHTML=text;return elem.textContent}},{key:"_onCheckContour",value:function _onCheckContour(e){var id=this._getContourId(e.target);this._updateContourVisibled(id);if(this.stopPropagationAllShow)return;this._updateAllShow()}},{key:"_updateAllShow",value:function _updateAllShow(){for(var flag=!0,i=0;i<this.contours.length&&flag;i++){flag=flag&&this.contours[i].visible}this.stopPropagationAllShow=!0;this.set("allShow",flag);this.stopPropagationAllShow=!1}},{key:"_updateContourVisibled",value:function _updateContourVisibled(id){var visibled=this.contours[id].visible;this.set("contours."+id+".contour.meshBack.visible",visibled);this.set("contours."+id+".contour.meshFront.visible",visibled)}},{key:"_getContourId",value:function _getContourId(element){var el=element;while((el=el.parentElement)&&!el.classList.contains("contour-item")){}if(null==el)return;var id=el.getAttribute("id");id=id.replace("contour-","");return parseInt(id)}}]);return ContoursListIem}(Polymer.Element);window.customElements.define(ContoursListIem.is,ContoursListIem);</script></dom-module><dom-module id="viewers-style" assetpath="style/"><template><style include="shared-styles">:host{display:block;}app-header{background-color:var(--dark-primary-color);color:var(--text-primary-color);}app-header paper-icon-button{--paper-icon-button-ink-color:white;}.content{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;background-color:#fff;}.tools{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-width:256px;min-height:0;overflow-y:scroll;}.viewers{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%;position:relative;}.viewer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;width:0;}.main,
.small,
.s2{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden;position:relative;}.move{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;}.move paper-slider{background-color:var(--default-primary-color);width:100%;}.main{width:70%;}.small{width:30%;}.small>*{height:50%;}.v2{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;}paper-radio-button{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding-left:16px;padding-right:16px;}.s2{border:1px solid #ffffff;}.main{border-top:1px solid #ffffff;border-bottom:1px solid #ffffff;}a{color:#fff;cursor:auto;text-decoration:none;}a paper-button{background-color:var(--default-primary-color);color:#fff;}.fulloff{height:24px;padding:0;font-size:12px;color:#d9d9d9;position:absolute;top:0;right:0;z-index:1;cursor:default;font-weight:lighter;}.advanced{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:auto;background-color:rgba(0, 0, 0, 0.8);margin-bottom:8px;}.controls{height:40px;border-bottom:1px solid var(--divider-color);text-align:right;padding:0 8px;}#collapse>div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 8px;}#collapse>div:last-child{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;}.next-link{display:-webkit-box;display:-ms-flexbox;display:flex;}.next-button{-webkit-box-flex:1;-ms-flex:1;flex:1;}.horizontal{@apply (--layout-horizontal);}.inline{display:inline;}.align-right{float:right;}.only-for-small{display:none;}@media only screen and (max-width: 767px){.only-for-small{display:block;}.small{display:none;}.main{width:100%;}}.loader{position:fixed;top:0;bottom:0;left:0;right:0;z-index:9;background-color:var(--dark-primary-color);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;}.cube-wrapper{position:fixed;left:50%;top:50%;margin-top:-50px;margin-left:-50px;width:100px;height:100px;text-align:center;}.cube-wrapper:after{content:'';position:absolute;left:0;right:0;bottom:-20px;margin:auto;width:90px;height:6px;background-color:rgba(0, 0, 0, 0.1);-webkit-filter:blur(2px);filter:blur(2px);-moz-border-radius:100%;-webkit-border-radius:100%;border-radius:100%;z-index:1;-moz-animation:shadow 0.5s ease infinite alternate;-webkit-animation:shadow 0.5s ease infinite alternate;animation:shadow 0.5s ease infinite alternate;}.cube-wrapper .loading{font-size:12px;letter-spacing:0.1em;display:block;color:white;position:relative;top:25px;z-index:2;-moz-animation:text 0.5s ease infinite alternate;-webkit-animation:text 0.5s ease infinite alternate;animation:text 0.5s ease infinite alternate;}@-moz-keyframes text{100%{top:35px;}}@-webkit-keyframes text{100%{top:35px;}}@keyframes text{100%{top:35px;}}@-moz-keyframes shadow{100%{bottom:-18px;width:100px;}}@-webkit-keyframes shadow{100%{bottom:-18px;width:100px;}}@keyframes shadow{100%{bottom:-18px;width:100px;}}.cube-folding{width:50px;height:50px;display:inline-block;-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg);font-size:0;}.cube-folding span{position:relative;width:25px;height:25px;-moz-transform:scale(1.1);-ms-transform:scale(1.1);-webkit-transform:scale(1.1);transform:scale(1.1);display:inline-block;}.cube-folding span::before{content:'';background-color:white;position:absolute;left:0;top:0;display:block;width:25px;height:25px;-moz-transform-origin:100% 100%;-ms-transform-origin:100% 100%;-webkit-transform-origin:100% 100%;transform-origin:100% 100%;-moz-animation:folding 2.5s infinite linear both;-webkit-animation:folding 2.5s infinite linear both;animation:folding 2.5s infinite linear both;}.cube-folding .leaf2{-moz-transform:rotateZ(90deg) scale(1.1);-ms-transform:rotateZ(90deg) scale(1.1);-webkit-transform:rotateZ(90deg) scale(1.1);transform:rotateZ(90deg) scale(1.1);}.cube-folding .leaf2::before{-moz-animation-delay:0.3s;-webkit-animation-delay:0.3s;animation-delay:0.3s;background-color:#f2f2f2;}.cube-folding .leaf3{-moz-transform:rotateZ(270deg) scale(1.1);-ms-transform:rotateZ(270deg) scale(1.1);-webkit-transform:rotateZ(270deg) scale(1.1);transform:rotateZ(270deg) scale(1.1);}.cube-folding .leaf3::before{-moz-animation-delay:0.9s;-webkit-animation-delay:0.9s;animation-delay:0.9s;background-color:#f2f2f2;}.cube-folding .leaf4{-moz-transform:rotateZ(180deg) scale(1.1);-ms-transform:rotateZ(180deg) scale(1.1);-webkit-transform:rotateZ(180deg) scale(1.1);transform:rotateZ(180deg) scale(1.1);}.cube-folding .leaf4::before{-moz-animation-delay:0.6s;-webkit-animation-delay:0.6s;animation-delay:0.6s;background-color:#e6e6e6;}@-moz-keyframes folding{0%,
    10%{-moz-transform:perspective(140px) rotateX(-180deg);transform:perspective(140px) rotateX(-180deg);opacity:0;}25%,
    75%{-moz-transform:perspective(140px) rotateX(0deg);transform:perspective(140px) rotateX(0deg);opacity:1;}90%,
    100%{-moz-transform:perspective(140px) rotateY(180deg);transform:perspective(140px) rotateY(180deg);opacity:0;}}@-webkit-keyframes folding{0%,
    10%{-webkit-transform:perspective(140px) rotateX(-180deg);transform:perspective(140px) rotateX(-180deg);opacity:0;}25%,
    75%{-webkit-transform:perspective(140px) rotateX(0deg);transform:perspective(140px) rotateX(0deg);opacity:1;}90%,
    100%{-webkit-transform:perspective(140px) rotateY(180deg);transform:perspective(140px) rotateY(180deg);opacity:0;}}@keyframes folding{0%,
    10%{-moz-transform:perspective(140px) rotateX(-180deg);-ms-transform:perspective(140px) rotateX(-180deg);-webkit-transform:perspective(140px) rotateX(-180deg);transform:perspective(140px) rotateX(-180deg);opacity:0;}25%,
    75%{-moz-transform:perspective(140px) rotateX(0deg);-ms-transform:perspective(140px) rotateX(0deg);-webkit-transform:perspective(140px) rotateX(0deg);transform:perspective(140px) rotateX(0deg);opacity:1;}90%,
    100%{-moz-transform:perspective(140px) rotateY(180deg);-ms-transform:perspective(140px) rotateY(180deg);-webkit-transform:perspective(140px) rotateY(180deg);transform:perspective(140px) rotateY(180deg);opacity:0;}}</style></template></dom-module><dom-module id="app-drawer" assetpath="../bower_components/app-layout/app-drawer/"><template><style>:host{position:fixed;top:-120px;right:0;bottom:-120px;left:0;visibility:hidden;transition-property:visibility;}:host([opened]){visibility:visible;}:host([persistent]){width:var(--app-drawer-width, 256px);}:host([persistent][position=left]){right:auto;}:host([persistent][position=right]){left:auto;}#contentContainer{position:absolute;top:0;bottom:0;left:0;width:var(--app-drawer-width, 256px);padding:120px 0;transition-property:-webkit-transform;transition-property:transform;-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);background-color:#FFF;@apply --app-drawer-content-container;}#contentContainer[persistent]{width:100%;}#contentContainer[position=right]{right:0;left:auto;-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);}#contentContainer[swipe-open]::after{position:fixed;top:0;bottom:0;left:100%;visibility:visible;width:20px;content:'';}#contentContainer[swipe-open][position=right]::after{right:100%;left:auto;}#contentContainer[opened]{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);}#scrim{position:absolute;top:0;right:0;bottom:0;left:0;transition-property:opacity;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:0;background:var(--app-drawer-scrim-background, rgba(0, 0, 0, 0.5));}#scrim.visible{opacity:1;}</style><div id="scrim" on-click="close"></div><div id="contentContainer" opened$="[[opened]]" persistent$="[[persistent]]" position$="[[position]]" swipe-open$="[[swipeOpen]]"><slot></slot></div></template><script>Polymer({is:"app-drawer",properties:{opened:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},persistent:{type:Boolean,value:!1,reflectToAttribute:!0},transitionDuration:{type:Number,value:200},align:{type:String,value:"left"},position:{type:String,readOnly:!0,reflectToAttribute:!0},swipeOpen:{type:Boolean,value:!1,reflectToAttribute:!0},noFocusTrap:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1}},observers:["resetLayout(position, isAttached)","_resetPosition(align, isAttached)","_styleTransitionDuration(transitionDuration)","_openedPersistentChanged(opened, persistent)"],_translateOffset:0,_trackDetails:null,_drawerState:0,_boundEscKeydownHandler:null,_firstTabStop:null,_lastTabStop:null,attached:function attached(){Polymer.RenderStatus.afterNextRender(this,function(){this._boundEscKeydownHandler=this._escKeydownHandler.bind(this);this.addEventListener("keydown",this._tabKeydownHandler.bind(this));this.listen(this,"track","_track");this.setScrollDirection("y")});this.fire("app-reset-layout")},detached:function detached(){document.removeEventListener("keydown",this._boundEscKeydownHandler)},open:function open(){this.opened=!0},close:function close(){this.opened=!1},toggle:function toggle(){this.opened=!this.opened},getWidth:function getWidth(){return this.$.contentContainer.offsetWidth},_isRTL:function _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_resetPosition:function _resetPosition(){switch(this.align){case"start":this._setPosition(this._isRTL()?"right":"left");return;case"end":this._setPosition(this._isRTL()?"left":"right");return;}this._setPosition(this.align)},_escKeydownHandler:function _escKeydownHandler(event){if(event.keyCode===27){event.preventDefault();this.close()}},_track:function _track(event){if(this.persistent||this.disableSwipe){return}event.preventDefault();switch(event.detail.state){case"start":this._trackStart(event);break;case"track":this._trackMove(event);break;case"end":this._trackEnd(event);break;}},_trackStart:function _trackStart(){this._drawerState=this._DRAWER_STATE.TRACKING;this._styleTransitionDuration(0);this.style.visibility="visible";var rect=this.$.contentContainer.getBoundingClientRect();if("left"===this.position){this._translateOffset=rect.left}else{this._translateOffset=rect.right-window.innerWidth}this._trackDetails=[]},_trackMove:function _trackMove(event){this._translateDrawer(event.detail.dx+this._translateOffset);this._trackDetails.push({dx:event.detail.dx,timeStamp:Date.now()})},_trackEnd:function _trackEnd(event){var x=event.detail.dx+this._translateOffset,drawerWidth=this.getWidth(),isPositionLeft="left"===this.position,isInEndState=isPositionLeft?0<=x||x<=-drawerWidth:0>=x||x>=drawerWidth;if(!isInEndState){var trackDetails=this._trackDetails;this._trackDetails=null;this._flingDrawer(event,trackDetails);if(this._drawerState===this._DRAWER_STATE.FLINGING){return}}var halfWidth=drawerWidth/2;if(event.detail.dx<-halfWidth){this.opened="right"===this.position}else if(event.detail.dx>halfWidth){this.opened="left"===this.position}if(isInEndState){this.debounce("_resetDrawerState",this._resetDrawerState)}else{this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration)}this._styleTransitionDuration(this.transitionDuration);this._resetDrawerTranslate();this.style.visibility=""},_calculateVelocity:function _calculateVelocity(event,trackDetails){var now=Date.now(),trackDetail,min=0,max=trackDetails.length-1;while(min<=max){var mid=min+max>>1,d=trackDetails[mid];if(d.timeStamp>=now-100){trackDetail=d;max=mid-1}else{min=mid+1}}if(trackDetail){var dx=event.detail.dx-trackDetail.dx,dt=now-trackDetail.timeStamp||1;return dx/dt}return 0},_flingDrawer:function _flingDrawer(event,trackDetails){var velocity=this._calculateVelocity(event,trackDetails);if(Math.abs(velocity)<this._MIN_FLING_THRESHOLD){return}this._drawerState=this._DRAWER_STATE.FLINGING;var x=event.detail.dx+this._translateOffset,drawerWidth=this.getWidth(),isPositionLeft="left"===this.position,isVelocityPositive=0<velocity,dx;if(!isVelocityPositive&&isPositionLeft){dx=-(x+drawerWidth)}else if(isVelocityPositive&&!isPositionLeft){dx=drawerWidth-x}else{dx=-x}if(isVelocityPositive){velocity=Math.max(velocity,this._MIN_TRANSITION_VELOCITY);this.opened="left"===this.position}else{velocity=Math.min(velocity,-this._MIN_TRANSITION_VELOCITY);this.opened="right"===this.position}var t=this._FLING_INITIAL_SLOPE*dx/velocity;this._styleTransitionDuration(t);this._styleTransitionTimingFunction(this._FLING_TIMING_FUNCTION);this._resetDrawerTranslate();this.debounce("_resetDrawerState",this._resetDrawerState,t)},_styleTransitionDuration:function _styleTransitionDuration(duration){this.style.transitionDuration=duration+"ms";this.$.contentContainer.style.transitionDuration=duration+"ms";this.$.scrim.style.transitionDuration=duration+"ms"},_styleTransitionTimingFunction:function _styleTransitionTimingFunction(timingFunction){this.$.contentContainer.style.transitionTimingFunction=timingFunction;this.$.scrim.style.transitionTimingFunction=timingFunction},_translateDrawer:function _translateDrawer(x){var _Mathmin=Math.min,_Mathmax=Math.max,drawerWidth=this.getWidth();if("left"===this.position){x=_Mathmax(-drawerWidth,_Mathmin(x,0));this.$.scrim.style.opacity=1+x/drawerWidth}else{x=_Mathmax(0,_Mathmin(x,drawerWidth));this.$.scrim.style.opacity=1-x/drawerWidth}this.translate3d(x+"px","0","0",this.$.contentContainer)},_resetDrawerTranslate:function _resetDrawerTranslate(){this.$.scrim.style.opacity="";this.transform("",this.$.contentContainer)},_resetDrawerState:function _resetDrawerState(){var oldState=this._drawerState;if(oldState===this._DRAWER_STATE.FLINGING){this._styleTransitionDuration(this.transitionDuration);this._styleTransitionTimingFunction("");this.style.visibility=""}if(this.opened){this._drawerState=this.persistent?this._DRAWER_STATE.OPENED_PERSISTENT:this._DRAWER_STATE.OPENED}else{this._drawerState=this._DRAWER_STATE.CLOSED}if(oldState!==this._drawerState){if(this._drawerState===this._DRAWER_STATE.OPENED){this._setKeyboardFocusTrap();document.addEventListener("keydown",this._boundEscKeydownHandler);document.body.style.overflow="hidden"}else{document.removeEventListener("keydown",this._boundEscKeydownHandler);document.body.style.overflow=""}if(oldState!==this._DRAWER_STATE.INIT){this.fire("app-drawer-transitioned")}}},resetLayout:function resetLayout(){this.fire("app-reset-layout")},_setKeyboardFocusTrap:function _setKeyboardFocusTrap(){if(this.noFocusTrap){return}var focusableElementsSelector=["a[href]:not([tabindex=\"-1\"])","area[href]:not([tabindex=\"-1\"])","input:not([disabled]):not([tabindex=\"-1\"])","select:not([disabled]):not([tabindex=\"-1\"])","textarea:not([disabled]):not([tabindex=\"-1\"])","button:not([disabled]):not([tabindex=\"-1\"])","iframe:not([tabindex=\"-1\"])","[tabindex]:not([tabindex=\"-1\"])","[contentEditable=true]:not([tabindex=\"-1\"])"].join(","),focusableElements=Polymer.dom(this).querySelectorAll(focusableElementsSelector);if(0<focusableElements.length){this._firstTabStop=focusableElements[0];this._lastTabStop=focusableElements[focusableElements.length-1]}else{this._firstTabStop=null;this._lastTabStop=null}var tabindex=this.getAttribute("tabindex");if(tabindex&&-1<parseInt(tabindex,10)){this.focus()}else if(this._firstTabStop){this._firstTabStop.focus()}},_tabKeydownHandler:function _tabKeydownHandler(event){if(this.noFocusTrap){return}if(this._drawerState===this._DRAWER_STATE.OPENED&&event.keyCode===9){if(event.shiftKey){if(this._firstTabStop&&Polymer.dom(event).localTarget===this._firstTabStop){event.preventDefault();this._lastTabStop.focus()}}else{if(this._lastTabStop&&Polymer.dom(event).localTarget===this._lastTabStop){event.preventDefault();this._firstTabStop.focus()}}}},_openedPersistentChanged:function _openedPersistentChanged(opened,persistent){this.toggleClass("visible",opened&&!persistent,this.$.scrim);this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration)},_MIN_FLING_THRESHOLD:.2,_MIN_TRANSITION_VELOCITY:1.2,_FLING_TIMING_FUNCTION:"cubic-bezier(0.667, 1, 0.667, 1)",_FLING_INITIAL_SLOPE:1.5,_DRAWER_STATE:{INIT:0,OPENED:1,OPENED_PERSISTENT:2,CLOSED:3,TRACKING:4,FLINGING:5}});</script></dom-module><script>Polymer({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function value(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function attached(){this.style.display="none";this.queryChanged()},detached:function detached(){this._remove()},_add:function _add(){if(this._mq){this._mq.addListener(this._boundMQHandler)}},_remove:function _remove(){if(this._mq){this._mq.removeListener(this._boundMQHandler)}this._mq=null},queryChanged:function queryChanged(){this._remove();var query=this.query;if(!query){return}if(!this.full&&"("!==query[0]){query="("+query+")"}this._mq=window.matchMedia(query);this._add();this.queryHandler(this._mq)},queryHandler:function queryHandler(mq){this._setQueryMatches(mq.matches)}});</script><dom-module id="app-drawer-layout" assetpath="../bower_components/app-layout/app-drawer-layout/"><template><style>:host{display:block;position:relative;z-index:0;}:host ::slotted([slot=drawer]){z-index:1;}:host([fullbleed]){@apply --layout-fit;}#contentContainer{position:relative;z-index:0;height:100%;transition:var(--app-drawer-layout-content-transition, none);}#contentContainer[drawer-position=left]{margin-left:var(--app-drawer-width, 256px);}#contentContainer[drawer-position=right]{margin-right:var(--app-drawer-width, 256px);}</style><slot id="drawerSlot" name="drawer"></slot><div id="contentContainer" drawer-position$="[[_drawerPosition]]"><slot></slot></div><iron-media-query query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]" on-query-matches-changed="_onQueryMatchesChanged"></iron-media-query></template><script>Polymer({is:"app-drawer-layout",behaviors:[Polymer.AppLayoutBehavior],properties:{forceNarrow:{type:Boolean,value:!1},responsiveWidth:{type:String,value:"640px"},narrow:{type:Boolean,reflectToAttribute:!0,readOnly:!0,notify:!0},openedWhenNarrow:{type:Boolean,value:!1},_drawerPosition:{type:String}},listeners:{click:"_clickHandler"},observers:["_narrowChanged(narrow)"],get drawer(){return Polymer.dom(this.$.drawerSlot).getDistributedNodes()[0]},attached:function attached(){var drawer=this.drawer;if(drawer){this._savedDrawerTransitionDuration=drawer.transitionDuration;drawer.transitionDuration=0}},_clickHandler:function _clickHandler(e){var target=Polymer.dom(e).localTarget;if(target&&target.hasAttribute("drawer-toggle")){var drawer=this.drawer;if(drawer&&!drawer.persistent){drawer.toggle()}}},_updateLayoutStates:function _updateLayoutStates(){var drawer=this.drawer;if(!drawer){return}this._drawerPosition=this.narrow?null:drawer.position;if(this._drawerNeedsReset){if(this.narrow){drawer.opened=this.openedWhenNarrow;drawer.persistent=!1}else{drawer.opened=drawer.persistent=!0}if(this._savedDrawerTransitionDuration){Polymer.RenderStatus.afterNextRender(this,function(){drawer.transitionDuration=this._savedDrawerTransitionDuration;this._savedDrawerTransitionDuration=0})}this._drawerNeedsReset=!1}},_narrowChanged:function _narrowChanged(){this._drawerNeedsReset=!0;this.resetLayout()},_onQueryMatchesChanged:function _onQueryMatchesChanged(event){this._setNarrow(event.detail.value)},_computeMediaQuery:function _computeMediaQuery(forceNarrow,responsiveWidth){return forceNarrow?"(min-width: 0px)":"(max-width: "+responsiveWidth+")"}});</script></dom-module><script>Polymer.AppLayout.registerEffect("blend-background",{setUp:function(){var fx={backgroundFrontLayer:this._getDOMRef("backgroundFrontLayer"),backgroundRearLayer:this._getDOMRef("backgroundRearLayer")};fx.backgroundFrontLayer.style.willChange="opacity";fx.backgroundFrontLayer.style.transform="translateZ(0)";fx.backgroundRearLayer.style.willChange="opacity";fx.backgroundRearLayer.style.transform="translateZ(0)";fx.backgroundRearLayer.style.opacity=0;this._fxBlendBackground=fx},run:function(p){var fx=this._fxBlendBackground;fx.backgroundFrontLayer.style.opacity=1-p;fx.backgroundRearLayer.style.opacity=p},tearDown:function(){delete this._fxBlendBackground}});</script><script>Polymer.AppLayout.registerEffect("fade-background",{setUp:function(config){var fx={},duration=config.duration||"0.5s";fx.backgroundFrontLayer=this._getDOMRef("backgroundFrontLayer");fx.backgroundRearLayer=this._getDOMRef("backgroundRearLayer");fx.backgroundFrontLayer.style.willChange="opacity";fx.backgroundFrontLayer.style.webkitTransform="translateZ(0)";fx.backgroundFrontLayer.style.transitionProperty="opacity";fx.backgroundFrontLayer.style.transitionDuration=duration;fx.backgroundRearLayer.style.willChange="opacity";fx.backgroundRearLayer.style.webkitTransform="translateZ(0)";fx.backgroundRearLayer.style.transitionProperty="opacity";fx.backgroundRearLayer.style.transitionDuration=duration;this._fxFadeBackground=fx},run:function(p){var fx=this._fxFadeBackground;if(1<=p){fx.backgroundFrontLayer.style.opacity=0;fx.backgroundRearLayer.style.opacity=1}else{fx.backgroundFrontLayer.style.opacity=1;fx.backgroundRearLayer.style.opacity=0}},tearDown:function(){delete this._fxFadeBackground}});</script><script>Polymer.AppLayout.registerEffect("waterfall",{run:function(){this.shadow=this.isOnScreen()&&this.isContentBelow()}});</script><script>(function(){function interpolate(progress,points,fn,ctx){fn.apply(ctx,points.map(function(point){return point[0]+(point[1]-point[0])*progress}))}Polymer.AppLayout.registerEffect("resize-title",{setUp:function(){var title=this._getDOMRef("mainTitle"),condensedTitle=this._getDOMRef("condensedTitle");if(!condensedTitle){console.warn("Scroll effect `resize-title`: undefined `condensed-title`");return!1}if(!title){console.warn("Scroll effect `resize-title`: undefined `main-title`");return!1}condensedTitle.style.willChange="opacity";condensedTitle.style.webkitTransform="translateZ(0)";condensedTitle.style.transform="translateZ(0)";condensedTitle.style.webkitTransformOrigin="left top";condensedTitle.style.transformOrigin="left top";title.style.willChange="opacity";title.style.webkitTransformOrigin="left top";title.style.transformOrigin="left top";title.style.webkitTransform="translateZ(0)";title.style.transform="translateZ(0)";var titleClientRect=title.getBoundingClientRect(),condensedTitleClientRect=condensedTitle.getBoundingClientRect(),fx={};fx.scale=parseInt(window.getComputedStyle(condensedTitle)["font-size"],10)/parseInt(window.getComputedStyle(title)["font-size"],10);fx.titleDX=titleClientRect.left-condensedTitleClientRect.left;fx.titleDY=titleClientRect.top-condensedTitleClientRect.top;fx.condensedTitle=condensedTitle;fx.title=title;this._fxResizeTitle=fx},run:function(p,y){var fx=this._fxResizeTitle;if(!this.condenses){y=0}if(1<=p){fx.title.style.opacity=0;fx.condensedTitle.style.opacity=1}else{fx.title.style.opacity=1;fx.condensedTitle.style.opacity=0}interpolate(Math.min(1,p),[[1,fx.scale],[0,-fx.titleDX],[y,y-fx.titleDY]],function(scale,translateX,translateY){this.transform("translate("+translateX+"px, "+translateY+"px) "+"scale3d("+scale+", "+scale+", 1)",fx.title)},this)},tearDown:function(){delete this._fxResizeTitle}})})();</script><script>Polymer.AppLayout.registerEffect("parallax-background",{setUp:function(config){var fx={},scalar=parseFloat(config.scalar);fx.background=this._getDOMRef("background");fx.backgroundFrontLayer=this._getDOMRef("backgroundFrontLayer");fx.backgroundRearLayer=this._getDOMRef("backgroundRearLayer");fx.deltaBg=fx.backgroundFrontLayer.offsetHeight-fx.background.offsetHeight;if(0===fx.deltaBg){if(isNaN(scalar)){scalar=.8}fx.deltaBg=this._dHeight*scalar}else{if(isNaN(scalar)){scalar=1}fx.deltaBg=fx.deltaBg*scalar}this._fxParallaxBackground=fx},run:function(p){var _Mathmin=Math.min,fx=this._fxParallaxBackground;this.transform("translate3d(0px, "+fx.deltaBg*_Mathmin(1,p)+"px, 0px)",fx.backgroundFrontLayer);if(fx.backgroundRearLayer){this.transform("translate3d(0px, "+fx.deltaBg*_Mathmin(1,p)+"px, 0px)",fx.backgroundRearLayer)}},tearDown:function(){delete this._fxParallaxBackground}});</script><script>Polymer.AppLayout.registerEffect("material",{setUp:function(){this.effects="waterfall resize-title blend-background parallax-background";return!1}});</script><script>Polymer.AppLayout.registerEffect("resize-snapped-title",{setUp:function(config){var title=this._getDOMRef("mainTitle"),condensedTitle=this._getDOMRef("condensedTitle"),duration=config.duration||"0.2s",fx={};if(!condensedTitle){console.warn("Scroll effect `resize-snapped-title`: undefined `condensed-title`");return!1}if(!title){console.warn("Scroll effect `resize-snapped-title`: undefined `main-title`");return!1}title.style.transitionProperty="opacity";title.style.transitionDuration=duration;condensedTitle.style.transitionProperty="opacity";condensedTitle.style.transitionDuration=duration;fx.condensedTitle=condensedTitle;fx.title=title;this._fxResizeSnappedTitle=fx},run:function(p){var fx=this._fxResizeSnappedTitle;if(0<p){fx.title.style.opacity=0;fx.condensedTitle.style.opacity=1}else{fx.title.style.opacity=1;fx.condensedTitle.style.opacity=0}},tearDown:function(){var fx=this._fxResizeSnappedTitle;fx.title.style.transition="";fx.condensedTitle.style.transition="";delete this._fxResizeSnappedTitle}});</script></body></html>