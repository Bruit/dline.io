<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html"><link rel="import" href="../bower_components/polymer/lib/elements/dom-if.html"><link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html"><link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html"><link rel="import" href="../bower_components/app-layout/app-header/app-header.html"><link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html"><link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html"><link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html"><link rel="import" href="../bower_components/paper-button/paper-button.html"><link rel="import" href="../bower_components/paper-card/paper-card.html"><link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="../bower_components/paper-item/paper-item.html"><link rel="import" href="../bower_components/paper-listbox/paper-listbox.html"><link rel="import" href="../bower_components/polymerfire/firebase-auth.html"><link rel="import" href="../bower_components/polymerfire/firebase-query.html"><link rel="import" href="my-icons.html"><link rel="import" href="style/shared-styles.html"></head><body><dom-module id="my-data"><template><style include="shared-styles"></style><firebase-auth id="FBAuth" user="{{user}}"></firebase-auth><firebase-query id="FBQuery" path="/cases" data="{{cases}}" equal-to="[[page]]"></firebase-query><firebase-query id="FBSave" path="/users/[[user.uid]]/cases"></firebase-query><app-drawer-layout fullbleed=""><app-drawer slot="drawer"><div style="height:100% ; overflow-x:hidden ; overflow-y:auto;"><div class="welcome"></div><div style="width:100%"><paper-listbox><a href="data/[[userCase.id]]/"><paper-item class="iron-selected" raised="">View data</paper-item></a><a href="case/[[userCase.id]]/"><paper-item class="" raised="">Open atlas</paper-item></a><template is="dom-if" if="{{userCase.image2}}"><a href="compare/[[userCase.id]]/"><paper-item class="" raised="">Open compare</paper-item></a></template><div class="separator"><span>Chapters<span></span></span></div><paper-item class="link" href="#anchorEc" on-tap="_onTapAnchor">Examen clinique</paper-item><paper-item class="link" href="#anchorTdm" on-tap="_onTapAnchor">Examens complémentaires</paper-item><paper-item class="link" href="#anchorTdm" on-tap="_onTapAnchor">Traitement</paper-item><paper-item class="link" href="#anchorTdm" on-tap="_onTapAnchor">Bibliographie</paper-item></paper-listbox></div></div></app-drawer><app-header-layout has-scrolling-region=""><app-header slot="header" condenses="" reveals="" effects="waterfall"><app-toolbar><paper-icon-button icon="my-icons:menu" drawer-toggle=""></paper-icon-button><div main-title="">[[userCase.title]]</div><div class="emailTest"><div>{{user.email}}</div><a href="home/"><paper-icon-button icon="home"></paper-icon-button></a></div></app-toolbar></app-header><div class="container"><div style="width:100%"><div class="infos"><div class="card"><div class="description"><h1>Histoire de la maladie</h1><p id="hdm"></p><p></p></div></div><div class="card" id="anchorEc"><h1>Examen clinique</h1><div class="description"><p id="ec"></p></div></div><div class="card" id="anchorTdm"><h1>Examens complémentaires</h1><div class="description"><p id="tdm"></p></div></div></div></div></div></app-header-layout></app-drawer-layout></template><script>class MyData extends Polymer.Element{static get is(){return"my-data"}static get properties(){return{routeData:{type:Object,value:{}},page:{type:String,reflectToAttribute:!0},user:{type:Object,value:{}},cases:{type:Array},userCase:{type:Object,observer:"_userCaseChanged"}}}static get observers(){return["_routePageChanged(routeData.*)","_casesChanged(cases.splices)","_descriptionDisplay(userCase)"]}_descriptionDisplay(userCase){var text=userCase?userCase.descriptiondata.hdm:"";this.$.hdm.innerHTML=this._unescapeText(text);var text=userCase?userCase.descriptiondata.tdm:"";this.$.tdm.innerHTML=this._unescapeText(text);var text=userCase?userCase.descriptiondata.ec:"";this.$.ec.innerHTML=this._unescapeText(text)}_unescapeText(text){let elem=document.createElement("textarea");elem.innerHTML=text;return elem.textContent}_onTapAnchor(e){e.preventDefault();var anchor=e.target.getAttribute("href");Polymer.dom(this.root).querySelector(anchor).scrollIntoView()}_routePageChanged(routeData){this.page=routeData.value.subpage}_userCaseChanged(userCase){if(null===userCase||!userCase.id){}}_casesChanged(cases){if(cases===void 0||1!==cases.indexSplices[0].object.length){return}this.set("userCase",cases.indexSplices[0].object[0])}}customElements.define(MyData.is,MyData);</script></dom-module></body></html>