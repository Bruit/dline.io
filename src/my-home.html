<html><head></head><body><div hidden="" by-polymer-bundler=""><link rel="import " href="my-icons.html"><link rel="import " href="style/shared-styles.html"><dom-module id="case-preview-card" assetpath="elements/"><template><style>paper-card{width:400px;position:relative;margin-bottom:20px;margin-right:10px;margin-left:10px;overflow:hidden;--paper-card-header-image:{-webkit-transition:all 0.5s;-o-transition:all 0.5s;transition:all 0.5s;height:256px;-o-object-fit:cover;object-fit:cover;-webkit-filter:grayscale(.7);filter:grayscale(.7);};}paper-card:hover{@apply --shadow-elevation-12dp;}iron-image{overflow:hidden;height:256px;-webkit-transition:all 0.5s;-o-transition:all 0.5s;transition:all 0.5s;-o-object-fit:cover;object-fit:cover;-webkit-filter:grayscale(.7);filter:grayscale(.7);}paper-card:hover iron-image{-webkit-filter:none;filter:none;-webkit-transition:all 0.5s;-o-transition:all 0.5s;transition:all 0.5s;-webkit-transform:scale(1.15);-ms-transform:scale(1.15);transform:scale(1.15);}@media (max-width: 300px){paper-card{width:100%;}}.cafe-header{@apply --paper-font-headline;}.cafe-light{color:var(--paper-grey-600);}.cafe-location{float:right;font-size:15px;vertical-align:middle;}.card-content{padding-bottom:0;}.card-actions a{cursor:auto;text-decoration:none;}.card-actions a paper-button{background-color:var(--default-primary-color);color:#fff;text-decoration:none;}</style><paper-card class="case-preview-card"><div style="overflow:hidden"><iron-image style="width:400px; height:256px; background-color: lightgray;" sizing="cover" preload="" src="[[casePreview.cover]]"></iron-image></div><div class="card-content"><div class="cafe-header">[[casePreview.title]]<div class="cafe-location cafe-light"><template is="dom-if" if="{{casePreview.completed}}"><iron-icon class="completed" icon="icons:done"></iron-icon><span class="completed">Completed</span></template><template is="dom-if" if="{{!casePreview.completed}}"><iron-icon icon="icons:clear"></iron-icon><span>Not done</span></template></div></div><p>Authorãƒ»[[casePreview.author]]</p><p class="cafe-light">[[casePreview.description]]</p></div><div class="card-actions"><a href="data/[[casePreview.id]]/"><paper-button>View data</paper-button></a><a href="case/[[casePreview.id]]/"><paper-button>Open atlas</paper-button></a><template is="dom-if" if="{{casePreview.image2}}"><a href="compare/[[casePreview.id]]/"><paper-button>Compare</paper-button></a></template></div></paper-card></template><script>var CasePreviewCard=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'case-preview-card'}},{key:'properties',get:function(){return{casePreview:{type:Object,value:{}}}}}]),babelHelpers.createClass(b,[{key:'ready',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this)}}]),b}(Polymer.Element);window.customElements.define(CasePreviewCard.is,CasePreviewCard);</script></dom-module></div><dom-module id="my-home"><template><style include="shared-styles"></style><firebase-auth id="FBAuth" user="{{user}}"></firebase-auth><firebase-query id="FBQuery" path="/cases" data="{{userCases}}"></firebase-query><firebase-query id="FBSave" path="/users/[[user.uid]]/cases" data="{{casesDone}}"></firebase-query><app-drawer-layout fullbleed=""><app-drawer slot="drawer"><div style="height:100% ; overflow-x:hidden ; overflow-y:auto;"><div class="welcome"></div><div style="width:100%"><paper-listbox selected="{{filter}}" attr-for-selected="label" selectable=".label"><paper-item label="all" class="label">All cases ([[allCases.length]])</paper-item><div class="separator"></div><template is="dom-repeat" items="{{tags}}" as="tag"><paper-item label$="[[tag.value]]" class="label">[[tag.value]] ([[tag.count]])</paper-item></template></paper-listbox></div></div></app-drawer><app-header-layout has-scrolling-region=""><app-header slot="header" condenses="" reveals="" effects="waterfall"><app-toolbar><paper-icon-button icon="my-icons:menu" drawer-toggle=""></paper-icon-button><div main-title="">Web Medical Tools</div><div class="emailTest"><div>{{user.email}}</div><paper-icon-button icon="icons:exit-to-app" on-tap="_handleLogout"></paper-icon-button></div></app-toolbar></app-header><div class="container"><template is="dom-repeat" items="{{allCases}}" as="mycase" filter="{{_filterCases(filter)}}"><case-preview-card case-preview="[[mycase]]"></case-preview-card></template></div></app-header-layout></app-drawer-layout></template><script>var MyHome=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_routePageChanged',value:function(a){console.log('Path changed!'),void 0===a}},{key:'_userChanged',value:function(a){console.log('my-home _userChanged : ',a)}},{key:'_userCasesChanged',value:function(a){if(void 0!==a){var b,c={},d=a.indexSplices[0].object,e=!0,f=!1;try{for(var g,h=d[Symbol.iterator]();!(e=(g=h.next()).done);e=!0){var i=g.value,j=i.tags,k=!0,l=!1,m=void 0;try{for(var n,o,p=j[Symbol.iterator]();!(k=(n=p.next()).done);k=!0)o=n.value,c[o]?c[o]+=1:c[o]=1}catch(a){l=!0,m=a}finally{try{!k&&p.return&&p.return()}finally{if(l)throw m}}}}catch(a){f=!0,b=a}finally{try{!e&&h.return&&h.return()}finally{if(f)throw b}}var q=[];for(var r in c)q.push({value:r,count:c[r]});this.set('tags',q),this.allCases=[],this.set('allCases',a.indexSplices[0].object)}}},{key:'_casesDoneChanged',value:function(a){if(void 0!==a)for(var b=a.indexSplices[0].index,c=a.indexSplices[0].object,d=c[b],e=0;e<this.allCases.length;e++)d.id===this.allCases[e].id&&(this.set(['allCases',e,'completed'],!0),this.allCases=this.allCases.slice())}},{key:'_handleLogout',value:function(){this.$.FBAuth.signOut()}},{key:'_fillStar',value:function(a,b){return a<=b?'star':'star grey'}},{key:'_filterCases',value:function(a){return'all'===a?function(){return!0}:'completed'===a?function(a){return a.completed}:'todo'===a?function(a){return!a.completed}:function(b){return-1!=b.tags.indexOf(a)}}},{key:'_computeCompleted',value:function(a){var b=a.filter(function(a){return a.completed});return b.length}},{key:'_computeTodo',value:function(a){var b=a.filter(function(a){return!a.completed});return b.length}},{key:'_computeTodoList',value:function(a){var b=a.filter(function(a){return!a.completed});return b}}],[{key:'is',get:function(){return'my-home'}},{key:'properties',get:function(){return{page:{type:String,reflectToAttribute:!0},tags:{type:Array,value:[]},user:{type:Object,value:{},observer:'_userChanged'},userCases:{type:Array,value:[]},allCases:{type:Array,value:[]},completed:{type:Number,computed:'_computeCompleted(allCases)'},todo:{type:Number,computed:'_computeTodo(allCases)',notify:!0},todoList:{type:Array,computed:'_computeTodoList(allCases)',notify:!0},casesDone:{type:Array},filter:{type:String,value:'all'}}}},{key:'observers',get:function(){return['_userCasesChanged(userCases.splices)','_casesDoneChanged(casesDone.splices)']}}]),b}(Polymer.GestureEventListeners(Polymer.Element));window.customElements.define(MyHome.is,MyHome);</script></dom-module></body></html>