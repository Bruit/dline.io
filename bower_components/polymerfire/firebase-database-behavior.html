<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../app-storage/app-storage-behavior.html"><link rel="import" href="firebase-common-behavior.html"><link rel="import" href="firebase-database-script.html"><script>(function(){"use strict";Polymer.FirebaseDatabaseBehaviorImpl={properties:{db:{type:Object,computed:"__computeDb(app)"},ref:{type:Object,computed:"__computeRef(db, path, disabled)",observer:"__refChanged"},path:{type:String,value:null,observer:"__pathChanged"},disabled:{type:Boolean,value:!1}},observers:["__onlineChanged(online)"],_setFirebaseValue:function(path,value){this._log("Setting Firebase value at",path,"to",value);var key=value&&value.$key,leaf=value&&value.hasOwnProperty("$val");if(key){value.$key=null}var result=this.db.ref(path).set(leaf?value.$val:value);if(key){value.$key=key}return result},__computeDb:function(app){return app?app.database():null},__computeRef:function(db,path){if(null==db||null==path||!this.__pathReady(path)||this.disabled){return null}return db.ref(path)},__refChanged:function(){},__pathChanged:function(){if(!this.disabled&&!this.valueIsEmpty(this.data)){this.syncToMemory(function(){this.data=this.zeroValue;this.__needSetData=!0})}},__pathReady:function(path){return path&&0>path.split("/").slice(1).indexOf("")},__onlineChanged:function(online){if(!this.ref){return}if(online){this.db.goOnline()}else{this.db.goOffline()}}};Polymer.FirebaseDatabaseBehavior=[Polymer.AppStorageBehavior,Polymer.FirebaseCommonBehavior,Polymer.FirebaseDatabaseBehaviorImpl]})();</script></head><body></body></html>